function t(){}function e(t){return t()}function n(){return Object.create(null)}function i(t){t.forEach(e)}function o(t){return"function"==typeof t}function r(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}let l,c;function s(t,e){return l||(l=document.createElement("a")),l.href=e,t===l.href}function d(t){return 0===Object.keys(t).length}function a(t,e){t.appendChild(e)}function u(t,e,n){t.insertBefore(e,n||null)}function p(t){t.parentNode&&t.parentNode.removeChild(t)}function m(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function f(t){return document.createElement(t)}function h(t){return document.createTextNode(t)}function g(){return h(" ")}function $(){return h("")}function b(t,e,n,i){return t.addEventListener(e,n,i),()=>t.removeEventListener(e,n,i)}function x(t,e,n){null==n?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function y(t,e,n){e in t?t[e]="boolean"==typeof t[e]&&""===n||n:x(t,e,n)}function k(t,e,n,i){null==n?t.style.removeProperty(e):t.style.setProperty(e,n,i?"important":"")}class w{constructor(t=!1){this.is_svg=!1,this.is_svg=t,this.e=this.n=null}c(t){this.h(t)}m(t,e,n=null){this.e||(this.is_svg?this.e=function(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}(e.nodeName):this.e=f(11===e.nodeType?"TEMPLATE":e.nodeName),this.t="TEMPLATE"!==e.tagName?e:e.content,this.c(t)),this.i(n)}h(t){this.e.innerHTML=t,this.n=Array.from("TEMPLATE"===this.e.nodeName?this.e.content.childNodes:this.e.childNodes)}i(t){for(let e=0;e<this.n.length;e+=1)u(this.t,this.n[e],t)}p(t){this.d(),this.h(t),this.i(this.a)}d(){this.n.forEach(p)}}function v(t){const e={};for(const n of t)e[n.name]=n.value;return e}function _(t){c=t}function E(){if(!c)throw new Error("Function called outside component initialization");return c}function N(t){E().$$.on_mount.push(t)}const B=[],C=[];let z=[];const M=[],S=Promise.resolve();let T=!1;function L(t){z.push(t)}const j=new Set;let I=0;function P(){if(0!==I)return;const t=c;do{try{for(;I<B.length;){const t=B[I];I++,_(t),R(t.$$)}}catch(t){throw B.length=0,I=0,t}for(_(null),B.length=0,I=0;C.length;)C.pop()();for(let t=0;t<z.length;t+=1){const e=z[t];j.has(e)||(j.add(e),e())}z.length=0}while(B.length);for(;M.length;)M.pop()();T=!1,j.clear(),_(t)}function R(t){if(null!==t.fragment){t.update(),i(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(L)}}const A=new Set;let O,H;function D(){O={r:0,c:[],p:O}}function Y(){O.r||i(O.c),O=O.p}function U(t,e){t&&t.i&&(A.delete(t),t.i(e))}function W(t,e,n,i){if(t&&t.o){if(A.has(t))return;A.add(t),O.c.push((()=>{A.delete(t),i&&(n&&t.d(1),i())})),t.o(e)}else i&&i()}function q(t,n,r,l){const{fragment:c,after_update:s}=t.$$;c&&c.m(n,r),l||L((()=>{const n=t.$$.on_mount.map(e).filter(o);t.$$.on_destroy?t.$$.on_destroy.push(...n):i(n),t.$$.on_mount=[]})),s.forEach(L)}function F(t,e){const n=t.$$;null!==n.fragment&&(!function(t){const e=[],n=[];z.forEach((i=>-1===t.indexOf(i)?e.push(i):n.push(i))),n.forEach((t=>t())),z=e}(n.after_update),i(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function X(t,e){-1===t.$$.dirty[0]&&(B.push(t),T||(T=!0,S.then(P)),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function G(e,o,r,l,s,d,a,u=[-1]){const m=c;_(e);const f=e.$$={fragment:null,ctx:[],props:d,update:t,not_equal:s,bound:n(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(o.context||(m?m.$$.context:[])),callbacks:n(),dirty:u,skip_bound:!1,root:o.target||m.$$.root};a&&a(f.root);let h=!1;if(f.ctx=r?r(e,o.props||{},((t,n,...i)=>{const o=i.length?i[0]:n;return f.ctx&&s(f.ctx[t],f.ctx[t]=o)&&(!f.skip_bound&&f.bound[t]&&f.bound[t](o),h&&X(e,t)),n})):[],f.update(),h=!0,i(f.before_update),f.fragment=!!l&&l(f.ctx),o.target){if(o.hydrate){const t=function(t){return Array.from(t.childNodes)}(o.target);f.fragment&&f.fragment.l(t),t.forEach(p)}else f.fragment&&f.fragment.c();o.intro&&U(e.$$.fragment),q(e,o.target,o.anchor,o.customElement),P()}_(m)}"function"==typeof HTMLElement&&(H=class extends HTMLElement{constructor(){super(),this.attachShadow({mode:"open"})}connectedCallback(){const{on_mount:t}=this.$$;this.$$.on_disconnect=t.map(e).filter(o);for(const t in this.$$.slotted)this.appendChild(this.$$.slotted[t])}attributeChangedCallback(t,e,n){this[t]=n}disconnectedCallback(){i(this.$$.on_disconnect)}$destroy(){F(this,1),this.$destroy=t}$on(e,n){if(!o(n))return t;const i=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return i.push(n),()=>{const t=i.indexOf(n);-1!==t&&i.splice(t,1)}}$set(t){this.$$set&&!d(t)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}});class J{$destroy(){F(this,1),this.$destroy=t}$on(e,n){if(!o(n))return t;const i=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return i.push(n),()=>{const t=i.indexOf(n);-1!==t&&i.splice(t,1)}}$set(t){this.$$set&&!d(t)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}function K(t){let e,n,i,o="link"===t[0].type&&Q(t),r="text"===t[0].type&&!t[0].items&&et(t),l=t[0].items&&rt(t);return{c(){o&&o.c(),e=g(),r&&r.c(),n=g(),l&&l.c(),i=$()},m(t,c){o&&o.m(t,c),u(t,e,c),r&&r.m(t,c),u(t,n,c),l&&l.m(t,c),u(t,i,c)},p(t,c){"link"===t[0].type?o?o.p(t,c):(o=Q(t),o.c(),o.m(e.parentNode,e)):o&&(o.d(1),o=null),"text"!==t[0].type||t[0].items?r&&(r.d(1),r=null):r?r.p(t,c):(r=et(t),r.c(),r.m(n.parentNode,n)),t[0].items?l?l.p(t,c):(l=rt(t),l.c(),l.m(i.parentNode,i)):l&&(l.d(1),l=null)},d(t){o&&o.d(t),t&&p(e),r&&r.d(t),t&&p(n),l&&l.d(t),t&&p(i)}}}function Q(t){let e,n,i,o,r,l=t[0].icon&&V(t),c=t[0].name&&Z(t),s=t[0].image&&tt(t);return{c(){e=f("a"),l&&l.c(),n=g(),c&&c.c(),i=g(),s&&s.c(),x(e,"href",o=t[0].href),x(e,"target",r=t[0].target),x(e,"class",t[1])},m(t,o){u(t,e,o),l&&l.m(e,null),a(e,n),c&&c.m(e,null),a(e,i),s&&s.m(e,null)},p(t,d){t[0].icon?l?l.p(t,d):(l=V(t),l.c(),l.m(e,n)):l&&(l.d(1),l=null),t[0].name?c?c.p(t,d):(c=Z(t),c.c(),c.m(e,i)):c&&(c.d(1),c=null),t[0].image?s?s.p(t,d):(s=tt(t),s.c(),s.m(e,null)):s&&(s.d(1),s=null),1&d&&o!==(o=t[0].href)&&x(e,"href",o),1&d&&r!==(r=t[0].target)&&x(e,"target",r),2&d&&x(e,"class",t[1])},d(t){t&&p(e),l&&l.d(),c&&c.d(),s&&s.d()}}}function V(t){let e,n;return{c(){e=f("fds-image-editor-button"),y(e,"icon",n=t[0].icon),y(e,"state","disabled")},m(t,n){u(t,e,n)},p(t,i){1&i&&n!==(n=t[0].icon)&&y(e,"icon",n)},d(t){t&&p(e)}}}function Z(t){let e,n,i=t[0].name+"";return{c(){e=new w(!1),n=$(),e.a=n},m(t,o){e.m(i,t,o),u(t,n,o)},p(t,n){1&n&&i!==(i=t[0].name+"")&&e.p(i)},d(t){t&&p(n),t&&e.d()}}}function tt(t){let e,n,i;return{c(){e=f("img"),x(e,"alt",n=t[0].name),s(e.src,i=t[0].image)||x(e,"src",i)},m(t,n){u(t,e,n)},p(t,o){1&o&&n!==(n=t[0].name)&&x(e,"alt",n),1&o&&!s(e.src,i=t[0].image)&&x(e,"src",i)},d(t){t&&p(e)}}}function et(t){let e,n,i,o,r,l=t[0].icon&&nt(t),c=t[0].name&&it(t),s=t[0].image&&ot(t);return{c(){e=f("span"),l&&l.c(),n=g(),c&&c.c(),i=g(),s&&s.c(),x(e,"class",t[1])},m(d,p){u(d,e,p),l&&l.m(e,null),a(e,n),c&&c.m(e,null),a(e,i),s&&s.m(e,null),o||(r=b(e,"click",t[5]),o=!0)},p(t,o){t[0].icon?l?l.p(t,o):(l=nt(t),l.c(),l.m(e,n)):l&&(l.d(1),l=null),t[0].name?c?c.p(t,o):(c=it(t),c.c(),c.m(e,i)):c&&(c.d(1),c=null),t[0].image?s?s.p(t,o):(s=ot(t),s.c(),s.m(e,null)):s&&(s.d(1),s=null),2&o&&x(e,"class",t[1])},d(t){t&&p(e),l&&l.d(),c&&c.d(),s&&s.d(),o=!1,r()}}}function nt(t){let e,n;return{c(){e=f("fds-image-editor-button"),y(e,"icon",n=t[0].icon),y(e,"state","disabled")},m(t,n){u(t,e,n)},p(t,i){1&i&&n!==(n=t[0].icon)&&y(e,"icon",n)},d(t){t&&p(e)}}}function it(t){let e,n,i=t[0].name+"";return{c(){e=new w(!1),n=$(),e.a=n},m(t,o){e.m(i,t,o),u(t,n,o)},p(t,n){1&n&&i!==(i=t[0].name+"")&&e.p(i)},d(t){t&&p(n),t&&e.d()}}}function ot(t){let e,n,i;return{c(){e=f("img"),x(e,"alt",n=t[0].name),s(e.src,i=t[0].image)||x(e,"src",i)},m(t,n){u(t,e,n)},p(t,o){1&o&&n!==(n=t[0].name)&&x(e,"alt",n),1&o&&!s(e.src,i=t[0].image)&&x(e,"src",i)},d(t){t&&p(e)}}}function rt(t){let e,n,i,o,r=t[0].icon&&lt(t),l=t[0].name&&ct(t),c=t[0].image&&st(t);return{c(){e=f("span"),r&&r.c(),n=g(),l&&l.c(),i=g(),c&&c.c(),x(e,"class",o=t[1]+" submenu")},m(t,o){u(t,e,o),r&&r.m(e,null),a(e,n),l&&l.m(e,null),a(e,i),c&&c.m(e,null)},p(t,s){t[0].icon?r?r.p(t,s):(r=lt(t),r.c(),r.m(e,n)):r&&(r.d(1),r=null),t[0].name?l?l.p(t,s):(l=ct(t),l.c(),l.m(e,i)):l&&(l.d(1),l=null),t[0].image?c?c.p(t,s):(c=st(t),c.c(),c.m(e,null)):c&&(c.d(1),c=null),2&s&&o!==(o=t[1]+" submenu")&&x(e,"class",o)},d(t){t&&p(e),r&&r.d(),l&&l.d(),c&&c.d()}}}function lt(t){let e,n;return{c(){e=f("fds-image-editor-button"),y(e,"icon",n=t[0].icon),y(e,"state","disabled")},m(t,n){u(t,e,n)},p(t,i){1&i&&n!==(n=t[0].icon)&&y(e,"icon",n)},d(t){t&&p(e)}}}function ct(t){let e,n,i=t[0].name+"";return{c(){e=new w(!1),n=$(),e.a=n},m(t,o){e.m(i,t,o),u(t,n,o)},p(t,n){1&n&&i!==(i=t[0].name+"")&&e.p(i)},d(t){t&&p(n),t&&e.d()}}}function st(t){let e,n,i;return{c(){e=f("img"),x(e,"alt",n=t[0].name),s(e.src,i=t[0].image)||x(e,"src",i)},m(t,n){u(t,e,n)},p(t,o){1&o&&n!==(n=t[0].name)&&x(e,"alt",n),1&o&&!s(e.src,i=t[0].image)&&x(e,"src",i)},d(t){t&&p(e)}}}function dt(e){let n,i=!e[0].hide&&K(e);return{c(){i&&i.c(),n=$()},m(t,e){i&&i.m(t,e),u(t,n,e)},p(t,[e]){t[0].hide?i&&(i.d(1),i=null):i?i.p(t,e):(i=K(t),i.c(),i.m(n.parentNode,n))},i:t,o:t,d(t){i&&i.d(t),t&&p(n)}}}function at(t,e,n){let{entry:i={}}=e,{id:o=""}=e,{callback:r=null}=e,l="entry ";function c(){r&&r(i,o)}function s(){n(0,i.id=o,i),i.type||n(0,i.type="text",i),i.active&&n(1,l+=" active")}N((()=>{s()}));return t.$$set=t=>{"entry"in t&&n(0,i=t.entry),"id"in t&&n(3,o=t.id),"callback"in t&&n(4,r=t.callback)},t.$$.update=()=>{1&t.$$.dirty&&i&&s()},[i,l,c,o,r,()=>c()]}class ut extends J{constructor(t){super(),G(this,t,at,dt,r,{entry:0,id:3,callback:4})}}let pt=import.meta.url;class mt{static async getInfo(t,e){let n="",i="",o=!1;e&&(e=e.replace("@fds-components/",""),n=mt.get_href()+t+"-"+e+".json",i=`@fds-components/${e}/dist/${t}-${e}.json`);let r=await fetch(n).then((t=>(t.ok||(o=!0),t.json()))).then((e=>"api"!==t?e:e?e.components?e.components[0]:e:void 0));return o&&(r=await fetch(i).then((t=>(t.ok||(o=!0),t.json()))).then((e=>"api"!==t?e:e?e.components?e.components[0]:e:void 0))),r}static get_href(){return new URL("./",pt).href}static get_local(){return new URL("./",pt).pathname}}function ft(t,e,n){const i=t.slice();return i[38]=e[n][0],i[39]=e[n][1],i}function ht(t,e,n){const i=t.slice();return i[38]=e[n][0],i[39]=e[n][1],i}function gt(t){let e,n=Object.entries(t[1]),i=[];for(let e=0;e<n.length;e+=1)i[e]=$t(ht(t,n,e));return{c(){e=f("ul");for(let t=0;t<i.length;t+=1)i[t].c();x(e,"class","picker-list")},m(t,n){u(t,e,n);for(let t=0;t<i.length;t+=1)i[t]&&i[t].m(e,null)},p(t,o){if(131202&o[0]){let r;for(n=Object.entries(t[1]),r=0;r<n.length;r+=1){const l=ht(t,n,r);i[r]?i[r].p(l,o):(i[r]=$t(l),i[r].c(),i[r].m(e,null))}for(;r<i.length;r+=1)i[r].d(1);i.length=n.length}},d(t){t&&p(e),m(i,t)}}}function $t(t){let e,n,i,o,r,l,c;function s(){return t[27](t[39],t[38])}return{c(){e=f("li"),n=f("a"),i=f("fds-image-editor-button"),r=g(),y(i,"icon",o=t[39].icon),y(i,"state","disabled"),k(e,"flex","0 0 "+t[7])},m(t,o){u(t,e,o),a(e,n),a(n,i),a(n,r),l||(c=b(n,"click",s),l=!0)},p(n,r){t=n,2&r[0]&&o!==(o=t[39].icon)&&y(i,"icon",o),128&r[0]&&k(e,"flex","0 0 "+t[7])},d(t){t&&p(e),l=!1,c()}}}function bt(t){let e,n,i,o;const r=[yt,xt],l=[];function c(t,e){return"---------"===t[39]?0:1}return e=c(t),n=l[e]=r[e](t),{c(){n.c(),i=$()},m(t,n){l[e].m(t,n),u(t,i,n),o=!0},p(t,o){let s=e;e=c(t),e===s?l[e].p(t,o):(D(),W(l[s],1,1,(()=>{l[s]=null})),Y(),n=l[e],n?n.p(t,o):(n=l[e]=r[e](t),n.c()),U(n,1),n.m(i.parentNode,i))},i(t){o||(U(n),o=!0)},o(t){W(n),o=!1},d(t){l[e].d(t),t&&p(i)}}}function xt(t){let e,n,o,r,l,c;n=new ut({props:{entry:t[39],id:t[38],callback:t[4]}});let s=t[39].items&&t[14][t[38]]&&kt(t);function d(){return t[28](t[39],t[38])}function m(){return t[29](t[39],t[38])}return{c(){var t;e=f("div"),(t=n.$$.fragment)&&t.c(),o=g(),s&&s.c(),x(e,"class","contextMenuEntry")},m(t,i){u(t,e,i),q(n,e,null),a(e,o),s&&s.m(e,null),r=!0,l||(c=[b(e,"mouseenter",d),b(e,"mouseleave",m)],l=!0)},p(i,o){t=i;const r={};2&o[0]&&(r.entry=t[39]),2&o[0]&&(r.id=t[38]),16&o[0]&&(r.callback=t[4]),n.$set(r),t[39].items&&t[14][t[38]]?s?s.p(t,o):(s=kt(t),s.c(),s.m(e,null)):s&&(s.d(1),s=null)},i(t){r||(U(n.$$.fragment,t),r=!0)},o(t){W(n.$$.fragment,t),r=!1},d(t){t&&p(e),F(n),s&&s.d(),l=!1,i(c)}}}function yt(e){let n;return{c(){n=f("hr")},m(t,e){u(t,n,e)},p:t,i:t,o:t,d(t){t&&p(n)}}}function kt(t){let e,n,i,o;return{c(){e=f("fds-image-editor-menu"),y(e,"menu",n=t[39].items),y(e,"open_left",t[8]),y(e,"open_top",t[9]),y(e,"grid",i=t[39].grid),y(e,"griddisplay",o=t[39].grid),y(e,"callback",t[4])},m(t,n){u(t,e,n)},p(t,r){2&r[0]&&n!==(n=t[39].items)&&y(e,"menu",n),256&r[0]&&y(e,"open_left",t[8]),512&r[0]&&y(e,"open_top",t[9]),2&r[0]&&i!==(i=t[39].grid)&&y(e,"grid",i),2&r[0]&&o!==(o=t[39].grid)&&y(e,"griddisplay",o),16&r[0]&&y(e,"callback",t[4])},d(t){t&&p(e)}}}function wt(t){let e,n,i=!t[0]&&bt(t);return{c(){i&&i.c(),e=$()},m(t,o){i&&i.m(t,o),u(t,e,o),n=!0},p(t,n){t[0]?i&&(D(),W(i,1,1,(()=>{i=null})),Y()):i?(i.p(t,n),1&n[0]&&U(i,1)):(i=bt(t),i.c(),U(i,1),i.m(e.parentNode,e))},i(t){n||(U(i),n=!0)},o(t){W(i),n=!1},d(t){i&&i.d(t),t&&p(e)}}}function vt(t){let e;return{c(){e=f("div"),k(e,"position","fixed"),k(e,"left",t[2]+"px"),k(e,"top",t[3]+"px"),k(e,"visibility",t[10]),k(e,"z-index",t[5]),x(e,"id","anchor_1")},m(n,i){u(n,e,i),t[31](e)},p(t,n){4&n[0]&&k(e,"left",t[2]+"px"),8&n[0]&&k(e,"top",t[3]+"px"),1024&n[0]&&k(e,"visibility",t[10]),32&n[0]&&k(e,"z-index",t[5])},d(n){n&&p(e),t[31](null)}}}function _t(e){let n,i,o,r,l,c,s,d,h=e[0]&&gt(e),b=Object.entries(e[1]),y=[];for(let t=0;t<b.length;t+=1)y[t]=wt(ft(e,b,t));const k=t=>W(y[t],1,1,(()=>{y[t]=null}));let w=e[6]&&vt(e);return{c(){n=f("div"),h&&h.c(),i=g();for(let t=0;t<y.length;t+=1)y[t].c();o=g(),c=g(),w&&w.c(),s=$(),this.c=t,x(n,"popover",r=e[6]||null),x(n,"class","menu"),x(n,"style",l=e[6]?"":`left:${e[2]}px;top:${e[3]}px;visibility:${e[10]};z-index:${e[5]}; ${e[11]}`),x(n,"id","menu")},m(t,r){u(t,n,r),h&&h.m(n,null),a(n,i);for(let t=0;t<y.length;t+=1)y[t]&&y[t].m(n,null);a(n,o),e[30](n),u(t,c,r),w&&w.m(t,r),u(t,s,r),d=!0},p(t,e){if(t[0]?h?h.p(t,e):(h=gt(t),h.c(),h.m(n,i)):h&&(h.d(1),h=null),115475&e[0]){let i;for(b=Object.entries(t[1]),i=0;i<b.length;i+=1){const r=ft(t,b,i);y[i]?(y[i].p(r,e),U(y[i],1)):(y[i]=wt(r),y[i].c(),U(y[i],1),y[i].m(n,o))}for(D(),i=b.length;i<y.length;i+=1)k(i);Y()}(!d||64&e[0]&&r!==(r=t[6]||null))&&x(n,"popover",r),(!d||3180&e[0]&&l!==(l=t[6]?"":`left:${t[2]}px;top:${t[3]}px;visibility:${t[10]};z-index:${t[5]}; ${t[11]}`))&&x(n,"style",l),t[6]?w?w.p(t,e):(w=vt(t),w.c(),w.m(s.parentNode,s)):w&&(w.d(1),w=null)},i(t){if(!d){for(let t=0;t<b.length;t+=1)U(y[t]);d=!0}},o(t){y=y.filter(Boolean);for(let t=0;t<y.length;t+=1)W(y[t]);d=!1},d(t){t&&p(n),h&&h.d(),m(y,t),e[30](null),t&&p(c),w&&w.d(t),t&&p(s)}}}function Et(t,e,n){mt.get_href();let i,o,r,l={fds:{type:"link",href:"https://flyingdog.de",target:"_blank",name:"flying dog software"},submenu:{name:"Select...",items:{submenu1:{name:"Submenu 1"},submenu2:{name:"Submenu 2"},submenu3:{name:"Submenu 3",items:{subsubmenu1:{href:"#",name:"SubSubmenu 1"},subsubmenu2:{href:"#",name:"SubSubmenu 2"},subsubmenu3:{href:"#",name:"SubSubmenu 3"}}}}},dogmenu:{name:"Dog menu...",items:{dogmenu1:{name:"Bone"},dogmenu2:{name:"Paw"},dogmenu3:{name:"Hot Dog"}}}},{menu:c={}}=e,{demo:s=!1}=e,{x:d=0}=e,{y:a=0}=e,{element:u=null}=e,{callback:p=null}=e,m=E(),{open_left:f=!1}=e,{open_top:h=!1}=e,{darkBackground:g=!1}=e,{zindex:$=2e3}=e,{grid:b=!1}=e,{gridcols:x=5}=e,{griddisplay:y=!1}=e,{gridwidth:k=""}=e,{usepopoverapi:w=!0}=e,v="20%",_="false",B="false",z="hidden",M=!1,S="";var T;T=()=>{if("visible"===z)return;if(M)return;M=!0;let t,e=!1;if(!c)return;let o=m.shadowRoot.getElementById("menu");o&&setTimeout((()=>{!r&&w&&i&&(r=!0,i.showPopover()),t=o.getBoundingClientRect();let l=m.parentNode;if(l&&"contextMenuEntry"===l.className&&(e=!0),e){let e=l.getBoundingClientRect();if(n(3,a=e.y-m.parentNode.parentNode.getBoundingClientRect().y),n(2,d+=5),(t.x>window.innerWidth-(t.width+10)||1==f)&&(n(2,d=d-e.width-t.width),n(8,_="true")),t.y>window.innerHeight-(t.height+10)||!0===h){let e=t.y-(window.innerHeight-(t.height+10));n(3,a-=e),n(9,B="true")}}else n(2,d=Math.min(window.innerWidth-(t.width+10),d)),n(3,a=Math.min(window.innerHeight-(t.height+10),a)),g||(n(2,d+=parseInt(window.scrollX)),n(3,a+=parseInt(window.scrollY)));n(10,z="visible")}),0)},E().$$.after_update.push(T),N((()=>{let t,e,o=!1;s&&n(1,c=l),y&&n(11,S=k||"width:200%"),u&&(e=u.getBoundingClientRect(),n(2,d=e.x),n(3,a=e.y));let p=m.parentNode,f=document.getElementsByTagName("fds-image-editor-menu")[0];"contextMenuEntry"===p.className?(t=p.getBoundingClientRect(),n(2,d=t.width),n(3,a=0),o=!0):f&&f!==m&&f.remove(),!o&&g&&(!function(){let t;t=document.getElementById("fds_context_back"),t&&t.remove(),t=document.createElement("div"),t.style="position: fixed; left:0; top: 0;width: 100%;height: 100vh; background-color: black; opacity: 50%;z-index:1000",t.id="fds_context_back",document.body.append(t)}(),m.style="z-index: 1010;position:fixed;left:0;top:0"),document.body.addEventListener("click",P),!r&&w&&i&&(r=!0,i.showPopover())}));let L={};function j(t,e){t.items&&n(14,L[e]=!0,L)}function I(t,e){t.items&&n(14,L[e]=!1,L)}function P(t){if("hidden"===z)return;!function(){let t=document.getElementById("fds_context_back");t&&t.remove()}(),document.body.removeEventListener("click",P);let e=m.parentNode;return e&&e.removeChild(m),w&&i&&(i.hidePopover(),r=!1),t.preventDefault(),!1}function R(t,e){p&&p(t,e)}return t.$$set=t=>{"menu"in t&&n(1,c=t.menu),"demo"in t&&n(22,s=t.demo),"x"in t&&n(2,d=t.x),"y"in t&&n(3,a=t.y),"element"in t&&n(23,u=t.element),"callback"in t&&n(4,p=t.callback),"open_left"in t&&n(18,f=t.open_left),"open_top"in t&&n(19,h=t.open_top),"darkBackground"in t&&n(20,g=t.darkBackground),"zindex"in t&&n(5,$=t.zindex),"grid"in t&&n(0,b=t.grid),"gridcols"in t&&n(24,x=t.gridcols),"griddisplay"in t&&n(21,y=t.griddisplay),"gridwidth"in t&&n(25,k=t.gridwidth),"usepopoverapi"in t&&n(6,w=t.usepopoverapi)},t.$$.update=()=>{16777216&t.$$.dirty[0]&&5!=x&&n(7,v=Math.floor(100/x)+"%"),33554432&t.$$.dirty[0]&&k&&n(11,S=k),262144&t.$$.dirty[0]&&("false"==f&&n(18,f=!1),n(18,f=!!f)),524288&t.$$.dirty[0]&&("false"==h&&n(19,h=!1),n(19,h=!!h)),2097152&t.$$.dirty[0]&&("false"==y&&n(21,y=!1),n(21,y=!!y)),1&t.$$.dirty[0]&&("false"==b&&n(0,b=!1),n(0,b=!!b)),1048576&t.$$.dirty[0]&&("false"==g&&n(20,g=!1),n(20,g=!!g))},[b,c,d,a,p,$,w,v,_,B,z,S,i,o,L,j,I,R,f,h,g,y,s,u,x,k,async function(t){return"version"===t?"1.0.12":await mt.getInfo(t,"@fds-components/fds-image-editor-menu")},(t,e)=>R(t,e),(t,e)=>j(t,e),(t,e)=>I(t,e),function(t){C[t?"unshift":"push"]((()=>{i=t,n(12,i)}))},function(t){C[t?"unshift":"push"]((()=>{o=t,n(13,o)}))}]}class Nt extends H{constructor(t){super();const e=document.createElement("style");e.textContent='fds-image-editor-button{vertical-align:-10px}*{box-sizing:border-box}.menu{--activeBgColor:#ddb74f;--activeColor:black;--color:white;--bgColor:black}.picker-list li{display:flex;float:left;width:20%}.picker-list{display:flex;flex-flow:row wrap;list-style:none;padding-left:0}.picker-list a{display:block;flex:1 1 auto;line-height:1.4;padding:5px;text-align:center;user-select:none}.picker-list a:hover{background-color:#f1f1f1;color:#fff;cursor:pointer;text-decoration:none}hr{width:100%}.menu{position:absolute;display:grid;border:1px solid #0003;box-shadow:2px 2px 5px 0px #0002;padding:5px;border-radius:5px;background-color:rgba(0, 0, 0, 0.65);backdrop-filter:blur(10px);color:rgba(255, 255, 255, 0.6);border-radius:10px;box-shadow:0 0 1rem 0 rgba(255, 255, 255, 0.2)}.contextMenuEntry{width:100%;position:relative}.entry{white-space:nowrap;float:left;display:block;color:var(--color, rgba(0, 0, 0, 0.87));text-align:left;padding-left:10px;padding-right:10px;text-decoration:none;font-size:14px;padding-top:20px;padding-bottom:20px;cursor:pointer;width:100%}.contextMenuEntry{min-width:160px;border-bottom:1px solid #7b7b7b}.menu .contextMenuEntry:nth-last-child(-n + 1){border-bottom:none}.right{float:right}.submenu::after{content:"";border-style:solid;border-width:5px 0 5px 5px;border-color:transparent transparent transparent rgba(255, 255, 255, 0.938);height:0;position:absolute;right:2px;top:50%;-ms-transform:translateY(-50%);transform:translateY(-50%);width:0;z-index:1}.entry:hover .icon{--color:var(--activeColor, white)}.entry:hover::after{border-color:transparent transparent transparent rgba(0, 0, 0, 0.938)}.entry:hover{background-color:var(--activeBgColor, #337ab7);color:var(--activeColor, white)}.icon{vertical-align:text-bottom;height:15px;display:inline-block;margin-right:5px}.image{padding:0;line-height:45px;vertical-align:middle}.image img{vertical-align:middle;max-height:35px}#anchor_1{display:inline-block;anchor-name:--anchor_1}[popover]{border:none;position-anchor:--anchor_1;position-area:center;transform:translate(5%, 60%);min-width:170px}',this.shadowRoot.appendChild(e),G(this,{target:this.shadowRoot,props:v(this.attributes),customElement:!0},Et,_t,r,{menu:1,demo:22,x:2,y:3,element:23,callback:4,open_left:18,open_top:19,darkBackground:20,zindex:5,grid:0,gridcols:24,griddisplay:21,gridwidth:25,usepopoverapi:6,getInfo:26},null,[-1,-1]),t&&(t.target&&u(t.target,this,t.anchor),t.props&&(this.$set(t.props),P()))}static get observedAttributes(){return["menu","demo","x","y","element","callback","open_left","open_top","darkBackground","zindex","grid","gridcols","griddisplay","gridwidth","usepopoverapi","getInfo"]}get menu(){return this.$$.ctx[1]}set menu(t){this.$$set({menu:t}),P()}get demo(){return this.$$.ctx[22]}set demo(t){this.$$set({demo:t}),P()}get x(){return this.$$.ctx[2]}set x(t){this.$$set({x:t}),P()}get y(){return this.$$.ctx[3]}set y(t){this.$$set({y:t}),P()}get element(){return this.$$.ctx[23]}set element(t){this.$$set({element:t}),P()}get callback(){return this.$$.ctx[4]}set callback(t){this.$$set({callback:t}),P()}get open_left(){return this.$$.ctx[18]}set open_left(t){this.$$set({open_left:t}),P()}get open_top(){return this.$$.ctx[19]}set open_top(t){this.$$set({open_top:t}),P()}get darkBackground(){return this.$$.ctx[20]}set darkBackground(t){this.$$set({darkBackground:t}),P()}get zindex(){return this.$$.ctx[5]}set zindex(t){this.$$set({zindex:t}),P()}get grid(){return this.$$.ctx[0]}set grid(t){this.$$set({grid:t}),P()}get gridcols(){return this.$$.ctx[24]}set gridcols(t){this.$$set({gridcols:t}),P()}get griddisplay(){return this.$$.ctx[21]}set griddisplay(t){this.$$set({griddisplay:t}),P()}get gridwidth(){return this.$$.ctx[25]}set gridwidth(t){this.$$set({gridwidth:t}),P()}get usepopoverapi(){return this.$$.ctx[6]}set usepopoverapi(t){this.$$set({usepopoverapi:t}),P()}get getInfo(){return this.$$.ctx[26]}}customElements.define("fds-image-editor-menu",Nt);export{Nt as default};
//# sourceMappingURL=fds-image-editor-menu-es.js.map
