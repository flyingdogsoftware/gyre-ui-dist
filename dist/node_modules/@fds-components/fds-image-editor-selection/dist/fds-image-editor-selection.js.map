{"version":3,"file":"fds-image-editor-selection.js","sources":["../node_modules/svelte/internal/index.mjs","../node_modules/acorn/dist/acorn.js","../node_modules/paper/dist/paper-full.js","../src/largePaper.js","../src/Dialog.svelte","../src/App.svelte"],"sourcesContent":["function noop() { }\nconst identity = x => x;\nfunction assign(tar, src) {\n    // @ts-ignore\n    for (const k in src)\n        tar[k] = src[k];\n    return tar;\n}\n// Adapted from https://github.com/then/is-promise/blob/master/index.js\n// Distributed under MIT License https://github.com/then/is-promise/blob/master/LICENSE\nfunction is_promise(value) {\n    return !!value && (typeof value === 'object' || typeof value === 'function') && typeof value.then === 'function';\n}\nfunction add_location(element, file, line, column, char) {\n    element.__svelte_meta = {\n        loc: { file, line, column, char }\n    };\n}\nfunction run(fn) {\n    return fn();\n}\nfunction blank_object() {\n    return Object.create(null);\n}\nfunction run_all(fns) {\n    fns.forEach(run);\n}\nfunction is_function(thing) {\n    return typeof thing === 'function';\n}\nfunction safe_not_equal(a, b) {\n    return a != a ? b == b : a !== b || ((a && typeof a === 'object') || typeof a === 'function');\n}\nlet src_url_equal_anchor;\nfunction src_url_equal(element_src, url) {\n    if (!src_url_equal_anchor) {\n        src_url_equal_anchor = document.createElement('a');\n    }\n    src_url_equal_anchor.href = url;\n    return element_src === src_url_equal_anchor.href;\n}\nfunction not_equal(a, b) {\n    return a != a ? b == b : a !== b;\n}\nfunction is_empty(obj) {\n    return Object.keys(obj).length === 0;\n}\nfunction validate_store(store, name) {\n    if (store != null && typeof store.subscribe !== 'function') {\n        throw new Error(`'${name}' is not a store with a 'subscribe' method`);\n    }\n}\nfunction subscribe(store, ...callbacks) {\n    if (store == null) {\n        return noop;\n    }\n    const unsub = store.subscribe(...callbacks);\n    return unsub.unsubscribe ? () => unsub.unsubscribe() : unsub;\n}\nfunction get_store_value(store) {\n    let value;\n    subscribe(store, _ => value = _)();\n    return value;\n}\nfunction component_subscribe(component, store, callback) {\n    component.$$.on_destroy.push(subscribe(store, callback));\n}\nfunction create_slot(definition, ctx, $$scope, fn) {\n    if (definition) {\n        const slot_ctx = get_slot_context(definition, ctx, $$scope, fn);\n        return definition[0](slot_ctx);\n    }\n}\nfunction get_slot_context(definition, ctx, $$scope, fn) {\n    return definition[1] && fn\n        ? assign($$scope.ctx.slice(), definition[1](fn(ctx)))\n        : $$scope.ctx;\n}\nfunction get_slot_changes(definition, $$scope, dirty, fn) {\n    if (definition[2] && fn) {\n        const lets = definition[2](fn(dirty));\n        if ($$scope.dirty === undefined) {\n            return lets;\n        }\n        if (typeof lets === 'object') {\n            const merged = [];\n            const len = Math.max($$scope.dirty.length, lets.length);\n            for (let i = 0; i < len; i += 1) {\n                merged[i] = $$scope.dirty[i] | lets[i];\n            }\n            return merged;\n        }\n        return $$scope.dirty | lets;\n    }\n    return $$scope.dirty;\n}\nfunction update_slot_base(slot, slot_definition, ctx, $$scope, slot_changes, get_slot_context_fn) {\n    if (slot_changes) {\n        const slot_context = get_slot_context(slot_definition, ctx, $$scope, get_slot_context_fn);\n        slot.p(slot_context, slot_changes);\n    }\n}\nfunction update_slot(slot, slot_definition, ctx, $$scope, dirty, get_slot_changes_fn, get_slot_context_fn) {\n    const slot_changes = get_slot_changes(slot_definition, $$scope, dirty, get_slot_changes_fn);\n    update_slot_base(slot, slot_definition, ctx, $$scope, slot_changes, get_slot_context_fn);\n}\nfunction get_all_dirty_from_scope($$scope) {\n    if ($$scope.ctx.length > 32) {\n        const dirty = [];\n        const length = $$scope.ctx.length / 32;\n        for (let i = 0; i < length; i++) {\n            dirty[i] = -1;\n        }\n        return dirty;\n    }\n    return -1;\n}\nfunction exclude_internal_props(props) {\n    const result = {};\n    for (const k in props)\n        if (k[0] !== '$')\n            result[k] = props[k];\n    return result;\n}\nfunction compute_rest_props(props, keys) {\n    const rest = {};\n    keys = new Set(keys);\n    for (const k in props)\n        if (!keys.has(k) && k[0] !== '$')\n            rest[k] = props[k];\n    return rest;\n}\nfunction compute_slots(slots) {\n    const result = {};\n    for (const key in slots) {\n        result[key] = true;\n    }\n    return result;\n}\nfunction once(fn) {\n    let ran = false;\n    return function (...args) {\n        if (ran)\n            return;\n        ran = true;\n        fn.call(this, ...args);\n    };\n}\nfunction null_to_empty(value) {\n    return value == null ? '' : value;\n}\nfunction set_store_value(store, ret, value) {\n    store.set(value);\n    return ret;\n}\nconst has_prop = (obj, prop) => Object.prototype.hasOwnProperty.call(obj, prop);\nfunction action_destroyer(action_result) {\n    return action_result && is_function(action_result.destroy) ? action_result.destroy : noop;\n}\nfunction split_css_unit(value) {\n    const split = typeof value === 'string' && value.match(/^\\s*(-?[\\d.]+)([^\\s]*)\\s*$/);\n    return split ? [parseFloat(split[1]), split[2] || 'px'] : [value, 'px'];\n}\nconst contenteditable_truthy_values = ['', true, 1, 'true', 'contenteditable'];\n\nconst is_client = typeof window !== 'undefined';\nlet now = is_client\n    ? () => window.performance.now()\n    : () => Date.now();\nlet raf = is_client ? cb => requestAnimationFrame(cb) : noop;\n// used internally for testing\nfunction set_now(fn) {\n    now = fn;\n}\nfunction set_raf(fn) {\n    raf = fn;\n}\n\nconst tasks = new Set();\nfunction run_tasks(now) {\n    tasks.forEach(task => {\n        if (!task.c(now)) {\n            tasks.delete(task);\n            task.f();\n        }\n    });\n    if (tasks.size !== 0)\n        raf(run_tasks);\n}\n/**\n * For testing purposes only!\n */\nfunction clear_loops() {\n    tasks.clear();\n}\n/**\n * Creates a new task that runs on each raf frame\n * until it returns a falsy value or is aborted\n */\nfunction loop(callback) {\n    let task;\n    if (tasks.size === 0)\n        raf(run_tasks);\n    return {\n        promise: new Promise(fulfill => {\n            tasks.add(task = { c: callback, f: fulfill });\n        }),\n        abort() {\n            tasks.delete(task);\n        }\n    };\n}\n\nconst globals = (typeof window !== 'undefined'\n    ? window\n    : typeof globalThis !== 'undefined'\n        ? globalThis\n        : global);\n\n/**\n * Resize observer singleton.\n * One listener per element only!\n * https://groups.google.com/a/chromium.org/g/blink-dev/c/z6ienONUb5A/m/F5-VcUZtBAAJ\n */\nclass ResizeObserverSingleton {\n    constructor(options) {\n        this.options = options;\n        this._listeners = 'WeakMap' in globals ? new WeakMap() : undefined;\n    }\n    observe(element, listener) {\n        this._listeners.set(element, listener);\n        this._getObserver().observe(element, this.options);\n        return () => {\n            this._listeners.delete(element);\n            this._observer.unobserve(element); // this line can probably be removed\n        };\n    }\n    _getObserver() {\n        var _a;\n        return (_a = this._observer) !== null && _a !== void 0 ? _a : (this._observer = new ResizeObserver((entries) => {\n            var _a;\n            for (const entry of entries) {\n                ResizeObserverSingleton.entries.set(entry.target, entry);\n                (_a = this._listeners.get(entry.target)) === null || _a === void 0 ? void 0 : _a(entry);\n            }\n        }));\n    }\n}\n// Needs to be written like this to pass the tree-shake-test\nResizeObserverSingleton.entries = 'WeakMap' in globals ? new WeakMap() : undefined;\n\n// Track which nodes are claimed during hydration. Unclaimed nodes can then be removed from the DOM\n// at the end of hydration without touching the remaining nodes.\nlet is_hydrating = false;\nfunction start_hydrating() {\n    is_hydrating = true;\n}\nfunction end_hydrating() {\n    is_hydrating = false;\n}\nfunction upper_bound(low, high, key, value) {\n    // Return first index of value larger than input value in the range [low, high)\n    while (low < high) {\n        const mid = low + ((high - low) >> 1);\n        if (key(mid) <= value) {\n            low = mid + 1;\n        }\n        else {\n            high = mid;\n        }\n    }\n    return low;\n}\nfunction init_hydrate(target) {\n    if (target.hydrate_init)\n        return;\n    target.hydrate_init = true;\n    // We know that all children have claim_order values since the unclaimed have been detached if target is not <head>\n    let children = target.childNodes;\n    // If target is <head>, there may be children without claim_order\n    if (target.nodeName === 'HEAD') {\n        const myChildren = [];\n        for (let i = 0; i < children.length; i++) {\n            const node = children[i];\n            if (node.claim_order !== undefined) {\n                myChildren.push(node);\n            }\n        }\n        children = myChildren;\n    }\n    /*\n    * Reorder claimed children optimally.\n    * We can reorder claimed children optimally by finding the longest subsequence of\n    * nodes that are already claimed in order and only moving the rest. The longest\n    * subsequence of nodes that are claimed in order can be found by\n    * computing the longest increasing subsequence of .claim_order values.\n    *\n    * This algorithm is optimal in generating the least amount of reorder operations\n    * possible.\n    *\n    * Proof:\n    * We know that, given a set of reordering operations, the nodes that do not move\n    * always form an increasing subsequence, since they do not move among each other\n    * meaning that they must be already ordered among each other. Thus, the maximal\n    * set of nodes that do not move form a longest increasing subsequence.\n    */\n    // Compute longest increasing subsequence\n    // m: subsequence length j => index k of smallest value that ends an increasing subsequence of length j\n    const m = new Int32Array(children.length + 1);\n    // Predecessor indices + 1\n    const p = new Int32Array(children.length);\n    m[0] = -1;\n    let longest = 0;\n    for (let i = 0; i < children.length; i++) {\n        const current = children[i].claim_order;\n        // Find the largest subsequence length such that it ends in a value less than our current value\n        // upper_bound returns first greater value, so we subtract one\n        // with fast path for when we are on the current longest subsequence\n        const seqLen = ((longest > 0 && children[m[longest]].claim_order <= current) ? longest + 1 : upper_bound(1, longest, idx => children[m[idx]].claim_order, current)) - 1;\n        p[i] = m[seqLen] + 1;\n        const newLen = seqLen + 1;\n        // We can guarantee that current is the smallest value. Otherwise, we would have generated a longer sequence.\n        m[newLen] = i;\n        longest = Math.max(newLen, longest);\n    }\n    // The longest increasing subsequence of nodes (initially reversed)\n    const lis = [];\n    // The rest of the nodes, nodes that will be moved\n    const toMove = [];\n    let last = children.length - 1;\n    for (let cur = m[longest] + 1; cur != 0; cur = p[cur - 1]) {\n        lis.push(children[cur - 1]);\n        for (; last >= cur; last--) {\n            toMove.push(children[last]);\n        }\n        last--;\n    }\n    for (; last >= 0; last--) {\n        toMove.push(children[last]);\n    }\n    lis.reverse();\n    // We sort the nodes being moved to guarantee that their insertion order matches the claim order\n    toMove.sort((a, b) => a.claim_order - b.claim_order);\n    // Finally, we move the nodes\n    for (let i = 0, j = 0; i < toMove.length; i++) {\n        while (j < lis.length && toMove[i].claim_order >= lis[j].claim_order) {\n            j++;\n        }\n        const anchor = j < lis.length ? lis[j] : null;\n        target.insertBefore(toMove[i], anchor);\n    }\n}\nfunction append(target, node) {\n    target.appendChild(node);\n}\nfunction append_styles(target, style_sheet_id, styles) {\n    const append_styles_to = get_root_for_style(target);\n    if (!append_styles_to.getElementById(style_sheet_id)) {\n        const style = element('style');\n        style.id = style_sheet_id;\n        style.textContent = styles;\n        append_stylesheet(append_styles_to, style);\n    }\n}\nfunction get_root_for_style(node) {\n    if (!node)\n        return document;\n    const root = node.getRootNode ? node.getRootNode() : node.ownerDocument;\n    if (root && root.host) {\n        return root;\n    }\n    return node.ownerDocument;\n}\nfunction append_empty_stylesheet(node) {\n    const style_element = element('style');\n    append_stylesheet(get_root_for_style(node), style_element);\n    return style_element.sheet;\n}\nfunction append_stylesheet(node, style) {\n    append(node.head || node, style);\n    return style.sheet;\n}\nfunction append_hydration(target, node) {\n    if (is_hydrating) {\n        init_hydrate(target);\n        if ((target.actual_end_child === undefined) || ((target.actual_end_child !== null) && (target.actual_end_child.parentNode !== target))) {\n            target.actual_end_child = target.firstChild;\n        }\n        // Skip nodes of undefined ordering\n        while ((target.actual_end_child !== null) && (target.actual_end_child.claim_order === undefined)) {\n            target.actual_end_child = target.actual_end_child.nextSibling;\n        }\n        if (node !== target.actual_end_child) {\n            // We only insert if the ordering of this node should be modified or the parent node is not target\n            if (node.claim_order !== undefined || node.parentNode !== target) {\n                target.insertBefore(node, target.actual_end_child);\n            }\n        }\n        else {\n            target.actual_end_child = node.nextSibling;\n        }\n    }\n    else if (node.parentNode !== target || node.nextSibling !== null) {\n        target.appendChild(node);\n    }\n}\nfunction insert(target, node, anchor) {\n    target.insertBefore(node, anchor || null);\n}\nfunction insert_hydration(target, node, anchor) {\n    if (is_hydrating && !anchor) {\n        append_hydration(target, node);\n    }\n    else if (node.parentNode !== target || node.nextSibling != anchor) {\n        target.insertBefore(node, anchor || null);\n    }\n}\nfunction detach(node) {\n    if (node.parentNode) {\n        node.parentNode.removeChild(node);\n    }\n}\nfunction destroy_each(iterations, detaching) {\n    for (let i = 0; i < iterations.length; i += 1) {\n        if (iterations[i])\n            iterations[i].d(detaching);\n    }\n}\nfunction element(name) {\n    return document.createElement(name);\n}\nfunction element_is(name, is) {\n    return document.createElement(name, { is });\n}\nfunction object_without_properties(obj, exclude) {\n    const target = {};\n    for (const k in obj) {\n        if (has_prop(obj, k)\n            // @ts-ignore\n            && exclude.indexOf(k) === -1) {\n            // @ts-ignore\n            target[k] = obj[k];\n        }\n    }\n    return target;\n}\nfunction svg_element(name) {\n    return document.createElementNS('http://www.w3.org/2000/svg', name);\n}\nfunction text(data) {\n    return document.createTextNode(data);\n}\nfunction space() {\n    return text(' ');\n}\nfunction empty() {\n    return text('');\n}\nfunction comment(content) {\n    return document.createComment(content);\n}\nfunction listen(node, event, handler, options) {\n    node.addEventListener(event, handler, options);\n    return () => node.removeEventListener(event, handler, options);\n}\nfunction prevent_default(fn) {\n    return function (event) {\n        event.preventDefault();\n        // @ts-ignore\n        return fn.call(this, event);\n    };\n}\nfunction stop_propagation(fn) {\n    return function (event) {\n        event.stopPropagation();\n        // @ts-ignore\n        return fn.call(this, event);\n    };\n}\nfunction stop_immediate_propagation(fn) {\n    return function (event) {\n        event.stopImmediatePropagation();\n        // @ts-ignore\n        return fn.call(this, event);\n    };\n}\nfunction self(fn) {\n    return function (event) {\n        // @ts-ignore\n        if (event.target === this)\n            fn.call(this, event);\n    };\n}\nfunction trusted(fn) {\n    return function (event) {\n        // @ts-ignore\n        if (event.isTrusted)\n            fn.call(this, event);\n    };\n}\nfunction attr(node, attribute, value) {\n    if (value == null)\n        node.removeAttribute(attribute);\n    else if (node.getAttribute(attribute) !== value)\n        node.setAttribute(attribute, value);\n}\n/**\n * List of attributes that should always be set through the attr method,\n * because updating them through the property setter doesn't work reliably.\n * In the example of `width`/`height`, the problem is that the setter only\n * accepts numeric values, but the attribute can also be set to a string like `50%`.\n * If this list becomes too big, rethink this approach.\n */\nconst always_set_through_set_attribute = ['width', 'height'];\nfunction set_attributes(node, attributes) {\n    // @ts-ignore\n    const descriptors = Object.getOwnPropertyDescriptors(node.__proto__);\n    for (const key in attributes) {\n        if (attributes[key] == null) {\n            node.removeAttribute(key);\n        }\n        else if (key === 'style') {\n            node.style.cssText = attributes[key];\n        }\n        else if (key === '__value') {\n            node.value = node[key] = attributes[key];\n        }\n        else if (descriptors[key] && descriptors[key].set && always_set_through_set_attribute.indexOf(key) === -1) {\n            node[key] = attributes[key];\n        }\n        else {\n            attr(node, key, attributes[key]);\n        }\n    }\n}\nfunction set_svg_attributes(node, attributes) {\n    for (const key in attributes) {\n        attr(node, key, attributes[key]);\n    }\n}\nfunction set_custom_element_data_map(node, data_map) {\n    Object.keys(data_map).forEach((key) => {\n        set_custom_element_data(node, key, data_map[key]);\n    });\n}\nfunction set_custom_element_data(node, prop, value) {\n    if (prop in node) {\n        node[prop] = typeof node[prop] === 'boolean' && value === '' ? true : value;\n    }\n    else {\n        attr(node, prop, value);\n    }\n}\nfunction set_dynamic_element_data(tag) {\n    return (/-/.test(tag)) ? set_custom_element_data_map : set_attributes;\n}\nfunction xlink_attr(node, attribute, value) {\n    node.setAttributeNS('http://www.w3.org/1999/xlink', attribute, value);\n}\nfunction get_binding_group_value(group, __value, checked) {\n    const value = new Set();\n    for (let i = 0; i < group.length; i += 1) {\n        if (group[i].checked)\n            value.add(group[i].__value);\n    }\n    if (!checked) {\n        value.delete(__value);\n    }\n    return Array.from(value);\n}\nfunction init_binding_group(group) {\n    let _inputs;\n    return {\n        /* push */ p(...inputs) {\n            _inputs = inputs;\n            _inputs.forEach(input => group.push(input));\n        },\n        /* remove */ r() {\n            _inputs.forEach(input => group.splice(group.indexOf(input), 1));\n        }\n    };\n}\nfunction init_binding_group_dynamic(group, indexes) {\n    let _group = get_binding_group(group);\n    let _inputs;\n    function get_binding_group(group) {\n        for (let i = 0; i < indexes.length; i++) {\n            group = group[indexes[i]] = group[indexes[i]] || [];\n        }\n        return group;\n    }\n    function push() {\n        _inputs.forEach(input => _group.push(input));\n    }\n    function remove() {\n        _inputs.forEach(input => _group.splice(_group.indexOf(input), 1));\n    }\n    return {\n        /* update */ u(new_indexes) {\n            indexes = new_indexes;\n            const new_group = get_binding_group(group);\n            if (new_group !== _group) {\n                remove();\n                _group = new_group;\n                push();\n            }\n        },\n        /* push */ p(...inputs) {\n            _inputs = inputs;\n            push();\n        },\n        /* remove */ r: remove\n    };\n}\nfunction to_number(value) {\n    return value === '' ? null : +value;\n}\nfunction time_ranges_to_array(ranges) {\n    const array = [];\n    for (let i = 0; i < ranges.length; i += 1) {\n        array.push({ start: ranges.start(i), end: ranges.end(i) });\n    }\n    return array;\n}\nfunction children(element) {\n    return Array.from(element.childNodes);\n}\nfunction init_claim_info(nodes) {\n    if (nodes.claim_info === undefined) {\n        nodes.claim_info = { last_index: 0, total_claimed: 0 };\n    }\n}\nfunction claim_node(nodes, predicate, processNode, createNode, dontUpdateLastIndex = false) {\n    // Try to find nodes in an order such that we lengthen the longest increasing subsequence\n    init_claim_info(nodes);\n    const resultNode = (() => {\n        // We first try to find an element after the previous one\n        for (let i = nodes.claim_info.last_index; i < nodes.length; i++) {\n            const node = nodes[i];\n            if (predicate(node)) {\n                const replacement = processNode(node);\n                if (replacement === undefined) {\n                    nodes.splice(i, 1);\n                }\n                else {\n                    nodes[i] = replacement;\n                }\n                if (!dontUpdateLastIndex) {\n                    nodes.claim_info.last_index = i;\n                }\n                return node;\n            }\n        }\n        // Otherwise, we try to find one before\n        // We iterate in reverse so that we don't go too far back\n        for (let i = nodes.claim_info.last_index - 1; i >= 0; i--) {\n            const node = nodes[i];\n            if (predicate(node)) {\n                const replacement = processNode(node);\n                if (replacement === undefined) {\n                    nodes.splice(i, 1);\n                }\n                else {\n                    nodes[i] = replacement;\n                }\n                if (!dontUpdateLastIndex) {\n                    nodes.claim_info.last_index = i;\n                }\n                else if (replacement === undefined) {\n                    // Since we spliced before the last_index, we decrease it\n                    nodes.claim_info.last_index--;\n                }\n                return node;\n            }\n        }\n        // If we can't find any matching node, we create a new one\n        return createNode();\n    })();\n    resultNode.claim_order = nodes.claim_info.total_claimed;\n    nodes.claim_info.total_claimed += 1;\n    return resultNode;\n}\nfunction claim_element_base(nodes, name, attributes, create_element) {\n    return claim_node(nodes, (node) => node.nodeName === name, (node) => {\n        const remove = [];\n        for (let j = 0; j < node.attributes.length; j++) {\n            const attribute = node.attributes[j];\n            if (!attributes[attribute.name]) {\n                remove.push(attribute.name);\n            }\n        }\n        remove.forEach(v => node.removeAttribute(v));\n        return undefined;\n    }, () => create_element(name));\n}\nfunction claim_element(nodes, name, attributes) {\n    return claim_element_base(nodes, name, attributes, element);\n}\nfunction claim_svg_element(nodes, name, attributes) {\n    return claim_element_base(nodes, name, attributes, svg_element);\n}\nfunction claim_text(nodes, data) {\n    return claim_node(nodes, (node) => node.nodeType === 3, (node) => {\n        const dataStr = '' + data;\n        if (node.data.startsWith(dataStr)) {\n            if (node.data.length !== dataStr.length) {\n                return node.splitText(dataStr.length);\n            }\n        }\n        else {\n            node.data = dataStr;\n        }\n    }, () => text(data), true // Text nodes should not update last index since it is likely not worth it to eliminate an increasing subsequence of actual elements\n    );\n}\nfunction claim_space(nodes) {\n    return claim_text(nodes, ' ');\n}\nfunction claim_comment(nodes, data) {\n    return claim_node(nodes, (node) => node.nodeType === 8, (node) => {\n        node.data = '' + data;\n        return undefined;\n    }, () => comment(data), true);\n}\nfunction find_comment(nodes, text, start) {\n    for (let i = start; i < nodes.length; i += 1) {\n        const node = nodes[i];\n        if (node.nodeType === 8 /* comment node */ && node.textContent.trim() === text) {\n            return i;\n        }\n    }\n    return nodes.length;\n}\nfunction claim_html_tag(nodes, is_svg) {\n    // find html opening tag\n    const start_index = find_comment(nodes, 'HTML_TAG_START', 0);\n    const end_index = find_comment(nodes, 'HTML_TAG_END', start_index);\n    if (start_index === end_index) {\n        return new HtmlTagHydration(undefined, is_svg);\n    }\n    init_claim_info(nodes);\n    const html_tag_nodes = nodes.splice(start_index, end_index - start_index + 1);\n    detach(html_tag_nodes[0]);\n    detach(html_tag_nodes[html_tag_nodes.length - 1]);\n    const claimed_nodes = html_tag_nodes.slice(1, html_tag_nodes.length - 1);\n    for (const n of claimed_nodes) {\n        n.claim_order = nodes.claim_info.total_claimed;\n        nodes.claim_info.total_claimed += 1;\n    }\n    return new HtmlTagHydration(claimed_nodes, is_svg);\n}\nfunction set_data(text, data) {\n    data = '' + data;\n    if (text.data === data)\n        return;\n    text.data = data;\n}\nfunction set_data_contenteditable(text, data) {\n    data = '' + data;\n    if (text.wholeText === data)\n        return;\n    text.data = data;\n}\nfunction set_data_maybe_contenteditable(text, data, attr_value) {\n    if (~contenteditable_truthy_values.indexOf(attr_value)) {\n        set_data_contenteditable(text, data);\n    }\n    else {\n        set_data(text, data);\n    }\n}\nfunction set_input_value(input, value) {\n    input.value = value == null ? '' : value;\n}\nfunction set_input_type(input, type) {\n    try {\n        input.type = type;\n    }\n    catch (e) {\n        // do nothing\n    }\n}\nfunction set_style(node, key, value, important) {\n    if (value == null) {\n        node.style.removeProperty(key);\n    }\n    else {\n        node.style.setProperty(key, value, important ? 'important' : '');\n    }\n}\nfunction select_option(select, value, mounting) {\n    for (let i = 0; i < select.options.length; i += 1) {\n        const option = select.options[i];\n        if (option.__value === value) {\n            option.selected = true;\n            return;\n        }\n    }\n    if (!mounting || value !== undefined) {\n        select.selectedIndex = -1; // no option should be selected\n    }\n}\nfunction select_options(select, value) {\n    for (let i = 0; i < select.options.length; i += 1) {\n        const option = select.options[i];\n        option.selected = ~value.indexOf(option.__value);\n    }\n}\nfunction select_value(select) {\n    const selected_option = select.querySelector(':checked');\n    return selected_option && selected_option.__value;\n}\nfunction select_multiple_value(select) {\n    return [].map.call(select.querySelectorAll(':checked'), option => option.__value);\n}\n// unfortunately this can't be a constant as that wouldn't be tree-shakeable\n// so we cache the result instead\nlet crossorigin;\nfunction is_crossorigin() {\n    if (crossorigin === undefined) {\n        crossorigin = false;\n        try {\n            if (typeof window !== 'undefined' && window.parent) {\n                void window.parent.document;\n            }\n        }\n        catch (error) {\n            crossorigin = true;\n        }\n    }\n    return crossorigin;\n}\nfunction add_iframe_resize_listener(node, fn) {\n    const computed_style = getComputedStyle(node);\n    if (computed_style.position === 'static') {\n        node.style.position = 'relative';\n    }\n    const iframe = element('iframe');\n    iframe.setAttribute('style', 'display: block; position: absolute; top: 0; left: 0; width: 100%; height: 100%; ' +\n        'overflow: hidden; border: 0; opacity: 0; pointer-events: none; z-index: -1;');\n    iframe.setAttribute('aria-hidden', 'true');\n    iframe.tabIndex = -1;\n    const crossorigin = is_crossorigin();\n    let unsubscribe;\n    if (crossorigin) {\n        iframe.src = \"data:text/html,<script>onresize=function(){parent.postMessage(0,'*')}</script>\";\n        unsubscribe = listen(window, 'message', (event) => {\n            if (event.source === iframe.contentWindow)\n                fn();\n        });\n    }\n    else {\n        iframe.src = 'about:blank';\n        iframe.onload = () => {\n            unsubscribe = listen(iframe.contentWindow, 'resize', fn);\n            // make sure an initial resize event is fired _after_ the iframe is loaded (which is asynchronous)\n            // see https://github.com/sveltejs/svelte/issues/4233\n            fn();\n        };\n    }\n    append(node, iframe);\n    return () => {\n        if (crossorigin) {\n            unsubscribe();\n        }\n        else if (unsubscribe && iframe.contentWindow) {\n            unsubscribe();\n        }\n        detach(iframe);\n    };\n}\nconst resize_observer_content_box = /* @__PURE__ */ new ResizeObserverSingleton({ box: 'content-box' });\nconst resize_observer_border_box = /* @__PURE__ */ new ResizeObserverSingleton({ box: 'border-box' });\nconst resize_observer_device_pixel_content_box = /* @__PURE__ */ new ResizeObserverSingleton({ box: 'device-pixel-content-box' });\nfunction toggle_class(element, name, toggle) {\n    element.classList[toggle ? 'add' : 'remove'](name);\n}\nfunction custom_event(type, detail, { bubbles = false, cancelable = false } = {}) {\n    const e = document.createEvent('CustomEvent');\n    e.initCustomEvent(type, bubbles, cancelable, detail);\n    return e;\n}\nfunction query_selector_all(selector, parent = document.body) {\n    return Array.from(parent.querySelectorAll(selector));\n}\nfunction head_selector(nodeId, head) {\n    const result = [];\n    let started = 0;\n    for (const node of head.childNodes) {\n        if (node.nodeType === 8 /* comment node */) {\n            const comment = node.textContent.trim();\n            if (comment === `HEAD_${nodeId}_END`) {\n                started -= 1;\n                result.push(node);\n            }\n            else if (comment === `HEAD_${nodeId}_START`) {\n                started += 1;\n                result.push(node);\n            }\n        }\n        else if (started > 0) {\n            result.push(node);\n        }\n    }\n    return result;\n}\nclass HtmlTag {\n    constructor(is_svg = false) {\n        this.is_svg = false;\n        this.is_svg = is_svg;\n        this.e = this.n = null;\n    }\n    c(html) {\n        this.h(html);\n    }\n    m(html, target, anchor = null) {\n        if (!this.e) {\n            if (this.is_svg)\n                this.e = svg_element(target.nodeName);\n            /** #7364  target for <template> may be provided as #document-fragment(11) */\n            else\n                this.e = element((target.nodeType === 11 ? 'TEMPLATE' : target.nodeName));\n            this.t = target.tagName !== 'TEMPLATE' ? target : target.content;\n            this.c(html);\n        }\n        this.i(anchor);\n    }\n    h(html) {\n        this.e.innerHTML = html;\n        this.n = Array.from(this.e.nodeName === 'TEMPLATE' ? this.e.content.childNodes : this.e.childNodes);\n    }\n    i(anchor) {\n        for (let i = 0; i < this.n.length; i += 1) {\n            insert(this.t, this.n[i], anchor);\n        }\n    }\n    p(html) {\n        this.d();\n        this.h(html);\n        this.i(this.a);\n    }\n    d() {\n        this.n.forEach(detach);\n    }\n}\nclass HtmlTagHydration extends HtmlTag {\n    constructor(claimed_nodes, is_svg = false) {\n        super(is_svg);\n        this.e = this.n = null;\n        this.l = claimed_nodes;\n    }\n    c(html) {\n        if (this.l) {\n            this.n = this.l;\n        }\n        else {\n            super.c(html);\n        }\n    }\n    i(anchor) {\n        for (let i = 0; i < this.n.length; i += 1) {\n            insert_hydration(this.t, this.n[i], anchor);\n        }\n    }\n}\nfunction attribute_to_object(attributes) {\n    const result = {};\n    for (const attribute of attributes) {\n        result[attribute.name] = attribute.value;\n    }\n    return result;\n}\nfunction get_custom_elements_slots(element) {\n    const result = {};\n    element.childNodes.forEach((node) => {\n        result[node.slot || 'default'] = true;\n    });\n    return result;\n}\nfunction construct_svelte_component(component, props) {\n    return new component(props);\n}\n\n// we need to store the information for multiple documents because a Svelte application could also contain iframes\n// https://github.com/sveltejs/svelte/issues/3624\nconst managed_styles = new Map();\nlet active = 0;\n// https://github.com/darkskyapp/string-hash/blob/master/index.js\nfunction hash(str) {\n    let hash = 5381;\n    let i = str.length;\n    while (i--)\n        hash = ((hash << 5) - hash) ^ str.charCodeAt(i);\n    return hash >>> 0;\n}\nfunction create_style_information(doc, node) {\n    const info = { stylesheet: append_empty_stylesheet(node), rules: {} };\n    managed_styles.set(doc, info);\n    return info;\n}\nfunction create_rule(node, a, b, duration, delay, ease, fn, uid = 0) {\n    const step = 16.666 / duration;\n    let keyframes = '{\\n';\n    for (let p = 0; p <= 1; p += step) {\n        const t = a + (b - a) * ease(p);\n        keyframes += p * 100 + `%{${fn(t, 1 - t)}}\\n`;\n    }\n    const rule = keyframes + `100% {${fn(b, 1 - b)}}\\n}`;\n    const name = `__svelte_${hash(rule)}_${uid}`;\n    const doc = get_root_for_style(node);\n    const { stylesheet, rules } = managed_styles.get(doc) || create_style_information(doc, node);\n    if (!rules[name]) {\n        rules[name] = true;\n        stylesheet.insertRule(`@keyframes ${name} ${rule}`, stylesheet.cssRules.length);\n    }\n    const animation = node.style.animation || '';\n    node.style.animation = `${animation ? `${animation}, ` : ''}${name} ${duration}ms linear ${delay}ms 1 both`;\n    active += 1;\n    return name;\n}\nfunction delete_rule(node, name) {\n    const previous = (node.style.animation || '').split(', ');\n    const next = previous.filter(name\n        ? anim => anim.indexOf(name) < 0 // remove specific animation\n        : anim => anim.indexOf('__svelte') === -1 // remove all Svelte animations\n    );\n    const deleted = previous.length - next.length;\n    if (deleted) {\n        node.style.animation = next.join(', ');\n        active -= deleted;\n        if (!active)\n            clear_rules();\n    }\n}\nfunction clear_rules() {\n    raf(() => {\n        if (active)\n            return;\n        managed_styles.forEach(info => {\n            const { ownerNode } = info.stylesheet;\n            // there is no ownerNode if it runs on jsdom.\n            if (ownerNode)\n                detach(ownerNode);\n        });\n        managed_styles.clear();\n    });\n}\n\nfunction create_animation(node, from, fn, params) {\n    if (!from)\n        return noop;\n    const to = node.getBoundingClientRect();\n    if (from.left === to.left && from.right === to.right && from.top === to.top && from.bottom === to.bottom)\n        return noop;\n    const { delay = 0, duration = 300, easing = identity, \n    // @ts-ignore todo: should this be separated from destructuring? Or start/end added to public api and documentation?\n    start: start_time = now() + delay, \n    // @ts-ignore todo:\n    end = start_time + duration, tick = noop, css } = fn(node, { from, to }, params);\n    let running = true;\n    let started = false;\n    let name;\n    function start() {\n        if (css) {\n            name = create_rule(node, 0, 1, duration, delay, easing, css);\n        }\n        if (!delay) {\n            started = true;\n        }\n    }\n    function stop() {\n        if (css)\n            delete_rule(node, name);\n        running = false;\n    }\n    loop(now => {\n        if (!started && now >= start_time) {\n            started = true;\n        }\n        if (started && now >= end) {\n            tick(1, 0);\n            stop();\n        }\n        if (!running) {\n            return false;\n        }\n        if (started) {\n            const p = now - start_time;\n            const t = 0 + 1 * easing(p / duration);\n            tick(t, 1 - t);\n        }\n        return true;\n    });\n    start();\n    tick(0, 1);\n    return stop;\n}\nfunction fix_position(node) {\n    const style = getComputedStyle(node);\n    if (style.position !== 'absolute' && style.position !== 'fixed') {\n        const { width, height } = style;\n        const a = node.getBoundingClientRect();\n        node.style.position = 'absolute';\n        node.style.width = width;\n        node.style.height = height;\n        add_transform(node, a);\n    }\n}\nfunction add_transform(node, a) {\n    const b = node.getBoundingClientRect();\n    if (a.left !== b.left || a.top !== b.top) {\n        const style = getComputedStyle(node);\n        const transform = style.transform === 'none' ? '' : style.transform;\n        node.style.transform = `${transform} translate(${a.left - b.left}px, ${a.top - b.top}px)`;\n    }\n}\n\nlet current_component;\nfunction set_current_component(component) {\n    current_component = component;\n}\nfunction get_current_component() {\n    if (!current_component)\n        throw new Error('Function called outside component initialization');\n    return current_component;\n}\n/**\n * Schedules a callback to run immediately before the component is updated after any state change.\n *\n * The first time the callback runs will be before the initial `onMount`\n *\n * https://svelte.dev/docs#run-time-svelte-beforeupdate\n */\nfunction beforeUpdate(fn) {\n    get_current_component().$$.before_update.push(fn);\n}\n/**\n * The `onMount` function schedules a callback to run as soon as the component has been mounted to the DOM.\n * It must be called during the component's initialisation (but doesn't need to live *inside* the component;\n * it can be called from an external module).\n *\n * `onMount` does not run inside a [server-side component](/docs#run-time-server-side-component-api).\n *\n * https://svelte.dev/docs#run-time-svelte-onmount\n */\nfunction onMount(fn) {\n    get_current_component().$$.on_mount.push(fn);\n}\n/**\n * Schedules a callback to run immediately after the component has been updated.\n *\n * The first time the callback runs will be after the initial `onMount`\n */\nfunction afterUpdate(fn) {\n    get_current_component().$$.after_update.push(fn);\n}\n/**\n * Schedules a callback to run immediately before the component is unmounted.\n *\n * Out of `onMount`, `beforeUpdate`, `afterUpdate` and `onDestroy`, this is the\n * only one that runs inside a server-side component.\n *\n * https://svelte.dev/docs#run-time-svelte-ondestroy\n */\nfunction onDestroy(fn) {\n    get_current_component().$$.on_destroy.push(fn);\n}\n/**\n * Creates an event dispatcher that can be used to dispatch [component events](/docs#template-syntax-component-directives-on-eventname).\n * Event dispatchers are functions that can take two arguments: `name` and `detail`.\n *\n * Component events created with `createEventDispatcher` create a\n * [CustomEvent](https://developer.mozilla.org/en-US/docs/Web/API/CustomEvent).\n * These events do not [bubble](https://developer.mozilla.org/en-US/docs/Learn/JavaScript/Building_blocks/Events#Event_bubbling_and_capture).\n * The `detail` argument corresponds to the [CustomEvent.detail](https://developer.mozilla.org/en-US/docs/Web/API/CustomEvent/detail)\n * property and can contain any type of data.\n *\n * https://svelte.dev/docs#run-time-svelte-createeventdispatcher\n */\nfunction createEventDispatcher() {\n    const component = get_current_component();\n    return (type, detail, { cancelable = false } = {}) => {\n        const callbacks = component.$$.callbacks[type];\n        if (callbacks) {\n            // TODO are there situations where events could be dispatched\n            // in a server (non-DOM) environment?\n            const event = custom_event(type, detail, { cancelable });\n            callbacks.slice().forEach(fn => {\n                fn.call(component, event);\n            });\n            return !event.defaultPrevented;\n        }\n        return true;\n    };\n}\n/**\n * Associates an arbitrary `context` object with the current component and the specified `key`\n * and returns that object. The context is then available to children of the component\n * (including slotted content) with `getContext`.\n *\n * Like lifecycle functions, this must be called during component initialisation.\n *\n * https://svelte.dev/docs#run-time-svelte-setcontext\n */\nfunction setContext(key, context) {\n    get_current_component().$$.context.set(key, context);\n    return context;\n}\n/**\n * Retrieves the context that belongs to the closest parent component with the specified `key`.\n * Must be called during component initialisation.\n *\n * https://svelte.dev/docs#run-time-svelte-getcontext\n */\nfunction getContext(key) {\n    return get_current_component().$$.context.get(key);\n}\n/**\n * Retrieves the whole context map that belongs to the closest parent component.\n * Must be called during component initialisation. Useful, for example, if you\n * programmatically create a component and want to pass the existing context to it.\n *\n * https://svelte.dev/docs#run-time-svelte-getallcontexts\n */\nfunction getAllContexts() {\n    return get_current_component().$$.context;\n}\n/**\n * Checks whether a given `key` has been set in the context of a parent component.\n * Must be called during component initialisation.\n *\n * https://svelte.dev/docs#run-time-svelte-hascontext\n */\nfunction hasContext(key) {\n    return get_current_component().$$.context.has(key);\n}\n// TODO figure out if we still want to support\n// shorthand events, or if we want to implement\n// a real bubbling mechanism\nfunction bubble(component, event) {\n    const callbacks = component.$$.callbacks[event.type];\n    if (callbacks) {\n        // @ts-ignore\n        callbacks.slice().forEach(fn => fn.call(this, event));\n    }\n}\n\nconst dirty_components = [];\nconst intros = { enabled: false };\nconst binding_callbacks = [];\nlet render_callbacks = [];\nconst flush_callbacks = [];\nconst resolved_promise = /* @__PURE__ */ Promise.resolve();\nlet update_scheduled = false;\nfunction schedule_update() {\n    if (!update_scheduled) {\n        update_scheduled = true;\n        resolved_promise.then(flush);\n    }\n}\nfunction tick() {\n    schedule_update();\n    return resolved_promise;\n}\nfunction add_render_callback(fn) {\n    render_callbacks.push(fn);\n}\nfunction add_flush_callback(fn) {\n    flush_callbacks.push(fn);\n}\n// flush() calls callbacks in this order:\n// 1. All beforeUpdate callbacks, in order: parents before children\n// 2. All bind:this callbacks, in reverse order: children before parents.\n// 3. All afterUpdate callbacks, in order: parents before children. EXCEPT\n//    for afterUpdates called during the initial onMount, which are called in\n//    reverse order: children before parents.\n// Since callbacks might update component values, which could trigger another\n// call to flush(), the following steps guard against this:\n// 1. During beforeUpdate, any updated components will be added to the\n//    dirty_components array and will cause a reentrant call to flush(). Because\n//    the flush index is kept outside the function, the reentrant call will pick\n//    up where the earlier call left off and go through all dirty components. The\n//    current_component value is saved and restored so that the reentrant call will\n//    not interfere with the \"parent\" flush() call.\n// 2. bind:this callbacks cannot trigger new flush() calls.\n// 3. During afterUpdate, any updated components will NOT have their afterUpdate\n//    callback called a second time; the seen_callbacks set, outside the flush()\n//    function, guarantees this behavior.\nconst seen_callbacks = new Set();\nlet flushidx = 0; // Do *not* move this inside the flush() function\nfunction flush() {\n    // Do not reenter flush while dirty components are updated, as this can\n    // result in an infinite loop. Instead, let the inner flush handle it.\n    // Reentrancy is ok afterwards for bindings etc.\n    if (flushidx !== 0) {\n        return;\n    }\n    const saved_component = current_component;\n    do {\n        // first, call beforeUpdate functions\n        // and update components\n        try {\n            while (flushidx < dirty_components.length) {\n                const component = dirty_components[flushidx];\n                flushidx++;\n                set_current_component(component);\n                update(component.$$);\n            }\n        }\n        catch (e) {\n            // reset dirty state to not end up in a deadlocked state and then rethrow\n            dirty_components.length = 0;\n            flushidx = 0;\n            throw e;\n        }\n        set_current_component(null);\n        dirty_components.length = 0;\n        flushidx = 0;\n        while (binding_callbacks.length)\n            binding_callbacks.pop()();\n        // then, once components are updated, call\n        // afterUpdate functions. This may cause\n        // subsequent updates...\n        for (let i = 0; i < render_callbacks.length; i += 1) {\n            const callback = render_callbacks[i];\n            if (!seen_callbacks.has(callback)) {\n                // ...so guard against infinite loops\n                seen_callbacks.add(callback);\n                callback();\n            }\n        }\n        render_callbacks.length = 0;\n    } while (dirty_components.length);\n    while (flush_callbacks.length) {\n        flush_callbacks.pop()();\n    }\n    update_scheduled = false;\n    seen_callbacks.clear();\n    set_current_component(saved_component);\n}\nfunction update($$) {\n    if ($$.fragment !== null) {\n        $$.update();\n        run_all($$.before_update);\n        const dirty = $$.dirty;\n        $$.dirty = [-1];\n        $$.fragment && $$.fragment.p($$.ctx, dirty);\n        $$.after_update.forEach(add_render_callback);\n    }\n}\n/**\n * Useful for example to execute remaining `afterUpdate` callbacks before executing `destroy`.\n */\nfunction flush_render_callbacks(fns) {\n    const filtered = [];\n    const targets = [];\n    render_callbacks.forEach((c) => fns.indexOf(c) === -1 ? filtered.push(c) : targets.push(c));\n    targets.forEach((c) => c());\n    render_callbacks = filtered;\n}\n\nlet promise;\nfunction wait() {\n    if (!promise) {\n        promise = Promise.resolve();\n        promise.then(() => {\n            promise = null;\n        });\n    }\n    return promise;\n}\nfunction dispatch(node, direction, kind) {\n    node.dispatchEvent(custom_event(`${direction ? 'intro' : 'outro'}${kind}`));\n}\nconst outroing = new Set();\nlet outros;\nfunction group_outros() {\n    outros = {\n        r: 0,\n        c: [],\n        p: outros // parent group\n    };\n}\nfunction check_outros() {\n    if (!outros.r) {\n        run_all(outros.c);\n    }\n    outros = outros.p;\n}\nfunction transition_in(block, local) {\n    if (block && block.i) {\n        outroing.delete(block);\n        block.i(local);\n    }\n}\nfunction transition_out(block, local, detach, callback) {\n    if (block && block.o) {\n        if (outroing.has(block))\n            return;\n        outroing.add(block);\n        outros.c.push(() => {\n            outroing.delete(block);\n            if (callback) {\n                if (detach)\n                    block.d(1);\n                callback();\n            }\n        });\n        block.o(local);\n    }\n    else if (callback) {\n        callback();\n    }\n}\nconst null_transition = { duration: 0 };\nfunction create_in_transition(node, fn, params) {\n    const options = { direction: 'in' };\n    let config = fn(node, params, options);\n    let running = false;\n    let animation_name;\n    let task;\n    let uid = 0;\n    function cleanup() {\n        if (animation_name)\n            delete_rule(node, animation_name);\n    }\n    function go() {\n        const { delay = 0, duration = 300, easing = identity, tick = noop, css } = config || null_transition;\n        if (css)\n            animation_name = create_rule(node, 0, 1, duration, delay, easing, css, uid++);\n        tick(0, 1);\n        const start_time = now() + delay;\n        const end_time = start_time + duration;\n        if (task)\n            task.abort();\n        running = true;\n        add_render_callback(() => dispatch(node, true, 'start'));\n        task = loop(now => {\n            if (running) {\n                if (now >= end_time) {\n                    tick(1, 0);\n                    dispatch(node, true, 'end');\n                    cleanup();\n                    return running = false;\n                }\n                if (now >= start_time) {\n                    const t = easing((now - start_time) / duration);\n                    tick(t, 1 - t);\n                }\n            }\n            return running;\n        });\n    }\n    let started = false;\n    return {\n        start() {\n            if (started)\n                return;\n            started = true;\n            delete_rule(node);\n            if (is_function(config)) {\n                config = config(options);\n                wait().then(go);\n            }\n            else {\n                go();\n            }\n        },\n        invalidate() {\n            started = false;\n        },\n        end() {\n            if (running) {\n                cleanup();\n                running = false;\n            }\n        }\n    };\n}\nfunction create_out_transition(node, fn, params) {\n    const options = { direction: 'out' };\n    let config = fn(node, params, options);\n    let running = true;\n    let animation_name;\n    const group = outros;\n    group.r += 1;\n    function go() {\n        const { delay = 0, duration = 300, easing = identity, tick = noop, css } = config || null_transition;\n        if (css)\n            animation_name = create_rule(node, 1, 0, duration, delay, easing, css);\n        const start_time = now() + delay;\n        const end_time = start_time + duration;\n        add_render_callback(() => dispatch(node, false, 'start'));\n        loop(now => {\n            if (running) {\n                if (now >= end_time) {\n                    tick(0, 1);\n                    dispatch(node, false, 'end');\n                    if (!--group.r) {\n                        // this will result in `end()` being called,\n                        // so we don't need to clean up here\n                        run_all(group.c);\n                    }\n                    return false;\n                }\n                if (now >= start_time) {\n                    const t = easing((now - start_time) / duration);\n                    tick(1 - t, t);\n                }\n            }\n            return running;\n        });\n    }\n    if (is_function(config)) {\n        wait().then(() => {\n            // @ts-ignore\n            config = config(options);\n            go();\n        });\n    }\n    else {\n        go();\n    }\n    return {\n        end(reset) {\n            if (reset && config.tick) {\n                config.tick(1, 0);\n            }\n            if (running) {\n                if (animation_name)\n                    delete_rule(node, animation_name);\n                running = false;\n            }\n        }\n    };\n}\nfunction create_bidirectional_transition(node, fn, params, intro) {\n    const options = { direction: 'both' };\n    let config = fn(node, params, options);\n    let t = intro ? 0 : 1;\n    let running_program = null;\n    let pending_program = null;\n    let animation_name = null;\n    function clear_animation() {\n        if (animation_name)\n            delete_rule(node, animation_name);\n    }\n    function init(program, duration) {\n        const d = (program.b - t);\n        duration *= Math.abs(d);\n        return {\n            a: t,\n            b: program.b,\n            d,\n            duration,\n            start: program.start,\n            end: program.start + duration,\n            group: program.group\n        };\n    }\n    function go(b) {\n        const { delay = 0, duration = 300, easing = identity, tick = noop, css } = config || null_transition;\n        const program = {\n            start: now() + delay,\n            b\n        };\n        if (!b) {\n            // @ts-ignore todo: improve typings\n            program.group = outros;\n            outros.r += 1;\n        }\n        if (running_program || pending_program) {\n            pending_program = program;\n        }\n        else {\n            // if this is an intro, and there's a delay, we need to do\n            // an initial tick and/or apply CSS animation immediately\n            if (css) {\n                clear_animation();\n                animation_name = create_rule(node, t, b, duration, delay, easing, css);\n            }\n            if (b)\n                tick(0, 1);\n            running_program = init(program, duration);\n            add_render_callback(() => dispatch(node, b, 'start'));\n            loop(now => {\n                if (pending_program && now > pending_program.start) {\n                    running_program = init(pending_program, duration);\n                    pending_program = null;\n                    dispatch(node, running_program.b, 'start');\n                    if (css) {\n                        clear_animation();\n                        animation_name = create_rule(node, t, running_program.b, running_program.duration, 0, easing, config.css);\n                    }\n                }\n                if (running_program) {\n                    if (now >= running_program.end) {\n                        tick(t = running_program.b, 1 - t);\n                        dispatch(node, running_program.b, 'end');\n                        if (!pending_program) {\n                            // we're done\n                            if (running_program.b) {\n                                // intro — we can tidy up immediately\n                                clear_animation();\n                            }\n                            else {\n                                // outro — needs to be coordinated\n                                if (!--running_program.group.r)\n                                    run_all(running_program.group.c);\n                            }\n                        }\n                        running_program = null;\n                    }\n                    else if (now >= running_program.start) {\n                        const p = now - running_program.start;\n                        t = running_program.a + running_program.d * easing(p / running_program.duration);\n                        tick(t, 1 - t);\n                    }\n                }\n                return !!(running_program || pending_program);\n            });\n        }\n    }\n    return {\n        run(b) {\n            if (is_function(config)) {\n                wait().then(() => {\n                    // @ts-ignore\n                    config = config(options);\n                    go(b);\n                });\n            }\n            else {\n                go(b);\n            }\n        },\n        end() {\n            clear_animation();\n            running_program = pending_program = null;\n        }\n    };\n}\n\nfunction handle_promise(promise, info) {\n    const token = info.token = {};\n    function update(type, index, key, value) {\n        if (info.token !== token)\n            return;\n        info.resolved = value;\n        let child_ctx = info.ctx;\n        if (key !== undefined) {\n            child_ctx = child_ctx.slice();\n            child_ctx[key] = value;\n        }\n        const block = type && (info.current = type)(child_ctx);\n        let needs_flush = false;\n        if (info.block) {\n            if (info.blocks) {\n                info.blocks.forEach((block, i) => {\n                    if (i !== index && block) {\n                        group_outros();\n                        transition_out(block, 1, 1, () => {\n                            if (info.blocks[i] === block) {\n                                info.blocks[i] = null;\n                            }\n                        });\n                        check_outros();\n                    }\n                });\n            }\n            else {\n                info.block.d(1);\n            }\n            block.c();\n            transition_in(block, 1);\n            block.m(info.mount(), info.anchor);\n            needs_flush = true;\n        }\n        info.block = block;\n        if (info.blocks)\n            info.blocks[index] = block;\n        if (needs_flush) {\n            flush();\n        }\n    }\n    if (is_promise(promise)) {\n        const current_component = get_current_component();\n        promise.then(value => {\n            set_current_component(current_component);\n            update(info.then, 1, info.value, value);\n            set_current_component(null);\n        }, error => {\n            set_current_component(current_component);\n            update(info.catch, 2, info.error, error);\n            set_current_component(null);\n            if (!info.hasCatch) {\n                throw error;\n            }\n        });\n        // if we previously had a then/catch block, destroy it\n        if (info.current !== info.pending) {\n            update(info.pending, 0);\n            return true;\n        }\n    }\n    else {\n        if (info.current !== info.then) {\n            update(info.then, 1, info.value, promise);\n            return true;\n        }\n        info.resolved = promise;\n    }\n}\nfunction update_await_block_branch(info, ctx, dirty) {\n    const child_ctx = ctx.slice();\n    const { resolved } = info;\n    if (info.current === info.then) {\n        child_ctx[info.value] = resolved;\n    }\n    if (info.current === info.catch) {\n        child_ctx[info.error] = resolved;\n    }\n    info.block.p(child_ctx, dirty);\n}\n\nfunction destroy_block(block, lookup) {\n    block.d(1);\n    lookup.delete(block.key);\n}\nfunction outro_and_destroy_block(block, lookup) {\n    transition_out(block, 1, 1, () => {\n        lookup.delete(block.key);\n    });\n}\nfunction fix_and_destroy_block(block, lookup) {\n    block.f();\n    destroy_block(block, lookup);\n}\nfunction fix_and_outro_and_destroy_block(block, lookup) {\n    block.f();\n    outro_and_destroy_block(block, lookup);\n}\nfunction update_keyed_each(old_blocks, dirty, get_key, dynamic, ctx, list, lookup, node, destroy, create_each_block, next, get_context) {\n    let o = old_blocks.length;\n    let n = list.length;\n    let i = o;\n    const old_indexes = {};\n    while (i--)\n        old_indexes[old_blocks[i].key] = i;\n    const new_blocks = [];\n    const new_lookup = new Map();\n    const deltas = new Map();\n    const updates = [];\n    i = n;\n    while (i--) {\n        const child_ctx = get_context(ctx, list, i);\n        const key = get_key(child_ctx);\n        let block = lookup.get(key);\n        if (!block) {\n            block = create_each_block(key, child_ctx);\n            block.c();\n        }\n        else if (dynamic) {\n            // defer updates until all the DOM shuffling is done\n            updates.push(() => block.p(child_ctx, dirty));\n        }\n        new_lookup.set(key, new_blocks[i] = block);\n        if (key in old_indexes)\n            deltas.set(key, Math.abs(i - old_indexes[key]));\n    }\n    const will_move = new Set();\n    const did_move = new Set();\n    function insert(block) {\n        transition_in(block, 1);\n        block.m(node, next);\n        lookup.set(block.key, block);\n        next = block.first;\n        n--;\n    }\n    while (o && n) {\n        const new_block = new_blocks[n - 1];\n        const old_block = old_blocks[o - 1];\n        const new_key = new_block.key;\n        const old_key = old_block.key;\n        if (new_block === old_block) {\n            // do nothing\n            next = new_block.first;\n            o--;\n            n--;\n        }\n        else if (!new_lookup.has(old_key)) {\n            // remove old block\n            destroy(old_block, lookup);\n            o--;\n        }\n        else if (!lookup.has(new_key) || will_move.has(new_key)) {\n            insert(new_block);\n        }\n        else if (did_move.has(old_key)) {\n            o--;\n        }\n        else if (deltas.get(new_key) > deltas.get(old_key)) {\n            did_move.add(new_key);\n            insert(new_block);\n        }\n        else {\n            will_move.add(old_key);\n            o--;\n        }\n    }\n    while (o--) {\n        const old_block = old_blocks[o];\n        if (!new_lookup.has(old_block.key))\n            destroy(old_block, lookup);\n    }\n    while (n)\n        insert(new_blocks[n - 1]);\n    run_all(updates);\n    return new_blocks;\n}\nfunction validate_each_keys(ctx, list, get_context, get_key) {\n    const keys = new Set();\n    for (let i = 0; i < list.length; i++) {\n        const key = get_key(get_context(ctx, list, i));\n        if (keys.has(key)) {\n            throw new Error('Cannot have duplicate keys in a keyed each');\n        }\n        keys.add(key);\n    }\n}\n\nfunction get_spread_update(levels, updates) {\n    const update = {};\n    const to_null_out = {};\n    const accounted_for = { $$scope: 1 };\n    let i = levels.length;\n    while (i--) {\n        const o = levels[i];\n        const n = updates[i];\n        if (n) {\n            for (const key in o) {\n                if (!(key in n))\n                    to_null_out[key] = 1;\n            }\n            for (const key in n) {\n                if (!accounted_for[key]) {\n                    update[key] = n[key];\n                    accounted_for[key] = 1;\n                }\n            }\n            levels[i] = n;\n        }\n        else {\n            for (const key in o) {\n                accounted_for[key] = 1;\n            }\n        }\n    }\n    for (const key in to_null_out) {\n        if (!(key in update))\n            update[key] = undefined;\n    }\n    return update;\n}\nfunction get_spread_object(spread_props) {\n    return typeof spread_props === 'object' && spread_props !== null ? spread_props : {};\n}\n\nconst _boolean_attributes = [\n    'allowfullscreen',\n    'allowpaymentrequest',\n    'async',\n    'autofocus',\n    'autoplay',\n    'checked',\n    'controls',\n    'default',\n    'defer',\n    'disabled',\n    'formnovalidate',\n    'hidden',\n    'inert',\n    'ismap',\n    'loop',\n    'multiple',\n    'muted',\n    'nomodule',\n    'novalidate',\n    'open',\n    'playsinline',\n    'readonly',\n    'required',\n    'reversed',\n    'selected'\n];\n/**\n * List of HTML boolean attributes (e.g. `<input disabled>`).\n * Source: https://html.spec.whatwg.org/multipage/indices.html\n */\nconst boolean_attributes = new Set([..._boolean_attributes]);\n\n/** regex of all html void element names */\nconst void_element_names = /^(?:area|base|br|col|command|embed|hr|img|input|keygen|link|meta|param|source|track|wbr)$/;\nfunction is_void(name) {\n    return void_element_names.test(name) || name.toLowerCase() === '!doctype';\n}\n\nconst invalid_attribute_name_character = /[\\s'\">/=\\u{FDD0}-\\u{FDEF}\\u{FFFE}\\u{FFFF}\\u{1FFFE}\\u{1FFFF}\\u{2FFFE}\\u{2FFFF}\\u{3FFFE}\\u{3FFFF}\\u{4FFFE}\\u{4FFFF}\\u{5FFFE}\\u{5FFFF}\\u{6FFFE}\\u{6FFFF}\\u{7FFFE}\\u{7FFFF}\\u{8FFFE}\\u{8FFFF}\\u{9FFFE}\\u{9FFFF}\\u{AFFFE}\\u{AFFFF}\\u{BFFFE}\\u{BFFFF}\\u{CFFFE}\\u{CFFFF}\\u{DFFFE}\\u{DFFFF}\\u{EFFFE}\\u{EFFFF}\\u{FFFFE}\\u{FFFFF}\\u{10FFFE}\\u{10FFFF}]/u;\n// https://html.spec.whatwg.org/multipage/syntax.html#attributes-2\n// https://infra.spec.whatwg.org/#noncharacter\nfunction spread(args, attrs_to_add) {\n    const attributes = Object.assign({}, ...args);\n    if (attrs_to_add) {\n        const classes_to_add = attrs_to_add.classes;\n        const styles_to_add = attrs_to_add.styles;\n        if (classes_to_add) {\n            if (attributes.class == null) {\n                attributes.class = classes_to_add;\n            }\n            else {\n                attributes.class += ' ' + classes_to_add;\n            }\n        }\n        if (styles_to_add) {\n            if (attributes.style == null) {\n                attributes.style = style_object_to_string(styles_to_add);\n            }\n            else {\n                attributes.style = style_object_to_string(merge_ssr_styles(attributes.style, styles_to_add));\n            }\n        }\n    }\n    let str = '';\n    Object.keys(attributes).forEach(name => {\n        if (invalid_attribute_name_character.test(name))\n            return;\n        const value = attributes[name];\n        if (value === true)\n            str += ' ' + name;\n        else if (boolean_attributes.has(name.toLowerCase())) {\n            if (value)\n                str += ' ' + name;\n        }\n        else if (value != null) {\n            str += ` ${name}=\"${value}\"`;\n        }\n    });\n    return str;\n}\nfunction merge_ssr_styles(style_attribute, style_directive) {\n    const style_object = {};\n    for (const individual_style of style_attribute.split(';')) {\n        const colon_index = individual_style.indexOf(':');\n        const name = individual_style.slice(0, colon_index).trim();\n        const value = individual_style.slice(colon_index + 1).trim();\n        if (!name)\n            continue;\n        style_object[name] = value;\n    }\n    for (const name in style_directive) {\n        const value = style_directive[name];\n        if (value) {\n            style_object[name] = value;\n        }\n        else {\n            delete style_object[name];\n        }\n    }\n    return style_object;\n}\nconst ATTR_REGEX = /[&\"]/g;\nconst CONTENT_REGEX = /[&<]/g;\n/**\n * Note: this method is performance sensitive and has been optimized\n * https://github.com/sveltejs/svelte/pull/5701\n */\nfunction escape(value, is_attr = false) {\n    const str = String(value);\n    const pattern = is_attr ? ATTR_REGEX : CONTENT_REGEX;\n    pattern.lastIndex = 0;\n    let escaped = '';\n    let last = 0;\n    while (pattern.test(str)) {\n        const i = pattern.lastIndex - 1;\n        const ch = str[i];\n        escaped += str.substring(last, i) + (ch === '&' ? '&amp;' : (ch === '\"' ? '&quot;' : '&lt;'));\n        last = i + 1;\n    }\n    return escaped + str.substring(last);\n}\nfunction escape_attribute_value(value) {\n    // keep booleans, null, and undefined for the sake of `spread`\n    const should_escape = typeof value === 'string' || (value && typeof value === 'object');\n    return should_escape ? escape(value, true) : value;\n}\nfunction escape_object(obj) {\n    const result = {};\n    for (const key in obj) {\n        result[key] = escape_attribute_value(obj[key]);\n    }\n    return result;\n}\nfunction each(items, fn) {\n    let str = '';\n    for (let i = 0; i < items.length; i += 1) {\n        str += fn(items[i], i);\n    }\n    return str;\n}\nconst missing_component = {\n    $$render: () => ''\n};\nfunction validate_component(component, name) {\n    if (!component || !component.$$render) {\n        if (name === 'svelte:component')\n            name += ' this={...}';\n        throw new Error(`<${name}> is not a valid SSR component. You may need to review your build config to ensure that dependencies are compiled, rather than imported as pre-compiled modules. Otherwise you may need to fix a <${name}>.`);\n    }\n    return component;\n}\nfunction debug(file, line, column, values) {\n    console.log(`{@debug} ${file ? file + ' ' : ''}(${line}:${column})`); // eslint-disable-line no-console\n    console.log(values); // eslint-disable-line no-console\n    return '';\n}\nlet on_destroy;\nfunction create_ssr_component(fn) {\n    function $$render(result, props, bindings, slots, context) {\n        const parent_component = current_component;\n        const $$ = {\n            on_destroy,\n            context: new Map(context || (parent_component ? parent_component.$$.context : [])),\n            // these will be immediately discarded\n            on_mount: [],\n            before_update: [],\n            after_update: [],\n            callbacks: blank_object()\n        };\n        set_current_component({ $$ });\n        const html = fn(result, props, bindings, slots);\n        set_current_component(parent_component);\n        return html;\n    }\n    return {\n        render: (props = {}, { $$slots = {}, context = new Map() } = {}) => {\n            on_destroy = [];\n            const result = { title: '', head: '', css: new Set() };\n            const html = $$render(result, props, {}, $$slots, context);\n            run_all(on_destroy);\n            return {\n                html,\n                css: {\n                    code: Array.from(result.css).map(css => css.code).join('\\n'),\n                    map: null // TODO\n                },\n                head: result.title + result.head\n            };\n        },\n        $$render\n    };\n}\nfunction add_attribute(name, value, boolean) {\n    if (value == null || (boolean && !value))\n        return '';\n    const assignment = (boolean && value === true) ? '' : `=\"${escape(value, true)}\"`;\n    return ` ${name}${assignment}`;\n}\nfunction add_classes(classes) {\n    return classes ? ` class=\"${classes}\"` : '';\n}\nfunction style_object_to_string(style_object) {\n    return Object.keys(style_object)\n        .filter(key => style_object[key])\n        .map(key => `${key}: ${escape_attribute_value(style_object[key])};`)\n        .join(' ');\n}\nfunction add_styles(style_object) {\n    const styles = style_object_to_string(style_object);\n    return styles ? ` style=\"${styles}\"` : '';\n}\n\nfunction bind(component, name, callback) {\n    const index = component.$$.props[name];\n    if (index !== undefined) {\n        component.$$.bound[index] = callback;\n        callback(component.$$.ctx[index]);\n    }\n}\nfunction create_component(block) {\n    block && block.c();\n}\nfunction claim_component(block, parent_nodes) {\n    block && block.l(parent_nodes);\n}\nfunction mount_component(component, target, anchor, customElement) {\n    const { fragment, after_update } = component.$$;\n    fragment && fragment.m(target, anchor);\n    if (!customElement) {\n        // onMount happens before the initial afterUpdate\n        add_render_callback(() => {\n            const new_on_destroy = component.$$.on_mount.map(run).filter(is_function);\n            // if the component was destroyed immediately\n            // it will update the `$$.on_destroy` reference to `null`.\n            // the destructured on_destroy may still reference to the old array\n            if (component.$$.on_destroy) {\n                component.$$.on_destroy.push(...new_on_destroy);\n            }\n            else {\n                // Edge case - component was destroyed immediately,\n                // most likely as a result of a binding initialising\n                run_all(new_on_destroy);\n            }\n            component.$$.on_mount = [];\n        });\n    }\n    after_update.forEach(add_render_callback);\n}\nfunction destroy_component(component, detaching) {\n    const $$ = component.$$;\n    if ($$.fragment !== null) {\n        flush_render_callbacks($$.after_update);\n        run_all($$.on_destroy);\n        $$.fragment && $$.fragment.d(detaching);\n        // TODO null out other refs, including component.$$ (but need to\n        // preserve final state?)\n        $$.on_destroy = $$.fragment = null;\n        $$.ctx = [];\n    }\n}\nfunction make_dirty(component, i) {\n    if (component.$$.dirty[0] === -1) {\n        dirty_components.push(component);\n        schedule_update();\n        component.$$.dirty.fill(0);\n    }\n    component.$$.dirty[(i / 31) | 0] |= (1 << (i % 31));\n}\nfunction init(component, options, instance, create_fragment, not_equal, props, append_styles, dirty = [-1]) {\n    const parent_component = current_component;\n    set_current_component(component);\n    const $$ = component.$$ = {\n        fragment: null,\n        ctx: [],\n        // state\n        props,\n        update: noop,\n        not_equal,\n        bound: blank_object(),\n        // lifecycle\n        on_mount: [],\n        on_destroy: [],\n        on_disconnect: [],\n        before_update: [],\n        after_update: [],\n        context: new Map(options.context || (parent_component ? parent_component.$$.context : [])),\n        // everything else\n        callbacks: blank_object(),\n        dirty,\n        skip_bound: false,\n        root: options.target || parent_component.$$.root\n    };\n    append_styles && append_styles($$.root);\n    let ready = false;\n    $$.ctx = instance\n        ? instance(component, options.props || {}, (i, ret, ...rest) => {\n            const value = rest.length ? rest[0] : ret;\n            if ($$.ctx && not_equal($$.ctx[i], $$.ctx[i] = value)) {\n                if (!$$.skip_bound && $$.bound[i])\n                    $$.bound[i](value);\n                if (ready)\n                    make_dirty(component, i);\n            }\n            return ret;\n        })\n        : [];\n    $$.update();\n    ready = true;\n    run_all($$.before_update);\n    // `false` as a special case of no DOM component\n    $$.fragment = create_fragment ? create_fragment($$.ctx) : false;\n    if (options.target) {\n        if (options.hydrate) {\n            start_hydrating();\n            const nodes = children(options.target);\n            // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n            $$.fragment && $$.fragment.l(nodes);\n            nodes.forEach(detach);\n        }\n        else {\n            // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n            $$.fragment && $$.fragment.c();\n        }\n        if (options.intro)\n            transition_in(component.$$.fragment);\n        mount_component(component, options.target, options.anchor, options.customElement);\n        end_hydrating();\n        flush();\n    }\n    set_current_component(parent_component);\n}\nlet SvelteElement;\nif (typeof HTMLElement === 'function') {\n    SvelteElement = class extends HTMLElement {\n        constructor() {\n            super();\n            this.attachShadow({ mode: 'open' });\n        }\n        connectedCallback() {\n            const { on_mount } = this.$$;\n            this.$$.on_disconnect = on_mount.map(run).filter(is_function);\n            // @ts-ignore todo: improve typings\n            for (const key in this.$$.slotted) {\n                // @ts-ignore todo: improve typings\n                this.appendChild(this.$$.slotted[key]);\n            }\n        }\n        attributeChangedCallback(attr, _oldValue, newValue) {\n            this[attr] = newValue;\n        }\n        disconnectedCallback() {\n            run_all(this.$$.on_disconnect);\n        }\n        $destroy() {\n            destroy_component(this, 1);\n            this.$destroy = noop;\n        }\n        $on(type, callback) {\n            // TODO should this delegate to addEventListener?\n            if (!is_function(callback)) {\n                return noop;\n            }\n            const callbacks = (this.$$.callbacks[type] || (this.$$.callbacks[type] = []));\n            callbacks.push(callback);\n            return () => {\n                const index = callbacks.indexOf(callback);\n                if (index !== -1)\n                    callbacks.splice(index, 1);\n            };\n        }\n        $set($$props) {\n            if (this.$$set && !is_empty($$props)) {\n                this.$$.skip_bound = true;\n                this.$$set($$props);\n                this.$$.skip_bound = false;\n            }\n        }\n    };\n}\n/**\n * Base class for Svelte components. Used when dev=false.\n */\nclass SvelteComponent {\n    $destroy() {\n        destroy_component(this, 1);\n        this.$destroy = noop;\n    }\n    $on(type, callback) {\n        if (!is_function(callback)) {\n            return noop;\n        }\n        const callbacks = (this.$$.callbacks[type] || (this.$$.callbacks[type] = []));\n        callbacks.push(callback);\n        return () => {\n            const index = callbacks.indexOf(callback);\n            if (index !== -1)\n                callbacks.splice(index, 1);\n        };\n    }\n    $set($$props) {\n        if (this.$$set && !is_empty($$props)) {\n            this.$$.skip_bound = true;\n            this.$$set($$props);\n            this.$$.skip_bound = false;\n        }\n    }\n}\n\nfunction dispatch_dev(type, detail) {\n    document.dispatchEvent(custom_event(type, Object.assign({ version: '3.59.2' }, detail), { bubbles: true }));\n}\nfunction append_dev(target, node) {\n    dispatch_dev('SvelteDOMInsert', { target, node });\n    append(target, node);\n}\nfunction append_hydration_dev(target, node) {\n    dispatch_dev('SvelteDOMInsert', { target, node });\n    append_hydration(target, node);\n}\nfunction insert_dev(target, node, anchor) {\n    dispatch_dev('SvelteDOMInsert', { target, node, anchor });\n    insert(target, node, anchor);\n}\nfunction insert_hydration_dev(target, node, anchor) {\n    dispatch_dev('SvelteDOMInsert', { target, node, anchor });\n    insert_hydration(target, node, anchor);\n}\nfunction detach_dev(node) {\n    dispatch_dev('SvelteDOMRemove', { node });\n    detach(node);\n}\nfunction detach_between_dev(before, after) {\n    while (before.nextSibling && before.nextSibling !== after) {\n        detach_dev(before.nextSibling);\n    }\n}\nfunction detach_before_dev(after) {\n    while (after.previousSibling) {\n        detach_dev(after.previousSibling);\n    }\n}\nfunction detach_after_dev(before) {\n    while (before.nextSibling) {\n        detach_dev(before.nextSibling);\n    }\n}\nfunction listen_dev(node, event, handler, options, has_prevent_default, has_stop_propagation, has_stop_immediate_propagation) {\n    const modifiers = options === true ? ['capture'] : options ? Array.from(Object.keys(options)) : [];\n    if (has_prevent_default)\n        modifiers.push('preventDefault');\n    if (has_stop_propagation)\n        modifiers.push('stopPropagation');\n    if (has_stop_immediate_propagation)\n        modifiers.push('stopImmediatePropagation');\n    dispatch_dev('SvelteDOMAddEventListener', { node, event, handler, modifiers });\n    const dispose = listen(node, event, handler, options);\n    return () => {\n        dispatch_dev('SvelteDOMRemoveEventListener', { node, event, handler, modifiers });\n        dispose();\n    };\n}\nfunction attr_dev(node, attribute, value) {\n    attr(node, attribute, value);\n    if (value == null)\n        dispatch_dev('SvelteDOMRemoveAttribute', { node, attribute });\n    else\n        dispatch_dev('SvelteDOMSetAttribute', { node, attribute, value });\n}\nfunction prop_dev(node, property, value) {\n    node[property] = value;\n    dispatch_dev('SvelteDOMSetProperty', { node, property, value });\n}\nfunction dataset_dev(node, property, value) {\n    node.dataset[property] = value;\n    dispatch_dev('SvelteDOMSetDataset', { node, property, value });\n}\nfunction set_data_dev(text, data) {\n    data = '' + data;\n    if (text.data === data)\n        return;\n    dispatch_dev('SvelteDOMSetData', { node: text, data });\n    text.data = data;\n}\nfunction set_data_contenteditable_dev(text, data) {\n    data = '' + data;\n    if (text.wholeText === data)\n        return;\n    dispatch_dev('SvelteDOMSetData', { node: text, data });\n    text.data = data;\n}\nfunction set_data_maybe_contenteditable_dev(text, data, attr_value) {\n    if (~contenteditable_truthy_values.indexOf(attr_value)) {\n        set_data_contenteditable_dev(text, data);\n    }\n    else {\n        set_data_dev(text, data);\n    }\n}\nfunction validate_each_argument(arg) {\n    if (typeof arg !== 'string' && !(arg && typeof arg === 'object' && 'length' in arg)) {\n        let msg = '{#each} only iterates over array-like objects.';\n        if (typeof Symbol === 'function' && arg && Symbol.iterator in arg) {\n            msg += ' You can use a spread to convert this iterable into an array.';\n        }\n        throw new Error(msg);\n    }\n}\nfunction validate_slots(name, slot, keys) {\n    for (const slot_key of Object.keys(slot)) {\n        if (!~keys.indexOf(slot_key)) {\n            console.warn(`<${name}> received an unexpected slot \"${slot_key}\".`);\n        }\n    }\n}\nfunction validate_dynamic_element(tag) {\n    const is_string = typeof tag === 'string';\n    if (tag && !is_string) {\n        throw new Error('<svelte:element> expects \"this\" attribute to be a string.');\n    }\n}\nfunction validate_void_dynamic_element(tag) {\n    if (tag && is_void(tag)) {\n        console.warn(`<svelte:element this=\"${tag}\"> is self-closing and cannot have content.`);\n    }\n}\nfunction construct_svelte_component_dev(component, props) {\n    const error_message = 'this={...} of <svelte:component> should specify a Svelte component.';\n    try {\n        const instance = new component(props);\n        if (!instance.$$ || !instance.$set || !instance.$on || !instance.$destroy) {\n            throw new Error(error_message);\n        }\n        return instance;\n    }\n    catch (err) {\n        const { message } = err;\n        if (typeof message === 'string' && message.indexOf('is not a constructor') !== -1) {\n            throw new Error(error_message);\n        }\n        else {\n            throw err;\n        }\n    }\n}\n/**\n * Base class for Svelte components with some minor dev-enhancements. Used when dev=true.\n */\nclass SvelteComponentDev extends SvelteComponent {\n    constructor(options) {\n        if (!options || (!options.target && !options.$$inline)) {\n            throw new Error(\"'target' is a required option\");\n        }\n        super();\n    }\n    $destroy() {\n        super.$destroy();\n        this.$destroy = () => {\n            console.warn('Component was already destroyed'); // eslint-disable-line no-console\n        };\n    }\n    $capture_state() { }\n    $inject_state() { }\n}\n/**\n * Base class to create strongly typed Svelte components.\n * This only exists for typing purposes and should be used in `.d.ts` files.\n *\n * ### Example:\n *\n * You have component library on npm called `component-library`, from which\n * you export a component called `MyComponent`. For Svelte+TypeScript users,\n * you want to provide typings. Therefore you create a `index.d.ts`:\n * ```ts\n * import { SvelteComponentTyped } from \"svelte\";\n * export class MyComponent extends SvelteComponentTyped<{foo: string}> {}\n * ```\n * Typing this makes it possible for IDEs like VS Code with the Svelte extension\n * to provide intellisense and to use the component like this in a Svelte file\n * with TypeScript:\n * ```svelte\n * <script lang=\"ts\">\n * \timport { MyComponent } from \"component-library\";\n * </script>\n * <MyComponent foo={'bar'} />\n * ```\n *\n * #### Why not make this part of `SvelteComponent(Dev)`?\n * Because\n * ```ts\n * class ASubclassOfSvelteComponent extends SvelteComponent<{foo: string}> {}\n * const component: typeof SvelteComponent = ASubclassOfSvelteComponent;\n * ```\n * will throw a type error, so we need to separate the more strictly typed class.\n */\nclass SvelteComponentTyped extends SvelteComponentDev {\n    constructor(options) {\n        super(options);\n    }\n}\nfunction loop_guard(timeout) {\n    const start = Date.now();\n    return () => {\n        if (Date.now() - start > timeout) {\n            throw new Error('Infinite loop detected');\n        }\n    };\n}\n\nexport { HtmlTag, HtmlTagHydration, ResizeObserverSingleton, SvelteComponent, SvelteComponentDev, SvelteComponentTyped, SvelteElement, action_destroyer, add_attribute, add_classes, add_flush_callback, add_iframe_resize_listener, add_location, add_render_callback, add_styles, add_transform, afterUpdate, append, append_dev, append_empty_stylesheet, append_hydration, append_hydration_dev, append_styles, assign, attr, attr_dev, attribute_to_object, beforeUpdate, bind, binding_callbacks, blank_object, bubble, check_outros, children, claim_comment, claim_component, claim_element, claim_html_tag, claim_space, claim_svg_element, claim_text, clear_loops, comment, component_subscribe, compute_rest_props, compute_slots, construct_svelte_component, construct_svelte_component_dev, contenteditable_truthy_values, createEventDispatcher, create_animation, create_bidirectional_transition, create_component, create_in_transition, create_out_transition, create_slot, create_ssr_component, current_component, custom_event, dataset_dev, debug, destroy_block, destroy_component, destroy_each, detach, detach_after_dev, detach_before_dev, detach_between_dev, detach_dev, dirty_components, dispatch_dev, each, element, element_is, empty, end_hydrating, escape, escape_attribute_value, escape_object, exclude_internal_props, fix_and_destroy_block, fix_and_outro_and_destroy_block, fix_position, flush, flush_render_callbacks, getAllContexts, getContext, get_all_dirty_from_scope, get_binding_group_value, get_current_component, get_custom_elements_slots, get_root_for_style, get_slot_changes, get_spread_object, get_spread_update, get_store_value, globals, group_outros, handle_promise, hasContext, has_prop, head_selector, identity, init, init_binding_group, init_binding_group_dynamic, insert, insert_dev, insert_hydration, insert_hydration_dev, intros, invalid_attribute_name_character, is_client, is_crossorigin, is_empty, is_function, is_promise, is_void, listen, listen_dev, loop, loop_guard, merge_ssr_styles, missing_component, mount_component, noop, not_equal, now, null_to_empty, object_without_properties, onDestroy, onMount, once, outro_and_destroy_block, prevent_default, prop_dev, query_selector_all, raf, resize_observer_border_box, resize_observer_content_box, resize_observer_device_pixel_content_box, run, run_all, safe_not_equal, schedule_update, select_multiple_value, select_option, select_options, select_value, self, setContext, set_attributes, set_current_component, set_custom_element_data, set_custom_element_data_map, set_data, set_data_contenteditable, set_data_contenteditable_dev, set_data_dev, set_data_maybe_contenteditable, set_data_maybe_contenteditable_dev, set_dynamic_element_data, set_input_type, set_input_value, set_now, set_raf, set_store_value, set_style, set_svg_attributes, space, split_css_unit, spread, src_url_equal, start_hydrating, stop_immediate_propagation, stop_propagation, subscribe, svg_element, text, tick, time_ranges_to_array, to_number, toggle_class, transition_in, transition_out, trusted, update_await_block_branch, update_keyed_each, update_slot, update_slot_base, validate_component, validate_dynamic_element, validate_each_argument, validate_each_keys, validate_slots, validate_store, validate_void_dynamic_element, xlink_attr };\n","(function (global, factory) {\n  typeof exports === 'object' && typeof module !== 'undefined' ? factory(exports) :\n  typeof define === 'function' && define.amd ? define(['exports'], factory) :\n  (global = typeof globalThis !== 'undefined' ? globalThis : global || self, factory(global.acorn = {}));\n})(this, (function (exports) { 'use strict';\n\n  // This file was generated. Do not modify manually!\n  var astralIdentifierCodes = [509, 0, 227, 0, 150, 4, 294, 9, 1368, 2, 2, 1, 6, 3, 41, 2, 5, 0, 166, 1, 574, 3, 9, 9, 370, 1, 81, 2, 71, 10, 50, 3, 123, 2, 54, 14, 32, 10, 3, 1, 11, 3, 46, 10, 8, 0, 46, 9, 7, 2, 37, 13, 2, 9, 6, 1, 45, 0, 13, 2, 49, 13, 9, 3, 2, 11, 83, 11, 7, 0, 3, 0, 158, 11, 6, 9, 7, 3, 56, 1, 2, 6, 3, 1, 3, 2, 10, 0, 11, 1, 3, 6, 4, 4, 193, 17, 10, 9, 5, 0, 82, 19, 13, 9, 214, 6, 3, 8, 28, 1, 83, 16, 16, 9, 82, 12, 9, 9, 84, 14, 5, 9, 243, 14, 166, 9, 71, 5, 2, 1, 3, 3, 2, 0, 2, 1, 13, 9, 120, 6, 3, 6, 4, 0, 29, 9, 41, 6, 2, 3, 9, 0, 10, 10, 47, 15, 406, 7, 2, 7, 17, 9, 57, 21, 2, 13, 123, 5, 4, 0, 2, 1, 2, 6, 2, 0, 9, 9, 49, 4, 2, 1, 2, 4, 9, 9, 330, 3, 10, 1, 2, 0, 49, 6, 4, 4, 14, 9, 5351, 0, 7, 14, 13835, 9, 87, 9, 39, 4, 60, 6, 26, 9, 1014, 0, 2, 54, 8, 3, 82, 0, 12, 1, 19628, 1, 4706, 45, 3, 22, 543, 4, 4, 5, 9, 7, 3, 6, 31, 3, 149, 2, 1418, 49, 513, 54, 5, 49, 9, 0, 15, 0, 23, 4, 2, 14, 1361, 6, 2, 16, 3, 6, 2, 1, 2, 4, 101, 0, 161, 6, 10, 9, 357, 0, 62, 13, 499, 13, 983, 6, 110, 6, 6, 9, 4759, 9, 787719, 239];\n\n  // This file was generated. Do not modify manually!\n  var astralIdentifierStartCodes = [0, 11, 2, 25, 2, 18, 2, 1, 2, 14, 3, 13, 35, 122, 70, 52, 268, 28, 4, 48, 48, 31, 14, 29, 6, 37, 11, 29, 3, 35, 5, 7, 2, 4, 43, 157, 19, 35, 5, 35, 5, 39, 9, 51, 13, 10, 2, 14, 2, 6, 2, 1, 2, 10, 2, 14, 2, 6, 2, 1, 68, 310, 10, 21, 11, 7, 25, 5, 2, 41, 2, 8, 70, 5, 3, 0, 2, 43, 2, 1, 4, 0, 3, 22, 11, 22, 10, 30, 66, 18, 2, 1, 11, 21, 11, 25, 71, 55, 7, 1, 65, 0, 16, 3, 2, 2, 2, 28, 43, 28, 4, 28, 36, 7, 2, 27, 28, 53, 11, 21, 11, 18, 14, 17, 111, 72, 56, 50, 14, 50, 14, 35, 349, 41, 7, 1, 79, 28, 11, 0, 9, 21, 43, 17, 47, 20, 28, 22, 13, 52, 58, 1, 3, 0, 14, 44, 33, 24, 27, 35, 30, 0, 3, 0, 9, 34, 4, 0, 13, 47, 15, 3, 22, 0, 2, 0, 36, 17, 2, 24, 20, 1, 64, 6, 2, 0, 2, 3, 2, 14, 2, 9, 8, 46, 39, 7, 3, 1, 3, 21, 2, 6, 2, 1, 2, 4, 4, 0, 19, 0, 13, 4, 159, 52, 19, 3, 21, 2, 31, 47, 21, 1, 2, 0, 185, 46, 42, 3, 37, 47, 21, 0, 60, 42, 14, 0, 72, 26, 38, 6, 186, 43, 117, 63, 32, 7, 3, 0, 3, 7, 2, 1, 2, 23, 16, 0, 2, 0, 95, 7, 3, 38, 17, 0, 2, 0, 29, 0, 11, 39, 8, 0, 22, 0, 12, 45, 20, 0, 19, 72, 264, 8, 2, 36, 18, 0, 50, 29, 113, 6, 2, 1, 2, 37, 22, 0, 26, 5, 2, 1, 2, 31, 15, 0, 328, 18, 16, 0, 2, 12, 2, 33, 125, 0, 80, 921, 103, 110, 18, 195, 2637, 96, 16, 1071, 18, 5, 4026, 582, 8634, 568, 8, 30, 18, 78, 18, 29, 19, 47, 17, 3, 32, 20, 6, 18, 689, 63, 129, 74, 6, 0, 67, 12, 65, 1, 2, 0, 29, 6135, 9, 1237, 43, 8, 8936, 3, 2, 6, 2, 1, 2, 290, 16, 0, 30, 2, 3, 0, 15, 3, 9, 395, 2309, 106, 6, 12, 4, 8, 8, 9, 5991, 84, 2, 70, 2, 1, 3, 0, 3, 1, 3, 3, 2, 11, 2, 0, 2, 6, 2, 64, 2, 3, 3, 7, 2, 6, 2, 27, 2, 3, 2, 4, 2, 0, 4, 6, 2, 339, 3, 24, 2, 24, 2, 30, 2, 24, 2, 30, 2, 24, 2, 30, 2, 24, 2, 30, 2, 24, 2, 7, 1845, 30, 7, 5, 262, 61, 147, 44, 11, 6, 17, 0, 322, 29, 19, 43, 485, 27, 757, 6, 2, 3, 2, 1, 2, 14, 2, 196, 60, 67, 8, 0, 1205, 3, 2, 26, 2, 1, 2, 0, 3, 0, 2, 9, 2, 3, 2, 0, 2, 0, 7, 0, 5, 0, 2, 0, 2, 0, 2, 2, 2, 1, 2, 0, 3, 0, 2, 0, 2, 0, 2, 0, 2, 0, 2, 1, 2, 0, 3, 3, 2, 6, 2, 3, 2, 3, 2, 0, 2, 9, 2, 16, 6, 2, 2, 4, 2, 16, 4421, 42719, 33, 4153, 7, 221, 3, 5761, 15, 7472, 16, 621, 2467, 541, 1507, 4938, 6, 4191];\n\n  // This file was generated. Do not modify manually!\n  var nonASCIIidentifierChars = \"\\u200c\\u200d\\xb7\\u0300-\\u036f\\u0387\\u0483-\\u0487\\u0591-\\u05bd\\u05bf\\u05c1\\u05c2\\u05c4\\u05c5\\u05c7\\u0610-\\u061a\\u064b-\\u0669\\u0670\\u06d6-\\u06dc\\u06df-\\u06e4\\u06e7\\u06e8\\u06ea-\\u06ed\\u06f0-\\u06f9\\u0711\\u0730-\\u074a\\u07a6-\\u07b0\\u07c0-\\u07c9\\u07eb-\\u07f3\\u07fd\\u0816-\\u0819\\u081b-\\u0823\\u0825-\\u0827\\u0829-\\u082d\\u0859-\\u085b\\u0898-\\u089f\\u08ca-\\u08e1\\u08e3-\\u0903\\u093a-\\u093c\\u093e-\\u094f\\u0951-\\u0957\\u0962\\u0963\\u0966-\\u096f\\u0981-\\u0983\\u09bc\\u09be-\\u09c4\\u09c7\\u09c8\\u09cb-\\u09cd\\u09d7\\u09e2\\u09e3\\u09e6-\\u09ef\\u09fe\\u0a01-\\u0a03\\u0a3c\\u0a3e-\\u0a42\\u0a47\\u0a48\\u0a4b-\\u0a4d\\u0a51\\u0a66-\\u0a71\\u0a75\\u0a81-\\u0a83\\u0abc\\u0abe-\\u0ac5\\u0ac7-\\u0ac9\\u0acb-\\u0acd\\u0ae2\\u0ae3\\u0ae6-\\u0aef\\u0afa-\\u0aff\\u0b01-\\u0b03\\u0b3c\\u0b3e-\\u0b44\\u0b47\\u0b48\\u0b4b-\\u0b4d\\u0b55-\\u0b57\\u0b62\\u0b63\\u0b66-\\u0b6f\\u0b82\\u0bbe-\\u0bc2\\u0bc6-\\u0bc8\\u0bca-\\u0bcd\\u0bd7\\u0be6-\\u0bef\\u0c00-\\u0c04\\u0c3c\\u0c3e-\\u0c44\\u0c46-\\u0c48\\u0c4a-\\u0c4d\\u0c55\\u0c56\\u0c62\\u0c63\\u0c66-\\u0c6f\\u0c81-\\u0c83\\u0cbc\\u0cbe-\\u0cc4\\u0cc6-\\u0cc8\\u0cca-\\u0ccd\\u0cd5\\u0cd6\\u0ce2\\u0ce3\\u0ce6-\\u0cef\\u0cf3\\u0d00-\\u0d03\\u0d3b\\u0d3c\\u0d3e-\\u0d44\\u0d46-\\u0d48\\u0d4a-\\u0d4d\\u0d57\\u0d62\\u0d63\\u0d66-\\u0d6f\\u0d81-\\u0d83\\u0dca\\u0dcf-\\u0dd4\\u0dd6\\u0dd8-\\u0ddf\\u0de6-\\u0def\\u0df2\\u0df3\\u0e31\\u0e34-\\u0e3a\\u0e47-\\u0e4e\\u0e50-\\u0e59\\u0eb1\\u0eb4-\\u0ebc\\u0ec8-\\u0ece\\u0ed0-\\u0ed9\\u0f18\\u0f19\\u0f20-\\u0f29\\u0f35\\u0f37\\u0f39\\u0f3e\\u0f3f\\u0f71-\\u0f84\\u0f86\\u0f87\\u0f8d-\\u0f97\\u0f99-\\u0fbc\\u0fc6\\u102b-\\u103e\\u1040-\\u1049\\u1056-\\u1059\\u105e-\\u1060\\u1062-\\u1064\\u1067-\\u106d\\u1071-\\u1074\\u1082-\\u108d\\u108f-\\u109d\\u135d-\\u135f\\u1369-\\u1371\\u1712-\\u1715\\u1732-\\u1734\\u1752\\u1753\\u1772\\u1773\\u17b4-\\u17d3\\u17dd\\u17e0-\\u17e9\\u180b-\\u180d\\u180f-\\u1819\\u18a9\\u1920-\\u192b\\u1930-\\u193b\\u1946-\\u194f\\u19d0-\\u19da\\u1a17-\\u1a1b\\u1a55-\\u1a5e\\u1a60-\\u1a7c\\u1a7f-\\u1a89\\u1a90-\\u1a99\\u1ab0-\\u1abd\\u1abf-\\u1ace\\u1b00-\\u1b04\\u1b34-\\u1b44\\u1b50-\\u1b59\\u1b6b-\\u1b73\\u1b80-\\u1b82\\u1ba1-\\u1bad\\u1bb0-\\u1bb9\\u1be6-\\u1bf3\\u1c24-\\u1c37\\u1c40-\\u1c49\\u1c50-\\u1c59\\u1cd0-\\u1cd2\\u1cd4-\\u1ce8\\u1ced\\u1cf4\\u1cf7-\\u1cf9\\u1dc0-\\u1dff\\u200c\\u200d\\u203f\\u2040\\u2054\\u20d0-\\u20dc\\u20e1\\u20e5-\\u20f0\\u2cef-\\u2cf1\\u2d7f\\u2de0-\\u2dff\\u302a-\\u302f\\u3099\\u309a\\u30fb\\ua620-\\ua629\\ua66f\\ua674-\\ua67d\\ua69e\\ua69f\\ua6f0\\ua6f1\\ua802\\ua806\\ua80b\\ua823-\\ua827\\ua82c\\ua880\\ua881\\ua8b4-\\ua8c5\\ua8d0-\\ua8d9\\ua8e0-\\ua8f1\\ua8ff-\\ua909\\ua926-\\ua92d\\ua947-\\ua953\\ua980-\\ua983\\ua9b3-\\ua9c0\\ua9d0-\\ua9d9\\ua9e5\\ua9f0-\\ua9f9\\uaa29-\\uaa36\\uaa43\\uaa4c\\uaa4d\\uaa50-\\uaa59\\uaa7b-\\uaa7d\\uaab0\\uaab2-\\uaab4\\uaab7\\uaab8\\uaabe\\uaabf\\uaac1\\uaaeb-\\uaaef\\uaaf5\\uaaf6\\uabe3-\\uabea\\uabec\\uabed\\uabf0-\\uabf9\\ufb1e\\ufe00-\\ufe0f\\ufe20-\\ufe2f\\ufe33\\ufe34\\ufe4d-\\ufe4f\\uff10-\\uff19\\uff3f\\uff65\";\n\n  // This file was generated. Do not modify manually!\n  var nonASCIIidentifierStartChars = \"\\xaa\\xb5\\xba\\xc0-\\xd6\\xd8-\\xf6\\xf8-\\u02c1\\u02c6-\\u02d1\\u02e0-\\u02e4\\u02ec\\u02ee\\u0370-\\u0374\\u0376\\u0377\\u037a-\\u037d\\u037f\\u0386\\u0388-\\u038a\\u038c\\u038e-\\u03a1\\u03a3-\\u03f5\\u03f7-\\u0481\\u048a-\\u052f\\u0531-\\u0556\\u0559\\u0560-\\u0588\\u05d0-\\u05ea\\u05ef-\\u05f2\\u0620-\\u064a\\u066e\\u066f\\u0671-\\u06d3\\u06d5\\u06e5\\u06e6\\u06ee\\u06ef\\u06fa-\\u06fc\\u06ff\\u0710\\u0712-\\u072f\\u074d-\\u07a5\\u07b1\\u07ca-\\u07ea\\u07f4\\u07f5\\u07fa\\u0800-\\u0815\\u081a\\u0824\\u0828\\u0840-\\u0858\\u0860-\\u086a\\u0870-\\u0887\\u0889-\\u088e\\u08a0-\\u08c9\\u0904-\\u0939\\u093d\\u0950\\u0958-\\u0961\\u0971-\\u0980\\u0985-\\u098c\\u098f\\u0990\\u0993-\\u09a8\\u09aa-\\u09b0\\u09b2\\u09b6-\\u09b9\\u09bd\\u09ce\\u09dc\\u09dd\\u09df-\\u09e1\\u09f0\\u09f1\\u09fc\\u0a05-\\u0a0a\\u0a0f\\u0a10\\u0a13-\\u0a28\\u0a2a-\\u0a30\\u0a32\\u0a33\\u0a35\\u0a36\\u0a38\\u0a39\\u0a59-\\u0a5c\\u0a5e\\u0a72-\\u0a74\\u0a85-\\u0a8d\\u0a8f-\\u0a91\\u0a93-\\u0aa8\\u0aaa-\\u0ab0\\u0ab2\\u0ab3\\u0ab5-\\u0ab9\\u0abd\\u0ad0\\u0ae0\\u0ae1\\u0af9\\u0b05-\\u0b0c\\u0b0f\\u0b10\\u0b13-\\u0b28\\u0b2a-\\u0b30\\u0b32\\u0b33\\u0b35-\\u0b39\\u0b3d\\u0b5c\\u0b5d\\u0b5f-\\u0b61\\u0b71\\u0b83\\u0b85-\\u0b8a\\u0b8e-\\u0b90\\u0b92-\\u0b95\\u0b99\\u0b9a\\u0b9c\\u0b9e\\u0b9f\\u0ba3\\u0ba4\\u0ba8-\\u0baa\\u0bae-\\u0bb9\\u0bd0\\u0c05-\\u0c0c\\u0c0e-\\u0c10\\u0c12-\\u0c28\\u0c2a-\\u0c39\\u0c3d\\u0c58-\\u0c5a\\u0c5d\\u0c60\\u0c61\\u0c80\\u0c85-\\u0c8c\\u0c8e-\\u0c90\\u0c92-\\u0ca8\\u0caa-\\u0cb3\\u0cb5-\\u0cb9\\u0cbd\\u0cdd\\u0cde\\u0ce0\\u0ce1\\u0cf1\\u0cf2\\u0d04-\\u0d0c\\u0d0e-\\u0d10\\u0d12-\\u0d3a\\u0d3d\\u0d4e\\u0d54-\\u0d56\\u0d5f-\\u0d61\\u0d7a-\\u0d7f\\u0d85-\\u0d96\\u0d9a-\\u0db1\\u0db3-\\u0dbb\\u0dbd\\u0dc0-\\u0dc6\\u0e01-\\u0e30\\u0e32\\u0e33\\u0e40-\\u0e46\\u0e81\\u0e82\\u0e84\\u0e86-\\u0e8a\\u0e8c-\\u0ea3\\u0ea5\\u0ea7-\\u0eb0\\u0eb2\\u0eb3\\u0ebd\\u0ec0-\\u0ec4\\u0ec6\\u0edc-\\u0edf\\u0f00\\u0f40-\\u0f47\\u0f49-\\u0f6c\\u0f88-\\u0f8c\\u1000-\\u102a\\u103f\\u1050-\\u1055\\u105a-\\u105d\\u1061\\u1065\\u1066\\u106e-\\u1070\\u1075-\\u1081\\u108e\\u10a0-\\u10c5\\u10c7\\u10cd\\u10d0-\\u10fa\\u10fc-\\u1248\\u124a-\\u124d\\u1250-\\u1256\\u1258\\u125a-\\u125d\\u1260-\\u1288\\u128a-\\u128d\\u1290-\\u12b0\\u12b2-\\u12b5\\u12b8-\\u12be\\u12c0\\u12c2-\\u12c5\\u12c8-\\u12d6\\u12d8-\\u1310\\u1312-\\u1315\\u1318-\\u135a\\u1380-\\u138f\\u13a0-\\u13f5\\u13f8-\\u13fd\\u1401-\\u166c\\u166f-\\u167f\\u1681-\\u169a\\u16a0-\\u16ea\\u16ee-\\u16f8\\u1700-\\u1711\\u171f-\\u1731\\u1740-\\u1751\\u1760-\\u176c\\u176e-\\u1770\\u1780-\\u17b3\\u17d7\\u17dc\\u1820-\\u1878\\u1880-\\u18a8\\u18aa\\u18b0-\\u18f5\\u1900-\\u191e\\u1950-\\u196d\\u1970-\\u1974\\u1980-\\u19ab\\u19b0-\\u19c9\\u1a00-\\u1a16\\u1a20-\\u1a54\\u1aa7\\u1b05-\\u1b33\\u1b45-\\u1b4c\\u1b83-\\u1ba0\\u1bae\\u1baf\\u1bba-\\u1be5\\u1c00-\\u1c23\\u1c4d-\\u1c4f\\u1c5a-\\u1c7d\\u1c80-\\u1c88\\u1c90-\\u1cba\\u1cbd-\\u1cbf\\u1ce9-\\u1cec\\u1cee-\\u1cf3\\u1cf5\\u1cf6\\u1cfa\\u1d00-\\u1dbf\\u1e00-\\u1f15\\u1f18-\\u1f1d\\u1f20-\\u1f45\\u1f48-\\u1f4d\\u1f50-\\u1f57\\u1f59\\u1f5b\\u1f5d\\u1f5f-\\u1f7d\\u1f80-\\u1fb4\\u1fb6-\\u1fbc\\u1fbe\\u1fc2-\\u1fc4\\u1fc6-\\u1fcc\\u1fd0-\\u1fd3\\u1fd6-\\u1fdb\\u1fe0-\\u1fec\\u1ff2-\\u1ff4\\u1ff6-\\u1ffc\\u2071\\u207f\\u2090-\\u209c\\u2102\\u2107\\u210a-\\u2113\\u2115\\u2118-\\u211d\\u2124\\u2126\\u2128\\u212a-\\u2139\\u213c-\\u213f\\u2145-\\u2149\\u214e\\u2160-\\u2188\\u2c00-\\u2ce4\\u2ceb-\\u2cee\\u2cf2\\u2cf3\\u2d00-\\u2d25\\u2d27\\u2d2d\\u2d30-\\u2d67\\u2d6f\\u2d80-\\u2d96\\u2da0-\\u2da6\\u2da8-\\u2dae\\u2db0-\\u2db6\\u2db8-\\u2dbe\\u2dc0-\\u2dc6\\u2dc8-\\u2dce\\u2dd0-\\u2dd6\\u2dd8-\\u2dde\\u3005-\\u3007\\u3021-\\u3029\\u3031-\\u3035\\u3038-\\u303c\\u3041-\\u3096\\u309b-\\u309f\\u30a1-\\u30fa\\u30fc-\\u30ff\\u3105-\\u312f\\u3131-\\u318e\\u31a0-\\u31bf\\u31f0-\\u31ff\\u3400-\\u4dbf\\u4e00-\\ua48c\\ua4d0-\\ua4fd\\ua500-\\ua60c\\ua610-\\ua61f\\ua62a\\ua62b\\ua640-\\ua66e\\ua67f-\\ua69d\\ua6a0-\\ua6ef\\ua717-\\ua71f\\ua722-\\ua788\\ua78b-\\ua7ca\\ua7d0\\ua7d1\\ua7d3\\ua7d5-\\ua7d9\\ua7f2-\\ua801\\ua803-\\ua805\\ua807-\\ua80a\\ua80c-\\ua822\\ua840-\\ua873\\ua882-\\ua8b3\\ua8f2-\\ua8f7\\ua8fb\\ua8fd\\ua8fe\\ua90a-\\ua925\\ua930-\\ua946\\ua960-\\ua97c\\ua984-\\ua9b2\\ua9cf\\ua9e0-\\ua9e4\\ua9e6-\\ua9ef\\ua9fa-\\ua9fe\\uaa00-\\uaa28\\uaa40-\\uaa42\\uaa44-\\uaa4b\\uaa60-\\uaa76\\uaa7a\\uaa7e-\\uaaaf\\uaab1\\uaab5\\uaab6\\uaab9-\\uaabd\\uaac0\\uaac2\\uaadb-\\uaadd\\uaae0-\\uaaea\\uaaf2-\\uaaf4\\uab01-\\uab06\\uab09-\\uab0e\\uab11-\\uab16\\uab20-\\uab26\\uab28-\\uab2e\\uab30-\\uab5a\\uab5c-\\uab69\\uab70-\\uabe2\\uac00-\\ud7a3\\ud7b0-\\ud7c6\\ud7cb-\\ud7fb\\uf900-\\ufa6d\\ufa70-\\ufad9\\ufb00-\\ufb06\\ufb13-\\ufb17\\ufb1d\\ufb1f-\\ufb28\\ufb2a-\\ufb36\\ufb38-\\ufb3c\\ufb3e\\ufb40\\ufb41\\ufb43\\ufb44\\ufb46-\\ufbb1\\ufbd3-\\ufd3d\\ufd50-\\ufd8f\\ufd92-\\ufdc7\\ufdf0-\\ufdfb\\ufe70-\\ufe74\\ufe76-\\ufefc\\uff21-\\uff3a\\uff41-\\uff5a\\uff66-\\uffbe\\uffc2-\\uffc7\\uffca-\\uffcf\\uffd2-\\uffd7\\uffda-\\uffdc\";\n\n  // These are a run-length and offset encoded representation of the\n  // >0xffff code points that are a valid part of identifiers. The\n  // offset starts at 0x10000, and each pair of numbers represents an\n  // offset to the next range, and then a size of the range.\n\n  // Reserved word lists for various dialects of the language\n\n  var reservedWords = {\n    3: \"abstract boolean byte char class double enum export extends final float goto implements import int interface long native package private protected public short static super synchronized throws transient volatile\",\n    5: \"class enum extends super const export import\",\n    6: \"enum\",\n    strict: \"implements interface let package private protected public static yield\",\n    strictBind: \"eval arguments\"\n  };\n\n  // And the keywords\n\n  var ecma5AndLessKeywords = \"break case catch continue debugger default do else finally for function if return switch throw try var while with null true false instanceof typeof void delete new in this\";\n\n  var keywords$1 = {\n    5: ecma5AndLessKeywords,\n    \"5module\": ecma5AndLessKeywords + \" export import\",\n    6: ecma5AndLessKeywords + \" const class extends export import super\"\n  };\n\n  var keywordRelationalOperator = /^in(stanceof)?$/;\n\n  // ## Character categories\n\n  var nonASCIIidentifierStart = new RegExp(\"[\" + nonASCIIidentifierStartChars + \"]\");\n  var nonASCIIidentifier = new RegExp(\"[\" + nonASCIIidentifierStartChars + nonASCIIidentifierChars + \"]\");\n\n  // This has a complexity linear to the value of the code. The\n  // assumption is that looking up astral identifier characters is\n  // rare.\n  function isInAstralSet(code, set) {\n    var pos = 0x10000;\n    for (var i = 0; i < set.length; i += 2) {\n      pos += set[i];\n      if (pos > code) { return false }\n      pos += set[i + 1];\n      if (pos >= code) { return true }\n    }\n    return false\n  }\n\n  // Test whether a given character code starts an identifier.\n\n  function isIdentifierStart(code, astral) {\n    if (code < 65) { return code === 36 }\n    if (code < 91) { return true }\n    if (code < 97) { return code === 95 }\n    if (code < 123) { return true }\n    if (code <= 0xffff) { return code >= 0xaa && nonASCIIidentifierStart.test(String.fromCharCode(code)) }\n    if (astral === false) { return false }\n    return isInAstralSet(code, astralIdentifierStartCodes)\n  }\n\n  // Test whether a given character is part of an identifier.\n\n  function isIdentifierChar(code, astral) {\n    if (code < 48) { return code === 36 }\n    if (code < 58) { return true }\n    if (code < 65) { return false }\n    if (code < 91) { return true }\n    if (code < 97) { return code === 95 }\n    if (code < 123) { return true }\n    if (code <= 0xffff) { return code >= 0xaa && nonASCIIidentifier.test(String.fromCharCode(code)) }\n    if (astral === false) { return false }\n    return isInAstralSet(code, astralIdentifierStartCodes) || isInAstralSet(code, astralIdentifierCodes)\n  }\n\n  // ## Token types\n\n  // The assignment of fine-grained, information-carrying type objects\n  // allows the tokenizer to store the information it has about a\n  // token in a way that is very cheap for the parser to look up.\n\n  // All token type variables start with an underscore, to make them\n  // easy to recognize.\n\n  // The `beforeExpr` property is used to disambiguate between regular\n  // expressions and divisions. It is set on all token types that can\n  // be followed by an expression (thus, a slash after them would be a\n  // regular expression).\n  //\n  // The `startsExpr` property is used to check if the token ends a\n  // `yield` expression. It is set on all token types that either can\n  // directly start an expression (like a quotation mark) or can\n  // continue an expression (like the body of a string).\n  //\n  // `isLoop` marks a keyword as starting a loop, which is important\n  // to know when parsing a label, in order to allow or disallow\n  // continue jumps to that label.\n\n  var TokenType = function TokenType(label, conf) {\n    if ( conf === void 0 ) conf = {};\n\n    this.label = label;\n    this.keyword = conf.keyword;\n    this.beforeExpr = !!conf.beforeExpr;\n    this.startsExpr = !!conf.startsExpr;\n    this.isLoop = !!conf.isLoop;\n    this.isAssign = !!conf.isAssign;\n    this.prefix = !!conf.prefix;\n    this.postfix = !!conf.postfix;\n    this.binop = conf.binop || null;\n    this.updateContext = null;\n  };\n\n  function binop(name, prec) {\n    return new TokenType(name, {beforeExpr: true, binop: prec})\n  }\n  var beforeExpr = {beforeExpr: true}, startsExpr = {startsExpr: true};\n\n  // Map keyword names to token types.\n\n  var keywords = {};\n\n  // Succinct definitions of keyword token types\n  function kw(name, options) {\n    if ( options === void 0 ) options = {};\n\n    options.keyword = name;\n    return keywords[name] = new TokenType(name, options)\n  }\n\n  var types$1 = {\n    num: new TokenType(\"num\", startsExpr),\n    regexp: new TokenType(\"regexp\", startsExpr),\n    string: new TokenType(\"string\", startsExpr),\n    name: new TokenType(\"name\", startsExpr),\n    privateId: new TokenType(\"privateId\", startsExpr),\n    eof: new TokenType(\"eof\"),\n\n    // Punctuation token types.\n    bracketL: new TokenType(\"[\", {beforeExpr: true, startsExpr: true}),\n    bracketR: new TokenType(\"]\"),\n    braceL: new TokenType(\"{\", {beforeExpr: true, startsExpr: true}),\n    braceR: new TokenType(\"}\"),\n    parenL: new TokenType(\"(\", {beforeExpr: true, startsExpr: true}),\n    parenR: new TokenType(\")\"),\n    comma: new TokenType(\",\", beforeExpr),\n    semi: new TokenType(\";\", beforeExpr),\n    colon: new TokenType(\":\", beforeExpr),\n    dot: new TokenType(\".\"),\n    question: new TokenType(\"?\", beforeExpr),\n    questionDot: new TokenType(\"?.\"),\n    arrow: new TokenType(\"=>\", beforeExpr),\n    template: new TokenType(\"template\"),\n    invalidTemplate: new TokenType(\"invalidTemplate\"),\n    ellipsis: new TokenType(\"...\", beforeExpr),\n    backQuote: new TokenType(\"`\", startsExpr),\n    dollarBraceL: new TokenType(\"${\", {beforeExpr: true, startsExpr: true}),\n\n    // Operators. These carry several kinds of properties to help the\n    // parser use them properly (the presence of these properties is\n    // what categorizes them as operators).\n    //\n    // `binop`, when present, specifies that this operator is a binary\n    // operator, and will refer to its precedence.\n    //\n    // `prefix` and `postfix` mark the operator as a prefix or postfix\n    // unary operator.\n    //\n    // `isAssign` marks all of `=`, `+=`, `-=` etcetera, which act as\n    // binary operators with a very low precedence, that should result\n    // in AssignmentExpression nodes.\n\n    eq: new TokenType(\"=\", {beforeExpr: true, isAssign: true}),\n    assign: new TokenType(\"_=\", {beforeExpr: true, isAssign: true}),\n    incDec: new TokenType(\"++/--\", {prefix: true, postfix: true, startsExpr: true}),\n    prefix: new TokenType(\"!/~\", {beforeExpr: true, prefix: true, startsExpr: true}),\n    logicalOR: binop(\"||\", 1),\n    logicalAND: binop(\"&&\", 2),\n    bitwiseOR: binop(\"|\", 3),\n    bitwiseXOR: binop(\"^\", 4),\n    bitwiseAND: binop(\"&\", 5),\n    equality: binop(\"==/!=/===/!==\", 6),\n    relational: binop(\"</>/<=/>=\", 7),\n    bitShift: binop(\"<</>>/>>>\", 8),\n    plusMin: new TokenType(\"+/-\", {beforeExpr: true, binop: 9, prefix: true, startsExpr: true}),\n    modulo: binop(\"%\", 10),\n    star: binop(\"*\", 10),\n    slash: binop(\"/\", 10),\n    starstar: new TokenType(\"**\", {beforeExpr: true}),\n    coalesce: binop(\"??\", 1),\n\n    // Keyword token types.\n    _break: kw(\"break\"),\n    _case: kw(\"case\", beforeExpr),\n    _catch: kw(\"catch\"),\n    _continue: kw(\"continue\"),\n    _debugger: kw(\"debugger\"),\n    _default: kw(\"default\", beforeExpr),\n    _do: kw(\"do\", {isLoop: true, beforeExpr: true}),\n    _else: kw(\"else\", beforeExpr),\n    _finally: kw(\"finally\"),\n    _for: kw(\"for\", {isLoop: true}),\n    _function: kw(\"function\", startsExpr),\n    _if: kw(\"if\"),\n    _return: kw(\"return\", beforeExpr),\n    _switch: kw(\"switch\"),\n    _throw: kw(\"throw\", beforeExpr),\n    _try: kw(\"try\"),\n    _var: kw(\"var\"),\n    _const: kw(\"const\"),\n    _while: kw(\"while\", {isLoop: true}),\n    _with: kw(\"with\"),\n    _new: kw(\"new\", {beforeExpr: true, startsExpr: true}),\n    _this: kw(\"this\", startsExpr),\n    _super: kw(\"super\", startsExpr),\n    _class: kw(\"class\", startsExpr),\n    _extends: kw(\"extends\", beforeExpr),\n    _export: kw(\"export\"),\n    _import: kw(\"import\", startsExpr),\n    _null: kw(\"null\", startsExpr),\n    _true: kw(\"true\", startsExpr),\n    _false: kw(\"false\", startsExpr),\n    _in: kw(\"in\", {beforeExpr: true, binop: 7}),\n    _instanceof: kw(\"instanceof\", {beforeExpr: true, binop: 7}),\n    _typeof: kw(\"typeof\", {beforeExpr: true, prefix: true, startsExpr: true}),\n    _void: kw(\"void\", {beforeExpr: true, prefix: true, startsExpr: true}),\n    _delete: kw(\"delete\", {beforeExpr: true, prefix: true, startsExpr: true})\n  };\n\n  // Matches a whole line break (where CRLF is considered a single\n  // line break). Used to count lines.\n\n  var lineBreak = /\\r\\n?|\\n|\\u2028|\\u2029/;\n  var lineBreakG = new RegExp(lineBreak.source, \"g\");\n\n  function isNewLine(code) {\n    return code === 10 || code === 13 || code === 0x2028 || code === 0x2029\n  }\n\n  function nextLineBreak(code, from, end) {\n    if ( end === void 0 ) end = code.length;\n\n    for (var i = from; i < end; i++) {\n      var next = code.charCodeAt(i);\n      if (isNewLine(next))\n        { return i < end - 1 && next === 13 && code.charCodeAt(i + 1) === 10 ? i + 2 : i + 1 }\n    }\n    return -1\n  }\n\n  var nonASCIIwhitespace = /[\\u1680\\u2000-\\u200a\\u202f\\u205f\\u3000\\ufeff]/;\n\n  var skipWhiteSpace = /(?:\\s|\\/\\/.*|\\/\\*[^]*?\\*\\/)*/g;\n\n  var ref = Object.prototype;\n  var hasOwnProperty = ref.hasOwnProperty;\n  var toString = ref.toString;\n\n  var hasOwn = Object.hasOwn || (function (obj, propName) { return (\n    hasOwnProperty.call(obj, propName)\n  ); });\n\n  var isArray = Array.isArray || (function (obj) { return (\n    toString.call(obj) === \"[object Array]\"\n  ); });\n\n  var regexpCache = Object.create(null);\n\n  function wordsRegexp(words) {\n    return regexpCache[words] || (regexpCache[words] = new RegExp(\"^(?:\" + words.replace(/ /g, \"|\") + \")$\"))\n  }\n\n  function codePointToString(code) {\n    // UTF-16 Decoding\n    if (code <= 0xFFFF) { return String.fromCharCode(code) }\n    code -= 0x10000;\n    return String.fromCharCode((code >> 10) + 0xD800, (code & 1023) + 0xDC00)\n  }\n\n  var loneSurrogate = /(?:[\\uD800-\\uDBFF](?![\\uDC00-\\uDFFF])|(?:[^\\uD800-\\uDBFF]|^)[\\uDC00-\\uDFFF])/;\n\n  // These are used when `options.locations` is on, for the\n  // `startLoc` and `endLoc` properties.\n\n  var Position = function Position(line, col) {\n    this.line = line;\n    this.column = col;\n  };\n\n  Position.prototype.offset = function offset (n) {\n    return new Position(this.line, this.column + n)\n  };\n\n  var SourceLocation = function SourceLocation(p, start, end) {\n    this.start = start;\n    this.end = end;\n    if (p.sourceFile !== null) { this.source = p.sourceFile; }\n  };\n\n  // The `getLineInfo` function is mostly useful when the\n  // `locations` option is off (for performance reasons) and you\n  // want to find the line/column position for a given character\n  // offset. `input` should be the code string that the offset refers\n  // into.\n\n  function getLineInfo(input, offset) {\n    for (var line = 1, cur = 0;;) {\n      var nextBreak = nextLineBreak(input, cur, offset);\n      if (nextBreak < 0) { return new Position(line, offset - cur) }\n      ++line;\n      cur = nextBreak;\n    }\n  }\n\n  // A second argument must be given to configure the parser process.\n  // These options are recognized (only `ecmaVersion` is required):\n\n  var defaultOptions = {\n    // `ecmaVersion` indicates the ECMAScript version to parse. Must be\n    // either 3, 5, 6 (or 2015), 7 (2016), 8 (2017), 9 (2018), 10\n    // (2019), 11 (2020), 12 (2021), 13 (2022), 14 (2023), or `\"latest\"`\n    // (the latest version the library supports). This influences\n    // support for strict mode, the set of reserved words, and support\n    // for new syntax features.\n    ecmaVersion: null,\n    // `sourceType` indicates the mode the code should be parsed in.\n    // Can be either `\"script\"` or `\"module\"`. This influences global\n    // strict mode and parsing of `import` and `export` declarations.\n    sourceType: \"script\",\n    // `onInsertedSemicolon` can be a callback that will be called when\n    // a semicolon is automatically inserted. It will be passed the\n    // position of the inserted semicolon as an offset, and if\n    // `locations` is enabled, it is given the location as a `{line,\n    // column}` object as second argument.\n    onInsertedSemicolon: null,\n    // `onTrailingComma` is similar to `onInsertedSemicolon`, but for\n    // trailing commas.\n    onTrailingComma: null,\n    // By default, reserved words are only enforced if ecmaVersion >= 5.\n    // Set `allowReserved` to a boolean value to explicitly turn this on\n    // an off. When this option has the value \"never\", reserved words\n    // and keywords can also not be used as property names.\n    allowReserved: null,\n    // When enabled, a return at the top level is not considered an\n    // error.\n    allowReturnOutsideFunction: false,\n    // When enabled, import/export statements are not constrained to\n    // appearing at the top of the program, and an import.meta expression\n    // in a script isn't considered an error.\n    allowImportExportEverywhere: false,\n    // By default, await identifiers are allowed to appear at the top-level scope only if ecmaVersion >= 2022.\n    // When enabled, await identifiers are allowed to appear at the top-level scope,\n    // but they are still not allowed in non-async functions.\n    allowAwaitOutsideFunction: null,\n    // When enabled, super identifiers are not constrained to\n    // appearing in methods and do not raise an error when they appear elsewhere.\n    allowSuperOutsideMethod: null,\n    // When enabled, hashbang directive in the beginning of file is\n    // allowed and treated as a line comment. Enabled by default when\n    // `ecmaVersion` >= 2023.\n    allowHashBang: false,\n    // By default, the parser will verify that private properties are\n    // only used in places where they are valid and have been declared.\n    // Set this to false to turn such checks off.\n    checkPrivateFields: true,\n    // When `locations` is on, `loc` properties holding objects with\n    // `start` and `end` properties in `{line, column}` form (with\n    // line being 1-based and column 0-based) will be attached to the\n    // nodes.\n    locations: false,\n    // A function can be passed as `onToken` option, which will\n    // cause Acorn to call that function with object in the same\n    // format as tokens returned from `tokenizer().getToken()`. Note\n    // that you are not allowed to call the parser from the\n    // callback—that will corrupt its internal state.\n    onToken: null,\n    // A function can be passed as `onComment` option, which will\n    // cause Acorn to call that function with `(block, text, start,\n    // end)` parameters whenever a comment is skipped. `block` is a\n    // boolean indicating whether this is a block (`/* */`) comment,\n    // `text` is the content of the comment, and `start` and `end` are\n    // character offsets that denote the start and end of the comment.\n    // When the `locations` option is on, two more parameters are\n    // passed, the full `{line, column}` locations of the start and\n    // end of the comments. Note that you are not allowed to call the\n    // parser from the callback—that will corrupt its internal state.\n    // When this option has an array as value, objects representing the\n    // comments are pushed to it.\n    onComment: null,\n    // Nodes have their start and end characters offsets recorded in\n    // `start` and `end` properties (directly on the node, rather than\n    // the `loc` object, which holds line/column data. To also add a\n    // [semi-standardized][range] `range` property holding a `[start,\n    // end]` array with the same numbers, set the `ranges` option to\n    // `true`.\n    //\n    // [range]: https://bugzilla.mozilla.org/show_bug.cgi?id=745678\n    ranges: false,\n    // It is possible to parse multiple files into a single AST by\n    // passing the tree produced by parsing the first file as\n    // `program` option in subsequent parses. This will add the\n    // toplevel forms of the parsed file to the `Program` (top) node\n    // of an existing parse tree.\n    program: null,\n    // When `locations` is on, you can pass this to record the source\n    // file in every node's `loc` object.\n    sourceFile: null,\n    // This value, if given, is stored in every node, whether\n    // `locations` is on or off.\n    directSourceFile: null,\n    // When enabled, parenthesized expressions are represented by\n    // (non-standard) ParenthesizedExpression nodes\n    preserveParens: false\n  };\n\n  // Interpret and default an options object\n\n  var warnedAboutEcmaVersion = false;\n\n  function getOptions(opts) {\n    var options = {};\n\n    for (var opt in defaultOptions)\n      { options[opt] = opts && hasOwn(opts, opt) ? opts[opt] : defaultOptions[opt]; }\n\n    if (options.ecmaVersion === \"latest\") {\n      options.ecmaVersion = 1e8;\n    } else if (options.ecmaVersion == null) {\n      if (!warnedAboutEcmaVersion && typeof console === \"object\" && console.warn) {\n        warnedAboutEcmaVersion = true;\n        console.warn(\"Since Acorn 8.0.0, options.ecmaVersion is required.\\nDefaulting to 2020, but this will stop working in the future.\");\n      }\n      options.ecmaVersion = 11;\n    } else if (options.ecmaVersion >= 2015) {\n      options.ecmaVersion -= 2009;\n    }\n\n    if (options.allowReserved == null)\n      { options.allowReserved = options.ecmaVersion < 5; }\n\n    if (!opts || opts.allowHashBang == null)\n      { options.allowHashBang = options.ecmaVersion >= 14; }\n\n    if (isArray(options.onToken)) {\n      var tokens = options.onToken;\n      options.onToken = function (token) { return tokens.push(token); };\n    }\n    if (isArray(options.onComment))\n      { options.onComment = pushComment(options, options.onComment); }\n\n    return options\n  }\n\n  function pushComment(options, array) {\n    return function(block, text, start, end, startLoc, endLoc) {\n      var comment = {\n        type: block ? \"Block\" : \"Line\",\n        value: text,\n        start: start,\n        end: end\n      };\n      if (options.locations)\n        { comment.loc = new SourceLocation(this, startLoc, endLoc); }\n      if (options.ranges)\n        { comment.range = [start, end]; }\n      array.push(comment);\n    }\n  }\n\n  // Each scope gets a bitset that may contain these flags\n  var\n      SCOPE_TOP = 1,\n      SCOPE_FUNCTION = 2,\n      SCOPE_ASYNC = 4,\n      SCOPE_GENERATOR = 8,\n      SCOPE_ARROW = 16,\n      SCOPE_SIMPLE_CATCH = 32,\n      SCOPE_SUPER = 64,\n      SCOPE_DIRECT_SUPER = 128,\n      SCOPE_CLASS_STATIC_BLOCK = 256,\n      SCOPE_VAR = SCOPE_TOP | SCOPE_FUNCTION | SCOPE_CLASS_STATIC_BLOCK;\n\n  function functionFlags(async, generator) {\n    return SCOPE_FUNCTION | (async ? SCOPE_ASYNC : 0) | (generator ? SCOPE_GENERATOR : 0)\n  }\n\n  // Used in checkLVal* and declareName to determine the type of a binding\n  var\n      BIND_NONE = 0, // Not a binding\n      BIND_VAR = 1, // Var-style binding\n      BIND_LEXICAL = 2, // Let- or const-style binding\n      BIND_FUNCTION = 3, // Function declaration\n      BIND_SIMPLE_CATCH = 4, // Simple (identifier pattern) catch binding\n      BIND_OUTSIDE = 5; // Special case for function names as bound inside the function\n\n  var Parser = function Parser(options, input, startPos) {\n    this.options = options = getOptions(options);\n    this.sourceFile = options.sourceFile;\n    this.keywords = wordsRegexp(keywords$1[options.ecmaVersion >= 6 ? 6 : options.sourceType === \"module\" ? \"5module\" : 5]);\n    var reserved = \"\";\n    if (options.allowReserved !== true) {\n      reserved = reservedWords[options.ecmaVersion >= 6 ? 6 : options.ecmaVersion === 5 ? 5 : 3];\n      if (options.sourceType === \"module\") { reserved += \" await\"; }\n    }\n    this.reservedWords = wordsRegexp(reserved);\n    var reservedStrict = (reserved ? reserved + \" \" : \"\") + reservedWords.strict;\n    this.reservedWordsStrict = wordsRegexp(reservedStrict);\n    this.reservedWordsStrictBind = wordsRegexp(reservedStrict + \" \" + reservedWords.strictBind);\n    this.input = String(input);\n\n    // Used to signal to callers of `readWord1` whether the word\n    // contained any escape sequences. This is needed because words with\n    // escape sequences must not be interpreted as keywords.\n    this.containsEsc = false;\n\n    // Set up token state\n\n    // The current position of the tokenizer in the input.\n    if (startPos) {\n      this.pos = startPos;\n      this.lineStart = this.input.lastIndexOf(\"\\n\", startPos - 1) + 1;\n      this.curLine = this.input.slice(0, this.lineStart).split(lineBreak).length;\n    } else {\n      this.pos = this.lineStart = 0;\n      this.curLine = 1;\n    }\n\n    // Properties of the current token:\n    // Its type\n    this.type = types$1.eof;\n    // For tokens that include more information than their type, the value\n    this.value = null;\n    // Its start and end offset\n    this.start = this.end = this.pos;\n    // And, if locations are used, the {line, column} object\n    // corresponding to those offsets\n    this.startLoc = this.endLoc = this.curPosition();\n\n    // Position information for the previous token\n    this.lastTokEndLoc = this.lastTokStartLoc = null;\n    this.lastTokStart = this.lastTokEnd = this.pos;\n\n    // The context stack is used to superficially track syntactic\n    // context to predict whether a regular expression is allowed in a\n    // given position.\n    this.context = this.initialContext();\n    this.exprAllowed = true;\n\n    // Figure out if it's a module code.\n    this.inModule = options.sourceType === \"module\";\n    this.strict = this.inModule || this.strictDirective(this.pos);\n\n    // Used to signify the start of a potential arrow function\n    this.potentialArrowAt = -1;\n    this.potentialArrowInForAwait = false;\n\n    // Positions to delayed-check that yield/await does not exist in default parameters.\n    this.yieldPos = this.awaitPos = this.awaitIdentPos = 0;\n    // Labels in scope.\n    this.labels = [];\n    // Thus-far undefined exports.\n    this.undefinedExports = Object.create(null);\n\n    // If enabled, skip leading hashbang line.\n    if (this.pos === 0 && options.allowHashBang && this.input.slice(0, 2) === \"#!\")\n      { this.skipLineComment(2); }\n\n    // Scope tracking for duplicate variable names (see scope.js)\n    this.scopeStack = [];\n    this.enterScope(SCOPE_TOP);\n\n    // For RegExp validation\n    this.regexpState = null;\n\n    // The stack of private names.\n    // Each element has two properties: 'declared' and 'used'.\n    // When it exited from the outermost class definition, all used private names must be declared.\n    this.privateNameStack = [];\n  };\n\n  var prototypeAccessors = { inFunction: { configurable: true },inGenerator: { configurable: true },inAsync: { configurable: true },canAwait: { configurable: true },allowSuper: { configurable: true },allowDirectSuper: { configurable: true },treatFunctionsAsVar: { configurable: true },allowNewDotTarget: { configurable: true },inClassStaticBlock: { configurable: true } };\n\n  Parser.prototype.parse = function parse () {\n    var node = this.options.program || this.startNode();\n    this.nextToken();\n    return this.parseTopLevel(node)\n  };\n\n  prototypeAccessors.inFunction.get = function () { return (this.currentVarScope().flags & SCOPE_FUNCTION) > 0 };\n\n  prototypeAccessors.inGenerator.get = function () { return (this.currentVarScope().flags & SCOPE_GENERATOR) > 0 && !this.currentVarScope().inClassFieldInit };\n\n  prototypeAccessors.inAsync.get = function () { return (this.currentVarScope().flags & SCOPE_ASYNC) > 0 && !this.currentVarScope().inClassFieldInit };\n\n  prototypeAccessors.canAwait.get = function () {\n    for (var i = this.scopeStack.length - 1; i >= 0; i--) {\n      var scope = this.scopeStack[i];\n      if (scope.inClassFieldInit || scope.flags & SCOPE_CLASS_STATIC_BLOCK) { return false }\n      if (scope.flags & SCOPE_FUNCTION) { return (scope.flags & SCOPE_ASYNC) > 0 }\n    }\n    return (this.inModule && this.options.ecmaVersion >= 13) || this.options.allowAwaitOutsideFunction\n  };\n\n  prototypeAccessors.allowSuper.get = function () {\n    var ref = this.currentThisScope();\n      var flags = ref.flags;\n      var inClassFieldInit = ref.inClassFieldInit;\n    return (flags & SCOPE_SUPER) > 0 || inClassFieldInit || this.options.allowSuperOutsideMethod\n  };\n\n  prototypeAccessors.allowDirectSuper.get = function () { return (this.currentThisScope().flags & SCOPE_DIRECT_SUPER) > 0 };\n\n  prototypeAccessors.treatFunctionsAsVar.get = function () { return this.treatFunctionsAsVarInScope(this.currentScope()) };\n\n  prototypeAccessors.allowNewDotTarget.get = function () {\n    var ref = this.currentThisScope();\n      var flags = ref.flags;\n      var inClassFieldInit = ref.inClassFieldInit;\n    return (flags & (SCOPE_FUNCTION | SCOPE_CLASS_STATIC_BLOCK)) > 0 || inClassFieldInit\n  };\n\n  prototypeAccessors.inClassStaticBlock.get = function () {\n    return (this.currentVarScope().flags & SCOPE_CLASS_STATIC_BLOCK) > 0\n  };\n\n  Parser.extend = function extend () {\n      var plugins = [], len = arguments.length;\n      while ( len-- ) plugins[ len ] = arguments[ len ];\n\n    var cls = this;\n    for (var i = 0; i < plugins.length; i++) { cls = plugins[i](cls); }\n    return cls\n  };\n\n  Parser.parse = function parse (input, options) {\n    return new this(options, input).parse()\n  };\n\n  Parser.parseExpressionAt = function parseExpressionAt (input, pos, options) {\n    var parser = new this(options, input, pos);\n    parser.nextToken();\n    return parser.parseExpression()\n  };\n\n  Parser.tokenizer = function tokenizer (input, options) {\n    return new this(options, input)\n  };\n\n  Object.defineProperties( Parser.prototype, prototypeAccessors );\n\n  var pp$9 = Parser.prototype;\n\n  // ## Parser utilities\n\n  var literal = /^(?:'((?:\\\\[^]|[^'\\\\])*?)'|\"((?:\\\\[^]|[^\"\\\\])*?)\")/;\n  pp$9.strictDirective = function(start) {\n    if (this.options.ecmaVersion < 5) { return false }\n    for (;;) {\n      // Try to find string literal.\n      skipWhiteSpace.lastIndex = start;\n      start += skipWhiteSpace.exec(this.input)[0].length;\n      var match = literal.exec(this.input.slice(start));\n      if (!match) { return false }\n      if ((match[1] || match[2]) === \"use strict\") {\n        skipWhiteSpace.lastIndex = start + match[0].length;\n        var spaceAfter = skipWhiteSpace.exec(this.input), end = spaceAfter.index + spaceAfter[0].length;\n        var next = this.input.charAt(end);\n        return next === \";\" || next === \"}\" ||\n          (lineBreak.test(spaceAfter[0]) &&\n           !(/[(`.[+\\-/*%<>=,?^&]/.test(next) || next === \"!\" && this.input.charAt(end + 1) === \"=\"))\n      }\n      start += match[0].length;\n\n      // Skip semicolon, if any.\n      skipWhiteSpace.lastIndex = start;\n      start += skipWhiteSpace.exec(this.input)[0].length;\n      if (this.input[start] === \";\")\n        { start++; }\n    }\n  };\n\n  // Predicate that tests whether the next token is of the given\n  // type, and if yes, consumes it as a side effect.\n\n  pp$9.eat = function(type) {\n    if (this.type === type) {\n      this.next();\n      return true\n    } else {\n      return false\n    }\n  };\n\n  // Tests whether parsed token is a contextual keyword.\n\n  pp$9.isContextual = function(name) {\n    return this.type === types$1.name && this.value === name && !this.containsEsc\n  };\n\n  // Consumes contextual keyword if possible.\n\n  pp$9.eatContextual = function(name) {\n    if (!this.isContextual(name)) { return false }\n    this.next();\n    return true\n  };\n\n  // Asserts that following token is given contextual keyword.\n\n  pp$9.expectContextual = function(name) {\n    if (!this.eatContextual(name)) { this.unexpected(); }\n  };\n\n  // Test whether a semicolon can be inserted at the current position.\n\n  pp$9.canInsertSemicolon = function() {\n    return this.type === types$1.eof ||\n      this.type === types$1.braceR ||\n      lineBreak.test(this.input.slice(this.lastTokEnd, this.start))\n  };\n\n  pp$9.insertSemicolon = function() {\n    if (this.canInsertSemicolon()) {\n      if (this.options.onInsertedSemicolon)\n        { this.options.onInsertedSemicolon(this.lastTokEnd, this.lastTokEndLoc); }\n      return true\n    }\n  };\n\n  // Consume a semicolon, or, failing that, see if we are allowed to\n  // pretend that there is a semicolon at this position.\n\n  pp$9.semicolon = function() {\n    if (!this.eat(types$1.semi) && !this.insertSemicolon()) { this.unexpected(); }\n  };\n\n  pp$9.afterTrailingComma = function(tokType, notNext) {\n    if (this.type === tokType) {\n      if (this.options.onTrailingComma)\n        { this.options.onTrailingComma(this.lastTokStart, this.lastTokStartLoc); }\n      if (!notNext)\n        { this.next(); }\n      return true\n    }\n  };\n\n  // Expect a token of a given type. If found, consume it, otherwise,\n  // raise an unexpected token error.\n\n  pp$9.expect = function(type) {\n    this.eat(type) || this.unexpected();\n  };\n\n  // Raise an unexpected token error.\n\n  pp$9.unexpected = function(pos) {\n    this.raise(pos != null ? pos : this.start, \"Unexpected token\");\n  };\n\n  var DestructuringErrors = function DestructuringErrors() {\n    this.shorthandAssign =\n    this.trailingComma =\n    this.parenthesizedAssign =\n    this.parenthesizedBind =\n    this.doubleProto =\n      -1;\n  };\n\n  pp$9.checkPatternErrors = function(refDestructuringErrors, isAssign) {\n    if (!refDestructuringErrors) { return }\n    if (refDestructuringErrors.trailingComma > -1)\n      { this.raiseRecoverable(refDestructuringErrors.trailingComma, \"Comma is not permitted after the rest element\"); }\n    var parens = isAssign ? refDestructuringErrors.parenthesizedAssign : refDestructuringErrors.parenthesizedBind;\n    if (parens > -1) { this.raiseRecoverable(parens, isAssign ? \"Assigning to rvalue\" : \"Parenthesized pattern\"); }\n  };\n\n  pp$9.checkExpressionErrors = function(refDestructuringErrors, andThrow) {\n    if (!refDestructuringErrors) { return false }\n    var shorthandAssign = refDestructuringErrors.shorthandAssign;\n    var doubleProto = refDestructuringErrors.doubleProto;\n    if (!andThrow) { return shorthandAssign >= 0 || doubleProto >= 0 }\n    if (shorthandAssign >= 0)\n      { this.raise(shorthandAssign, \"Shorthand property assignments are valid only in destructuring patterns\"); }\n    if (doubleProto >= 0)\n      { this.raiseRecoverable(doubleProto, \"Redefinition of __proto__ property\"); }\n  };\n\n  pp$9.checkYieldAwaitInDefaultParams = function() {\n    if (this.yieldPos && (!this.awaitPos || this.yieldPos < this.awaitPos))\n      { this.raise(this.yieldPos, \"Yield expression cannot be a default value\"); }\n    if (this.awaitPos)\n      { this.raise(this.awaitPos, \"Await expression cannot be a default value\"); }\n  };\n\n  pp$9.isSimpleAssignTarget = function(expr) {\n    if (expr.type === \"ParenthesizedExpression\")\n      { return this.isSimpleAssignTarget(expr.expression) }\n    return expr.type === \"Identifier\" || expr.type === \"MemberExpression\"\n  };\n\n  var pp$8 = Parser.prototype;\n\n  // ### Statement parsing\n\n  // Parse a program. Initializes the parser, reads any number of\n  // statements, and wraps them in a Program node.  Optionally takes a\n  // `program` argument.  If present, the statements will be appended\n  // to its body instead of creating a new node.\n\n  pp$8.parseTopLevel = function(node) {\n    var exports = Object.create(null);\n    if (!node.body) { node.body = []; }\n    while (this.type !== types$1.eof) {\n      var stmt = this.parseStatement(null, true, exports);\n      node.body.push(stmt);\n    }\n    if (this.inModule)\n      { for (var i = 0, list = Object.keys(this.undefinedExports); i < list.length; i += 1)\n        {\n          var name = list[i];\n\n          this.raiseRecoverable(this.undefinedExports[name].start, (\"Export '\" + name + \"' is not defined\"));\n        } }\n    this.adaptDirectivePrologue(node.body);\n    this.next();\n    node.sourceType = this.options.sourceType;\n    return this.finishNode(node, \"Program\")\n  };\n\n  var loopLabel = {kind: \"loop\"}, switchLabel = {kind: \"switch\"};\n\n  pp$8.isLet = function(context) {\n    if (this.options.ecmaVersion < 6 || !this.isContextual(\"let\")) { return false }\n    skipWhiteSpace.lastIndex = this.pos;\n    var skip = skipWhiteSpace.exec(this.input);\n    var next = this.pos + skip[0].length, nextCh = this.input.charCodeAt(next);\n    // For ambiguous cases, determine if a LexicalDeclaration (or only a\n    // Statement) is allowed here. If context is not empty then only a Statement\n    // is allowed. However, `let [` is an explicit negative lookahead for\n    // ExpressionStatement, so special-case it first.\n    if (nextCh === 91 || nextCh === 92) { return true } // '[', '\\'\n    if (context) { return false }\n\n    if (nextCh === 123 || nextCh > 0xd7ff && nextCh < 0xdc00) { return true } // '{', astral\n    if (isIdentifierStart(nextCh, true)) {\n      var pos = next + 1;\n      while (isIdentifierChar(nextCh = this.input.charCodeAt(pos), true)) { ++pos; }\n      if (nextCh === 92 || nextCh > 0xd7ff && nextCh < 0xdc00) { return true }\n      var ident = this.input.slice(next, pos);\n      if (!keywordRelationalOperator.test(ident)) { return true }\n    }\n    return false\n  };\n\n  // check 'async [no LineTerminator here] function'\n  // - 'async /*foo*/ function' is OK.\n  // - 'async /*\\n*/ function' is invalid.\n  pp$8.isAsyncFunction = function() {\n    if (this.options.ecmaVersion < 8 || !this.isContextual(\"async\"))\n      { return false }\n\n    skipWhiteSpace.lastIndex = this.pos;\n    var skip = skipWhiteSpace.exec(this.input);\n    var next = this.pos + skip[0].length, after;\n    return !lineBreak.test(this.input.slice(this.pos, next)) &&\n      this.input.slice(next, next + 8) === \"function\" &&\n      (next + 8 === this.input.length ||\n       !(isIdentifierChar(after = this.input.charCodeAt(next + 8)) || after > 0xd7ff && after < 0xdc00))\n  };\n\n  // Parse a single statement.\n  //\n  // If expecting a statement and finding a slash operator, parse a\n  // regular expression literal. This is to handle cases like\n  // `if (foo) /blah/.exec(foo)`, where looking at the previous token\n  // does not help.\n\n  pp$8.parseStatement = function(context, topLevel, exports) {\n    var starttype = this.type, node = this.startNode(), kind;\n\n    if (this.isLet(context)) {\n      starttype = types$1._var;\n      kind = \"let\";\n    }\n\n    // Most types of statements are recognized by the keyword they\n    // start with. Many are trivial to parse, some require a bit of\n    // complexity.\n\n    switch (starttype) {\n    case types$1._break: case types$1._continue: return this.parseBreakContinueStatement(node, starttype.keyword)\n    case types$1._debugger: return this.parseDebuggerStatement(node)\n    case types$1._do: return this.parseDoStatement(node)\n    case types$1._for: return this.parseForStatement(node)\n    case types$1._function:\n      // Function as sole body of either an if statement or a labeled statement\n      // works, but not when it is part of a labeled statement that is the sole\n      // body of an if statement.\n      if ((context && (this.strict || context !== \"if\" && context !== \"label\")) && this.options.ecmaVersion >= 6) { this.unexpected(); }\n      return this.parseFunctionStatement(node, false, !context)\n    case types$1._class:\n      if (context) { this.unexpected(); }\n      return this.parseClass(node, true)\n    case types$1._if: return this.parseIfStatement(node)\n    case types$1._return: return this.parseReturnStatement(node)\n    case types$1._switch: return this.parseSwitchStatement(node)\n    case types$1._throw: return this.parseThrowStatement(node)\n    case types$1._try: return this.parseTryStatement(node)\n    case types$1._const: case types$1._var:\n      kind = kind || this.value;\n      if (context && kind !== \"var\") { this.unexpected(); }\n      return this.parseVarStatement(node, kind)\n    case types$1._while: return this.parseWhileStatement(node)\n    case types$1._with: return this.parseWithStatement(node)\n    case types$1.braceL: return this.parseBlock(true, node)\n    case types$1.semi: return this.parseEmptyStatement(node)\n    case types$1._export:\n    case types$1._import:\n      if (this.options.ecmaVersion > 10 && starttype === types$1._import) {\n        skipWhiteSpace.lastIndex = this.pos;\n        var skip = skipWhiteSpace.exec(this.input);\n        var next = this.pos + skip[0].length, nextCh = this.input.charCodeAt(next);\n        if (nextCh === 40 || nextCh === 46) // '(' or '.'\n          { return this.parseExpressionStatement(node, this.parseExpression()) }\n      }\n\n      if (!this.options.allowImportExportEverywhere) {\n        if (!topLevel)\n          { this.raise(this.start, \"'import' and 'export' may only appear at the top level\"); }\n        if (!this.inModule)\n          { this.raise(this.start, \"'import' and 'export' may appear only with 'sourceType: module'\"); }\n      }\n      return starttype === types$1._import ? this.parseImport(node) : this.parseExport(node, exports)\n\n      // If the statement does not start with a statement keyword or a\n      // brace, it's an ExpressionStatement or LabeledStatement. We\n      // simply start parsing an expression, and afterwards, if the\n      // next token is a colon and the expression was a simple\n      // Identifier node, we switch to interpreting it as a label.\n    default:\n      if (this.isAsyncFunction()) {\n        if (context) { this.unexpected(); }\n        this.next();\n        return this.parseFunctionStatement(node, true, !context)\n      }\n\n      var maybeName = this.value, expr = this.parseExpression();\n      if (starttype === types$1.name && expr.type === \"Identifier\" && this.eat(types$1.colon))\n        { return this.parseLabeledStatement(node, maybeName, expr, context) }\n      else { return this.parseExpressionStatement(node, expr) }\n    }\n  };\n\n  pp$8.parseBreakContinueStatement = function(node, keyword) {\n    var isBreak = keyword === \"break\";\n    this.next();\n    if (this.eat(types$1.semi) || this.insertSemicolon()) { node.label = null; }\n    else if (this.type !== types$1.name) { this.unexpected(); }\n    else {\n      node.label = this.parseIdent();\n      this.semicolon();\n    }\n\n    // Verify that there is an actual destination to break or\n    // continue to.\n    var i = 0;\n    for (; i < this.labels.length; ++i) {\n      var lab = this.labels[i];\n      if (node.label == null || lab.name === node.label.name) {\n        if (lab.kind != null && (isBreak || lab.kind === \"loop\")) { break }\n        if (node.label && isBreak) { break }\n      }\n    }\n    if (i === this.labels.length) { this.raise(node.start, \"Unsyntactic \" + keyword); }\n    return this.finishNode(node, isBreak ? \"BreakStatement\" : \"ContinueStatement\")\n  };\n\n  pp$8.parseDebuggerStatement = function(node) {\n    this.next();\n    this.semicolon();\n    return this.finishNode(node, \"DebuggerStatement\")\n  };\n\n  pp$8.parseDoStatement = function(node) {\n    this.next();\n    this.labels.push(loopLabel);\n    node.body = this.parseStatement(\"do\");\n    this.labels.pop();\n    this.expect(types$1._while);\n    node.test = this.parseParenExpression();\n    if (this.options.ecmaVersion >= 6)\n      { this.eat(types$1.semi); }\n    else\n      { this.semicolon(); }\n    return this.finishNode(node, \"DoWhileStatement\")\n  };\n\n  // Disambiguating between a `for` and a `for`/`in` or `for`/`of`\n  // loop is non-trivial. Basically, we have to parse the init `var`\n  // statement or expression, disallowing the `in` operator (see\n  // the second parameter to `parseExpression`), and then check\n  // whether the next token is `in` or `of`. When there is no init\n  // part (semicolon immediately after the opening parenthesis), it\n  // is a regular `for` loop.\n\n  pp$8.parseForStatement = function(node) {\n    this.next();\n    var awaitAt = (this.options.ecmaVersion >= 9 && this.canAwait && this.eatContextual(\"await\")) ? this.lastTokStart : -1;\n    this.labels.push(loopLabel);\n    this.enterScope(0);\n    this.expect(types$1.parenL);\n    if (this.type === types$1.semi) {\n      if (awaitAt > -1) { this.unexpected(awaitAt); }\n      return this.parseFor(node, null)\n    }\n    var isLet = this.isLet();\n    if (this.type === types$1._var || this.type === types$1._const || isLet) {\n      var init$1 = this.startNode(), kind = isLet ? \"let\" : this.value;\n      this.next();\n      this.parseVar(init$1, true, kind);\n      this.finishNode(init$1, \"VariableDeclaration\");\n      if ((this.type === types$1._in || (this.options.ecmaVersion >= 6 && this.isContextual(\"of\"))) && init$1.declarations.length === 1) {\n        if (this.options.ecmaVersion >= 9) {\n          if (this.type === types$1._in) {\n            if (awaitAt > -1) { this.unexpected(awaitAt); }\n          } else { node.await = awaitAt > -1; }\n        }\n        return this.parseForIn(node, init$1)\n      }\n      if (awaitAt > -1) { this.unexpected(awaitAt); }\n      return this.parseFor(node, init$1)\n    }\n    var startsWithLet = this.isContextual(\"let\"), isForOf = false;\n    var containsEsc = this.containsEsc;\n    var refDestructuringErrors = new DestructuringErrors;\n    var initPos = this.start;\n    var init = awaitAt > -1\n      ? this.parseExprSubscripts(refDestructuringErrors, \"await\")\n      : this.parseExpression(true, refDestructuringErrors);\n    if (this.type === types$1._in || (isForOf = this.options.ecmaVersion >= 6 && this.isContextual(\"of\"))) {\n      if (awaitAt > -1) { // implies `ecmaVersion >= 9` (see declaration of awaitAt)\n        if (this.type === types$1._in) { this.unexpected(awaitAt); }\n        node.await = true;\n      } else if (isForOf && this.options.ecmaVersion >= 8) {\n        if (init.start === initPos && !containsEsc && init.type === \"Identifier\" && init.name === \"async\") { this.unexpected(); }\n        else if (this.options.ecmaVersion >= 9) { node.await = false; }\n      }\n      if (startsWithLet && isForOf) { this.raise(init.start, \"The left-hand side of a for-of loop may not start with 'let'.\"); }\n      this.toAssignable(init, false, refDestructuringErrors);\n      this.checkLValPattern(init);\n      return this.parseForIn(node, init)\n    } else {\n      this.checkExpressionErrors(refDestructuringErrors, true);\n    }\n    if (awaitAt > -1) { this.unexpected(awaitAt); }\n    return this.parseFor(node, init)\n  };\n\n  pp$8.parseFunctionStatement = function(node, isAsync, declarationPosition) {\n    this.next();\n    return this.parseFunction(node, FUNC_STATEMENT | (declarationPosition ? 0 : FUNC_HANGING_STATEMENT), false, isAsync)\n  };\n\n  pp$8.parseIfStatement = function(node) {\n    this.next();\n    node.test = this.parseParenExpression();\n    // allow function declarations in branches, but only in non-strict mode\n    node.consequent = this.parseStatement(\"if\");\n    node.alternate = this.eat(types$1._else) ? this.parseStatement(\"if\") : null;\n    return this.finishNode(node, \"IfStatement\")\n  };\n\n  pp$8.parseReturnStatement = function(node) {\n    if (!this.inFunction && !this.options.allowReturnOutsideFunction)\n      { this.raise(this.start, \"'return' outside of function\"); }\n    this.next();\n\n    // In `return` (and `break`/`continue`), the keywords with\n    // optional arguments, we eagerly look for a semicolon or the\n    // possibility to insert one.\n\n    if (this.eat(types$1.semi) || this.insertSemicolon()) { node.argument = null; }\n    else { node.argument = this.parseExpression(); this.semicolon(); }\n    return this.finishNode(node, \"ReturnStatement\")\n  };\n\n  pp$8.parseSwitchStatement = function(node) {\n    this.next();\n    node.discriminant = this.parseParenExpression();\n    node.cases = [];\n    this.expect(types$1.braceL);\n    this.labels.push(switchLabel);\n    this.enterScope(0);\n\n    // Statements under must be grouped (by label) in SwitchCase\n    // nodes. `cur` is used to keep the node that we are currently\n    // adding statements to.\n\n    var cur;\n    for (var sawDefault = false; this.type !== types$1.braceR;) {\n      if (this.type === types$1._case || this.type === types$1._default) {\n        var isCase = this.type === types$1._case;\n        if (cur) { this.finishNode(cur, \"SwitchCase\"); }\n        node.cases.push(cur = this.startNode());\n        cur.consequent = [];\n        this.next();\n        if (isCase) {\n          cur.test = this.parseExpression();\n        } else {\n          if (sawDefault) { this.raiseRecoverable(this.lastTokStart, \"Multiple default clauses\"); }\n          sawDefault = true;\n          cur.test = null;\n        }\n        this.expect(types$1.colon);\n      } else {\n        if (!cur) { this.unexpected(); }\n        cur.consequent.push(this.parseStatement(null));\n      }\n    }\n    this.exitScope();\n    if (cur) { this.finishNode(cur, \"SwitchCase\"); }\n    this.next(); // Closing brace\n    this.labels.pop();\n    return this.finishNode(node, \"SwitchStatement\")\n  };\n\n  pp$8.parseThrowStatement = function(node) {\n    this.next();\n    if (lineBreak.test(this.input.slice(this.lastTokEnd, this.start)))\n      { this.raise(this.lastTokEnd, \"Illegal newline after throw\"); }\n    node.argument = this.parseExpression();\n    this.semicolon();\n    return this.finishNode(node, \"ThrowStatement\")\n  };\n\n  // Reused empty array added for node fields that are always empty.\n\n  var empty$1 = [];\n\n  pp$8.parseCatchClauseParam = function() {\n    var param = this.parseBindingAtom();\n    var simple = param.type === \"Identifier\";\n    this.enterScope(simple ? SCOPE_SIMPLE_CATCH : 0);\n    this.checkLValPattern(param, simple ? BIND_SIMPLE_CATCH : BIND_LEXICAL);\n    this.expect(types$1.parenR);\n\n    return param\n  };\n\n  pp$8.parseTryStatement = function(node) {\n    this.next();\n    node.block = this.parseBlock();\n    node.handler = null;\n    if (this.type === types$1._catch) {\n      var clause = this.startNode();\n      this.next();\n      if (this.eat(types$1.parenL)) {\n        clause.param = this.parseCatchClauseParam();\n      } else {\n        if (this.options.ecmaVersion < 10) { this.unexpected(); }\n        clause.param = null;\n        this.enterScope(0);\n      }\n      clause.body = this.parseBlock(false);\n      this.exitScope();\n      node.handler = this.finishNode(clause, \"CatchClause\");\n    }\n    node.finalizer = this.eat(types$1._finally) ? this.parseBlock() : null;\n    if (!node.handler && !node.finalizer)\n      { this.raise(node.start, \"Missing catch or finally clause\"); }\n    return this.finishNode(node, \"TryStatement\")\n  };\n\n  pp$8.parseVarStatement = function(node, kind, allowMissingInitializer) {\n    this.next();\n    this.parseVar(node, false, kind, allowMissingInitializer);\n    this.semicolon();\n    return this.finishNode(node, \"VariableDeclaration\")\n  };\n\n  pp$8.parseWhileStatement = function(node) {\n    this.next();\n    node.test = this.parseParenExpression();\n    this.labels.push(loopLabel);\n    node.body = this.parseStatement(\"while\");\n    this.labels.pop();\n    return this.finishNode(node, \"WhileStatement\")\n  };\n\n  pp$8.parseWithStatement = function(node) {\n    if (this.strict) { this.raise(this.start, \"'with' in strict mode\"); }\n    this.next();\n    node.object = this.parseParenExpression();\n    node.body = this.parseStatement(\"with\");\n    return this.finishNode(node, \"WithStatement\")\n  };\n\n  pp$8.parseEmptyStatement = function(node) {\n    this.next();\n    return this.finishNode(node, \"EmptyStatement\")\n  };\n\n  pp$8.parseLabeledStatement = function(node, maybeName, expr, context) {\n    for (var i$1 = 0, list = this.labels; i$1 < list.length; i$1 += 1)\n      {\n      var label = list[i$1];\n\n      if (label.name === maybeName)\n        { this.raise(expr.start, \"Label '\" + maybeName + \"' is already declared\");\n    } }\n    var kind = this.type.isLoop ? \"loop\" : this.type === types$1._switch ? \"switch\" : null;\n    for (var i = this.labels.length - 1; i >= 0; i--) {\n      var label$1 = this.labels[i];\n      if (label$1.statementStart === node.start) {\n        // Update information about previous labels on this node\n        label$1.statementStart = this.start;\n        label$1.kind = kind;\n      } else { break }\n    }\n    this.labels.push({name: maybeName, kind: kind, statementStart: this.start});\n    node.body = this.parseStatement(context ? context.indexOf(\"label\") === -1 ? context + \"label\" : context : \"label\");\n    this.labels.pop();\n    node.label = expr;\n    return this.finishNode(node, \"LabeledStatement\")\n  };\n\n  pp$8.parseExpressionStatement = function(node, expr) {\n    node.expression = expr;\n    this.semicolon();\n    return this.finishNode(node, \"ExpressionStatement\")\n  };\n\n  // Parse a semicolon-enclosed block of statements, handling `\"use\n  // strict\"` declarations when `allowStrict` is true (used for\n  // function bodies).\n\n  pp$8.parseBlock = function(createNewLexicalScope, node, exitStrict) {\n    if ( createNewLexicalScope === void 0 ) createNewLexicalScope = true;\n    if ( node === void 0 ) node = this.startNode();\n\n    node.body = [];\n    this.expect(types$1.braceL);\n    if (createNewLexicalScope) { this.enterScope(0); }\n    while (this.type !== types$1.braceR) {\n      var stmt = this.parseStatement(null);\n      node.body.push(stmt);\n    }\n    if (exitStrict) { this.strict = false; }\n    this.next();\n    if (createNewLexicalScope) { this.exitScope(); }\n    return this.finishNode(node, \"BlockStatement\")\n  };\n\n  // Parse a regular `for` loop. The disambiguation code in\n  // `parseStatement` will already have parsed the init statement or\n  // expression.\n\n  pp$8.parseFor = function(node, init) {\n    node.init = init;\n    this.expect(types$1.semi);\n    node.test = this.type === types$1.semi ? null : this.parseExpression();\n    this.expect(types$1.semi);\n    node.update = this.type === types$1.parenR ? null : this.parseExpression();\n    this.expect(types$1.parenR);\n    node.body = this.parseStatement(\"for\");\n    this.exitScope();\n    this.labels.pop();\n    return this.finishNode(node, \"ForStatement\")\n  };\n\n  // Parse a `for`/`in` and `for`/`of` loop, which are almost\n  // same from parser's perspective.\n\n  pp$8.parseForIn = function(node, init) {\n    var isForIn = this.type === types$1._in;\n    this.next();\n\n    if (\n      init.type === \"VariableDeclaration\" &&\n      init.declarations[0].init != null &&\n      (\n        !isForIn ||\n        this.options.ecmaVersion < 8 ||\n        this.strict ||\n        init.kind !== \"var\" ||\n        init.declarations[0].id.type !== \"Identifier\"\n      )\n    ) {\n      this.raise(\n        init.start,\n        ((isForIn ? \"for-in\" : \"for-of\") + \" loop variable declaration may not have an initializer\")\n      );\n    }\n    node.left = init;\n    node.right = isForIn ? this.parseExpression() : this.parseMaybeAssign();\n    this.expect(types$1.parenR);\n    node.body = this.parseStatement(\"for\");\n    this.exitScope();\n    this.labels.pop();\n    return this.finishNode(node, isForIn ? \"ForInStatement\" : \"ForOfStatement\")\n  };\n\n  // Parse a list of variable declarations.\n\n  pp$8.parseVar = function(node, isFor, kind, allowMissingInitializer) {\n    node.declarations = [];\n    node.kind = kind;\n    for (;;) {\n      var decl = this.startNode();\n      this.parseVarId(decl, kind);\n      if (this.eat(types$1.eq)) {\n        decl.init = this.parseMaybeAssign(isFor);\n      } else if (!allowMissingInitializer && kind === \"const\" && !(this.type === types$1._in || (this.options.ecmaVersion >= 6 && this.isContextual(\"of\")))) {\n        this.unexpected();\n      } else if (!allowMissingInitializer && decl.id.type !== \"Identifier\" && !(isFor && (this.type === types$1._in || this.isContextual(\"of\")))) {\n        this.raise(this.lastTokEnd, \"Complex binding patterns require an initialization value\");\n      } else {\n        decl.init = null;\n      }\n      node.declarations.push(this.finishNode(decl, \"VariableDeclarator\"));\n      if (!this.eat(types$1.comma)) { break }\n    }\n    return node\n  };\n\n  pp$8.parseVarId = function(decl, kind) {\n    decl.id = this.parseBindingAtom();\n    this.checkLValPattern(decl.id, kind === \"var\" ? BIND_VAR : BIND_LEXICAL, false);\n  };\n\n  var FUNC_STATEMENT = 1, FUNC_HANGING_STATEMENT = 2, FUNC_NULLABLE_ID = 4;\n\n  // Parse a function declaration or literal (depending on the\n  // `statement & FUNC_STATEMENT`).\n\n  // Remove `allowExpressionBody` for 7.0.0, as it is only called with false\n  pp$8.parseFunction = function(node, statement, allowExpressionBody, isAsync, forInit) {\n    this.initFunction(node);\n    if (this.options.ecmaVersion >= 9 || this.options.ecmaVersion >= 6 && !isAsync) {\n      if (this.type === types$1.star && (statement & FUNC_HANGING_STATEMENT))\n        { this.unexpected(); }\n      node.generator = this.eat(types$1.star);\n    }\n    if (this.options.ecmaVersion >= 8)\n      { node.async = !!isAsync; }\n\n    if (statement & FUNC_STATEMENT) {\n      node.id = (statement & FUNC_NULLABLE_ID) && this.type !== types$1.name ? null : this.parseIdent();\n      if (node.id && !(statement & FUNC_HANGING_STATEMENT))\n        // If it is a regular function declaration in sloppy mode, then it is\n        // subject to Annex B semantics (BIND_FUNCTION). Otherwise, the binding\n        // mode depends on properties of the current scope (see\n        // treatFunctionsAsVar).\n        { this.checkLValSimple(node.id, (this.strict || node.generator || node.async) ? this.treatFunctionsAsVar ? BIND_VAR : BIND_LEXICAL : BIND_FUNCTION); }\n    }\n\n    var oldYieldPos = this.yieldPos, oldAwaitPos = this.awaitPos, oldAwaitIdentPos = this.awaitIdentPos;\n    this.yieldPos = 0;\n    this.awaitPos = 0;\n    this.awaitIdentPos = 0;\n    this.enterScope(functionFlags(node.async, node.generator));\n\n    if (!(statement & FUNC_STATEMENT))\n      { node.id = this.type === types$1.name ? this.parseIdent() : null; }\n\n    this.parseFunctionParams(node);\n    this.parseFunctionBody(node, allowExpressionBody, false, forInit);\n\n    this.yieldPos = oldYieldPos;\n    this.awaitPos = oldAwaitPos;\n    this.awaitIdentPos = oldAwaitIdentPos;\n    return this.finishNode(node, (statement & FUNC_STATEMENT) ? \"FunctionDeclaration\" : \"FunctionExpression\")\n  };\n\n  pp$8.parseFunctionParams = function(node) {\n    this.expect(types$1.parenL);\n    node.params = this.parseBindingList(types$1.parenR, false, this.options.ecmaVersion >= 8);\n    this.checkYieldAwaitInDefaultParams();\n  };\n\n  // Parse a class declaration or literal (depending on the\n  // `isStatement` parameter).\n\n  pp$8.parseClass = function(node, isStatement) {\n    this.next();\n\n    // ecma-262 14.6 Class Definitions\n    // A class definition is always strict mode code.\n    var oldStrict = this.strict;\n    this.strict = true;\n\n    this.parseClassId(node, isStatement);\n    this.parseClassSuper(node);\n    var privateNameMap = this.enterClassBody();\n    var classBody = this.startNode();\n    var hadConstructor = false;\n    classBody.body = [];\n    this.expect(types$1.braceL);\n    while (this.type !== types$1.braceR) {\n      var element = this.parseClassElement(node.superClass !== null);\n      if (element) {\n        classBody.body.push(element);\n        if (element.type === \"MethodDefinition\" && element.kind === \"constructor\") {\n          if (hadConstructor) { this.raiseRecoverable(element.start, \"Duplicate constructor in the same class\"); }\n          hadConstructor = true;\n        } else if (element.key && element.key.type === \"PrivateIdentifier\" && isPrivateNameConflicted(privateNameMap, element)) {\n          this.raiseRecoverable(element.key.start, (\"Identifier '#\" + (element.key.name) + \"' has already been declared\"));\n        }\n      }\n    }\n    this.strict = oldStrict;\n    this.next();\n    node.body = this.finishNode(classBody, \"ClassBody\");\n    this.exitClassBody();\n    return this.finishNode(node, isStatement ? \"ClassDeclaration\" : \"ClassExpression\")\n  };\n\n  pp$8.parseClassElement = function(constructorAllowsSuper) {\n    if (this.eat(types$1.semi)) { return null }\n\n    var ecmaVersion = this.options.ecmaVersion;\n    var node = this.startNode();\n    var keyName = \"\";\n    var isGenerator = false;\n    var isAsync = false;\n    var kind = \"method\";\n    var isStatic = false;\n\n    if (this.eatContextual(\"static\")) {\n      // Parse static init block\n      if (ecmaVersion >= 13 && this.eat(types$1.braceL)) {\n        this.parseClassStaticBlock(node);\n        return node\n      }\n      if (this.isClassElementNameStart() || this.type === types$1.star) {\n        isStatic = true;\n      } else {\n        keyName = \"static\";\n      }\n    }\n    node.static = isStatic;\n    if (!keyName && ecmaVersion >= 8 && this.eatContextual(\"async\")) {\n      if ((this.isClassElementNameStart() || this.type === types$1.star) && !this.canInsertSemicolon()) {\n        isAsync = true;\n      } else {\n        keyName = \"async\";\n      }\n    }\n    if (!keyName && (ecmaVersion >= 9 || !isAsync) && this.eat(types$1.star)) {\n      isGenerator = true;\n    }\n    if (!keyName && !isAsync && !isGenerator) {\n      var lastValue = this.value;\n      if (this.eatContextual(\"get\") || this.eatContextual(\"set\")) {\n        if (this.isClassElementNameStart()) {\n          kind = lastValue;\n        } else {\n          keyName = lastValue;\n        }\n      }\n    }\n\n    // Parse element name\n    if (keyName) {\n      // 'async', 'get', 'set', or 'static' were not a keyword contextually.\n      // The last token is any of those. Make it the element name.\n      node.computed = false;\n      node.key = this.startNodeAt(this.lastTokStart, this.lastTokStartLoc);\n      node.key.name = keyName;\n      this.finishNode(node.key, \"Identifier\");\n    } else {\n      this.parseClassElementName(node);\n    }\n\n    // Parse element value\n    if (ecmaVersion < 13 || this.type === types$1.parenL || kind !== \"method\" || isGenerator || isAsync) {\n      var isConstructor = !node.static && checkKeyName(node, \"constructor\");\n      var allowsDirectSuper = isConstructor && constructorAllowsSuper;\n      // Couldn't move this check into the 'parseClassMethod' method for backward compatibility.\n      if (isConstructor && kind !== \"method\") { this.raise(node.key.start, \"Constructor can't have get/set modifier\"); }\n      node.kind = isConstructor ? \"constructor\" : kind;\n      this.parseClassMethod(node, isGenerator, isAsync, allowsDirectSuper);\n    } else {\n      this.parseClassField(node);\n    }\n\n    return node\n  };\n\n  pp$8.isClassElementNameStart = function() {\n    return (\n      this.type === types$1.name ||\n      this.type === types$1.privateId ||\n      this.type === types$1.num ||\n      this.type === types$1.string ||\n      this.type === types$1.bracketL ||\n      this.type.keyword\n    )\n  };\n\n  pp$8.parseClassElementName = function(element) {\n    if (this.type === types$1.privateId) {\n      if (this.value === \"constructor\") {\n        this.raise(this.start, \"Classes can't have an element named '#constructor'\");\n      }\n      element.computed = false;\n      element.key = this.parsePrivateIdent();\n    } else {\n      this.parsePropertyName(element);\n    }\n  };\n\n  pp$8.parseClassMethod = function(method, isGenerator, isAsync, allowsDirectSuper) {\n    // Check key and flags\n    var key = method.key;\n    if (method.kind === \"constructor\") {\n      if (isGenerator) { this.raise(key.start, \"Constructor can't be a generator\"); }\n      if (isAsync) { this.raise(key.start, \"Constructor can't be an async method\"); }\n    } else if (method.static && checkKeyName(method, \"prototype\")) {\n      this.raise(key.start, \"Classes may not have a static property named prototype\");\n    }\n\n    // Parse value\n    var value = method.value = this.parseMethod(isGenerator, isAsync, allowsDirectSuper);\n\n    // Check value\n    if (method.kind === \"get\" && value.params.length !== 0)\n      { this.raiseRecoverable(value.start, \"getter should have no params\"); }\n    if (method.kind === \"set\" && value.params.length !== 1)\n      { this.raiseRecoverable(value.start, \"setter should have exactly one param\"); }\n    if (method.kind === \"set\" && value.params[0].type === \"RestElement\")\n      { this.raiseRecoverable(value.params[0].start, \"Setter cannot use rest params\"); }\n\n    return this.finishNode(method, \"MethodDefinition\")\n  };\n\n  pp$8.parseClassField = function(field) {\n    if (checkKeyName(field, \"constructor\")) {\n      this.raise(field.key.start, \"Classes can't have a field named 'constructor'\");\n    } else if (field.static && checkKeyName(field, \"prototype\")) {\n      this.raise(field.key.start, \"Classes can't have a static field named 'prototype'\");\n    }\n\n    if (this.eat(types$1.eq)) {\n      // To raise SyntaxError if 'arguments' exists in the initializer.\n      var scope = this.currentThisScope();\n      var inClassFieldInit = scope.inClassFieldInit;\n      scope.inClassFieldInit = true;\n      field.value = this.parseMaybeAssign();\n      scope.inClassFieldInit = inClassFieldInit;\n    } else {\n      field.value = null;\n    }\n    this.semicolon();\n\n    return this.finishNode(field, \"PropertyDefinition\")\n  };\n\n  pp$8.parseClassStaticBlock = function(node) {\n    node.body = [];\n\n    var oldLabels = this.labels;\n    this.labels = [];\n    this.enterScope(SCOPE_CLASS_STATIC_BLOCK | SCOPE_SUPER);\n    while (this.type !== types$1.braceR) {\n      var stmt = this.parseStatement(null);\n      node.body.push(stmt);\n    }\n    this.next();\n    this.exitScope();\n    this.labels = oldLabels;\n\n    return this.finishNode(node, \"StaticBlock\")\n  };\n\n  pp$8.parseClassId = function(node, isStatement) {\n    if (this.type === types$1.name) {\n      node.id = this.parseIdent();\n      if (isStatement)\n        { this.checkLValSimple(node.id, BIND_LEXICAL, false); }\n    } else {\n      if (isStatement === true)\n        { this.unexpected(); }\n      node.id = null;\n    }\n  };\n\n  pp$8.parseClassSuper = function(node) {\n    node.superClass = this.eat(types$1._extends) ? this.parseExprSubscripts(null, false) : null;\n  };\n\n  pp$8.enterClassBody = function() {\n    var element = {declared: Object.create(null), used: []};\n    this.privateNameStack.push(element);\n    return element.declared\n  };\n\n  pp$8.exitClassBody = function() {\n    var ref = this.privateNameStack.pop();\n    var declared = ref.declared;\n    var used = ref.used;\n    if (!this.options.checkPrivateFields) { return }\n    var len = this.privateNameStack.length;\n    var parent = len === 0 ? null : this.privateNameStack[len - 1];\n    for (var i = 0; i < used.length; ++i) {\n      var id = used[i];\n      if (!hasOwn(declared, id.name)) {\n        if (parent) {\n          parent.used.push(id);\n        } else {\n          this.raiseRecoverable(id.start, (\"Private field '#\" + (id.name) + \"' must be declared in an enclosing class\"));\n        }\n      }\n    }\n  };\n\n  function isPrivateNameConflicted(privateNameMap, element) {\n    var name = element.key.name;\n    var curr = privateNameMap[name];\n\n    var next = \"true\";\n    if (element.type === \"MethodDefinition\" && (element.kind === \"get\" || element.kind === \"set\")) {\n      next = (element.static ? \"s\" : \"i\") + element.kind;\n    }\n\n    // `class { get #a(){}; static set #a(_){} }` is also conflict.\n    if (\n      curr === \"iget\" && next === \"iset\" ||\n      curr === \"iset\" && next === \"iget\" ||\n      curr === \"sget\" && next === \"sset\" ||\n      curr === \"sset\" && next === \"sget\"\n    ) {\n      privateNameMap[name] = \"true\";\n      return false\n    } else if (!curr) {\n      privateNameMap[name] = next;\n      return false\n    } else {\n      return true\n    }\n  }\n\n  function checkKeyName(node, name) {\n    var computed = node.computed;\n    var key = node.key;\n    return !computed && (\n      key.type === \"Identifier\" && key.name === name ||\n      key.type === \"Literal\" && key.value === name\n    )\n  }\n\n  // Parses module export declaration.\n\n  pp$8.parseExportAllDeclaration = function(node, exports) {\n    if (this.options.ecmaVersion >= 11) {\n      if (this.eatContextual(\"as\")) {\n        node.exported = this.parseModuleExportName();\n        this.checkExport(exports, node.exported, this.lastTokStart);\n      } else {\n        node.exported = null;\n      }\n    }\n    this.expectContextual(\"from\");\n    if (this.type !== types$1.string) { this.unexpected(); }\n    node.source = this.parseExprAtom();\n    this.semicolon();\n    return this.finishNode(node, \"ExportAllDeclaration\")\n  };\n\n  pp$8.parseExport = function(node, exports) {\n    this.next();\n    // export * from '...'\n    if (this.eat(types$1.star)) {\n      return this.parseExportAllDeclaration(node, exports)\n    }\n    if (this.eat(types$1._default)) { // export default ...\n      this.checkExport(exports, \"default\", this.lastTokStart);\n      node.declaration = this.parseExportDefaultDeclaration();\n      return this.finishNode(node, \"ExportDefaultDeclaration\")\n    }\n    // export var|const|let|function|class ...\n    if (this.shouldParseExportStatement()) {\n      node.declaration = this.parseExportDeclaration(node);\n      if (node.declaration.type === \"VariableDeclaration\")\n        { this.checkVariableExport(exports, node.declaration.declarations); }\n      else\n        { this.checkExport(exports, node.declaration.id, node.declaration.id.start); }\n      node.specifiers = [];\n      node.source = null;\n    } else { // export { x, y as z } [from '...']\n      node.declaration = null;\n      node.specifiers = this.parseExportSpecifiers(exports);\n      if (this.eatContextual(\"from\")) {\n        if (this.type !== types$1.string) { this.unexpected(); }\n        node.source = this.parseExprAtom();\n      } else {\n        for (var i = 0, list = node.specifiers; i < list.length; i += 1) {\n          // check for keywords used as local names\n          var spec = list[i];\n\n          this.checkUnreserved(spec.local);\n          // check if export is defined\n          this.checkLocalExport(spec.local);\n\n          if (spec.local.type === \"Literal\") {\n            this.raise(spec.local.start, \"A string literal cannot be used as an exported binding without `from`.\");\n          }\n        }\n\n        node.source = null;\n      }\n      this.semicolon();\n    }\n    return this.finishNode(node, \"ExportNamedDeclaration\")\n  };\n\n  pp$8.parseExportDeclaration = function(node) {\n    return this.parseStatement(null)\n  };\n\n  pp$8.parseExportDefaultDeclaration = function() {\n    var isAsync;\n    if (this.type === types$1._function || (isAsync = this.isAsyncFunction())) {\n      var fNode = this.startNode();\n      this.next();\n      if (isAsync) { this.next(); }\n      return this.parseFunction(fNode, FUNC_STATEMENT | FUNC_NULLABLE_ID, false, isAsync)\n    } else if (this.type === types$1._class) {\n      var cNode = this.startNode();\n      return this.parseClass(cNode, \"nullableID\")\n    } else {\n      var declaration = this.parseMaybeAssign();\n      this.semicolon();\n      return declaration\n    }\n  };\n\n  pp$8.checkExport = function(exports, name, pos) {\n    if (!exports) { return }\n    if (typeof name !== \"string\")\n      { name = name.type === \"Identifier\" ? name.name : name.value; }\n    if (hasOwn(exports, name))\n      { this.raiseRecoverable(pos, \"Duplicate export '\" + name + \"'\"); }\n    exports[name] = true;\n  };\n\n  pp$8.checkPatternExport = function(exports, pat) {\n    var type = pat.type;\n    if (type === \"Identifier\")\n      { this.checkExport(exports, pat, pat.start); }\n    else if (type === \"ObjectPattern\")\n      { for (var i = 0, list = pat.properties; i < list.length; i += 1)\n        {\n          var prop = list[i];\n\n          this.checkPatternExport(exports, prop);\n        } }\n    else if (type === \"ArrayPattern\")\n      { for (var i$1 = 0, list$1 = pat.elements; i$1 < list$1.length; i$1 += 1) {\n        var elt = list$1[i$1];\n\n          if (elt) { this.checkPatternExport(exports, elt); }\n      } }\n    else if (type === \"Property\")\n      { this.checkPatternExport(exports, pat.value); }\n    else if (type === \"AssignmentPattern\")\n      { this.checkPatternExport(exports, pat.left); }\n    else if (type === \"RestElement\")\n      { this.checkPatternExport(exports, pat.argument); }\n  };\n\n  pp$8.checkVariableExport = function(exports, decls) {\n    if (!exports) { return }\n    for (var i = 0, list = decls; i < list.length; i += 1)\n      {\n      var decl = list[i];\n\n      this.checkPatternExport(exports, decl.id);\n    }\n  };\n\n  pp$8.shouldParseExportStatement = function() {\n    return this.type.keyword === \"var\" ||\n      this.type.keyword === \"const\" ||\n      this.type.keyword === \"class\" ||\n      this.type.keyword === \"function\" ||\n      this.isLet() ||\n      this.isAsyncFunction()\n  };\n\n  // Parses a comma-separated list of module exports.\n\n  pp$8.parseExportSpecifier = function(exports) {\n    var node = this.startNode();\n    node.local = this.parseModuleExportName();\n\n    node.exported = this.eatContextual(\"as\") ? this.parseModuleExportName() : node.local;\n    this.checkExport(\n      exports,\n      node.exported,\n      node.exported.start\n    );\n\n    return this.finishNode(node, \"ExportSpecifier\")\n  };\n\n  pp$8.parseExportSpecifiers = function(exports) {\n    var nodes = [], first = true;\n    // export { x, y as z } [from '...']\n    this.expect(types$1.braceL);\n    while (!this.eat(types$1.braceR)) {\n      if (!first) {\n        this.expect(types$1.comma);\n        if (this.afterTrailingComma(types$1.braceR)) { break }\n      } else { first = false; }\n\n      nodes.push(this.parseExportSpecifier(exports));\n    }\n    return nodes\n  };\n\n  // Parses import declaration.\n\n  pp$8.parseImport = function(node) {\n    this.next();\n\n    // import '...'\n    if (this.type === types$1.string) {\n      node.specifiers = empty$1;\n      node.source = this.parseExprAtom();\n    } else {\n      node.specifiers = this.parseImportSpecifiers();\n      this.expectContextual(\"from\");\n      node.source = this.type === types$1.string ? this.parseExprAtom() : this.unexpected();\n    }\n    this.semicolon();\n    return this.finishNode(node, \"ImportDeclaration\")\n  };\n\n  // Parses a comma-separated list of module imports.\n\n  pp$8.parseImportSpecifier = function() {\n    var node = this.startNode();\n    node.imported = this.parseModuleExportName();\n\n    if (this.eatContextual(\"as\")) {\n      node.local = this.parseIdent();\n    } else {\n      this.checkUnreserved(node.imported);\n      node.local = node.imported;\n    }\n    this.checkLValSimple(node.local, BIND_LEXICAL);\n\n    return this.finishNode(node, \"ImportSpecifier\")\n  };\n\n  pp$8.parseImportDefaultSpecifier = function() {\n    // import defaultObj, { x, y as z } from '...'\n    var node = this.startNode();\n    node.local = this.parseIdent();\n    this.checkLValSimple(node.local, BIND_LEXICAL);\n    return this.finishNode(node, \"ImportDefaultSpecifier\")\n  };\n\n  pp$8.parseImportNamespaceSpecifier = function() {\n    var node = this.startNode();\n    this.next();\n    this.expectContextual(\"as\");\n    node.local = this.parseIdent();\n    this.checkLValSimple(node.local, BIND_LEXICAL);\n    return this.finishNode(node, \"ImportNamespaceSpecifier\")\n  };\n\n  pp$8.parseImportSpecifiers = function() {\n    var nodes = [], first = true;\n    if (this.type === types$1.name) {\n      nodes.push(this.parseImportDefaultSpecifier());\n      if (!this.eat(types$1.comma)) { return nodes }\n    }\n    if (this.type === types$1.star) {\n      nodes.push(this.parseImportNamespaceSpecifier());\n      return nodes\n    }\n    this.expect(types$1.braceL);\n    while (!this.eat(types$1.braceR)) {\n      if (!first) {\n        this.expect(types$1.comma);\n        if (this.afterTrailingComma(types$1.braceR)) { break }\n      } else { first = false; }\n\n      nodes.push(this.parseImportSpecifier());\n    }\n    return nodes\n  };\n\n  pp$8.parseModuleExportName = function() {\n    if (this.options.ecmaVersion >= 13 && this.type === types$1.string) {\n      var stringLiteral = this.parseLiteral(this.value);\n      if (loneSurrogate.test(stringLiteral.value)) {\n        this.raise(stringLiteral.start, \"An export name cannot include a lone surrogate.\");\n      }\n      return stringLiteral\n    }\n    return this.parseIdent(true)\n  };\n\n  // Set `ExpressionStatement#directive` property for directive prologues.\n  pp$8.adaptDirectivePrologue = function(statements) {\n    for (var i = 0; i < statements.length && this.isDirectiveCandidate(statements[i]); ++i) {\n      statements[i].directive = statements[i].expression.raw.slice(1, -1);\n    }\n  };\n  pp$8.isDirectiveCandidate = function(statement) {\n    return (\n      this.options.ecmaVersion >= 5 &&\n      statement.type === \"ExpressionStatement\" &&\n      statement.expression.type === \"Literal\" &&\n      typeof statement.expression.value === \"string\" &&\n      // Reject parenthesized strings.\n      (this.input[statement.start] === \"\\\"\" || this.input[statement.start] === \"'\")\n    )\n  };\n\n  var pp$7 = Parser.prototype;\n\n  // Convert existing expression atom to assignable pattern\n  // if possible.\n\n  pp$7.toAssignable = function(node, isBinding, refDestructuringErrors) {\n    if (this.options.ecmaVersion >= 6 && node) {\n      switch (node.type) {\n      case \"Identifier\":\n        if (this.inAsync && node.name === \"await\")\n          { this.raise(node.start, \"Cannot use 'await' as identifier inside an async function\"); }\n        break\n\n      case \"ObjectPattern\":\n      case \"ArrayPattern\":\n      case \"AssignmentPattern\":\n      case \"RestElement\":\n        break\n\n      case \"ObjectExpression\":\n        node.type = \"ObjectPattern\";\n        if (refDestructuringErrors) { this.checkPatternErrors(refDestructuringErrors, true); }\n        for (var i = 0, list = node.properties; i < list.length; i += 1) {\n          var prop = list[i];\n\n        this.toAssignable(prop, isBinding);\n          // Early error:\n          //   AssignmentRestProperty[Yield, Await] :\n          //     `...` DestructuringAssignmentTarget[Yield, Await]\n          //\n          //   It is a Syntax Error if |DestructuringAssignmentTarget| is an |ArrayLiteral| or an |ObjectLiteral|.\n          if (\n            prop.type === \"RestElement\" &&\n            (prop.argument.type === \"ArrayPattern\" || prop.argument.type === \"ObjectPattern\")\n          ) {\n            this.raise(prop.argument.start, \"Unexpected token\");\n          }\n        }\n        break\n\n      case \"Property\":\n        // AssignmentProperty has type === \"Property\"\n        if (node.kind !== \"init\") { this.raise(node.key.start, \"Object pattern can't contain getter or setter\"); }\n        this.toAssignable(node.value, isBinding);\n        break\n\n      case \"ArrayExpression\":\n        node.type = \"ArrayPattern\";\n        if (refDestructuringErrors) { this.checkPatternErrors(refDestructuringErrors, true); }\n        this.toAssignableList(node.elements, isBinding);\n        break\n\n      case \"SpreadElement\":\n        node.type = \"RestElement\";\n        this.toAssignable(node.argument, isBinding);\n        if (node.argument.type === \"AssignmentPattern\")\n          { this.raise(node.argument.start, \"Rest elements cannot have a default value\"); }\n        break\n\n      case \"AssignmentExpression\":\n        if (node.operator !== \"=\") { this.raise(node.left.end, \"Only '=' operator can be used for specifying default value.\"); }\n        node.type = \"AssignmentPattern\";\n        delete node.operator;\n        this.toAssignable(node.left, isBinding);\n        break\n\n      case \"ParenthesizedExpression\":\n        this.toAssignable(node.expression, isBinding, refDestructuringErrors);\n        break\n\n      case \"ChainExpression\":\n        this.raiseRecoverable(node.start, \"Optional chaining cannot appear in left-hand side\");\n        break\n\n      case \"MemberExpression\":\n        if (!isBinding) { break }\n\n      default:\n        this.raise(node.start, \"Assigning to rvalue\");\n      }\n    } else if (refDestructuringErrors) { this.checkPatternErrors(refDestructuringErrors, true); }\n    return node\n  };\n\n  // Convert list of expression atoms to binding list.\n\n  pp$7.toAssignableList = function(exprList, isBinding) {\n    var end = exprList.length;\n    for (var i = 0; i < end; i++) {\n      var elt = exprList[i];\n      if (elt) { this.toAssignable(elt, isBinding); }\n    }\n    if (end) {\n      var last = exprList[end - 1];\n      if (this.options.ecmaVersion === 6 && isBinding && last && last.type === \"RestElement\" && last.argument.type !== \"Identifier\")\n        { this.unexpected(last.argument.start); }\n    }\n    return exprList\n  };\n\n  // Parses spread element.\n\n  pp$7.parseSpread = function(refDestructuringErrors) {\n    var node = this.startNode();\n    this.next();\n    node.argument = this.parseMaybeAssign(false, refDestructuringErrors);\n    return this.finishNode(node, \"SpreadElement\")\n  };\n\n  pp$7.parseRestBinding = function() {\n    var node = this.startNode();\n    this.next();\n\n    // RestElement inside of a function parameter must be an identifier\n    if (this.options.ecmaVersion === 6 && this.type !== types$1.name)\n      { this.unexpected(); }\n\n    node.argument = this.parseBindingAtom();\n\n    return this.finishNode(node, \"RestElement\")\n  };\n\n  // Parses lvalue (assignable) atom.\n\n  pp$7.parseBindingAtom = function() {\n    if (this.options.ecmaVersion >= 6) {\n      switch (this.type) {\n      case types$1.bracketL:\n        var node = this.startNode();\n        this.next();\n        node.elements = this.parseBindingList(types$1.bracketR, true, true);\n        return this.finishNode(node, \"ArrayPattern\")\n\n      case types$1.braceL:\n        return this.parseObj(true)\n      }\n    }\n    return this.parseIdent()\n  };\n\n  pp$7.parseBindingList = function(close, allowEmpty, allowTrailingComma, allowModifiers) {\n    var elts = [], first = true;\n    while (!this.eat(close)) {\n      if (first) { first = false; }\n      else { this.expect(types$1.comma); }\n      if (allowEmpty && this.type === types$1.comma) {\n        elts.push(null);\n      } else if (allowTrailingComma && this.afterTrailingComma(close)) {\n        break\n      } else if (this.type === types$1.ellipsis) {\n        var rest = this.parseRestBinding();\n        this.parseBindingListItem(rest);\n        elts.push(rest);\n        if (this.type === types$1.comma) { this.raiseRecoverable(this.start, \"Comma is not permitted after the rest element\"); }\n        this.expect(close);\n        break\n      } else {\n        elts.push(this.parseAssignableListItem(allowModifiers));\n      }\n    }\n    return elts\n  };\n\n  pp$7.parseAssignableListItem = function(allowModifiers) {\n    var elem = this.parseMaybeDefault(this.start, this.startLoc);\n    this.parseBindingListItem(elem);\n    return elem\n  };\n\n  pp$7.parseBindingListItem = function(param) {\n    return param\n  };\n\n  // Parses assignment pattern around given atom if possible.\n\n  pp$7.parseMaybeDefault = function(startPos, startLoc, left) {\n    left = left || this.parseBindingAtom();\n    if (this.options.ecmaVersion < 6 || !this.eat(types$1.eq)) { return left }\n    var node = this.startNodeAt(startPos, startLoc);\n    node.left = left;\n    node.right = this.parseMaybeAssign();\n    return this.finishNode(node, \"AssignmentPattern\")\n  };\n\n  // The following three functions all verify that a node is an lvalue —\n  // something that can be bound, or assigned to. In order to do so, they perform\n  // a variety of checks:\n  //\n  // - Check that none of the bound/assigned-to identifiers are reserved words.\n  // - Record name declarations for bindings in the appropriate scope.\n  // - Check duplicate argument names, if checkClashes is set.\n  //\n  // If a complex binding pattern is encountered (e.g., object and array\n  // destructuring), the entire pattern is recursively checked.\n  //\n  // There are three versions of checkLVal*() appropriate for different\n  // circumstances:\n  //\n  // - checkLValSimple() shall be used if the syntactic construct supports\n  //   nothing other than identifiers and member expressions. Parenthesized\n  //   expressions are also correctly handled. This is generally appropriate for\n  //   constructs for which the spec says\n  //\n  //   > It is a Syntax Error if AssignmentTargetType of [the production] is not\n  //   > simple.\n  //\n  //   It is also appropriate for checking if an identifier is valid and not\n  //   defined elsewhere, like import declarations or function/class identifiers.\n  //\n  //   Examples where this is used include:\n  //     a += …;\n  //     import a from '…';\n  //   where a is the node to be checked.\n  //\n  // - checkLValPattern() shall be used if the syntactic construct supports\n  //   anything checkLValSimple() supports, as well as object and array\n  //   destructuring patterns. This is generally appropriate for constructs for\n  //   which the spec says\n  //\n  //   > It is a Syntax Error if [the production] is neither an ObjectLiteral nor\n  //   > an ArrayLiteral and AssignmentTargetType of [the production] is not\n  //   > simple.\n  //\n  //   Examples where this is used include:\n  //     (a = …);\n  //     const a = …;\n  //     try { … } catch (a) { … }\n  //   where a is the node to be checked.\n  //\n  // - checkLValInnerPattern() shall be used if the syntactic construct supports\n  //   anything checkLValPattern() supports, as well as default assignment\n  //   patterns, rest elements, and other constructs that may appear within an\n  //   object or array destructuring pattern.\n  //\n  //   As a special case, function parameters also use checkLValInnerPattern(),\n  //   as they also support defaults and rest constructs.\n  //\n  // These functions deliberately support both assignment and binding constructs,\n  // as the logic for both is exceedingly similar. If the node is the target of\n  // an assignment, then bindingType should be set to BIND_NONE. Otherwise, it\n  // should be set to the appropriate BIND_* constant, like BIND_VAR or\n  // BIND_LEXICAL.\n  //\n  // If the function is called with a non-BIND_NONE bindingType, then\n  // additionally a checkClashes object may be specified to allow checking for\n  // duplicate argument names. checkClashes is ignored if the provided construct\n  // is an assignment (i.e., bindingType is BIND_NONE).\n\n  pp$7.checkLValSimple = function(expr, bindingType, checkClashes) {\n    if ( bindingType === void 0 ) bindingType = BIND_NONE;\n\n    var isBind = bindingType !== BIND_NONE;\n\n    switch (expr.type) {\n    case \"Identifier\":\n      if (this.strict && this.reservedWordsStrictBind.test(expr.name))\n        { this.raiseRecoverable(expr.start, (isBind ? \"Binding \" : \"Assigning to \") + expr.name + \" in strict mode\"); }\n      if (isBind) {\n        if (bindingType === BIND_LEXICAL && expr.name === \"let\")\n          { this.raiseRecoverable(expr.start, \"let is disallowed as a lexically bound name\"); }\n        if (checkClashes) {\n          if (hasOwn(checkClashes, expr.name))\n            { this.raiseRecoverable(expr.start, \"Argument name clash\"); }\n          checkClashes[expr.name] = true;\n        }\n        if (bindingType !== BIND_OUTSIDE) { this.declareName(expr.name, bindingType, expr.start); }\n      }\n      break\n\n    case \"ChainExpression\":\n      this.raiseRecoverable(expr.start, \"Optional chaining cannot appear in left-hand side\");\n      break\n\n    case \"MemberExpression\":\n      if (isBind) { this.raiseRecoverable(expr.start, \"Binding member expression\"); }\n      break\n\n    case \"ParenthesizedExpression\":\n      if (isBind) { this.raiseRecoverable(expr.start, \"Binding parenthesized expression\"); }\n      return this.checkLValSimple(expr.expression, bindingType, checkClashes)\n\n    default:\n      this.raise(expr.start, (isBind ? \"Binding\" : \"Assigning to\") + \" rvalue\");\n    }\n  };\n\n  pp$7.checkLValPattern = function(expr, bindingType, checkClashes) {\n    if ( bindingType === void 0 ) bindingType = BIND_NONE;\n\n    switch (expr.type) {\n    case \"ObjectPattern\":\n      for (var i = 0, list = expr.properties; i < list.length; i += 1) {\n        var prop = list[i];\n\n      this.checkLValInnerPattern(prop, bindingType, checkClashes);\n      }\n      break\n\n    case \"ArrayPattern\":\n      for (var i$1 = 0, list$1 = expr.elements; i$1 < list$1.length; i$1 += 1) {\n        var elem = list$1[i$1];\n\n      if (elem) { this.checkLValInnerPattern(elem, bindingType, checkClashes); }\n      }\n      break\n\n    default:\n      this.checkLValSimple(expr, bindingType, checkClashes);\n    }\n  };\n\n  pp$7.checkLValInnerPattern = function(expr, bindingType, checkClashes) {\n    if ( bindingType === void 0 ) bindingType = BIND_NONE;\n\n    switch (expr.type) {\n    case \"Property\":\n      // AssignmentProperty has type === \"Property\"\n      this.checkLValInnerPattern(expr.value, bindingType, checkClashes);\n      break\n\n    case \"AssignmentPattern\":\n      this.checkLValPattern(expr.left, bindingType, checkClashes);\n      break\n\n    case \"RestElement\":\n      this.checkLValPattern(expr.argument, bindingType, checkClashes);\n      break\n\n    default:\n      this.checkLValPattern(expr, bindingType, checkClashes);\n    }\n  };\n\n  // The algorithm used to determine whether a regexp can appear at a\n  // given point in the program is loosely based on sweet.js' approach.\n  // See https://github.com/mozilla/sweet.js/wiki/design\n\n\n  var TokContext = function TokContext(token, isExpr, preserveSpace, override, generator) {\n    this.token = token;\n    this.isExpr = !!isExpr;\n    this.preserveSpace = !!preserveSpace;\n    this.override = override;\n    this.generator = !!generator;\n  };\n\n  var types = {\n    b_stat: new TokContext(\"{\", false),\n    b_expr: new TokContext(\"{\", true),\n    b_tmpl: new TokContext(\"${\", false),\n    p_stat: new TokContext(\"(\", false),\n    p_expr: new TokContext(\"(\", true),\n    q_tmpl: new TokContext(\"`\", true, true, function (p) { return p.tryReadTemplateToken(); }),\n    f_stat: new TokContext(\"function\", false),\n    f_expr: new TokContext(\"function\", true),\n    f_expr_gen: new TokContext(\"function\", true, false, null, true),\n    f_gen: new TokContext(\"function\", false, false, null, true)\n  };\n\n  var pp$6 = Parser.prototype;\n\n  pp$6.initialContext = function() {\n    return [types.b_stat]\n  };\n\n  pp$6.curContext = function() {\n    return this.context[this.context.length - 1]\n  };\n\n  pp$6.braceIsBlock = function(prevType) {\n    var parent = this.curContext();\n    if (parent === types.f_expr || parent === types.f_stat)\n      { return true }\n    if (prevType === types$1.colon && (parent === types.b_stat || parent === types.b_expr))\n      { return !parent.isExpr }\n\n    // The check for `tt.name && exprAllowed` detects whether we are\n    // after a `yield` or `of` construct. See the `updateContext` for\n    // `tt.name`.\n    if (prevType === types$1._return || prevType === types$1.name && this.exprAllowed)\n      { return lineBreak.test(this.input.slice(this.lastTokEnd, this.start)) }\n    if (prevType === types$1._else || prevType === types$1.semi || prevType === types$1.eof || prevType === types$1.parenR || prevType === types$1.arrow)\n      { return true }\n    if (prevType === types$1.braceL)\n      { return parent === types.b_stat }\n    if (prevType === types$1._var || prevType === types$1._const || prevType === types$1.name)\n      { return false }\n    return !this.exprAllowed\n  };\n\n  pp$6.inGeneratorContext = function() {\n    for (var i = this.context.length - 1; i >= 1; i--) {\n      var context = this.context[i];\n      if (context.token === \"function\")\n        { return context.generator }\n    }\n    return false\n  };\n\n  pp$6.updateContext = function(prevType) {\n    var update, type = this.type;\n    if (type.keyword && prevType === types$1.dot)\n      { this.exprAllowed = false; }\n    else if (update = type.updateContext)\n      { update.call(this, prevType); }\n    else\n      { this.exprAllowed = type.beforeExpr; }\n  };\n\n  // Used to handle edge cases when token context could not be inferred correctly during tokenization phase\n\n  pp$6.overrideContext = function(tokenCtx) {\n    if (this.curContext() !== tokenCtx) {\n      this.context[this.context.length - 1] = tokenCtx;\n    }\n  };\n\n  // Token-specific context update code\n\n  types$1.parenR.updateContext = types$1.braceR.updateContext = function() {\n    if (this.context.length === 1) {\n      this.exprAllowed = true;\n      return\n    }\n    var out = this.context.pop();\n    if (out === types.b_stat && this.curContext().token === \"function\") {\n      out = this.context.pop();\n    }\n    this.exprAllowed = !out.isExpr;\n  };\n\n  types$1.braceL.updateContext = function(prevType) {\n    this.context.push(this.braceIsBlock(prevType) ? types.b_stat : types.b_expr);\n    this.exprAllowed = true;\n  };\n\n  types$1.dollarBraceL.updateContext = function() {\n    this.context.push(types.b_tmpl);\n    this.exprAllowed = true;\n  };\n\n  types$1.parenL.updateContext = function(prevType) {\n    var statementParens = prevType === types$1._if || prevType === types$1._for || prevType === types$1._with || prevType === types$1._while;\n    this.context.push(statementParens ? types.p_stat : types.p_expr);\n    this.exprAllowed = true;\n  };\n\n  types$1.incDec.updateContext = function() {\n    // tokExprAllowed stays unchanged\n  };\n\n  types$1._function.updateContext = types$1._class.updateContext = function(prevType) {\n    if (prevType.beforeExpr && prevType !== types$1._else &&\n        !(prevType === types$1.semi && this.curContext() !== types.p_stat) &&\n        !(prevType === types$1._return && lineBreak.test(this.input.slice(this.lastTokEnd, this.start))) &&\n        !((prevType === types$1.colon || prevType === types$1.braceL) && this.curContext() === types.b_stat))\n      { this.context.push(types.f_expr); }\n    else\n      { this.context.push(types.f_stat); }\n    this.exprAllowed = false;\n  };\n\n  types$1.colon.updateContext = function() {\n    if (this.curContext().token === \"function\") { this.context.pop(); }\n    this.exprAllowed = true;\n  };\n\n  types$1.backQuote.updateContext = function() {\n    if (this.curContext() === types.q_tmpl)\n      { this.context.pop(); }\n    else\n      { this.context.push(types.q_tmpl); }\n    this.exprAllowed = false;\n  };\n\n  types$1.star.updateContext = function(prevType) {\n    if (prevType === types$1._function) {\n      var index = this.context.length - 1;\n      if (this.context[index] === types.f_expr)\n        { this.context[index] = types.f_expr_gen; }\n      else\n        { this.context[index] = types.f_gen; }\n    }\n    this.exprAllowed = true;\n  };\n\n  types$1.name.updateContext = function(prevType) {\n    var allowed = false;\n    if (this.options.ecmaVersion >= 6 && prevType !== types$1.dot) {\n      if (this.value === \"of\" && !this.exprAllowed ||\n          this.value === \"yield\" && this.inGeneratorContext())\n        { allowed = true; }\n    }\n    this.exprAllowed = allowed;\n  };\n\n  // A recursive descent parser operates by defining functions for all\n  // syntactic elements, and recursively calling those, each function\n  // advancing the input stream and returning an AST node. Precedence\n  // of constructs (for example, the fact that `!x[1]` means `!(x[1])`\n  // instead of `(!x)[1]` is handled by the fact that the parser\n  // function that parses unary prefix operators is called first, and\n  // in turn calls the function that parses `[]` subscripts — that\n  // way, it'll receive the node for `x[1]` already parsed, and wraps\n  // *that* in the unary operator node.\n  //\n  // Acorn uses an [operator precedence parser][opp] to handle binary\n  // operator precedence, because it is much more compact than using\n  // the technique outlined above, which uses different, nesting\n  // functions to specify precedence, for all of the ten binary\n  // precedence levels that JavaScript defines.\n  //\n  // [opp]: http://en.wikipedia.org/wiki/Operator-precedence_parser\n\n\n  var pp$5 = Parser.prototype;\n\n  // Check if property name clashes with already added.\n  // Object/class getters and setters are not allowed to clash —\n  // either with each other or with an init property — and in\n  // strict mode, init properties are also not allowed to be repeated.\n\n  pp$5.checkPropClash = function(prop, propHash, refDestructuringErrors) {\n    if (this.options.ecmaVersion >= 9 && prop.type === \"SpreadElement\")\n      { return }\n    if (this.options.ecmaVersion >= 6 && (prop.computed || prop.method || prop.shorthand))\n      { return }\n    var key = prop.key;\n    var name;\n    switch (key.type) {\n    case \"Identifier\": name = key.name; break\n    case \"Literal\": name = String(key.value); break\n    default: return\n    }\n    var kind = prop.kind;\n    if (this.options.ecmaVersion >= 6) {\n      if (name === \"__proto__\" && kind === \"init\") {\n        if (propHash.proto) {\n          if (refDestructuringErrors) {\n            if (refDestructuringErrors.doubleProto < 0) {\n              refDestructuringErrors.doubleProto = key.start;\n            }\n          } else {\n            this.raiseRecoverable(key.start, \"Redefinition of __proto__ property\");\n          }\n        }\n        propHash.proto = true;\n      }\n      return\n    }\n    name = \"$\" + name;\n    var other = propHash[name];\n    if (other) {\n      var redefinition;\n      if (kind === \"init\") {\n        redefinition = this.strict && other.init || other.get || other.set;\n      } else {\n        redefinition = other.init || other[kind];\n      }\n      if (redefinition)\n        { this.raiseRecoverable(key.start, \"Redefinition of property\"); }\n    } else {\n      other = propHash[name] = {\n        init: false,\n        get: false,\n        set: false\n      };\n    }\n    other[kind] = true;\n  };\n\n  // ### Expression parsing\n\n  // These nest, from the most general expression type at the top to\n  // 'atomic', nondivisible expression types at the bottom. Most of\n  // the functions will simply let the function(s) below them parse,\n  // and, *if* the syntactic construct they handle is present, wrap\n  // the AST node that the inner parser gave them in another node.\n\n  // Parse a full expression. The optional arguments are used to\n  // forbid the `in` operator (in for loops initalization expressions)\n  // and provide reference for storing '=' operator inside shorthand\n  // property assignment in contexts where both object expression\n  // and object pattern might appear (so it's possible to raise\n  // delayed syntax error at correct position).\n\n  pp$5.parseExpression = function(forInit, refDestructuringErrors) {\n    var startPos = this.start, startLoc = this.startLoc;\n    var expr = this.parseMaybeAssign(forInit, refDestructuringErrors);\n    if (this.type === types$1.comma) {\n      var node = this.startNodeAt(startPos, startLoc);\n      node.expressions = [expr];\n      while (this.eat(types$1.comma)) { node.expressions.push(this.parseMaybeAssign(forInit, refDestructuringErrors)); }\n      return this.finishNode(node, \"SequenceExpression\")\n    }\n    return expr\n  };\n\n  // Parse an assignment expression. This includes applications of\n  // operators like `+=`.\n\n  pp$5.parseMaybeAssign = function(forInit, refDestructuringErrors, afterLeftParse) {\n    if (this.isContextual(\"yield\")) {\n      if (this.inGenerator) { return this.parseYield(forInit) }\n      // The tokenizer will assume an expression is allowed after\n      // `yield`, but this isn't that kind of yield\n      else { this.exprAllowed = false; }\n    }\n\n    var ownDestructuringErrors = false, oldParenAssign = -1, oldTrailingComma = -1, oldDoubleProto = -1;\n    if (refDestructuringErrors) {\n      oldParenAssign = refDestructuringErrors.parenthesizedAssign;\n      oldTrailingComma = refDestructuringErrors.trailingComma;\n      oldDoubleProto = refDestructuringErrors.doubleProto;\n      refDestructuringErrors.parenthesizedAssign = refDestructuringErrors.trailingComma = -1;\n    } else {\n      refDestructuringErrors = new DestructuringErrors;\n      ownDestructuringErrors = true;\n    }\n\n    var startPos = this.start, startLoc = this.startLoc;\n    if (this.type === types$1.parenL || this.type === types$1.name) {\n      this.potentialArrowAt = this.start;\n      this.potentialArrowInForAwait = forInit === \"await\";\n    }\n    var left = this.parseMaybeConditional(forInit, refDestructuringErrors);\n    if (afterLeftParse) { left = afterLeftParse.call(this, left, startPos, startLoc); }\n    if (this.type.isAssign) {\n      var node = this.startNodeAt(startPos, startLoc);\n      node.operator = this.value;\n      if (this.type === types$1.eq)\n        { left = this.toAssignable(left, false, refDestructuringErrors); }\n      if (!ownDestructuringErrors) {\n        refDestructuringErrors.parenthesizedAssign = refDestructuringErrors.trailingComma = refDestructuringErrors.doubleProto = -1;\n      }\n      if (refDestructuringErrors.shorthandAssign >= left.start)\n        { refDestructuringErrors.shorthandAssign = -1; } // reset because shorthand default was used correctly\n      if (this.type === types$1.eq)\n        { this.checkLValPattern(left); }\n      else\n        { this.checkLValSimple(left); }\n      node.left = left;\n      this.next();\n      node.right = this.parseMaybeAssign(forInit);\n      if (oldDoubleProto > -1) { refDestructuringErrors.doubleProto = oldDoubleProto; }\n      return this.finishNode(node, \"AssignmentExpression\")\n    } else {\n      if (ownDestructuringErrors) { this.checkExpressionErrors(refDestructuringErrors, true); }\n    }\n    if (oldParenAssign > -1) { refDestructuringErrors.parenthesizedAssign = oldParenAssign; }\n    if (oldTrailingComma > -1) { refDestructuringErrors.trailingComma = oldTrailingComma; }\n    return left\n  };\n\n  // Parse a ternary conditional (`?:`) operator.\n\n  pp$5.parseMaybeConditional = function(forInit, refDestructuringErrors) {\n    var startPos = this.start, startLoc = this.startLoc;\n    var expr = this.parseExprOps(forInit, refDestructuringErrors);\n    if (this.checkExpressionErrors(refDestructuringErrors)) { return expr }\n    if (this.eat(types$1.question)) {\n      var node = this.startNodeAt(startPos, startLoc);\n      node.test = expr;\n      node.consequent = this.parseMaybeAssign();\n      this.expect(types$1.colon);\n      node.alternate = this.parseMaybeAssign(forInit);\n      return this.finishNode(node, \"ConditionalExpression\")\n    }\n    return expr\n  };\n\n  // Start the precedence parser.\n\n  pp$5.parseExprOps = function(forInit, refDestructuringErrors) {\n    var startPos = this.start, startLoc = this.startLoc;\n    var expr = this.parseMaybeUnary(refDestructuringErrors, false, false, forInit);\n    if (this.checkExpressionErrors(refDestructuringErrors)) { return expr }\n    return expr.start === startPos && expr.type === \"ArrowFunctionExpression\" ? expr : this.parseExprOp(expr, startPos, startLoc, -1, forInit)\n  };\n\n  // Parse binary operators with the operator precedence parsing\n  // algorithm. `left` is the left-hand side of the operator.\n  // `minPrec` provides context that allows the function to stop and\n  // defer further parser to one of its callers when it encounters an\n  // operator that has a lower precedence than the set it is parsing.\n\n  pp$5.parseExprOp = function(left, leftStartPos, leftStartLoc, minPrec, forInit) {\n    var prec = this.type.binop;\n    if (prec != null && (!forInit || this.type !== types$1._in)) {\n      if (prec > minPrec) {\n        var logical = this.type === types$1.logicalOR || this.type === types$1.logicalAND;\n        var coalesce = this.type === types$1.coalesce;\n        if (coalesce) {\n          // Handle the precedence of `tt.coalesce` as equal to the range of logical expressions.\n          // In other words, `node.right` shouldn't contain logical expressions in order to check the mixed error.\n          prec = types$1.logicalAND.binop;\n        }\n        var op = this.value;\n        this.next();\n        var startPos = this.start, startLoc = this.startLoc;\n        var right = this.parseExprOp(this.parseMaybeUnary(null, false, false, forInit), startPos, startLoc, prec, forInit);\n        var node = this.buildBinary(leftStartPos, leftStartLoc, left, right, op, logical || coalesce);\n        if ((logical && this.type === types$1.coalesce) || (coalesce && (this.type === types$1.logicalOR || this.type === types$1.logicalAND))) {\n          this.raiseRecoverable(this.start, \"Logical expressions and coalesce expressions cannot be mixed. Wrap either by parentheses\");\n        }\n        return this.parseExprOp(node, leftStartPos, leftStartLoc, minPrec, forInit)\n      }\n    }\n    return left\n  };\n\n  pp$5.buildBinary = function(startPos, startLoc, left, right, op, logical) {\n    if (right.type === \"PrivateIdentifier\") { this.raise(right.start, \"Private identifier can only be left side of binary expression\"); }\n    var node = this.startNodeAt(startPos, startLoc);\n    node.left = left;\n    node.operator = op;\n    node.right = right;\n    return this.finishNode(node, logical ? \"LogicalExpression\" : \"BinaryExpression\")\n  };\n\n  // Parse unary operators, both prefix and postfix.\n\n  pp$5.parseMaybeUnary = function(refDestructuringErrors, sawUnary, incDec, forInit) {\n    var startPos = this.start, startLoc = this.startLoc, expr;\n    if (this.isContextual(\"await\") && this.canAwait) {\n      expr = this.parseAwait(forInit);\n      sawUnary = true;\n    } else if (this.type.prefix) {\n      var node = this.startNode(), update = this.type === types$1.incDec;\n      node.operator = this.value;\n      node.prefix = true;\n      this.next();\n      node.argument = this.parseMaybeUnary(null, true, update, forInit);\n      this.checkExpressionErrors(refDestructuringErrors, true);\n      if (update) { this.checkLValSimple(node.argument); }\n      else if (this.strict && node.operator === \"delete\" && isLocalVariableAccess(node.argument))\n        { this.raiseRecoverable(node.start, \"Deleting local variable in strict mode\"); }\n      else if (node.operator === \"delete\" && isPrivateFieldAccess(node.argument))\n        { this.raiseRecoverable(node.start, \"Private fields can not be deleted\"); }\n      else { sawUnary = true; }\n      expr = this.finishNode(node, update ? \"UpdateExpression\" : \"UnaryExpression\");\n    } else if (!sawUnary && this.type === types$1.privateId) {\n      if ((forInit || this.privateNameStack.length === 0) && this.options.checkPrivateFields) { this.unexpected(); }\n      expr = this.parsePrivateIdent();\n      // only could be private fields in 'in', such as #x in obj\n      if (this.type !== types$1._in) { this.unexpected(); }\n    } else {\n      expr = this.parseExprSubscripts(refDestructuringErrors, forInit);\n      if (this.checkExpressionErrors(refDestructuringErrors)) { return expr }\n      while (this.type.postfix && !this.canInsertSemicolon()) {\n        var node$1 = this.startNodeAt(startPos, startLoc);\n        node$1.operator = this.value;\n        node$1.prefix = false;\n        node$1.argument = expr;\n        this.checkLValSimple(expr);\n        this.next();\n        expr = this.finishNode(node$1, \"UpdateExpression\");\n      }\n    }\n\n    if (!incDec && this.eat(types$1.starstar)) {\n      if (sawUnary)\n        { this.unexpected(this.lastTokStart); }\n      else\n        { return this.buildBinary(startPos, startLoc, expr, this.parseMaybeUnary(null, false, false, forInit), \"**\", false) }\n    } else {\n      return expr\n    }\n  };\n\n  function isLocalVariableAccess(node) {\n    return (\n      node.type === \"Identifier\" ||\n      node.type === \"ParenthesizedExpression\" && isLocalVariableAccess(node.expression)\n    )\n  }\n\n  function isPrivateFieldAccess(node) {\n    return (\n      node.type === \"MemberExpression\" && node.property.type === \"PrivateIdentifier\" ||\n      node.type === \"ChainExpression\" && isPrivateFieldAccess(node.expression) ||\n      node.type === \"ParenthesizedExpression\" && isPrivateFieldAccess(node.expression)\n    )\n  }\n\n  // Parse call, dot, and `[]`-subscript expressions.\n\n  pp$5.parseExprSubscripts = function(refDestructuringErrors, forInit) {\n    var startPos = this.start, startLoc = this.startLoc;\n    var expr = this.parseExprAtom(refDestructuringErrors, forInit);\n    if (expr.type === \"ArrowFunctionExpression\" && this.input.slice(this.lastTokStart, this.lastTokEnd) !== \")\")\n      { return expr }\n    var result = this.parseSubscripts(expr, startPos, startLoc, false, forInit);\n    if (refDestructuringErrors && result.type === \"MemberExpression\") {\n      if (refDestructuringErrors.parenthesizedAssign >= result.start) { refDestructuringErrors.parenthesizedAssign = -1; }\n      if (refDestructuringErrors.parenthesizedBind >= result.start) { refDestructuringErrors.parenthesizedBind = -1; }\n      if (refDestructuringErrors.trailingComma >= result.start) { refDestructuringErrors.trailingComma = -1; }\n    }\n    return result\n  };\n\n  pp$5.parseSubscripts = function(base, startPos, startLoc, noCalls, forInit) {\n    var maybeAsyncArrow = this.options.ecmaVersion >= 8 && base.type === \"Identifier\" && base.name === \"async\" &&\n        this.lastTokEnd === base.end && !this.canInsertSemicolon() && base.end - base.start === 5 &&\n        this.potentialArrowAt === base.start;\n    var optionalChained = false;\n\n    while (true) {\n      var element = this.parseSubscript(base, startPos, startLoc, noCalls, maybeAsyncArrow, optionalChained, forInit);\n\n      if (element.optional) { optionalChained = true; }\n      if (element === base || element.type === \"ArrowFunctionExpression\") {\n        if (optionalChained) {\n          var chainNode = this.startNodeAt(startPos, startLoc);\n          chainNode.expression = element;\n          element = this.finishNode(chainNode, \"ChainExpression\");\n        }\n        return element\n      }\n\n      base = element;\n    }\n  };\n\n  pp$5.shouldParseAsyncArrow = function() {\n    return !this.canInsertSemicolon() && this.eat(types$1.arrow)\n  };\n\n  pp$5.parseSubscriptAsyncArrow = function(startPos, startLoc, exprList, forInit) {\n    return this.parseArrowExpression(this.startNodeAt(startPos, startLoc), exprList, true, forInit)\n  };\n\n  pp$5.parseSubscript = function(base, startPos, startLoc, noCalls, maybeAsyncArrow, optionalChained, forInit) {\n    var optionalSupported = this.options.ecmaVersion >= 11;\n    var optional = optionalSupported && this.eat(types$1.questionDot);\n    if (noCalls && optional) { this.raise(this.lastTokStart, \"Optional chaining cannot appear in the callee of new expressions\"); }\n\n    var computed = this.eat(types$1.bracketL);\n    if (computed || (optional && this.type !== types$1.parenL && this.type !== types$1.backQuote) || this.eat(types$1.dot)) {\n      var node = this.startNodeAt(startPos, startLoc);\n      node.object = base;\n      if (computed) {\n        node.property = this.parseExpression();\n        this.expect(types$1.bracketR);\n      } else if (this.type === types$1.privateId && base.type !== \"Super\") {\n        node.property = this.parsePrivateIdent();\n      } else {\n        node.property = this.parseIdent(this.options.allowReserved !== \"never\");\n      }\n      node.computed = !!computed;\n      if (optionalSupported) {\n        node.optional = optional;\n      }\n      base = this.finishNode(node, \"MemberExpression\");\n    } else if (!noCalls && this.eat(types$1.parenL)) {\n      var refDestructuringErrors = new DestructuringErrors, oldYieldPos = this.yieldPos, oldAwaitPos = this.awaitPos, oldAwaitIdentPos = this.awaitIdentPos;\n      this.yieldPos = 0;\n      this.awaitPos = 0;\n      this.awaitIdentPos = 0;\n      var exprList = this.parseExprList(types$1.parenR, this.options.ecmaVersion >= 8, false, refDestructuringErrors);\n      if (maybeAsyncArrow && !optional && this.shouldParseAsyncArrow()) {\n        this.checkPatternErrors(refDestructuringErrors, false);\n        this.checkYieldAwaitInDefaultParams();\n        if (this.awaitIdentPos > 0)\n          { this.raise(this.awaitIdentPos, \"Cannot use 'await' as identifier inside an async function\"); }\n        this.yieldPos = oldYieldPos;\n        this.awaitPos = oldAwaitPos;\n        this.awaitIdentPos = oldAwaitIdentPos;\n        return this.parseSubscriptAsyncArrow(startPos, startLoc, exprList, forInit)\n      }\n      this.checkExpressionErrors(refDestructuringErrors, true);\n      this.yieldPos = oldYieldPos || this.yieldPos;\n      this.awaitPos = oldAwaitPos || this.awaitPos;\n      this.awaitIdentPos = oldAwaitIdentPos || this.awaitIdentPos;\n      var node$1 = this.startNodeAt(startPos, startLoc);\n      node$1.callee = base;\n      node$1.arguments = exprList;\n      if (optionalSupported) {\n        node$1.optional = optional;\n      }\n      base = this.finishNode(node$1, \"CallExpression\");\n    } else if (this.type === types$1.backQuote) {\n      if (optional || optionalChained) {\n        this.raise(this.start, \"Optional chaining cannot appear in the tag of tagged template expressions\");\n      }\n      var node$2 = this.startNodeAt(startPos, startLoc);\n      node$2.tag = base;\n      node$2.quasi = this.parseTemplate({isTagged: true});\n      base = this.finishNode(node$2, \"TaggedTemplateExpression\");\n    }\n    return base\n  };\n\n  // Parse an atomic expression — either a single token that is an\n  // expression, an expression started by a keyword like `function` or\n  // `new`, or an expression wrapped in punctuation like `()`, `[]`,\n  // or `{}`.\n\n  pp$5.parseExprAtom = function(refDestructuringErrors, forInit, forNew) {\n    // If a division operator appears in an expression position, the\n    // tokenizer got confused, and we force it to read a regexp instead.\n    if (this.type === types$1.slash) { this.readRegexp(); }\n\n    var node, canBeArrow = this.potentialArrowAt === this.start;\n    switch (this.type) {\n    case types$1._super:\n      if (!this.allowSuper)\n        { this.raise(this.start, \"'super' keyword outside a method\"); }\n      node = this.startNode();\n      this.next();\n      if (this.type === types$1.parenL && !this.allowDirectSuper)\n        { this.raise(node.start, \"super() call outside constructor of a subclass\"); }\n      // The `super` keyword can appear at below:\n      // SuperProperty:\n      //     super [ Expression ]\n      //     super . IdentifierName\n      // SuperCall:\n      //     super ( Arguments )\n      if (this.type !== types$1.dot && this.type !== types$1.bracketL && this.type !== types$1.parenL)\n        { this.unexpected(); }\n      return this.finishNode(node, \"Super\")\n\n    case types$1._this:\n      node = this.startNode();\n      this.next();\n      return this.finishNode(node, \"ThisExpression\")\n\n    case types$1.name:\n      var startPos = this.start, startLoc = this.startLoc, containsEsc = this.containsEsc;\n      var id = this.parseIdent(false);\n      if (this.options.ecmaVersion >= 8 && !containsEsc && id.name === \"async\" && !this.canInsertSemicolon() && this.eat(types$1._function)) {\n        this.overrideContext(types.f_expr);\n        return this.parseFunction(this.startNodeAt(startPos, startLoc), 0, false, true, forInit)\n      }\n      if (canBeArrow && !this.canInsertSemicolon()) {\n        if (this.eat(types$1.arrow))\n          { return this.parseArrowExpression(this.startNodeAt(startPos, startLoc), [id], false, forInit) }\n        if (this.options.ecmaVersion >= 8 && id.name === \"async\" && this.type === types$1.name && !containsEsc &&\n            (!this.potentialArrowInForAwait || this.value !== \"of\" || this.containsEsc)) {\n          id = this.parseIdent(false);\n          if (this.canInsertSemicolon() || !this.eat(types$1.arrow))\n            { this.unexpected(); }\n          return this.parseArrowExpression(this.startNodeAt(startPos, startLoc), [id], true, forInit)\n        }\n      }\n      return id\n\n    case types$1.regexp:\n      var value = this.value;\n      node = this.parseLiteral(value.value);\n      node.regex = {pattern: value.pattern, flags: value.flags};\n      return node\n\n    case types$1.num: case types$1.string:\n      return this.parseLiteral(this.value)\n\n    case types$1._null: case types$1._true: case types$1._false:\n      node = this.startNode();\n      node.value = this.type === types$1._null ? null : this.type === types$1._true;\n      node.raw = this.type.keyword;\n      this.next();\n      return this.finishNode(node, \"Literal\")\n\n    case types$1.parenL:\n      var start = this.start, expr = this.parseParenAndDistinguishExpression(canBeArrow, forInit);\n      if (refDestructuringErrors) {\n        if (refDestructuringErrors.parenthesizedAssign < 0 && !this.isSimpleAssignTarget(expr))\n          { refDestructuringErrors.parenthesizedAssign = start; }\n        if (refDestructuringErrors.parenthesizedBind < 0)\n          { refDestructuringErrors.parenthesizedBind = start; }\n      }\n      return expr\n\n    case types$1.bracketL:\n      node = this.startNode();\n      this.next();\n      node.elements = this.parseExprList(types$1.bracketR, true, true, refDestructuringErrors);\n      return this.finishNode(node, \"ArrayExpression\")\n\n    case types$1.braceL:\n      this.overrideContext(types.b_expr);\n      return this.parseObj(false, refDestructuringErrors)\n\n    case types$1._function:\n      node = this.startNode();\n      this.next();\n      return this.parseFunction(node, 0)\n\n    case types$1._class:\n      return this.parseClass(this.startNode(), false)\n\n    case types$1._new:\n      return this.parseNew()\n\n    case types$1.backQuote:\n      return this.parseTemplate()\n\n    case types$1._import:\n      if (this.options.ecmaVersion >= 11) {\n        return this.parseExprImport(forNew)\n      } else {\n        return this.unexpected()\n      }\n\n    default:\n      return this.parseExprAtomDefault()\n    }\n  };\n\n  pp$5.parseExprAtomDefault = function() {\n    this.unexpected();\n  };\n\n  pp$5.parseExprImport = function(forNew) {\n    var node = this.startNode();\n\n    // Consume `import` as an identifier for `import.meta`.\n    // Because `this.parseIdent(true)` doesn't check escape sequences, it needs the check of `this.containsEsc`.\n    if (this.containsEsc) { this.raiseRecoverable(this.start, \"Escape sequence in keyword import\"); }\n    this.next();\n\n    if (this.type === types$1.parenL && !forNew) {\n      return this.parseDynamicImport(node)\n    } else if (this.type === types$1.dot) {\n      var meta = this.startNodeAt(node.start, node.loc && node.loc.start);\n      meta.name = \"import\";\n      node.meta = this.finishNode(meta, \"Identifier\");\n      return this.parseImportMeta(node)\n    } else {\n      this.unexpected();\n    }\n  };\n\n  pp$5.parseDynamicImport = function(node) {\n    this.next(); // skip `(`\n\n    // Parse node.source.\n    node.source = this.parseMaybeAssign();\n\n    // Verify ending.\n    if (!this.eat(types$1.parenR)) {\n      var errorPos = this.start;\n      if (this.eat(types$1.comma) && this.eat(types$1.parenR)) {\n        this.raiseRecoverable(errorPos, \"Trailing comma is not allowed in import()\");\n      } else {\n        this.unexpected(errorPos);\n      }\n    }\n\n    return this.finishNode(node, \"ImportExpression\")\n  };\n\n  pp$5.parseImportMeta = function(node) {\n    this.next(); // skip `.`\n\n    var containsEsc = this.containsEsc;\n    node.property = this.parseIdent(true);\n\n    if (node.property.name !== \"meta\")\n      { this.raiseRecoverable(node.property.start, \"The only valid meta property for import is 'import.meta'\"); }\n    if (containsEsc)\n      { this.raiseRecoverable(node.start, \"'import.meta' must not contain escaped characters\"); }\n    if (this.options.sourceType !== \"module\" && !this.options.allowImportExportEverywhere)\n      { this.raiseRecoverable(node.start, \"Cannot use 'import.meta' outside a module\"); }\n\n    return this.finishNode(node, \"MetaProperty\")\n  };\n\n  pp$5.parseLiteral = function(value) {\n    var node = this.startNode();\n    node.value = value;\n    node.raw = this.input.slice(this.start, this.end);\n    if (node.raw.charCodeAt(node.raw.length - 1) === 110) { node.bigint = node.raw.slice(0, -1).replace(/_/g, \"\"); }\n    this.next();\n    return this.finishNode(node, \"Literal\")\n  };\n\n  pp$5.parseParenExpression = function() {\n    this.expect(types$1.parenL);\n    var val = this.parseExpression();\n    this.expect(types$1.parenR);\n    return val\n  };\n\n  pp$5.shouldParseArrow = function(exprList) {\n    return !this.canInsertSemicolon()\n  };\n\n  pp$5.parseParenAndDistinguishExpression = function(canBeArrow, forInit) {\n    var startPos = this.start, startLoc = this.startLoc, val, allowTrailingComma = this.options.ecmaVersion >= 8;\n    if (this.options.ecmaVersion >= 6) {\n      this.next();\n\n      var innerStartPos = this.start, innerStartLoc = this.startLoc;\n      var exprList = [], first = true, lastIsComma = false;\n      var refDestructuringErrors = new DestructuringErrors, oldYieldPos = this.yieldPos, oldAwaitPos = this.awaitPos, spreadStart;\n      this.yieldPos = 0;\n      this.awaitPos = 0;\n      // Do not save awaitIdentPos to allow checking awaits nested in parameters\n      while (this.type !== types$1.parenR) {\n        first ? first = false : this.expect(types$1.comma);\n        if (allowTrailingComma && this.afterTrailingComma(types$1.parenR, true)) {\n          lastIsComma = true;\n          break\n        } else if (this.type === types$1.ellipsis) {\n          spreadStart = this.start;\n          exprList.push(this.parseParenItem(this.parseRestBinding()));\n          if (this.type === types$1.comma) {\n            this.raiseRecoverable(\n              this.start,\n              \"Comma is not permitted after the rest element\"\n            );\n          }\n          break\n        } else {\n          exprList.push(this.parseMaybeAssign(false, refDestructuringErrors, this.parseParenItem));\n        }\n      }\n      var innerEndPos = this.lastTokEnd, innerEndLoc = this.lastTokEndLoc;\n      this.expect(types$1.parenR);\n\n      if (canBeArrow && this.shouldParseArrow(exprList) && this.eat(types$1.arrow)) {\n        this.checkPatternErrors(refDestructuringErrors, false);\n        this.checkYieldAwaitInDefaultParams();\n        this.yieldPos = oldYieldPos;\n        this.awaitPos = oldAwaitPos;\n        return this.parseParenArrowList(startPos, startLoc, exprList, forInit)\n      }\n\n      if (!exprList.length || lastIsComma) { this.unexpected(this.lastTokStart); }\n      if (spreadStart) { this.unexpected(spreadStart); }\n      this.checkExpressionErrors(refDestructuringErrors, true);\n      this.yieldPos = oldYieldPos || this.yieldPos;\n      this.awaitPos = oldAwaitPos || this.awaitPos;\n\n      if (exprList.length > 1) {\n        val = this.startNodeAt(innerStartPos, innerStartLoc);\n        val.expressions = exprList;\n        this.finishNodeAt(val, \"SequenceExpression\", innerEndPos, innerEndLoc);\n      } else {\n        val = exprList[0];\n      }\n    } else {\n      val = this.parseParenExpression();\n    }\n\n    if (this.options.preserveParens) {\n      var par = this.startNodeAt(startPos, startLoc);\n      par.expression = val;\n      return this.finishNode(par, \"ParenthesizedExpression\")\n    } else {\n      return val\n    }\n  };\n\n  pp$5.parseParenItem = function(item) {\n    return item\n  };\n\n  pp$5.parseParenArrowList = function(startPos, startLoc, exprList, forInit) {\n    return this.parseArrowExpression(this.startNodeAt(startPos, startLoc), exprList, false, forInit)\n  };\n\n  // New's precedence is slightly tricky. It must allow its argument to\n  // be a `[]` or dot subscript expression, but not a call — at least,\n  // not without wrapping it in parentheses. Thus, it uses the noCalls\n  // argument to parseSubscripts to prevent it from consuming the\n  // argument list.\n\n  var empty = [];\n\n  pp$5.parseNew = function() {\n    if (this.containsEsc) { this.raiseRecoverable(this.start, \"Escape sequence in keyword new\"); }\n    var node = this.startNode();\n    this.next();\n    if (this.options.ecmaVersion >= 6 && this.type === types$1.dot) {\n      var meta = this.startNodeAt(node.start, node.loc && node.loc.start);\n      meta.name = \"new\";\n      node.meta = this.finishNode(meta, \"Identifier\");\n      this.next();\n      var containsEsc = this.containsEsc;\n      node.property = this.parseIdent(true);\n      if (node.property.name !== \"target\")\n        { this.raiseRecoverable(node.property.start, \"The only valid meta property for new is 'new.target'\"); }\n      if (containsEsc)\n        { this.raiseRecoverable(node.start, \"'new.target' must not contain escaped characters\"); }\n      if (!this.allowNewDotTarget)\n        { this.raiseRecoverable(node.start, \"'new.target' can only be used in functions and class static block\"); }\n      return this.finishNode(node, \"MetaProperty\")\n    }\n    var startPos = this.start, startLoc = this.startLoc;\n    node.callee = this.parseSubscripts(this.parseExprAtom(null, false, true), startPos, startLoc, true, false);\n    if (this.eat(types$1.parenL)) { node.arguments = this.parseExprList(types$1.parenR, this.options.ecmaVersion >= 8, false); }\n    else { node.arguments = empty; }\n    return this.finishNode(node, \"NewExpression\")\n  };\n\n  // Parse template expression.\n\n  pp$5.parseTemplateElement = function(ref) {\n    var isTagged = ref.isTagged;\n\n    var elem = this.startNode();\n    if (this.type === types$1.invalidTemplate) {\n      if (!isTagged) {\n        this.raiseRecoverable(this.start, \"Bad escape sequence in untagged template literal\");\n      }\n      elem.value = {\n        raw: this.value.replace(/\\r\\n?/g, \"\\n\"),\n        cooked: null\n      };\n    } else {\n      elem.value = {\n        raw: this.input.slice(this.start, this.end).replace(/\\r\\n?/g, \"\\n\"),\n        cooked: this.value\n      };\n    }\n    this.next();\n    elem.tail = this.type === types$1.backQuote;\n    return this.finishNode(elem, \"TemplateElement\")\n  };\n\n  pp$5.parseTemplate = function(ref) {\n    if ( ref === void 0 ) ref = {};\n    var isTagged = ref.isTagged; if ( isTagged === void 0 ) isTagged = false;\n\n    var node = this.startNode();\n    this.next();\n    node.expressions = [];\n    var curElt = this.parseTemplateElement({isTagged: isTagged});\n    node.quasis = [curElt];\n    while (!curElt.tail) {\n      if (this.type === types$1.eof) { this.raise(this.pos, \"Unterminated template literal\"); }\n      this.expect(types$1.dollarBraceL);\n      node.expressions.push(this.parseExpression());\n      this.expect(types$1.braceR);\n      node.quasis.push(curElt = this.parseTemplateElement({isTagged: isTagged}));\n    }\n    this.next();\n    return this.finishNode(node, \"TemplateLiteral\")\n  };\n\n  pp$5.isAsyncProp = function(prop) {\n    return !prop.computed && prop.key.type === \"Identifier\" && prop.key.name === \"async\" &&\n      (this.type === types$1.name || this.type === types$1.num || this.type === types$1.string || this.type === types$1.bracketL || this.type.keyword || (this.options.ecmaVersion >= 9 && this.type === types$1.star)) &&\n      !lineBreak.test(this.input.slice(this.lastTokEnd, this.start))\n  };\n\n  // Parse an object literal or binding pattern.\n\n  pp$5.parseObj = function(isPattern, refDestructuringErrors) {\n    var node = this.startNode(), first = true, propHash = {};\n    node.properties = [];\n    this.next();\n    while (!this.eat(types$1.braceR)) {\n      if (!first) {\n        this.expect(types$1.comma);\n        if (this.options.ecmaVersion >= 5 && this.afterTrailingComma(types$1.braceR)) { break }\n      } else { first = false; }\n\n      var prop = this.parseProperty(isPattern, refDestructuringErrors);\n      if (!isPattern) { this.checkPropClash(prop, propHash, refDestructuringErrors); }\n      node.properties.push(prop);\n    }\n    return this.finishNode(node, isPattern ? \"ObjectPattern\" : \"ObjectExpression\")\n  };\n\n  pp$5.parseProperty = function(isPattern, refDestructuringErrors) {\n    var prop = this.startNode(), isGenerator, isAsync, startPos, startLoc;\n    if (this.options.ecmaVersion >= 9 && this.eat(types$1.ellipsis)) {\n      if (isPattern) {\n        prop.argument = this.parseIdent(false);\n        if (this.type === types$1.comma) {\n          this.raiseRecoverable(this.start, \"Comma is not permitted after the rest element\");\n        }\n        return this.finishNode(prop, \"RestElement\")\n      }\n      // Parse argument.\n      prop.argument = this.parseMaybeAssign(false, refDestructuringErrors);\n      // To disallow trailing comma via `this.toAssignable()`.\n      if (this.type === types$1.comma && refDestructuringErrors && refDestructuringErrors.trailingComma < 0) {\n        refDestructuringErrors.trailingComma = this.start;\n      }\n      // Finish\n      return this.finishNode(prop, \"SpreadElement\")\n    }\n    if (this.options.ecmaVersion >= 6) {\n      prop.method = false;\n      prop.shorthand = false;\n      if (isPattern || refDestructuringErrors) {\n        startPos = this.start;\n        startLoc = this.startLoc;\n      }\n      if (!isPattern)\n        { isGenerator = this.eat(types$1.star); }\n    }\n    var containsEsc = this.containsEsc;\n    this.parsePropertyName(prop);\n    if (!isPattern && !containsEsc && this.options.ecmaVersion >= 8 && !isGenerator && this.isAsyncProp(prop)) {\n      isAsync = true;\n      isGenerator = this.options.ecmaVersion >= 9 && this.eat(types$1.star);\n      this.parsePropertyName(prop);\n    } else {\n      isAsync = false;\n    }\n    this.parsePropertyValue(prop, isPattern, isGenerator, isAsync, startPos, startLoc, refDestructuringErrors, containsEsc);\n    return this.finishNode(prop, \"Property\")\n  };\n\n  pp$5.parseGetterSetter = function(prop) {\n    prop.kind = prop.key.name;\n    this.parsePropertyName(prop);\n    prop.value = this.parseMethod(false);\n    var paramCount = prop.kind === \"get\" ? 0 : 1;\n    if (prop.value.params.length !== paramCount) {\n      var start = prop.value.start;\n      if (prop.kind === \"get\")\n        { this.raiseRecoverable(start, \"getter should have no params\"); }\n      else\n        { this.raiseRecoverable(start, \"setter should have exactly one param\"); }\n    } else {\n      if (prop.kind === \"set\" && prop.value.params[0].type === \"RestElement\")\n        { this.raiseRecoverable(prop.value.params[0].start, \"Setter cannot use rest params\"); }\n    }\n  };\n\n  pp$5.parsePropertyValue = function(prop, isPattern, isGenerator, isAsync, startPos, startLoc, refDestructuringErrors, containsEsc) {\n    if ((isGenerator || isAsync) && this.type === types$1.colon)\n      { this.unexpected(); }\n\n    if (this.eat(types$1.colon)) {\n      prop.value = isPattern ? this.parseMaybeDefault(this.start, this.startLoc) : this.parseMaybeAssign(false, refDestructuringErrors);\n      prop.kind = \"init\";\n    } else if (this.options.ecmaVersion >= 6 && this.type === types$1.parenL) {\n      if (isPattern) { this.unexpected(); }\n      prop.kind = \"init\";\n      prop.method = true;\n      prop.value = this.parseMethod(isGenerator, isAsync);\n    } else if (!isPattern && !containsEsc &&\n               this.options.ecmaVersion >= 5 && !prop.computed && prop.key.type === \"Identifier\" &&\n               (prop.key.name === \"get\" || prop.key.name === \"set\") &&\n               (this.type !== types$1.comma && this.type !== types$1.braceR && this.type !== types$1.eq)) {\n      if (isGenerator || isAsync) { this.unexpected(); }\n      this.parseGetterSetter(prop);\n    } else if (this.options.ecmaVersion >= 6 && !prop.computed && prop.key.type === \"Identifier\") {\n      if (isGenerator || isAsync) { this.unexpected(); }\n      this.checkUnreserved(prop.key);\n      if (prop.key.name === \"await\" && !this.awaitIdentPos)\n        { this.awaitIdentPos = startPos; }\n      prop.kind = \"init\";\n      if (isPattern) {\n        prop.value = this.parseMaybeDefault(startPos, startLoc, this.copyNode(prop.key));\n      } else if (this.type === types$1.eq && refDestructuringErrors) {\n        if (refDestructuringErrors.shorthandAssign < 0)\n          { refDestructuringErrors.shorthandAssign = this.start; }\n        prop.value = this.parseMaybeDefault(startPos, startLoc, this.copyNode(prop.key));\n      } else {\n        prop.value = this.copyNode(prop.key);\n      }\n      prop.shorthand = true;\n    } else { this.unexpected(); }\n  };\n\n  pp$5.parsePropertyName = function(prop) {\n    if (this.options.ecmaVersion >= 6) {\n      if (this.eat(types$1.bracketL)) {\n        prop.computed = true;\n        prop.key = this.parseMaybeAssign();\n        this.expect(types$1.bracketR);\n        return prop.key\n      } else {\n        prop.computed = false;\n      }\n    }\n    return prop.key = this.type === types$1.num || this.type === types$1.string ? this.parseExprAtom() : this.parseIdent(this.options.allowReserved !== \"never\")\n  };\n\n  // Initialize empty function node.\n\n  pp$5.initFunction = function(node) {\n    node.id = null;\n    if (this.options.ecmaVersion >= 6) { node.generator = node.expression = false; }\n    if (this.options.ecmaVersion >= 8) { node.async = false; }\n  };\n\n  // Parse object or class method.\n\n  pp$5.parseMethod = function(isGenerator, isAsync, allowDirectSuper) {\n    var node = this.startNode(), oldYieldPos = this.yieldPos, oldAwaitPos = this.awaitPos, oldAwaitIdentPos = this.awaitIdentPos;\n\n    this.initFunction(node);\n    if (this.options.ecmaVersion >= 6)\n      { node.generator = isGenerator; }\n    if (this.options.ecmaVersion >= 8)\n      { node.async = !!isAsync; }\n\n    this.yieldPos = 0;\n    this.awaitPos = 0;\n    this.awaitIdentPos = 0;\n    this.enterScope(functionFlags(isAsync, node.generator) | SCOPE_SUPER | (allowDirectSuper ? SCOPE_DIRECT_SUPER : 0));\n\n    this.expect(types$1.parenL);\n    node.params = this.parseBindingList(types$1.parenR, false, this.options.ecmaVersion >= 8);\n    this.checkYieldAwaitInDefaultParams();\n    this.parseFunctionBody(node, false, true, false);\n\n    this.yieldPos = oldYieldPos;\n    this.awaitPos = oldAwaitPos;\n    this.awaitIdentPos = oldAwaitIdentPos;\n    return this.finishNode(node, \"FunctionExpression\")\n  };\n\n  // Parse arrow function expression with given parameters.\n\n  pp$5.parseArrowExpression = function(node, params, isAsync, forInit) {\n    var oldYieldPos = this.yieldPos, oldAwaitPos = this.awaitPos, oldAwaitIdentPos = this.awaitIdentPos;\n\n    this.enterScope(functionFlags(isAsync, false) | SCOPE_ARROW);\n    this.initFunction(node);\n    if (this.options.ecmaVersion >= 8) { node.async = !!isAsync; }\n\n    this.yieldPos = 0;\n    this.awaitPos = 0;\n    this.awaitIdentPos = 0;\n\n    node.params = this.toAssignableList(params, true);\n    this.parseFunctionBody(node, true, false, forInit);\n\n    this.yieldPos = oldYieldPos;\n    this.awaitPos = oldAwaitPos;\n    this.awaitIdentPos = oldAwaitIdentPos;\n    return this.finishNode(node, \"ArrowFunctionExpression\")\n  };\n\n  // Parse function body and check parameters.\n\n  pp$5.parseFunctionBody = function(node, isArrowFunction, isMethod, forInit) {\n    var isExpression = isArrowFunction && this.type !== types$1.braceL;\n    var oldStrict = this.strict, useStrict = false;\n\n    if (isExpression) {\n      node.body = this.parseMaybeAssign(forInit);\n      node.expression = true;\n      this.checkParams(node, false);\n    } else {\n      var nonSimple = this.options.ecmaVersion >= 7 && !this.isSimpleParamList(node.params);\n      if (!oldStrict || nonSimple) {\n        useStrict = this.strictDirective(this.end);\n        // If this is a strict mode function, verify that argument names\n        // are not repeated, and it does not try to bind the words `eval`\n        // or `arguments`.\n        if (useStrict && nonSimple)\n          { this.raiseRecoverable(node.start, \"Illegal 'use strict' directive in function with non-simple parameter list\"); }\n      }\n      // Start a new scope with regard to labels and the `inFunction`\n      // flag (restore them to their old value afterwards).\n      var oldLabels = this.labels;\n      this.labels = [];\n      if (useStrict) { this.strict = true; }\n\n      // Add the params to varDeclaredNames to ensure that an error is thrown\n      // if a let/const declaration in the function clashes with one of the params.\n      this.checkParams(node, !oldStrict && !useStrict && !isArrowFunction && !isMethod && this.isSimpleParamList(node.params));\n      // Ensure the function name isn't a forbidden identifier in strict mode, e.g. 'eval'\n      if (this.strict && node.id) { this.checkLValSimple(node.id, BIND_OUTSIDE); }\n      node.body = this.parseBlock(false, undefined, useStrict && !oldStrict);\n      node.expression = false;\n      this.adaptDirectivePrologue(node.body.body);\n      this.labels = oldLabels;\n    }\n    this.exitScope();\n  };\n\n  pp$5.isSimpleParamList = function(params) {\n    for (var i = 0, list = params; i < list.length; i += 1)\n      {\n      var param = list[i];\n\n      if (param.type !== \"Identifier\") { return false\n    } }\n    return true\n  };\n\n  // Checks function params for various disallowed patterns such as using \"eval\"\n  // or \"arguments\" and duplicate parameters.\n\n  pp$5.checkParams = function(node, allowDuplicates) {\n    var nameHash = Object.create(null);\n    for (var i = 0, list = node.params; i < list.length; i += 1)\n      {\n      var param = list[i];\n\n      this.checkLValInnerPattern(param, BIND_VAR, allowDuplicates ? null : nameHash);\n    }\n  };\n\n  // Parses a comma-separated list of expressions, and returns them as\n  // an array. `close` is the token type that ends the list, and\n  // `allowEmpty` can be turned on to allow subsequent commas with\n  // nothing in between them to be parsed as `null` (which is needed\n  // for array literals).\n\n  pp$5.parseExprList = function(close, allowTrailingComma, allowEmpty, refDestructuringErrors) {\n    var elts = [], first = true;\n    while (!this.eat(close)) {\n      if (!first) {\n        this.expect(types$1.comma);\n        if (allowTrailingComma && this.afterTrailingComma(close)) { break }\n      } else { first = false; }\n\n      var elt = (void 0);\n      if (allowEmpty && this.type === types$1.comma)\n        { elt = null; }\n      else if (this.type === types$1.ellipsis) {\n        elt = this.parseSpread(refDestructuringErrors);\n        if (refDestructuringErrors && this.type === types$1.comma && refDestructuringErrors.trailingComma < 0)\n          { refDestructuringErrors.trailingComma = this.start; }\n      } else {\n        elt = this.parseMaybeAssign(false, refDestructuringErrors);\n      }\n      elts.push(elt);\n    }\n    return elts\n  };\n\n  pp$5.checkUnreserved = function(ref) {\n    var start = ref.start;\n    var end = ref.end;\n    var name = ref.name;\n\n    if (this.inGenerator && name === \"yield\")\n      { this.raiseRecoverable(start, \"Cannot use 'yield' as identifier inside a generator\"); }\n    if (this.inAsync && name === \"await\")\n      { this.raiseRecoverable(start, \"Cannot use 'await' as identifier inside an async function\"); }\n    if (this.currentThisScope().inClassFieldInit && name === \"arguments\")\n      { this.raiseRecoverable(start, \"Cannot use 'arguments' in class field initializer\"); }\n    if (this.inClassStaticBlock && (name === \"arguments\" || name === \"await\"))\n      { this.raise(start, (\"Cannot use \" + name + \" in class static initialization block\")); }\n    if (this.keywords.test(name))\n      { this.raise(start, (\"Unexpected keyword '\" + name + \"'\")); }\n    if (this.options.ecmaVersion < 6 &&\n      this.input.slice(start, end).indexOf(\"\\\\\") !== -1) { return }\n    var re = this.strict ? this.reservedWordsStrict : this.reservedWords;\n    if (re.test(name)) {\n      if (!this.inAsync && name === \"await\")\n        { this.raiseRecoverable(start, \"Cannot use keyword 'await' outside an async function\"); }\n      this.raiseRecoverable(start, (\"The keyword '\" + name + \"' is reserved\"));\n    }\n  };\n\n  // Parse the next token as an identifier. If `liberal` is true (used\n  // when parsing properties), it will also convert keywords into\n  // identifiers.\n\n  pp$5.parseIdent = function(liberal) {\n    var node = this.parseIdentNode();\n    this.next(!!liberal);\n    this.finishNode(node, \"Identifier\");\n    if (!liberal) {\n      this.checkUnreserved(node);\n      if (node.name === \"await\" && !this.awaitIdentPos)\n        { this.awaitIdentPos = node.start; }\n    }\n    return node\n  };\n\n  pp$5.parseIdentNode = function() {\n    var node = this.startNode();\n    if (this.type === types$1.name) {\n      node.name = this.value;\n    } else if (this.type.keyword) {\n      node.name = this.type.keyword;\n\n      // To fix https://github.com/acornjs/acorn/issues/575\n      // `class` and `function` keywords push new context into this.context.\n      // But there is no chance to pop the context if the keyword is consumed as an identifier such as a property name.\n      // If the previous token is a dot, this does not apply because the context-managing code already ignored the keyword\n      if ((node.name === \"class\" || node.name === \"function\") &&\n        (this.lastTokEnd !== this.lastTokStart + 1 || this.input.charCodeAt(this.lastTokStart) !== 46)) {\n        this.context.pop();\n      }\n      this.type = types$1.name;\n    } else {\n      this.unexpected();\n    }\n    return node\n  };\n\n  pp$5.parsePrivateIdent = function() {\n    var node = this.startNode();\n    if (this.type === types$1.privateId) {\n      node.name = this.value;\n    } else {\n      this.unexpected();\n    }\n    this.next();\n    this.finishNode(node, \"PrivateIdentifier\");\n\n    // For validating existence\n    if (this.options.checkPrivateFields) {\n      if (this.privateNameStack.length === 0) {\n        this.raise(node.start, (\"Private field '#\" + (node.name) + \"' must be declared in an enclosing class\"));\n      } else {\n        this.privateNameStack[this.privateNameStack.length - 1].used.push(node);\n      }\n    }\n\n    return node\n  };\n\n  // Parses yield expression inside generator.\n\n  pp$5.parseYield = function(forInit) {\n    if (!this.yieldPos) { this.yieldPos = this.start; }\n\n    var node = this.startNode();\n    this.next();\n    if (this.type === types$1.semi || this.canInsertSemicolon() || (this.type !== types$1.star && !this.type.startsExpr)) {\n      node.delegate = false;\n      node.argument = null;\n    } else {\n      node.delegate = this.eat(types$1.star);\n      node.argument = this.parseMaybeAssign(forInit);\n    }\n    return this.finishNode(node, \"YieldExpression\")\n  };\n\n  pp$5.parseAwait = function(forInit) {\n    if (!this.awaitPos) { this.awaitPos = this.start; }\n\n    var node = this.startNode();\n    this.next();\n    node.argument = this.parseMaybeUnary(null, true, false, forInit);\n    return this.finishNode(node, \"AwaitExpression\")\n  };\n\n  var pp$4 = Parser.prototype;\n\n  // This function is used to raise exceptions on parse errors. It\n  // takes an offset integer (into the current `input`) to indicate\n  // the location of the error, attaches the position to the end\n  // of the error message, and then raises a `SyntaxError` with that\n  // message.\n\n  pp$4.raise = function(pos, message) {\n    var loc = getLineInfo(this.input, pos);\n    message += \" (\" + loc.line + \":\" + loc.column + \")\";\n    var err = new SyntaxError(message);\n    err.pos = pos; err.loc = loc; err.raisedAt = this.pos;\n    throw err\n  };\n\n  pp$4.raiseRecoverable = pp$4.raise;\n\n  pp$4.curPosition = function() {\n    if (this.options.locations) {\n      return new Position(this.curLine, this.pos - this.lineStart)\n    }\n  };\n\n  var pp$3 = Parser.prototype;\n\n  var Scope = function Scope(flags) {\n    this.flags = flags;\n    // A list of var-declared names in the current lexical scope\n    this.var = [];\n    // A list of lexically-declared names in the current lexical scope\n    this.lexical = [];\n    // A list of lexically-declared FunctionDeclaration names in the current lexical scope\n    this.functions = [];\n    // A switch to disallow the identifier reference 'arguments'\n    this.inClassFieldInit = false;\n  };\n\n  // The functions in this module keep track of declared variables in the current scope in order to detect duplicate variable names.\n\n  pp$3.enterScope = function(flags) {\n    this.scopeStack.push(new Scope(flags));\n  };\n\n  pp$3.exitScope = function() {\n    this.scopeStack.pop();\n  };\n\n  // The spec says:\n  // > At the top level of a function, or script, function declarations are\n  // > treated like var declarations rather than like lexical declarations.\n  pp$3.treatFunctionsAsVarInScope = function(scope) {\n    return (scope.flags & SCOPE_FUNCTION) || !this.inModule && (scope.flags & SCOPE_TOP)\n  };\n\n  pp$3.declareName = function(name, bindingType, pos) {\n    var redeclared = false;\n    if (bindingType === BIND_LEXICAL) {\n      var scope = this.currentScope();\n      redeclared = scope.lexical.indexOf(name) > -1 || scope.functions.indexOf(name) > -1 || scope.var.indexOf(name) > -1;\n      scope.lexical.push(name);\n      if (this.inModule && (scope.flags & SCOPE_TOP))\n        { delete this.undefinedExports[name]; }\n    } else if (bindingType === BIND_SIMPLE_CATCH) {\n      var scope$1 = this.currentScope();\n      scope$1.lexical.push(name);\n    } else if (bindingType === BIND_FUNCTION) {\n      var scope$2 = this.currentScope();\n      if (this.treatFunctionsAsVar)\n        { redeclared = scope$2.lexical.indexOf(name) > -1; }\n      else\n        { redeclared = scope$2.lexical.indexOf(name) > -1 || scope$2.var.indexOf(name) > -1; }\n      scope$2.functions.push(name);\n    } else {\n      for (var i = this.scopeStack.length - 1; i >= 0; --i) {\n        var scope$3 = this.scopeStack[i];\n        if (scope$3.lexical.indexOf(name) > -1 && !((scope$3.flags & SCOPE_SIMPLE_CATCH) && scope$3.lexical[0] === name) ||\n            !this.treatFunctionsAsVarInScope(scope$3) && scope$3.functions.indexOf(name) > -1) {\n          redeclared = true;\n          break\n        }\n        scope$3.var.push(name);\n        if (this.inModule && (scope$3.flags & SCOPE_TOP))\n          { delete this.undefinedExports[name]; }\n        if (scope$3.flags & SCOPE_VAR) { break }\n      }\n    }\n    if (redeclared) { this.raiseRecoverable(pos, (\"Identifier '\" + name + \"' has already been declared\")); }\n  };\n\n  pp$3.checkLocalExport = function(id) {\n    // scope.functions must be empty as Module code is always strict.\n    if (this.scopeStack[0].lexical.indexOf(id.name) === -1 &&\n        this.scopeStack[0].var.indexOf(id.name) === -1) {\n      this.undefinedExports[id.name] = id;\n    }\n  };\n\n  pp$3.currentScope = function() {\n    return this.scopeStack[this.scopeStack.length - 1]\n  };\n\n  pp$3.currentVarScope = function() {\n    for (var i = this.scopeStack.length - 1;; i--) {\n      var scope = this.scopeStack[i];\n      if (scope.flags & SCOPE_VAR) { return scope }\n    }\n  };\n\n  // Could be useful for `this`, `new.target`, `super()`, `super.property`, and `super[property]`.\n  pp$3.currentThisScope = function() {\n    for (var i = this.scopeStack.length - 1;; i--) {\n      var scope = this.scopeStack[i];\n      if (scope.flags & SCOPE_VAR && !(scope.flags & SCOPE_ARROW)) { return scope }\n    }\n  };\n\n  var Node = function Node(parser, pos, loc) {\n    this.type = \"\";\n    this.start = pos;\n    this.end = 0;\n    if (parser.options.locations)\n      { this.loc = new SourceLocation(parser, loc); }\n    if (parser.options.directSourceFile)\n      { this.sourceFile = parser.options.directSourceFile; }\n    if (parser.options.ranges)\n      { this.range = [pos, 0]; }\n  };\n\n  // Start an AST node, attaching a start offset.\n\n  var pp$2 = Parser.prototype;\n\n  pp$2.startNode = function() {\n    return new Node(this, this.start, this.startLoc)\n  };\n\n  pp$2.startNodeAt = function(pos, loc) {\n    return new Node(this, pos, loc)\n  };\n\n  // Finish an AST node, adding `type` and `end` properties.\n\n  function finishNodeAt(node, type, pos, loc) {\n    node.type = type;\n    node.end = pos;\n    if (this.options.locations)\n      { node.loc.end = loc; }\n    if (this.options.ranges)\n      { node.range[1] = pos; }\n    return node\n  }\n\n  pp$2.finishNode = function(node, type) {\n    return finishNodeAt.call(this, node, type, this.lastTokEnd, this.lastTokEndLoc)\n  };\n\n  // Finish node at given position\n\n  pp$2.finishNodeAt = function(node, type, pos, loc) {\n    return finishNodeAt.call(this, node, type, pos, loc)\n  };\n\n  pp$2.copyNode = function(node) {\n    var newNode = new Node(this, node.start, this.startLoc);\n    for (var prop in node) { newNode[prop] = node[prop]; }\n    return newNode\n  };\n\n  // This file contains Unicode properties extracted from the ECMAScript specification.\n  // The lists are extracted like so:\n  // $$('#table-binary-unicode-properties > figure > table > tbody > tr > td:nth-child(1) code').map(el => el.innerText)\n\n  // #table-binary-unicode-properties\n  var ecma9BinaryProperties = \"ASCII ASCII_Hex_Digit AHex Alphabetic Alpha Any Assigned Bidi_Control Bidi_C Bidi_Mirrored Bidi_M Case_Ignorable CI Cased Changes_When_Casefolded CWCF Changes_When_Casemapped CWCM Changes_When_Lowercased CWL Changes_When_NFKC_Casefolded CWKCF Changes_When_Titlecased CWT Changes_When_Uppercased CWU Dash Default_Ignorable_Code_Point DI Deprecated Dep Diacritic Dia Emoji Emoji_Component Emoji_Modifier Emoji_Modifier_Base Emoji_Presentation Extender Ext Grapheme_Base Gr_Base Grapheme_Extend Gr_Ext Hex_Digit Hex IDS_Binary_Operator IDSB IDS_Trinary_Operator IDST ID_Continue IDC ID_Start IDS Ideographic Ideo Join_Control Join_C Logical_Order_Exception LOE Lowercase Lower Math Noncharacter_Code_Point NChar Pattern_Syntax Pat_Syn Pattern_White_Space Pat_WS Quotation_Mark QMark Radical Regional_Indicator RI Sentence_Terminal STerm Soft_Dotted SD Terminal_Punctuation Term Unified_Ideograph UIdeo Uppercase Upper Variation_Selector VS White_Space space XID_Continue XIDC XID_Start XIDS\";\n  var ecma10BinaryProperties = ecma9BinaryProperties + \" Extended_Pictographic\";\n  var ecma11BinaryProperties = ecma10BinaryProperties;\n  var ecma12BinaryProperties = ecma11BinaryProperties + \" EBase EComp EMod EPres ExtPict\";\n  var ecma13BinaryProperties = ecma12BinaryProperties;\n  var ecma14BinaryProperties = ecma13BinaryProperties;\n\n  var unicodeBinaryProperties = {\n    9: ecma9BinaryProperties,\n    10: ecma10BinaryProperties,\n    11: ecma11BinaryProperties,\n    12: ecma12BinaryProperties,\n    13: ecma13BinaryProperties,\n    14: ecma14BinaryProperties\n  };\n\n  // #table-binary-unicode-properties-of-strings\n  var ecma14BinaryPropertiesOfStrings = \"Basic_Emoji Emoji_Keycap_Sequence RGI_Emoji_Modifier_Sequence RGI_Emoji_Flag_Sequence RGI_Emoji_Tag_Sequence RGI_Emoji_ZWJ_Sequence RGI_Emoji\";\n\n  var unicodeBinaryPropertiesOfStrings = {\n    9: \"\",\n    10: \"\",\n    11: \"\",\n    12: \"\",\n    13: \"\",\n    14: ecma14BinaryPropertiesOfStrings\n  };\n\n  // #table-unicode-general-category-values\n  var unicodeGeneralCategoryValues = \"Cased_Letter LC Close_Punctuation Pe Connector_Punctuation Pc Control Cc cntrl Currency_Symbol Sc Dash_Punctuation Pd Decimal_Number Nd digit Enclosing_Mark Me Final_Punctuation Pf Format Cf Initial_Punctuation Pi Letter L Letter_Number Nl Line_Separator Zl Lowercase_Letter Ll Mark M Combining_Mark Math_Symbol Sm Modifier_Letter Lm Modifier_Symbol Sk Nonspacing_Mark Mn Number N Open_Punctuation Ps Other C Other_Letter Lo Other_Number No Other_Punctuation Po Other_Symbol So Paragraph_Separator Zp Private_Use Co Punctuation P punct Separator Z Space_Separator Zs Spacing_Mark Mc Surrogate Cs Symbol S Titlecase_Letter Lt Unassigned Cn Uppercase_Letter Lu\";\n\n  // #table-unicode-script-values\n  var ecma9ScriptValues = \"Adlam Adlm Ahom Anatolian_Hieroglyphs Hluw Arabic Arab Armenian Armn Avestan Avst Balinese Bali Bamum Bamu Bassa_Vah Bass Batak Batk Bengali Beng Bhaiksuki Bhks Bopomofo Bopo Brahmi Brah Braille Brai Buginese Bugi Buhid Buhd Canadian_Aboriginal Cans Carian Cari Caucasian_Albanian Aghb Chakma Cakm Cham Cham Cherokee Cher Common Zyyy Coptic Copt Qaac Cuneiform Xsux Cypriot Cprt Cyrillic Cyrl Deseret Dsrt Devanagari Deva Duployan Dupl Egyptian_Hieroglyphs Egyp Elbasan Elba Ethiopic Ethi Georgian Geor Glagolitic Glag Gothic Goth Grantha Gran Greek Grek Gujarati Gujr Gurmukhi Guru Han Hani Hangul Hang Hanunoo Hano Hatran Hatr Hebrew Hebr Hiragana Hira Imperial_Aramaic Armi Inherited Zinh Qaai Inscriptional_Pahlavi Phli Inscriptional_Parthian Prti Javanese Java Kaithi Kthi Kannada Knda Katakana Kana Kayah_Li Kali Kharoshthi Khar Khmer Khmr Khojki Khoj Khudawadi Sind Lao Laoo Latin Latn Lepcha Lepc Limbu Limb Linear_A Lina Linear_B Linb Lisu Lisu Lycian Lyci Lydian Lydi Mahajani Mahj Malayalam Mlym Mandaic Mand Manichaean Mani Marchen Marc Masaram_Gondi Gonm Meetei_Mayek Mtei Mende_Kikakui Mend Meroitic_Cursive Merc Meroitic_Hieroglyphs Mero Miao Plrd Modi Mongolian Mong Mro Mroo Multani Mult Myanmar Mymr Nabataean Nbat New_Tai_Lue Talu Newa Newa Nko Nkoo Nushu Nshu Ogham Ogam Ol_Chiki Olck Old_Hungarian Hung Old_Italic Ital Old_North_Arabian Narb Old_Permic Perm Old_Persian Xpeo Old_South_Arabian Sarb Old_Turkic Orkh Oriya Orya Osage Osge Osmanya Osma Pahawh_Hmong Hmng Palmyrene Palm Pau_Cin_Hau Pauc Phags_Pa Phag Phoenician Phnx Psalter_Pahlavi Phlp Rejang Rjng Runic Runr Samaritan Samr Saurashtra Saur Sharada Shrd Shavian Shaw Siddham Sidd SignWriting Sgnw Sinhala Sinh Sora_Sompeng Sora Soyombo Soyo Sundanese Sund Syloti_Nagri Sylo Syriac Syrc Tagalog Tglg Tagbanwa Tagb Tai_Le Tale Tai_Tham Lana Tai_Viet Tavt Takri Takr Tamil Taml Tangut Tang Telugu Telu Thaana Thaa Thai Thai Tibetan Tibt Tifinagh Tfng Tirhuta Tirh Ugaritic Ugar Vai Vaii Warang_Citi Wara Yi Yiii Zanabazar_Square Zanb\";\n  var ecma10ScriptValues = ecma9ScriptValues + \" Dogra Dogr Gunjala_Gondi Gong Hanifi_Rohingya Rohg Makasar Maka Medefaidrin Medf Old_Sogdian Sogo Sogdian Sogd\";\n  var ecma11ScriptValues = ecma10ScriptValues + \" Elymaic Elym Nandinagari Nand Nyiakeng_Puachue_Hmong Hmnp Wancho Wcho\";\n  var ecma12ScriptValues = ecma11ScriptValues + \" Chorasmian Chrs Diak Dives_Akuru Khitan_Small_Script Kits Yezi Yezidi\";\n  var ecma13ScriptValues = ecma12ScriptValues + \" Cypro_Minoan Cpmn Old_Uyghur Ougr Tangsa Tnsa Toto Vithkuqi Vith\";\n  var ecma14ScriptValues = ecma13ScriptValues + \" Hrkt Katakana_Or_Hiragana Kawi Nag_Mundari Nagm Unknown Zzzz\";\n\n  var unicodeScriptValues = {\n    9: ecma9ScriptValues,\n    10: ecma10ScriptValues,\n    11: ecma11ScriptValues,\n    12: ecma12ScriptValues,\n    13: ecma13ScriptValues,\n    14: ecma14ScriptValues\n  };\n\n  var data = {};\n  function buildUnicodeData(ecmaVersion) {\n    var d = data[ecmaVersion] = {\n      binary: wordsRegexp(unicodeBinaryProperties[ecmaVersion] + \" \" + unicodeGeneralCategoryValues),\n      binaryOfStrings: wordsRegexp(unicodeBinaryPropertiesOfStrings[ecmaVersion]),\n      nonBinary: {\n        General_Category: wordsRegexp(unicodeGeneralCategoryValues),\n        Script: wordsRegexp(unicodeScriptValues[ecmaVersion])\n      }\n    };\n    d.nonBinary.Script_Extensions = d.nonBinary.Script;\n\n    d.nonBinary.gc = d.nonBinary.General_Category;\n    d.nonBinary.sc = d.nonBinary.Script;\n    d.nonBinary.scx = d.nonBinary.Script_Extensions;\n  }\n\n  for (var i = 0, list = [9, 10, 11, 12, 13, 14]; i < list.length; i += 1) {\n    var ecmaVersion = list[i];\n\n    buildUnicodeData(ecmaVersion);\n  }\n\n  var pp$1 = Parser.prototype;\n\n  // Track disjunction structure to determine whether a duplicate\n  // capture group name is allowed because it is in a separate branch.\n  var BranchID = function BranchID(parent, base) {\n    // Parent disjunction branch\n    this.parent = parent;\n    // Identifies this set of sibling branches\n    this.base = base || this;\n  };\n\n  BranchID.prototype.separatedFrom = function separatedFrom (alt) {\n    // A branch is separate from another branch if they or any of\n    // their parents are siblings in a given disjunction\n    for (var self = this; self; self = self.parent) {\n      for (var other = alt; other; other = other.parent) {\n        if (self.base === other.base && self !== other) { return true }\n      }\n    }\n    return false\n  };\n\n  BranchID.prototype.sibling = function sibling () {\n    return new BranchID(this.parent, this.base)\n  };\n\n  var RegExpValidationState = function RegExpValidationState(parser) {\n    this.parser = parser;\n    this.validFlags = \"gim\" + (parser.options.ecmaVersion >= 6 ? \"uy\" : \"\") + (parser.options.ecmaVersion >= 9 ? \"s\" : \"\") + (parser.options.ecmaVersion >= 13 ? \"d\" : \"\") + (parser.options.ecmaVersion >= 15 ? \"v\" : \"\");\n    this.unicodeProperties = data[parser.options.ecmaVersion >= 14 ? 14 : parser.options.ecmaVersion];\n    this.source = \"\";\n    this.flags = \"\";\n    this.start = 0;\n    this.switchU = false;\n    this.switchV = false;\n    this.switchN = false;\n    this.pos = 0;\n    this.lastIntValue = 0;\n    this.lastStringValue = \"\";\n    this.lastAssertionIsQuantifiable = false;\n    this.numCapturingParens = 0;\n    this.maxBackReference = 0;\n    this.groupNames = Object.create(null);\n    this.backReferenceNames = [];\n    this.branchID = null;\n  };\n\n  RegExpValidationState.prototype.reset = function reset (start, pattern, flags) {\n    var unicodeSets = flags.indexOf(\"v\") !== -1;\n    var unicode = flags.indexOf(\"u\") !== -1;\n    this.start = start | 0;\n    this.source = pattern + \"\";\n    this.flags = flags;\n    if (unicodeSets && this.parser.options.ecmaVersion >= 15) {\n      this.switchU = true;\n      this.switchV = true;\n      this.switchN = true;\n    } else {\n      this.switchU = unicode && this.parser.options.ecmaVersion >= 6;\n      this.switchV = false;\n      this.switchN = unicode && this.parser.options.ecmaVersion >= 9;\n    }\n  };\n\n  RegExpValidationState.prototype.raise = function raise (message) {\n    this.parser.raiseRecoverable(this.start, (\"Invalid regular expression: /\" + (this.source) + \"/: \" + message));\n  };\n\n  // If u flag is given, this returns the code point at the index (it combines a surrogate pair).\n  // Otherwise, this returns the code unit of the index (can be a part of a surrogate pair).\n  RegExpValidationState.prototype.at = function at (i, forceU) {\n      if ( forceU === void 0 ) forceU = false;\n\n    var s = this.source;\n    var l = s.length;\n    if (i >= l) {\n      return -1\n    }\n    var c = s.charCodeAt(i);\n    if (!(forceU || this.switchU) || c <= 0xD7FF || c >= 0xE000 || i + 1 >= l) {\n      return c\n    }\n    var next = s.charCodeAt(i + 1);\n    return next >= 0xDC00 && next <= 0xDFFF ? (c << 10) + next - 0x35FDC00 : c\n  };\n\n  RegExpValidationState.prototype.nextIndex = function nextIndex (i, forceU) {\n      if ( forceU === void 0 ) forceU = false;\n\n    var s = this.source;\n    var l = s.length;\n    if (i >= l) {\n      return l\n    }\n    var c = s.charCodeAt(i), next;\n    if (!(forceU || this.switchU) || c <= 0xD7FF || c >= 0xE000 || i + 1 >= l ||\n        (next = s.charCodeAt(i + 1)) < 0xDC00 || next > 0xDFFF) {\n      return i + 1\n    }\n    return i + 2\n  };\n\n  RegExpValidationState.prototype.current = function current (forceU) {\n      if ( forceU === void 0 ) forceU = false;\n\n    return this.at(this.pos, forceU)\n  };\n\n  RegExpValidationState.prototype.lookahead = function lookahead (forceU) {\n      if ( forceU === void 0 ) forceU = false;\n\n    return this.at(this.nextIndex(this.pos, forceU), forceU)\n  };\n\n  RegExpValidationState.prototype.advance = function advance (forceU) {\n      if ( forceU === void 0 ) forceU = false;\n\n    this.pos = this.nextIndex(this.pos, forceU);\n  };\n\n  RegExpValidationState.prototype.eat = function eat (ch, forceU) {\n      if ( forceU === void 0 ) forceU = false;\n\n    if (this.current(forceU) === ch) {\n      this.advance(forceU);\n      return true\n    }\n    return false\n  };\n\n  RegExpValidationState.prototype.eatChars = function eatChars (chs, forceU) {\n      if ( forceU === void 0 ) forceU = false;\n\n    var pos = this.pos;\n    for (var i = 0, list = chs; i < list.length; i += 1) {\n      var ch = list[i];\n\n        var current = this.at(pos, forceU);\n      if (current === -1 || current !== ch) {\n        return false\n      }\n      pos = this.nextIndex(pos, forceU);\n    }\n    this.pos = pos;\n    return true\n  };\n\n  /**\n   * Validate the flags part of a given RegExpLiteral.\n   *\n   * @param {RegExpValidationState} state The state to validate RegExp.\n   * @returns {void}\n   */\n  pp$1.validateRegExpFlags = function(state) {\n    var validFlags = state.validFlags;\n    var flags = state.flags;\n\n    var u = false;\n    var v = false;\n\n    for (var i = 0; i < flags.length; i++) {\n      var flag = flags.charAt(i);\n      if (validFlags.indexOf(flag) === -1) {\n        this.raise(state.start, \"Invalid regular expression flag\");\n      }\n      if (flags.indexOf(flag, i + 1) > -1) {\n        this.raise(state.start, \"Duplicate regular expression flag\");\n      }\n      if (flag === \"u\") { u = true; }\n      if (flag === \"v\") { v = true; }\n    }\n    if (this.options.ecmaVersion >= 15 && u && v) {\n      this.raise(state.start, \"Invalid regular expression flag\");\n    }\n  };\n\n  function hasProp(obj) {\n    for (var _ in obj) { return true }\n    return false\n  }\n\n  /**\n   * Validate the pattern part of a given RegExpLiteral.\n   *\n   * @param {RegExpValidationState} state The state to validate RegExp.\n   * @returns {void}\n   */\n  pp$1.validateRegExpPattern = function(state) {\n    this.regexp_pattern(state);\n\n    // The goal symbol for the parse is |Pattern[~U, ~N]|. If the result of\n    // parsing contains a |GroupName|, reparse with the goal symbol\n    // |Pattern[~U, +N]| and use this result instead. Throw a *SyntaxError*\n    // exception if _P_ did not conform to the grammar, if any elements of _P_\n    // were not matched by the parse, or if any Early Error conditions exist.\n    if (!state.switchN && this.options.ecmaVersion >= 9 && hasProp(state.groupNames)) {\n      state.switchN = true;\n      this.regexp_pattern(state);\n    }\n  };\n\n  // https://www.ecma-international.org/ecma-262/8.0/#prod-Pattern\n  pp$1.regexp_pattern = function(state) {\n    state.pos = 0;\n    state.lastIntValue = 0;\n    state.lastStringValue = \"\";\n    state.lastAssertionIsQuantifiable = false;\n    state.numCapturingParens = 0;\n    state.maxBackReference = 0;\n    state.groupNames = Object.create(null);\n    state.backReferenceNames.length = 0;\n    state.branchID = null;\n\n    this.regexp_disjunction(state);\n\n    if (state.pos !== state.source.length) {\n      // Make the same messages as V8.\n      if (state.eat(0x29 /* ) */)) {\n        state.raise(\"Unmatched ')'\");\n      }\n      if (state.eat(0x5D /* ] */) || state.eat(0x7D /* } */)) {\n        state.raise(\"Lone quantifier brackets\");\n      }\n    }\n    if (state.maxBackReference > state.numCapturingParens) {\n      state.raise(\"Invalid escape\");\n    }\n    for (var i = 0, list = state.backReferenceNames; i < list.length; i += 1) {\n      var name = list[i];\n\n      if (!state.groupNames[name]) {\n        state.raise(\"Invalid named capture referenced\");\n      }\n    }\n  };\n\n  // https://www.ecma-international.org/ecma-262/8.0/#prod-Disjunction\n  pp$1.regexp_disjunction = function(state) {\n    var trackDisjunction = this.options.ecmaVersion >= 16;\n    if (trackDisjunction) { state.branchID = new BranchID(state.branchID, null); }\n    this.regexp_alternative(state);\n    while (state.eat(0x7C /* | */)) {\n      if (trackDisjunction) { state.branchID = state.branchID.sibling(); }\n      this.regexp_alternative(state);\n    }\n    if (trackDisjunction) { state.branchID = state.branchID.parent; }\n\n    // Make the same message as V8.\n    if (this.regexp_eatQuantifier(state, true)) {\n      state.raise(\"Nothing to repeat\");\n    }\n    if (state.eat(0x7B /* { */)) {\n      state.raise(\"Lone quantifier brackets\");\n    }\n  };\n\n  // https://www.ecma-international.org/ecma-262/8.0/#prod-Alternative\n  pp$1.regexp_alternative = function(state) {\n    while (state.pos < state.source.length && this.regexp_eatTerm(state)) {}\n  };\n\n  // https://www.ecma-international.org/ecma-262/8.0/#prod-annexB-Term\n  pp$1.regexp_eatTerm = function(state) {\n    if (this.regexp_eatAssertion(state)) {\n      // Handle `QuantifiableAssertion Quantifier` alternative.\n      // `state.lastAssertionIsQuantifiable` is true if the last eaten Assertion\n      // is a QuantifiableAssertion.\n      if (state.lastAssertionIsQuantifiable && this.regexp_eatQuantifier(state)) {\n        // Make the same message as V8.\n        if (state.switchU) {\n          state.raise(\"Invalid quantifier\");\n        }\n      }\n      return true\n    }\n\n    if (state.switchU ? this.regexp_eatAtom(state) : this.regexp_eatExtendedAtom(state)) {\n      this.regexp_eatQuantifier(state);\n      return true\n    }\n\n    return false\n  };\n\n  // https://www.ecma-international.org/ecma-262/8.0/#prod-annexB-Assertion\n  pp$1.regexp_eatAssertion = function(state) {\n    var start = state.pos;\n    state.lastAssertionIsQuantifiable = false;\n\n    // ^, $\n    if (state.eat(0x5E /* ^ */) || state.eat(0x24 /* $ */)) {\n      return true\n    }\n\n    // \\b \\B\n    if (state.eat(0x5C /* \\ */)) {\n      if (state.eat(0x42 /* B */) || state.eat(0x62 /* b */)) {\n        return true\n      }\n      state.pos = start;\n    }\n\n    // Lookahead / Lookbehind\n    if (state.eat(0x28 /* ( */) && state.eat(0x3F /* ? */)) {\n      var lookbehind = false;\n      if (this.options.ecmaVersion >= 9) {\n        lookbehind = state.eat(0x3C /* < */);\n      }\n      if (state.eat(0x3D /* = */) || state.eat(0x21 /* ! */)) {\n        this.regexp_disjunction(state);\n        if (!state.eat(0x29 /* ) */)) {\n          state.raise(\"Unterminated group\");\n        }\n        state.lastAssertionIsQuantifiable = !lookbehind;\n        return true\n      }\n    }\n\n    state.pos = start;\n    return false\n  };\n\n  // https://www.ecma-international.org/ecma-262/8.0/#prod-Quantifier\n  pp$1.regexp_eatQuantifier = function(state, noError) {\n    if ( noError === void 0 ) noError = false;\n\n    if (this.regexp_eatQuantifierPrefix(state, noError)) {\n      state.eat(0x3F /* ? */);\n      return true\n    }\n    return false\n  };\n\n  // https://www.ecma-international.org/ecma-262/8.0/#prod-QuantifierPrefix\n  pp$1.regexp_eatQuantifierPrefix = function(state, noError) {\n    return (\n      state.eat(0x2A /* * */) ||\n      state.eat(0x2B /* + */) ||\n      state.eat(0x3F /* ? */) ||\n      this.regexp_eatBracedQuantifier(state, noError)\n    )\n  };\n  pp$1.regexp_eatBracedQuantifier = function(state, noError) {\n    var start = state.pos;\n    if (state.eat(0x7B /* { */)) {\n      var min = 0, max = -1;\n      if (this.regexp_eatDecimalDigits(state)) {\n        min = state.lastIntValue;\n        if (state.eat(0x2C /* , */) && this.regexp_eatDecimalDigits(state)) {\n          max = state.lastIntValue;\n        }\n        if (state.eat(0x7D /* } */)) {\n          // SyntaxError in https://www.ecma-international.org/ecma-262/8.0/#sec-term\n          if (max !== -1 && max < min && !noError) {\n            state.raise(\"numbers out of order in {} quantifier\");\n          }\n          return true\n        }\n      }\n      if (state.switchU && !noError) {\n        state.raise(\"Incomplete quantifier\");\n      }\n      state.pos = start;\n    }\n    return false\n  };\n\n  // https://www.ecma-international.org/ecma-262/8.0/#prod-Atom\n  pp$1.regexp_eatAtom = function(state) {\n    return (\n      this.regexp_eatPatternCharacters(state) ||\n      state.eat(0x2E /* . */) ||\n      this.regexp_eatReverseSolidusAtomEscape(state) ||\n      this.regexp_eatCharacterClass(state) ||\n      this.regexp_eatUncapturingGroup(state) ||\n      this.regexp_eatCapturingGroup(state)\n    )\n  };\n  pp$1.regexp_eatReverseSolidusAtomEscape = function(state) {\n    var start = state.pos;\n    if (state.eat(0x5C /* \\ */)) {\n      if (this.regexp_eatAtomEscape(state)) {\n        return true\n      }\n      state.pos = start;\n    }\n    return false\n  };\n  pp$1.regexp_eatUncapturingGroup = function(state) {\n    var start = state.pos;\n    if (state.eat(0x28 /* ( */)) {\n      if (state.eat(0x3F /* ? */) && state.eat(0x3A /* : */)) {\n        this.regexp_disjunction(state);\n        if (state.eat(0x29 /* ) */)) {\n          return true\n        }\n        state.raise(\"Unterminated group\");\n      }\n      state.pos = start;\n    }\n    return false\n  };\n  pp$1.regexp_eatCapturingGroup = function(state) {\n    if (state.eat(0x28 /* ( */)) {\n      if (this.options.ecmaVersion >= 9) {\n        this.regexp_groupSpecifier(state);\n      } else if (state.current() === 0x3F /* ? */) {\n        state.raise(\"Invalid group\");\n      }\n      this.regexp_disjunction(state);\n      if (state.eat(0x29 /* ) */)) {\n        state.numCapturingParens += 1;\n        return true\n      }\n      state.raise(\"Unterminated group\");\n    }\n    return false\n  };\n\n  // https://www.ecma-international.org/ecma-262/8.0/#prod-annexB-ExtendedAtom\n  pp$1.regexp_eatExtendedAtom = function(state) {\n    return (\n      state.eat(0x2E /* . */) ||\n      this.regexp_eatReverseSolidusAtomEscape(state) ||\n      this.regexp_eatCharacterClass(state) ||\n      this.regexp_eatUncapturingGroup(state) ||\n      this.regexp_eatCapturingGroup(state) ||\n      this.regexp_eatInvalidBracedQuantifier(state) ||\n      this.regexp_eatExtendedPatternCharacter(state)\n    )\n  };\n\n  // https://www.ecma-international.org/ecma-262/8.0/#prod-annexB-InvalidBracedQuantifier\n  pp$1.regexp_eatInvalidBracedQuantifier = function(state) {\n    if (this.regexp_eatBracedQuantifier(state, true)) {\n      state.raise(\"Nothing to repeat\");\n    }\n    return false\n  };\n\n  // https://www.ecma-international.org/ecma-262/8.0/#prod-SyntaxCharacter\n  pp$1.regexp_eatSyntaxCharacter = function(state) {\n    var ch = state.current();\n    if (isSyntaxCharacter(ch)) {\n      state.lastIntValue = ch;\n      state.advance();\n      return true\n    }\n    return false\n  };\n  function isSyntaxCharacter(ch) {\n    return (\n      ch === 0x24 /* $ */ ||\n      ch >= 0x28 /* ( */ && ch <= 0x2B /* + */ ||\n      ch === 0x2E /* . */ ||\n      ch === 0x3F /* ? */ ||\n      ch >= 0x5B /* [ */ && ch <= 0x5E /* ^ */ ||\n      ch >= 0x7B /* { */ && ch <= 0x7D /* } */\n    )\n  }\n\n  // https://www.ecma-international.org/ecma-262/8.0/#prod-PatternCharacter\n  // But eat eager.\n  pp$1.regexp_eatPatternCharacters = function(state) {\n    var start = state.pos;\n    var ch = 0;\n    while ((ch = state.current()) !== -1 && !isSyntaxCharacter(ch)) {\n      state.advance();\n    }\n    return state.pos !== start\n  };\n\n  // https://www.ecma-international.org/ecma-262/8.0/#prod-annexB-ExtendedPatternCharacter\n  pp$1.regexp_eatExtendedPatternCharacter = function(state) {\n    var ch = state.current();\n    if (\n      ch !== -1 &&\n      ch !== 0x24 /* $ */ &&\n      !(ch >= 0x28 /* ( */ && ch <= 0x2B /* + */) &&\n      ch !== 0x2E /* . */ &&\n      ch !== 0x3F /* ? */ &&\n      ch !== 0x5B /* [ */ &&\n      ch !== 0x5E /* ^ */ &&\n      ch !== 0x7C /* | */\n    ) {\n      state.advance();\n      return true\n    }\n    return false\n  };\n\n  // GroupSpecifier ::\n  //   [empty]\n  //   `?` GroupName\n  pp$1.regexp_groupSpecifier = function(state) {\n    if (state.eat(0x3F /* ? */)) {\n      if (!this.regexp_eatGroupName(state)) { state.raise(\"Invalid group\"); }\n      var trackDisjunction = this.options.ecmaVersion >= 16;\n      var known = state.groupNames[state.lastStringValue];\n      if (known) {\n        if (trackDisjunction) {\n          for (var i = 0, list = known; i < list.length; i += 1) {\n            var altID = list[i];\n\n            if (!altID.separatedFrom(state.branchID))\n              { state.raise(\"Duplicate capture group name\"); }\n          }\n        } else {\n          state.raise(\"Duplicate capture group name\");\n        }\n      }\n      if (trackDisjunction) {\n        (known || (state.groupNames[state.lastStringValue] = [])).push(state.branchID);\n      } else {\n        state.groupNames[state.lastStringValue] = true;\n      }\n    }\n  };\n\n  // GroupName ::\n  //   `<` RegExpIdentifierName `>`\n  // Note: this updates `state.lastStringValue` property with the eaten name.\n  pp$1.regexp_eatGroupName = function(state) {\n    state.lastStringValue = \"\";\n    if (state.eat(0x3C /* < */)) {\n      if (this.regexp_eatRegExpIdentifierName(state) && state.eat(0x3E /* > */)) {\n        return true\n      }\n      state.raise(\"Invalid capture group name\");\n    }\n    return false\n  };\n\n  // RegExpIdentifierName ::\n  //   RegExpIdentifierStart\n  //   RegExpIdentifierName RegExpIdentifierPart\n  // Note: this updates `state.lastStringValue` property with the eaten name.\n  pp$1.regexp_eatRegExpIdentifierName = function(state) {\n    state.lastStringValue = \"\";\n    if (this.regexp_eatRegExpIdentifierStart(state)) {\n      state.lastStringValue += codePointToString(state.lastIntValue);\n      while (this.regexp_eatRegExpIdentifierPart(state)) {\n        state.lastStringValue += codePointToString(state.lastIntValue);\n      }\n      return true\n    }\n    return false\n  };\n\n  // RegExpIdentifierStart ::\n  //   UnicodeIDStart\n  //   `$`\n  //   `_`\n  //   `\\` RegExpUnicodeEscapeSequence[+U]\n  pp$1.regexp_eatRegExpIdentifierStart = function(state) {\n    var start = state.pos;\n    var forceU = this.options.ecmaVersion >= 11;\n    var ch = state.current(forceU);\n    state.advance(forceU);\n\n    if (ch === 0x5C /* \\ */ && this.regexp_eatRegExpUnicodeEscapeSequence(state, forceU)) {\n      ch = state.lastIntValue;\n    }\n    if (isRegExpIdentifierStart(ch)) {\n      state.lastIntValue = ch;\n      return true\n    }\n\n    state.pos = start;\n    return false\n  };\n  function isRegExpIdentifierStart(ch) {\n    return isIdentifierStart(ch, true) || ch === 0x24 /* $ */ || ch === 0x5F /* _ */\n  }\n\n  // RegExpIdentifierPart ::\n  //   UnicodeIDContinue\n  //   `$`\n  //   `_`\n  //   `\\` RegExpUnicodeEscapeSequence[+U]\n  //   <ZWNJ>\n  //   <ZWJ>\n  pp$1.regexp_eatRegExpIdentifierPart = function(state) {\n    var start = state.pos;\n    var forceU = this.options.ecmaVersion >= 11;\n    var ch = state.current(forceU);\n    state.advance(forceU);\n\n    if (ch === 0x5C /* \\ */ && this.regexp_eatRegExpUnicodeEscapeSequence(state, forceU)) {\n      ch = state.lastIntValue;\n    }\n    if (isRegExpIdentifierPart(ch)) {\n      state.lastIntValue = ch;\n      return true\n    }\n\n    state.pos = start;\n    return false\n  };\n  function isRegExpIdentifierPart(ch) {\n    return isIdentifierChar(ch, true) || ch === 0x24 /* $ */ || ch === 0x5F /* _ */ || ch === 0x200C /* <ZWNJ> */ || ch === 0x200D /* <ZWJ> */\n  }\n\n  // https://www.ecma-international.org/ecma-262/8.0/#prod-annexB-AtomEscape\n  pp$1.regexp_eatAtomEscape = function(state) {\n    if (\n      this.regexp_eatBackReference(state) ||\n      this.regexp_eatCharacterClassEscape(state) ||\n      this.regexp_eatCharacterEscape(state) ||\n      (state.switchN && this.regexp_eatKGroupName(state))\n    ) {\n      return true\n    }\n    if (state.switchU) {\n      // Make the same message as V8.\n      if (state.current() === 0x63 /* c */) {\n        state.raise(\"Invalid unicode escape\");\n      }\n      state.raise(\"Invalid escape\");\n    }\n    return false\n  };\n  pp$1.regexp_eatBackReference = function(state) {\n    var start = state.pos;\n    if (this.regexp_eatDecimalEscape(state)) {\n      var n = state.lastIntValue;\n      if (state.switchU) {\n        // For SyntaxError in https://www.ecma-international.org/ecma-262/8.0/#sec-atomescape\n        if (n > state.maxBackReference) {\n          state.maxBackReference = n;\n        }\n        return true\n      }\n      if (n <= state.numCapturingParens) {\n        return true\n      }\n      state.pos = start;\n    }\n    return false\n  };\n  pp$1.regexp_eatKGroupName = function(state) {\n    if (state.eat(0x6B /* k */)) {\n      if (this.regexp_eatGroupName(state)) {\n        state.backReferenceNames.push(state.lastStringValue);\n        return true\n      }\n      state.raise(\"Invalid named reference\");\n    }\n    return false\n  };\n\n  // https://www.ecma-international.org/ecma-262/8.0/#prod-annexB-CharacterEscape\n  pp$1.regexp_eatCharacterEscape = function(state) {\n    return (\n      this.regexp_eatControlEscape(state) ||\n      this.regexp_eatCControlLetter(state) ||\n      this.regexp_eatZero(state) ||\n      this.regexp_eatHexEscapeSequence(state) ||\n      this.regexp_eatRegExpUnicodeEscapeSequence(state, false) ||\n      (!state.switchU && this.regexp_eatLegacyOctalEscapeSequence(state)) ||\n      this.regexp_eatIdentityEscape(state)\n    )\n  };\n  pp$1.regexp_eatCControlLetter = function(state) {\n    var start = state.pos;\n    if (state.eat(0x63 /* c */)) {\n      if (this.regexp_eatControlLetter(state)) {\n        return true\n      }\n      state.pos = start;\n    }\n    return false\n  };\n  pp$1.regexp_eatZero = function(state) {\n    if (state.current() === 0x30 /* 0 */ && !isDecimalDigit(state.lookahead())) {\n      state.lastIntValue = 0;\n      state.advance();\n      return true\n    }\n    return false\n  };\n\n  // https://www.ecma-international.org/ecma-262/8.0/#prod-ControlEscape\n  pp$1.regexp_eatControlEscape = function(state) {\n    var ch = state.current();\n    if (ch === 0x74 /* t */) {\n      state.lastIntValue = 0x09; /* \\t */\n      state.advance();\n      return true\n    }\n    if (ch === 0x6E /* n */) {\n      state.lastIntValue = 0x0A; /* \\n */\n      state.advance();\n      return true\n    }\n    if (ch === 0x76 /* v */) {\n      state.lastIntValue = 0x0B; /* \\v */\n      state.advance();\n      return true\n    }\n    if (ch === 0x66 /* f */) {\n      state.lastIntValue = 0x0C; /* \\f */\n      state.advance();\n      return true\n    }\n    if (ch === 0x72 /* r */) {\n      state.lastIntValue = 0x0D; /* \\r */\n      state.advance();\n      return true\n    }\n    return false\n  };\n\n  // https://www.ecma-international.org/ecma-262/8.0/#prod-ControlLetter\n  pp$1.regexp_eatControlLetter = function(state) {\n    var ch = state.current();\n    if (isControlLetter(ch)) {\n      state.lastIntValue = ch % 0x20;\n      state.advance();\n      return true\n    }\n    return false\n  };\n  function isControlLetter(ch) {\n    return (\n      (ch >= 0x41 /* A */ && ch <= 0x5A /* Z */) ||\n      (ch >= 0x61 /* a */ && ch <= 0x7A /* z */)\n    )\n  }\n\n  // https://www.ecma-international.org/ecma-262/8.0/#prod-RegExpUnicodeEscapeSequence\n  pp$1.regexp_eatRegExpUnicodeEscapeSequence = function(state, forceU) {\n    if ( forceU === void 0 ) forceU = false;\n\n    var start = state.pos;\n    var switchU = forceU || state.switchU;\n\n    if (state.eat(0x75 /* u */)) {\n      if (this.regexp_eatFixedHexDigits(state, 4)) {\n        var lead = state.lastIntValue;\n        if (switchU && lead >= 0xD800 && lead <= 0xDBFF) {\n          var leadSurrogateEnd = state.pos;\n          if (state.eat(0x5C /* \\ */) && state.eat(0x75 /* u */) && this.regexp_eatFixedHexDigits(state, 4)) {\n            var trail = state.lastIntValue;\n            if (trail >= 0xDC00 && trail <= 0xDFFF) {\n              state.lastIntValue = (lead - 0xD800) * 0x400 + (trail - 0xDC00) + 0x10000;\n              return true\n            }\n          }\n          state.pos = leadSurrogateEnd;\n          state.lastIntValue = lead;\n        }\n        return true\n      }\n      if (\n        switchU &&\n        state.eat(0x7B /* { */) &&\n        this.regexp_eatHexDigits(state) &&\n        state.eat(0x7D /* } */) &&\n        isValidUnicode(state.lastIntValue)\n      ) {\n        return true\n      }\n      if (switchU) {\n        state.raise(\"Invalid unicode escape\");\n      }\n      state.pos = start;\n    }\n\n    return false\n  };\n  function isValidUnicode(ch) {\n    return ch >= 0 && ch <= 0x10FFFF\n  }\n\n  // https://www.ecma-international.org/ecma-262/8.0/#prod-annexB-IdentityEscape\n  pp$1.regexp_eatIdentityEscape = function(state) {\n    if (state.switchU) {\n      if (this.regexp_eatSyntaxCharacter(state)) {\n        return true\n      }\n      if (state.eat(0x2F /* / */)) {\n        state.lastIntValue = 0x2F; /* / */\n        return true\n      }\n      return false\n    }\n\n    var ch = state.current();\n    if (ch !== 0x63 /* c */ && (!state.switchN || ch !== 0x6B /* k */)) {\n      state.lastIntValue = ch;\n      state.advance();\n      return true\n    }\n\n    return false\n  };\n\n  // https://www.ecma-international.org/ecma-262/8.0/#prod-DecimalEscape\n  pp$1.regexp_eatDecimalEscape = function(state) {\n    state.lastIntValue = 0;\n    var ch = state.current();\n    if (ch >= 0x31 /* 1 */ && ch <= 0x39 /* 9 */) {\n      do {\n        state.lastIntValue = 10 * state.lastIntValue + (ch - 0x30 /* 0 */);\n        state.advance();\n      } while ((ch = state.current()) >= 0x30 /* 0 */ && ch <= 0x39 /* 9 */)\n      return true\n    }\n    return false\n  };\n\n  // Return values used by character set parsing methods, needed to\n  // forbid negation of sets that can match strings.\n  var CharSetNone = 0; // Nothing parsed\n  var CharSetOk = 1; // Construct parsed, cannot contain strings\n  var CharSetString = 2; // Construct parsed, can contain strings\n\n  // https://www.ecma-international.org/ecma-262/8.0/#prod-CharacterClassEscape\n  pp$1.regexp_eatCharacterClassEscape = function(state) {\n    var ch = state.current();\n\n    if (isCharacterClassEscape(ch)) {\n      state.lastIntValue = -1;\n      state.advance();\n      return CharSetOk\n    }\n\n    var negate = false;\n    if (\n      state.switchU &&\n      this.options.ecmaVersion >= 9 &&\n      ((negate = ch === 0x50 /* P */) || ch === 0x70 /* p */)\n    ) {\n      state.lastIntValue = -1;\n      state.advance();\n      var result;\n      if (\n        state.eat(0x7B /* { */) &&\n        (result = this.regexp_eatUnicodePropertyValueExpression(state)) &&\n        state.eat(0x7D /* } */)\n      ) {\n        if (negate && result === CharSetString) { state.raise(\"Invalid property name\"); }\n        return result\n      }\n      state.raise(\"Invalid property name\");\n    }\n\n    return CharSetNone\n  };\n\n  function isCharacterClassEscape(ch) {\n    return (\n      ch === 0x64 /* d */ ||\n      ch === 0x44 /* D */ ||\n      ch === 0x73 /* s */ ||\n      ch === 0x53 /* S */ ||\n      ch === 0x77 /* w */ ||\n      ch === 0x57 /* W */\n    )\n  }\n\n  // UnicodePropertyValueExpression ::\n  //   UnicodePropertyName `=` UnicodePropertyValue\n  //   LoneUnicodePropertyNameOrValue\n  pp$1.regexp_eatUnicodePropertyValueExpression = function(state) {\n    var start = state.pos;\n\n    // UnicodePropertyName `=` UnicodePropertyValue\n    if (this.regexp_eatUnicodePropertyName(state) && state.eat(0x3D /* = */)) {\n      var name = state.lastStringValue;\n      if (this.regexp_eatUnicodePropertyValue(state)) {\n        var value = state.lastStringValue;\n        this.regexp_validateUnicodePropertyNameAndValue(state, name, value);\n        return CharSetOk\n      }\n    }\n    state.pos = start;\n\n    // LoneUnicodePropertyNameOrValue\n    if (this.regexp_eatLoneUnicodePropertyNameOrValue(state)) {\n      var nameOrValue = state.lastStringValue;\n      return this.regexp_validateUnicodePropertyNameOrValue(state, nameOrValue)\n    }\n    return CharSetNone\n  };\n\n  pp$1.regexp_validateUnicodePropertyNameAndValue = function(state, name, value) {\n    if (!hasOwn(state.unicodeProperties.nonBinary, name))\n      { state.raise(\"Invalid property name\"); }\n    if (!state.unicodeProperties.nonBinary[name].test(value))\n      { state.raise(\"Invalid property value\"); }\n  };\n\n  pp$1.regexp_validateUnicodePropertyNameOrValue = function(state, nameOrValue) {\n    if (state.unicodeProperties.binary.test(nameOrValue)) { return CharSetOk }\n    if (state.switchV && state.unicodeProperties.binaryOfStrings.test(nameOrValue)) { return CharSetString }\n    state.raise(\"Invalid property name\");\n  };\n\n  // UnicodePropertyName ::\n  //   UnicodePropertyNameCharacters\n  pp$1.regexp_eatUnicodePropertyName = function(state) {\n    var ch = 0;\n    state.lastStringValue = \"\";\n    while (isUnicodePropertyNameCharacter(ch = state.current())) {\n      state.lastStringValue += codePointToString(ch);\n      state.advance();\n    }\n    return state.lastStringValue !== \"\"\n  };\n\n  function isUnicodePropertyNameCharacter(ch) {\n    return isControlLetter(ch) || ch === 0x5F /* _ */\n  }\n\n  // UnicodePropertyValue ::\n  //   UnicodePropertyValueCharacters\n  pp$1.regexp_eatUnicodePropertyValue = function(state) {\n    var ch = 0;\n    state.lastStringValue = \"\";\n    while (isUnicodePropertyValueCharacter(ch = state.current())) {\n      state.lastStringValue += codePointToString(ch);\n      state.advance();\n    }\n    return state.lastStringValue !== \"\"\n  };\n  function isUnicodePropertyValueCharacter(ch) {\n    return isUnicodePropertyNameCharacter(ch) || isDecimalDigit(ch)\n  }\n\n  // LoneUnicodePropertyNameOrValue ::\n  //   UnicodePropertyValueCharacters\n  pp$1.regexp_eatLoneUnicodePropertyNameOrValue = function(state) {\n    return this.regexp_eatUnicodePropertyValue(state)\n  };\n\n  // https://www.ecma-international.org/ecma-262/8.0/#prod-CharacterClass\n  pp$1.regexp_eatCharacterClass = function(state) {\n    if (state.eat(0x5B /* [ */)) {\n      var negate = state.eat(0x5E /* ^ */);\n      var result = this.regexp_classContents(state);\n      if (!state.eat(0x5D /* ] */))\n        { state.raise(\"Unterminated character class\"); }\n      if (negate && result === CharSetString)\n        { state.raise(\"Negated character class may contain strings\"); }\n      return true\n    }\n    return false\n  };\n\n  // https://tc39.es/ecma262/#prod-ClassContents\n  // https://www.ecma-international.org/ecma-262/8.0/#prod-ClassRanges\n  pp$1.regexp_classContents = function(state) {\n    if (state.current() === 0x5D /* ] */) { return CharSetOk }\n    if (state.switchV) { return this.regexp_classSetExpression(state) }\n    this.regexp_nonEmptyClassRanges(state);\n    return CharSetOk\n  };\n\n  // https://www.ecma-international.org/ecma-262/8.0/#prod-NonemptyClassRanges\n  // https://www.ecma-international.org/ecma-262/8.0/#prod-NonemptyClassRangesNoDash\n  pp$1.regexp_nonEmptyClassRanges = function(state) {\n    while (this.regexp_eatClassAtom(state)) {\n      var left = state.lastIntValue;\n      if (state.eat(0x2D /* - */) && this.regexp_eatClassAtom(state)) {\n        var right = state.lastIntValue;\n        if (state.switchU && (left === -1 || right === -1)) {\n          state.raise(\"Invalid character class\");\n        }\n        if (left !== -1 && right !== -1 && left > right) {\n          state.raise(\"Range out of order in character class\");\n        }\n      }\n    }\n  };\n\n  // https://www.ecma-international.org/ecma-262/8.0/#prod-ClassAtom\n  // https://www.ecma-international.org/ecma-262/8.0/#prod-ClassAtomNoDash\n  pp$1.regexp_eatClassAtom = function(state) {\n    var start = state.pos;\n\n    if (state.eat(0x5C /* \\ */)) {\n      if (this.regexp_eatClassEscape(state)) {\n        return true\n      }\n      if (state.switchU) {\n        // Make the same message as V8.\n        var ch$1 = state.current();\n        if (ch$1 === 0x63 /* c */ || isOctalDigit(ch$1)) {\n          state.raise(\"Invalid class escape\");\n        }\n        state.raise(\"Invalid escape\");\n      }\n      state.pos = start;\n    }\n\n    var ch = state.current();\n    if (ch !== 0x5D /* ] */) {\n      state.lastIntValue = ch;\n      state.advance();\n      return true\n    }\n\n    return false\n  };\n\n  // https://www.ecma-international.org/ecma-262/8.0/#prod-annexB-ClassEscape\n  pp$1.regexp_eatClassEscape = function(state) {\n    var start = state.pos;\n\n    if (state.eat(0x62 /* b */)) {\n      state.lastIntValue = 0x08; /* <BS> */\n      return true\n    }\n\n    if (state.switchU && state.eat(0x2D /* - */)) {\n      state.lastIntValue = 0x2D; /* - */\n      return true\n    }\n\n    if (!state.switchU && state.eat(0x63 /* c */)) {\n      if (this.regexp_eatClassControlLetter(state)) {\n        return true\n      }\n      state.pos = start;\n    }\n\n    return (\n      this.regexp_eatCharacterClassEscape(state) ||\n      this.regexp_eatCharacterEscape(state)\n    )\n  };\n\n  // https://tc39.es/ecma262/#prod-ClassSetExpression\n  // https://tc39.es/ecma262/#prod-ClassUnion\n  // https://tc39.es/ecma262/#prod-ClassIntersection\n  // https://tc39.es/ecma262/#prod-ClassSubtraction\n  pp$1.regexp_classSetExpression = function(state) {\n    var result = CharSetOk, subResult;\n    if (this.regexp_eatClassSetRange(state)) ; else if (subResult = this.regexp_eatClassSetOperand(state)) {\n      if (subResult === CharSetString) { result = CharSetString; }\n      // https://tc39.es/ecma262/#prod-ClassIntersection\n      var start = state.pos;\n      while (state.eatChars([0x26, 0x26] /* && */)) {\n        if (\n          state.current() !== 0x26 /* & */ &&\n          (subResult = this.regexp_eatClassSetOperand(state))\n        ) {\n          if (subResult !== CharSetString) { result = CharSetOk; }\n          continue\n        }\n        state.raise(\"Invalid character in character class\");\n      }\n      if (start !== state.pos) { return result }\n      // https://tc39.es/ecma262/#prod-ClassSubtraction\n      while (state.eatChars([0x2D, 0x2D] /* -- */)) {\n        if (this.regexp_eatClassSetOperand(state)) { continue }\n        state.raise(\"Invalid character in character class\");\n      }\n      if (start !== state.pos) { return result }\n    } else {\n      state.raise(\"Invalid character in character class\");\n    }\n    // https://tc39.es/ecma262/#prod-ClassUnion\n    for (;;) {\n      if (this.regexp_eatClassSetRange(state)) { continue }\n      subResult = this.regexp_eatClassSetOperand(state);\n      if (!subResult) { return result }\n      if (subResult === CharSetString) { result = CharSetString; }\n    }\n  };\n\n  // https://tc39.es/ecma262/#prod-ClassSetRange\n  pp$1.regexp_eatClassSetRange = function(state) {\n    var start = state.pos;\n    if (this.regexp_eatClassSetCharacter(state)) {\n      var left = state.lastIntValue;\n      if (state.eat(0x2D /* - */) && this.regexp_eatClassSetCharacter(state)) {\n        var right = state.lastIntValue;\n        if (left !== -1 && right !== -1 && left > right) {\n          state.raise(\"Range out of order in character class\");\n        }\n        return true\n      }\n      state.pos = start;\n    }\n    return false\n  };\n\n  // https://tc39.es/ecma262/#prod-ClassSetOperand\n  pp$1.regexp_eatClassSetOperand = function(state) {\n    if (this.regexp_eatClassSetCharacter(state)) { return CharSetOk }\n    return this.regexp_eatClassStringDisjunction(state) || this.regexp_eatNestedClass(state)\n  };\n\n  // https://tc39.es/ecma262/#prod-NestedClass\n  pp$1.regexp_eatNestedClass = function(state) {\n    var start = state.pos;\n    if (state.eat(0x5B /* [ */)) {\n      var negate = state.eat(0x5E /* ^ */);\n      var result = this.regexp_classContents(state);\n      if (state.eat(0x5D /* ] */)) {\n        if (negate && result === CharSetString) {\n          state.raise(\"Negated character class may contain strings\");\n        }\n        return result\n      }\n      state.pos = start;\n    }\n    if (state.eat(0x5C /* \\ */)) {\n      var result$1 = this.regexp_eatCharacterClassEscape(state);\n      if (result$1) {\n        return result$1\n      }\n      state.pos = start;\n    }\n    return null\n  };\n\n  // https://tc39.es/ecma262/#prod-ClassStringDisjunction\n  pp$1.regexp_eatClassStringDisjunction = function(state) {\n    var start = state.pos;\n    if (state.eatChars([0x5C, 0x71] /* \\q */)) {\n      if (state.eat(0x7B /* { */)) {\n        var result = this.regexp_classStringDisjunctionContents(state);\n        if (state.eat(0x7D /* } */)) {\n          return result\n        }\n      } else {\n        // Make the same message as V8.\n        state.raise(\"Invalid escape\");\n      }\n      state.pos = start;\n    }\n    return null\n  };\n\n  // https://tc39.es/ecma262/#prod-ClassStringDisjunctionContents\n  pp$1.regexp_classStringDisjunctionContents = function(state) {\n    var result = this.regexp_classString(state);\n    while (state.eat(0x7C /* | */)) {\n      if (this.regexp_classString(state) === CharSetString) { result = CharSetString; }\n    }\n    return result\n  };\n\n  // https://tc39.es/ecma262/#prod-ClassString\n  // https://tc39.es/ecma262/#prod-NonEmptyClassString\n  pp$1.regexp_classString = function(state) {\n    var count = 0;\n    while (this.regexp_eatClassSetCharacter(state)) { count++; }\n    return count === 1 ? CharSetOk : CharSetString\n  };\n\n  // https://tc39.es/ecma262/#prod-ClassSetCharacter\n  pp$1.regexp_eatClassSetCharacter = function(state) {\n    var start = state.pos;\n    if (state.eat(0x5C /* \\ */)) {\n      if (\n        this.regexp_eatCharacterEscape(state) ||\n        this.regexp_eatClassSetReservedPunctuator(state)\n      ) {\n        return true\n      }\n      if (state.eat(0x62 /* b */)) {\n        state.lastIntValue = 0x08; /* <BS> */\n        return true\n      }\n      state.pos = start;\n      return false\n    }\n    var ch = state.current();\n    if (ch < 0 || ch === state.lookahead() && isClassSetReservedDoublePunctuatorCharacter(ch)) { return false }\n    if (isClassSetSyntaxCharacter(ch)) { return false }\n    state.advance();\n    state.lastIntValue = ch;\n    return true\n  };\n\n  // https://tc39.es/ecma262/#prod-ClassSetReservedDoublePunctuator\n  function isClassSetReservedDoublePunctuatorCharacter(ch) {\n    return (\n      ch === 0x21 /* ! */ ||\n      ch >= 0x23 /* # */ && ch <= 0x26 /* & */ ||\n      ch >= 0x2A /* * */ && ch <= 0x2C /* , */ ||\n      ch === 0x2E /* . */ ||\n      ch >= 0x3A /* : */ && ch <= 0x40 /* @ */ ||\n      ch === 0x5E /* ^ */ ||\n      ch === 0x60 /* ` */ ||\n      ch === 0x7E /* ~ */\n    )\n  }\n\n  // https://tc39.es/ecma262/#prod-ClassSetSyntaxCharacter\n  function isClassSetSyntaxCharacter(ch) {\n    return (\n      ch === 0x28 /* ( */ ||\n      ch === 0x29 /* ) */ ||\n      ch === 0x2D /* - */ ||\n      ch === 0x2F /* / */ ||\n      ch >= 0x5B /* [ */ && ch <= 0x5D /* ] */ ||\n      ch >= 0x7B /* { */ && ch <= 0x7D /* } */\n    )\n  }\n\n  // https://tc39.es/ecma262/#prod-ClassSetReservedPunctuator\n  pp$1.regexp_eatClassSetReservedPunctuator = function(state) {\n    var ch = state.current();\n    if (isClassSetReservedPunctuator(ch)) {\n      state.lastIntValue = ch;\n      state.advance();\n      return true\n    }\n    return false\n  };\n\n  // https://tc39.es/ecma262/#prod-ClassSetReservedPunctuator\n  function isClassSetReservedPunctuator(ch) {\n    return (\n      ch === 0x21 /* ! */ ||\n      ch === 0x23 /* # */ ||\n      ch === 0x25 /* % */ ||\n      ch === 0x26 /* & */ ||\n      ch === 0x2C /* , */ ||\n      ch === 0x2D /* - */ ||\n      ch >= 0x3A /* : */ && ch <= 0x3E /* > */ ||\n      ch === 0x40 /* @ */ ||\n      ch === 0x60 /* ` */ ||\n      ch === 0x7E /* ~ */\n    )\n  }\n\n  // https://www.ecma-international.org/ecma-262/8.0/#prod-annexB-ClassControlLetter\n  pp$1.regexp_eatClassControlLetter = function(state) {\n    var ch = state.current();\n    if (isDecimalDigit(ch) || ch === 0x5F /* _ */) {\n      state.lastIntValue = ch % 0x20;\n      state.advance();\n      return true\n    }\n    return false\n  };\n\n  // https://www.ecma-international.org/ecma-262/8.0/#prod-HexEscapeSequence\n  pp$1.regexp_eatHexEscapeSequence = function(state) {\n    var start = state.pos;\n    if (state.eat(0x78 /* x */)) {\n      if (this.regexp_eatFixedHexDigits(state, 2)) {\n        return true\n      }\n      if (state.switchU) {\n        state.raise(\"Invalid escape\");\n      }\n      state.pos = start;\n    }\n    return false\n  };\n\n  // https://www.ecma-international.org/ecma-262/8.0/#prod-DecimalDigits\n  pp$1.regexp_eatDecimalDigits = function(state) {\n    var start = state.pos;\n    var ch = 0;\n    state.lastIntValue = 0;\n    while (isDecimalDigit(ch = state.current())) {\n      state.lastIntValue = 10 * state.lastIntValue + (ch - 0x30 /* 0 */);\n      state.advance();\n    }\n    return state.pos !== start\n  };\n  function isDecimalDigit(ch) {\n    return ch >= 0x30 /* 0 */ && ch <= 0x39 /* 9 */\n  }\n\n  // https://www.ecma-international.org/ecma-262/8.0/#prod-HexDigits\n  pp$1.regexp_eatHexDigits = function(state) {\n    var start = state.pos;\n    var ch = 0;\n    state.lastIntValue = 0;\n    while (isHexDigit(ch = state.current())) {\n      state.lastIntValue = 16 * state.lastIntValue + hexToInt(ch);\n      state.advance();\n    }\n    return state.pos !== start\n  };\n  function isHexDigit(ch) {\n    return (\n      (ch >= 0x30 /* 0 */ && ch <= 0x39 /* 9 */) ||\n      (ch >= 0x41 /* A */ && ch <= 0x46 /* F */) ||\n      (ch >= 0x61 /* a */ && ch <= 0x66 /* f */)\n    )\n  }\n  function hexToInt(ch) {\n    if (ch >= 0x41 /* A */ && ch <= 0x46 /* F */) {\n      return 10 + (ch - 0x41 /* A */)\n    }\n    if (ch >= 0x61 /* a */ && ch <= 0x66 /* f */) {\n      return 10 + (ch - 0x61 /* a */)\n    }\n    return ch - 0x30 /* 0 */\n  }\n\n  // https://www.ecma-international.org/ecma-262/8.0/#prod-annexB-LegacyOctalEscapeSequence\n  // Allows only 0-377(octal) i.e. 0-255(decimal).\n  pp$1.regexp_eatLegacyOctalEscapeSequence = function(state) {\n    if (this.regexp_eatOctalDigit(state)) {\n      var n1 = state.lastIntValue;\n      if (this.regexp_eatOctalDigit(state)) {\n        var n2 = state.lastIntValue;\n        if (n1 <= 3 && this.regexp_eatOctalDigit(state)) {\n          state.lastIntValue = n1 * 64 + n2 * 8 + state.lastIntValue;\n        } else {\n          state.lastIntValue = n1 * 8 + n2;\n        }\n      } else {\n        state.lastIntValue = n1;\n      }\n      return true\n    }\n    return false\n  };\n\n  // https://www.ecma-international.org/ecma-262/8.0/#prod-OctalDigit\n  pp$1.regexp_eatOctalDigit = function(state) {\n    var ch = state.current();\n    if (isOctalDigit(ch)) {\n      state.lastIntValue = ch - 0x30; /* 0 */\n      state.advance();\n      return true\n    }\n    state.lastIntValue = 0;\n    return false\n  };\n  function isOctalDigit(ch) {\n    return ch >= 0x30 /* 0 */ && ch <= 0x37 /* 7 */\n  }\n\n  // https://www.ecma-international.org/ecma-262/8.0/#prod-Hex4Digits\n  // https://www.ecma-international.org/ecma-262/8.0/#prod-HexDigit\n  // And HexDigit HexDigit in https://www.ecma-international.org/ecma-262/8.0/#prod-HexEscapeSequence\n  pp$1.regexp_eatFixedHexDigits = function(state, length) {\n    var start = state.pos;\n    state.lastIntValue = 0;\n    for (var i = 0; i < length; ++i) {\n      var ch = state.current();\n      if (!isHexDigit(ch)) {\n        state.pos = start;\n        return false\n      }\n      state.lastIntValue = 16 * state.lastIntValue + hexToInt(ch);\n      state.advance();\n    }\n    return true\n  };\n\n  // Object type used to represent tokens. Note that normally, tokens\n  // simply exist as properties on the parser object. This is only\n  // used for the onToken callback and the external tokenizer.\n\n  var Token = function Token(p) {\n    this.type = p.type;\n    this.value = p.value;\n    this.start = p.start;\n    this.end = p.end;\n    if (p.options.locations)\n      { this.loc = new SourceLocation(p, p.startLoc, p.endLoc); }\n    if (p.options.ranges)\n      { this.range = [p.start, p.end]; }\n  };\n\n  // ## Tokenizer\n\n  var pp = Parser.prototype;\n\n  // Move to the next token\n\n  pp.next = function(ignoreEscapeSequenceInKeyword) {\n    if (!ignoreEscapeSequenceInKeyword && this.type.keyword && this.containsEsc)\n      { this.raiseRecoverable(this.start, \"Escape sequence in keyword \" + this.type.keyword); }\n    if (this.options.onToken)\n      { this.options.onToken(new Token(this)); }\n\n    this.lastTokEnd = this.end;\n    this.lastTokStart = this.start;\n    this.lastTokEndLoc = this.endLoc;\n    this.lastTokStartLoc = this.startLoc;\n    this.nextToken();\n  };\n\n  pp.getToken = function() {\n    this.next();\n    return new Token(this)\n  };\n\n  // If we're in an ES6 environment, make parsers iterable\n  if (typeof Symbol !== \"undefined\")\n    { pp[Symbol.iterator] = function() {\n      var this$1$1 = this;\n\n      return {\n        next: function () {\n          var token = this$1$1.getToken();\n          return {\n            done: token.type === types$1.eof,\n            value: token\n          }\n        }\n      }\n    }; }\n\n  // Toggle strict mode. Re-reads the next number or string to please\n  // pedantic tests (`\"use strict\"; 010;` should fail).\n\n  // Read a single token, updating the parser object's token-related\n  // properties.\n\n  pp.nextToken = function() {\n    var curContext = this.curContext();\n    if (!curContext || !curContext.preserveSpace) { this.skipSpace(); }\n\n    this.start = this.pos;\n    if (this.options.locations) { this.startLoc = this.curPosition(); }\n    if (this.pos >= this.input.length) { return this.finishToken(types$1.eof) }\n\n    if (curContext.override) { return curContext.override(this) }\n    else { this.readToken(this.fullCharCodeAtPos()); }\n  };\n\n  pp.readToken = function(code) {\n    // Identifier or keyword. '\\uXXXX' sequences are allowed in\n    // identifiers, so '\\' also dispatches to that.\n    if (isIdentifierStart(code, this.options.ecmaVersion >= 6) || code === 92 /* '\\' */)\n      { return this.readWord() }\n\n    return this.getTokenFromCode(code)\n  };\n\n  pp.fullCharCodeAtPos = function() {\n    var code = this.input.charCodeAt(this.pos);\n    if (code <= 0xd7ff || code >= 0xdc00) { return code }\n    var next = this.input.charCodeAt(this.pos + 1);\n    return next <= 0xdbff || next >= 0xe000 ? code : (code << 10) + next - 0x35fdc00\n  };\n\n  pp.skipBlockComment = function() {\n    var startLoc = this.options.onComment && this.curPosition();\n    var start = this.pos, end = this.input.indexOf(\"*/\", this.pos += 2);\n    if (end === -1) { this.raise(this.pos - 2, \"Unterminated comment\"); }\n    this.pos = end + 2;\n    if (this.options.locations) {\n      for (var nextBreak = (void 0), pos = start; (nextBreak = nextLineBreak(this.input, pos, this.pos)) > -1;) {\n        ++this.curLine;\n        pos = this.lineStart = nextBreak;\n      }\n    }\n    if (this.options.onComment)\n      { this.options.onComment(true, this.input.slice(start + 2, end), start, this.pos,\n                             startLoc, this.curPosition()); }\n  };\n\n  pp.skipLineComment = function(startSkip) {\n    var start = this.pos;\n    var startLoc = this.options.onComment && this.curPosition();\n    var ch = this.input.charCodeAt(this.pos += startSkip);\n    while (this.pos < this.input.length && !isNewLine(ch)) {\n      ch = this.input.charCodeAt(++this.pos);\n    }\n    if (this.options.onComment)\n      { this.options.onComment(false, this.input.slice(start + startSkip, this.pos), start, this.pos,\n                             startLoc, this.curPosition()); }\n  };\n\n  // Called at the start of the parse and after every token. Skips\n  // whitespace and comments, and.\n\n  pp.skipSpace = function() {\n    loop: while (this.pos < this.input.length) {\n      var ch = this.input.charCodeAt(this.pos);\n      switch (ch) {\n      case 32: case 160: // ' '\n        ++this.pos;\n        break\n      case 13:\n        if (this.input.charCodeAt(this.pos + 1) === 10) {\n          ++this.pos;\n        }\n      case 10: case 8232: case 8233:\n        ++this.pos;\n        if (this.options.locations) {\n          ++this.curLine;\n          this.lineStart = this.pos;\n        }\n        break\n      case 47: // '/'\n        switch (this.input.charCodeAt(this.pos + 1)) {\n        case 42: // '*'\n          this.skipBlockComment();\n          break\n        case 47:\n          this.skipLineComment(2);\n          break\n        default:\n          break loop\n        }\n        break\n      default:\n        if (ch > 8 && ch < 14 || ch >= 5760 && nonASCIIwhitespace.test(String.fromCharCode(ch))) {\n          ++this.pos;\n        } else {\n          break loop\n        }\n      }\n    }\n  };\n\n  // Called at the end of every token. Sets `end`, `val`, and\n  // maintains `context` and `exprAllowed`, and skips the space after\n  // the token, so that the next one's `start` will point at the\n  // right position.\n\n  pp.finishToken = function(type, val) {\n    this.end = this.pos;\n    if (this.options.locations) { this.endLoc = this.curPosition(); }\n    var prevType = this.type;\n    this.type = type;\n    this.value = val;\n\n    this.updateContext(prevType);\n  };\n\n  // ### Token reading\n\n  // This is the function that is called to fetch the next token. It\n  // is somewhat obscure, because it works in character codes rather\n  // than characters, and because operator parsing has been inlined\n  // into it.\n  //\n  // All in the name of speed.\n  //\n  pp.readToken_dot = function() {\n    var next = this.input.charCodeAt(this.pos + 1);\n    if (next >= 48 && next <= 57) { return this.readNumber(true) }\n    var next2 = this.input.charCodeAt(this.pos + 2);\n    if (this.options.ecmaVersion >= 6 && next === 46 && next2 === 46) { // 46 = dot '.'\n      this.pos += 3;\n      return this.finishToken(types$1.ellipsis)\n    } else {\n      ++this.pos;\n      return this.finishToken(types$1.dot)\n    }\n  };\n\n  pp.readToken_slash = function() { // '/'\n    var next = this.input.charCodeAt(this.pos + 1);\n    if (this.exprAllowed) { ++this.pos; return this.readRegexp() }\n    if (next === 61) { return this.finishOp(types$1.assign, 2) }\n    return this.finishOp(types$1.slash, 1)\n  };\n\n  pp.readToken_mult_modulo_exp = function(code) { // '%*'\n    var next = this.input.charCodeAt(this.pos + 1);\n    var size = 1;\n    var tokentype = code === 42 ? types$1.star : types$1.modulo;\n\n    // exponentiation operator ** and **=\n    if (this.options.ecmaVersion >= 7 && code === 42 && next === 42) {\n      ++size;\n      tokentype = types$1.starstar;\n      next = this.input.charCodeAt(this.pos + 2);\n    }\n\n    if (next === 61) { return this.finishOp(types$1.assign, size + 1) }\n    return this.finishOp(tokentype, size)\n  };\n\n  pp.readToken_pipe_amp = function(code) { // '|&'\n    var next = this.input.charCodeAt(this.pos + 1);\n    if (next === code) {\n      if (this.options.ecmaVersion >= 12) {\n        var next2 = this.input.charCodeAt(this.pos + 2);\n        if (next2 === 61) { return this.finishOp(types$1.assign, 3) }\n      }\n      return this.finishOp(code === 124 ? types$1.logicalOR : types$1.logicalAND, 2)\n    }\n    if (next === 61) { return this.finishOp(types$1.assign, 2) }\n    return this.finishOp(code === 124 ? types$1.bitwiseOR : types$1.bitwiseAND, 1)\n  };\n\n  pp.readToken_caret = function() { // '^'\n    var next = this.input.charCodeAt(this.pos + 1);\n    if (next === 61) { return this.finishOp(types$1.assign, 2) }\n    return this.finishOp(types$1.bitwiseXOR, 1)\n  };\n\n  pp.readToken_plus_min = function(code) { // '+-'\n    var next = this.input.charCodeAt(this.pos + 1);\n    if (next === code) {\n      if (next === 45 && !this.inModule && this.input.charCodeAt(this.pos + 2) === 62 &&\n          (this.lastTokEnd === 0 || lineBreak.test(this.input.slice(this.lastTokEnd, this.pos)))) {\n        // A `-->` line comment\n        this.skipLineComment(3);\n        this.skipSpace();\n        return this.nextToken()\n      }\n      return this.finishOp(types$1.incDec, 2)\n    }\n    if (next === 61) { return this.finishOp(types$1.assign, 2) }\n    return this.finishOp(types$1.plusMin, 1)\n  };\n\n  pp.readToken_lt_gt = function(code) { // '<>'\n    var next = this.input.charCodeAt(this.pos + 1);\n    var size = 1;\n    if (next === code) {\n      size = code === 62 && this.input.charCodeAt(this.pos + 2) === 62 ? 3 : 2;\n      if (this.input.charCodeAt(this.pos + size) === 61) { return this.finishOp(types$1.assign, size + 1) }\n      return this.finishOp(types$1.bitShift, size)\n    }\n    if (next === 33 && code === 60 && !this.inModule && this.input.charCodeAt(this.pos + 2) === 45 &&\n        this.input.charCodeAt(this.pos + 3) === 45) {\n      // `<!--`, an XML-style comment that should be interpreted as a line comment\n      this.skipLineComment(4);\n      this.skipSpace();\n      return this.nextToken()\n    }\n    if (next === 61) { size = 2; }\n    return this.finishOp(types$1.relational, size)\n  };\n\n  pp.readToken_eq_excl = function(code) { // '=!'\n    var next = this.input.charCodeAt(this.pos + 1);\n    if (next === 61) { return this.finishOp(types$1.equality, this.input.charCodeAt(this.pos + 2) === 61 ? 3 : 2) }\n    if (code === 61 && next === 62 && this.options.ecmaVersion >= 6) { // '=>'\n      this.pos += 2;\n      return this.finishToken(types$1.arrow)\n    }\n    return this.finishOp(code === 61 ? types$1.eq : types$1.prefix, 1)\n  };\n\n  pp.readToken_question = function() { // '?'\n    var ecmaVersion = this.options.ecmaVersion;\n    if (ecmaVersion >= 11) {\n      var next = this.input.charCodeAt(this.pos + 1);\n      if (next === 46) {\n        var next2 = this.input.charCodeAt(this.pos + 2);\n        if (next2 < 48 || next2 > 57) { return this.finishOp(types$1.questionDot, 2) }\n      }\n      if (next === 63) {\n        if (ecmaVersion >= 12) {\n          var next2$1 = this.input.charCodeAt(this.pos + 2);\n          if (next2$1 === 61) { return this.finishOp(types$1.assign, 3) }\n        }\n        return this.finishOp(types$1.coalesce, 2)\n      }\n    }\n    return this.finishOp(types$1.question, 1)\n  };\n\n  pp.readToken_numberSign = function() { // '#'\n    var ecmaVersion = this.options.ecmaVersion;\n    var code = 35; // '#'\n    if (ecmaVersion >= 13) {\n      ++this.pos;\n      code = this.fullCharCodeAtPos();\n      if (isIdentifierStart(code, true) || code === 92 /* '\\' */) {\n        return this.finishToken(types$1.privateId, this.readWord1())\n      }\n    }\n\n    this.raise(this.pos, \"Unexpected character '\" + codePointToString(code) + \"'\");\n  };\n\n  pp.getTokenFromCode = function(code) {\n    switch (code) {\n    // The interpretation of a dot depends on whether it is followed\n    // by a digit or another two dots.\n    case 46: // '.'\n      return this.readToken_dot()\n\n    // Punctuation tokens.\n    case 40: ++this.pos; return this.finishToken(types$1.parenL)\n    case 41: ++this.pos; return this.finishToken(types$1.parenR)\n    case 59: ++this.pos; return this.finishToken(types$1.semi)\n    case 44: ++this.pos; return this.finishToken(types$1.comma)\n    case 91: ++this.pos; return this.finishToken(types$1.bracketL)\n    case 93: ++this.pos; return this.finishToken(types$1.bracketR)\n    case 123: ++this.pos; return this.finishToken(types$1.braceL)\n    case 125: ++this.pos; return this.finishToken(types$1.braceR)\n    case 58: ++this.pos; return this.finishToken(types$1.colon)\n\n    case 96: // '`'\n      if (this.options.ecmaVersion < 6) { break }\n      ++this.pos;\n      return this.finishToken(types$1.backQuote)\n\n    case 48: // '0'\n      var next = this.input.charCodeAt(this.pos + 1);\n      if (next === 120 || next === 88) { return this.readRadixNumber(16) } // '0x', '0X' - hex number\n      if (this.options.ecmaVersion >= 6) {\n        if (next === 111 || next === 79) { return this.readRadixNumber(8) } // '0o', '0O' - octal number\n        if (next === 98 || next === 66) { return this.readRadixNumber(2) } // '0b', '0B' - binary number\n      }\n\n    // Anything else beginning with a digit is an integer, octal\n    // number, or float.\n    case 49: case 50: case 51: case 52: case 53: case 54: case 55: case 56: case 57: // 1-9\n      return this.readNumber(false)\n\n    // Quotes produce strings.\n    case 34: case 39: // '\"', \"'\"\n      return this.readString(code)\n\n    // Operators are parsed inline in tiny state machines. '=' (61) is\n    // often referred to. `finishOp` simply skips the amount of\n    // characters it is given as second argument, and returns a token\n    // of the type given by its first argument.\n    case 47: // '/'\n      return this.readToken_slash()\n\n    case 37: case 42: // '%*'\n      return this.readToken_mult_modulo_exp(code)\n\n    case 124: case 38: // '|&'\n      return this.readToken_pipe_amp(code)\n\n    case 94: // '^'\n      return this.readToken_caret()\n\n    case 43: case 45: // '+-'\n      return this.readToken_plus_min(code)\n\n    case 60: case 62: // '<>'\n      return this.readToken_lt_gt(code)\n\n    case 61: case 33: // '=!'\n      return this.readToken_eq_excl(code)\n\n    case 63: // '?'\n      return this.readToken_question()\n\n    case 126: // '~'\n      return this.finishOp(types$1.prefix, 1)\n\n    case 35: // '#'\n      return this.readToken_numberSign()\n    }\n\n    this.raise(this.pos, \"Unexpected character '\" + codePointToString(code) + \"'\");\n  };\n\n  pp.finishOp = function(type, size) {\n    var str = this.input.slice(this.pos, this.pos + size);\n    this.pos += size;\n    return this.finishToken(type, str)\n  };\n\n  pp.readRegexp = function() {\n    var escaped, inClass, start = this.pos;\n    for (;;) {\n      if (this.pos >= this.input.length) { this.raise(start, \"Unterminated regular expression\"); }\n      var ch = this.input.charAt(this.pos);\n      if (lineBreak.test(ch)) { this.raise(start, \"Unterminated regular expression\"); }\n      if (!escaped) {\n        if (ch === \"[\") { inClass = true; }\n        else if (ch === \"]\" && inClass) { inClass = false; }\n        else if (ch === \"/\" && !inClass) { break }\n        escaped = ch === \"\\\\\";\n      } else { escaped = false; }\n      ++this.pos;\n    }\n    var pattern = this.input.slice(start, this.pos);\n    ++this.pos;\n    var flagsStart = this.pos;\n    var flags = this.readWord1();\n    if (this.containsEsc) { this.unexpected(flagsStart); }\n\n    // Validate pattern\n    var state = this.regexpState || (this.regexpState = new RegExpValidationState(this));\n    state.reset(start, pattern, flags);\n    this.validateRegExpFlags(state);\n    this.validateRegExpPattern(state);\n\n    // Create Literal#value property value.\n    var value = null;\n    try {\n      value = new RegExp(pattern, flags);\n    } catch (e) {\n      // ESTree requires null if it failed to instantiate RegExp object.\n      // https://github.com/estree/estree/blob/a27003adf4fd7bfad44de9cef372a2eacd527b1c/es5.md#regexpliteral\n    }\n\n    return this.finishToken(types$1.regexp, {pattern: pattern, flags: flags, value: value})\n  };\n\n  // Read an integer in the given radix. Return null if zero digits\n  // were read, the integer value otherwise. When `len` is given, this\n  // will return `null` unless the integer has exactly `len` digits.\n\n  pp.readInt = function(radix, len, maybeLegacyOctalNumericLiteral) {\n    // `len` is used for character escape sequences. In that case, disallow separators.\n    var allowSeparators = this.options.ecmaVersion >= 12 && len === undefined;\n\n    // `maybeLegacyOctalNumericLiteral` is true if it doesn't have prefix (0x,0o,0b)\n    // and isn't fraction part nor exponent part. In that case, if the first digit\n    // is zero then disallow separators.\n    var isLegacyOctalNumericLiteral = maybeLegacyOctalNumericLiteral && this.input.charCodeAt(this.pos) === 48;\n\n    var start = this.pos, total = 0, lastCode = 0;\n    for (var i = 0, e = len == null ? Infinity : len; i < e; ++i, ++this.pos) {\n      var code = this.input.charCodeAt(this.pos), val = (void 0);\n\n      if (allowSeparators && code === 95) {\n        if (isLegacyOctalNumericLiteral) { this.raiseRecoverable(this.pos, \"Numeric separator is not allowed in legacy octal numeric literals\"); }\n        if (lastCode === 95) { this.raiseRecoverable(this.pos, \"Numeric separator must be exactly one underscore\"); }\n        if (i === 0) { this.raiseRecoverable(this.pos, \"Numeric separator is not allowed at the first of digits\"); }\n        lastCode = code;\n        continue\n      }\n\n      if (code >= 97) { val = code - 97 + 10; } // a\n      else if (code >= 65) { val = code - 65 + 10; } // A\n      else if (code >= 48 && code <= 57) { val = code - 48; } // 0-9\n      else { val = Infinity; }\n      if (val >= radix) { break }\n      lastCode = code;\n      total = total * radix + val;\n    }\n\n    if (allowSeparators && lastCode === 95) { this.raiseRecoverable(this.pos - 1, \"Numeric separator is not allowed at the last of digits\"); }\n    if (this.pos === start || len != null && this.pos - start !== len) { return null }\n\n    return total\n  };\n\n  function stringToNumber(str, isLegacyOctalNumericLiteral) {\n    if (isLegacyOctalNumericLiteral) {\n      return parseInt(str, 8)\n    }\n\n    // `parseFloat(value)` stops parsing at the first numeric separator then returns a wrong value.\n    return parseFloat(str.replace(/_/g, \"\"))\n  }\n\n  function stringToBigInt(str) {\n    if (typeof BigInt !== \"function\") {\n      return null\n    }\n\n    // `BigInt(value)` throws syntax error if the string contains numeric separators.\n    return BigInt(str.replace(/_/g, \"\"))\n  }\n\n  pp.readRadixNumber = function(radix) {\n    var start = this.pos;\n    this.pos += 2; // 0x\n    var val = this.readInt(radix);\n    if (val == null) { this.raise(this.start + 2, \"Expected number in radix \" + radix); }\n    if (this.options.ecmaVersion >= 11 && this.input.charCodeAt(this.pos) === 110) {\n      val = stringToBigInt(this.input.slice(start, this.pos));\n      ++this.pos;\n    } else if (isIdentifierStart(this.fullCharCodeAtPos())) { this.raise(this.pos, \"Identifier directly after number\"); }\n    return this.finishToken(types$1.num, val)\n  };\n\n  // Read an integer, octal integer, or floating-point number.\n\n  pp.readNumber = function(startsWithDot) {\n    var start = this.pos;\n    if (!startsWithDot && this.readInt(10, undefined, true) === null) { this.raise(start, \"Invalid number\"); }\n    var octal = this.pos - start >= 2 && this.input.charCodeAt(start) === 48;\n    if (octal && this.strict) { this.raise(start, \"Invalid number\"); }\n    var next = this.input.charCodeAt(this.pos);\n    if (!octal && !startsWithDot && this.options.ecmaVersion >= 11 && next === 110) {\n      var val$1 = stringToBigInt(this.input.slice(start, this.pos));\n      ++this.pos;\n      if (isIdentifierStart(this.fullCharCodeAtPos())) { this.raise(this.pos, \"Identifier directly after number\"); }\n      return this.finishToken(types$1.num, val$1)\n    }\n    if (octal && /[89]/.test(this.input.slice(start, this.pos))) { octal = false; }\n    if (next === 46 && !octal) { // '.'\n      ++this.pos;\n      this.readInt(10);\n      next = this.input.charCodeAt(this.pos);\n    }\n    if ((next === 69 || next === 101) && !octal) { // 'eE'\n      next = this.input.charCodeAt(++this.pos);\n      if (next === 43 || next === 45) { ++this.pos; } // '+-'\n      if (this.readInt(10) === null) { this.raise(start, \"Invalid number\"); }\n    }\n    if (isIdentifierStart(this.fullCharCodeAtPos())) { this.raise(this.pos, \"Identifier directly after number\"); }\n\n    var val = stringToNumber(this.input.slice(start, this.pos), octal);\n    return this.finishToken(types$1.num, val)\n  };\n\n  // Read a string value, interpreting backslash-escapes.\n\n  pp.readCodePoint = function() {\n    var ch = this.input.charCodeAt(this.pos), code;\n\n    if (ch === 123) { // '{'\n      if (this.options.ecmaVersion < 6) { this.unexpected(); }\n      var codePos = ++this.pos;\n      code = this.readHexChar(this.input.indexOf(\"}\", this.pos) - this.pos);\n      ++this.pos;\n      if (code > 0x10FFFF) { this.invalidStringToken(codePos, \"Code point out of bounds\"); }\n    } else {\n      code = this.readHexChar(4);\n    }\n    return code\n  };\n\n  pp.readString = function(quote) {\n    var out = \"\", chunkStart = ++this.pos;\n    for (;;) {\n      if (this.pos >= this.input.length) { this.raise(this.start, \"Unterminated string constant\"); }\n      var ch = this.input.charCodeAt(this.pos);\n      if (ch === quote) { break }\n      if (ch === 92) { // '\\'\n        out += this.input.slice(chunkStart, this.pos);\n        out += this.readEscapedChar(false);\n        chunkStart = this.pos;\n      } else if (ch === 0x2028 || ch === 0x2029) {\n        if (this.options.ecmaVersion < 10) { this.raise(this.start, \"Unterminated string constant\"); }\n        ++this.pos;\n        if (this.options.locations) {\n          this.curLine++;\n          this.lineStart = this.pos;\n        }\n      } else {\n        if (isNewLine(ch)) { this.raise(this.start, \"Unterminated string constant\"); }\n        ++this.pos;\n      }\n    }\n    out += this.input.slice(chunkStart, this.pos++);\n    return this.finishToken(types$1.string, out)\n  };\n\n  // Reads template string tokens.\n\n  var INVALID_TEMPLATE_ESCAPE_ERROR = {};\n\n  pp.tryReadTemplateToken = function() {\n    this.inTemplateElement = true;\n    try {\n      this.readTmplToken();\n    } catch (err) {\n      if (err === INVALID_TEMPLATE_ESCAPE_ERROR) {\n        this.readInvalidTemplateToken();\n      } else {\n        throw err\n      }\n    }\n\n    this.inTemplateElement = false;\n  };\n\n  pp.invalidStringToken = function(position, message) {\n    if (this.inTemplateElement && this.options.ecmaVersion >= 9) {\n      throw INVALID_TEMPLATE_ESCAPE_ERROR\n    } else {\n      this.raise(position, message);\n    }\n  };\n\n  pp.readTmplToken = function() {\n    var out = \"\", chunkStart = this.pos;\n    for (;;) {\n      if (this.pos >= this.input.length) { this.raise(this.start, \"Unterminated template\"); }\n      var ch = this.input.charCodeAt(this.pos);\n      if (ch === 96 || ch === 36 && this.input.charCodeAt(this.pos + 1) === 123) { // '`', '${'\n        if (this.pos === this.start && (this.type === types$1.template || this.type === types$1.invalidTemplate)) {\n          if (ch === 36) {\n            this.pos += 2;\n            return this.finishToken(types$1.dollarBraceL)\n          } else {\n            ++this.pos;\n            return this.finishToken(types$1.backQuote)\n          }\n        }\n        out += this.input.slice(chunkStart, this.pos);\n        return this.finishToken(types$1.template, out)\n      }\n      if (ch === 92) { // '\\'\n        out += this.input.slice(chunkStart, this.pos);\n        out += this.readEscapedChar(true);\n        chunkStart = this.pos;\n      } else if (isNewLine(ch)) {\n        out += this.input.slice(chunkStart, this.pos);\n        ++this.pos;\n        switch (ch) {\n        case 13:\n          if (this.input.charCodeAt(this.pos) === 10) { ++this.pos; }\n        case 10:\n          out += \"\\n\";\n          break\n        default:\n          out += String.fromCharCode(ch);\n          break\n        }\n        if (this.options.locations) {\n          ++this.curLine;\n          this.lineStart = this.pos;\n        }\n        chunkStart = this.pos;\n      } else {\n        ++this.pos;\n      }\n    }\n  };\n\n  // Reads a template token to search for the end, without validating any escape sequences\n  pp.readInvalidTemplateToken = function() {\n    for (; this.pos < this.input.length; this.pos++) {\n      switch (this.input[this.pos]) {\n      case \"\\\\\":\n        ++this.pos;\n        break\n\n      case \"$\":\n        if (this.input[this.pos + 1] !== \"{\") { break }\n        // fall through\n      case \"`\":\n        return this.finishToken(types$1.invalidTemplate, this.input.slice(this.start, this.pos))\n\n      case \"\\r\":\n        if (this.input[this.pos + 1] === \"\\n\") { ++this.pos; }\n        // fall through\n      case \"\\n\": case \"\\u2028\": case \"\\u2029\":\n        ++this.curLine;\n        this.lineStart = this.pos + 1;\n        break\n      }\n    }\n    this.raise(this.start, \"Unterminated template\");\n  };\n\n  // Used to read escaped characters\n\n  pp.readEscapedChar = function(inTemplate) {\n    var ch = this.input.charCodeAt(++this.pos);\n    ++this.pos;\n    switch (ch) {\n    case 110: return \"\\n\" // 'n' -> '\\n'\n    case 114: return \"\\r\" // 'r' -> '\\r'\n    case 120: return String.fromCharCode(this.readHexChar(2)) // 'x'\n    case 117: return codePointToString(this.readCodePoint()) // 'u'\n    case 116: return \"\\t\" // 't' -> '\\t'\n    case 98: return \"\\b\" // 'b' -> '\\b'\n    case 118: return \"\\u000b\" // 'v' -> '\\u000b'\n    case 102: return \"\\f\" // 'f' -> '\\f'\n    case 13: if (this.input.charCodeAt(this.pos) === 10) { ++this.pos; } // '\\r\\n'\n    case 10: // ' \\n'\n      if (this.options.locations) { this.lineStart = this.pos; ++this.curLine; }\n      return \"\"\n    case 56:\n    case 57:\n      if (this.strict) {\n        this.invalidStringToken(\n          this.pos - 1,\n          \"Invalid escape sequence\"\n        );\n      }\n      if (inTemplate) {\n        var codePos = this.pos - 1;\n\n        this.invalidStringToken(\n          codePos,\n          \"Invalid escape sequence in template string\"\n        );\n      }\n    default:\n      if (ch >= 48 && ch <= 55) {\n        var octalStr = this.input.substr(this.pos - 1, 3).match(/^[0-7]+/)[0];\n        var octal = parseInt(octalStr, 8);\n        if (octal > 255) {\n          octalStr = octalStr.slice(0, -1);\n          octal = parseInt(octalStr, 8);\n        }\n        this.pos += octalStr.length - 1;\n        ch = this.input.charCodeAt(this.pos);\n        if ((octalStr !== \"0\" || ch === 56 || ch === 57) && (this.strict || inTemplate)) {\n          this.invalidStringToken(\n            this.pos - 1 - octalStr.length,\n            inTemplate\n              ? \"Octal literal in template string\"\n              : \"Octal literal in strict mode\"\n          );\n        }\n        return String.fromCharCode(octal)\n      }\n      if (isNewLine(ch)) {\n        // Unicode new line characters after \\ get removed from output in both\n        // template literals and strings\n        if (this.options.locations) { this.lineStart = this.pos; ++this.curLine; }\n        return \"\"\n      }\n      return String.fromCharCode(ch)\n    }\n  };\n\n  // Used to read character escape sequences ('\\x', '\\u', '\\U').\n\n  pp.readHexChar = function(len) {\n    var codePos = this.pos;\n    var n = this.readInt(16, len);\n    if (n === null) { this.invalidStringToken(codePos, \"Bad character escape sequence\"); }\n    return n\n  };\n\n  // Read an identifier, and return it as a string. Sets `this.containsEsc`\n  // to whether the word contained a '\\u' escape.\n  //\n  // Incrementally adds only escaped chars, adding other chunks as-is\n  // as a micro-optimization.\n\n  pp.readWord1 = function() {\n    this.containsEsc = false;\n    var word = \"\", first = true, chunkStart = this.pos;\n    var astral = this.options.ecmaVersion >= 6;\n    while (this.pos < this.input.length) {\n      var ch = this.fullCharCodeAtPos();\n      if (isIdentifierChar(ch, astral)) {\n        this.pos += ch <= 0xffff ? 1 : 2;\n      } else if (ch === 92) { // \"\\\"\n        this.containsEsc = true;\n        word += this.input.slice(chunkStart, this.pos);\n        var escStart = this.pos;\n        if (this.input.charCodeAt(++this.pos) !== 117) // \"u\"\n          { this.invalidStringToken(this.pos, \"Expecting Unicode escape sequence \\\\uXXXX\"); }\n        ++this.pos;\n        var esc = this.readCodePoint();\n        if (!(first ? isIdentifierStart : isIdentifierChar)(esc, astral))\n          { this.invalidStringToken(escStart, \"Invalid Unicode escape\"); }\n        word += codePointToString(esc);\n        chunkStart = this.pos;\n      } else {\n        break\n      }\n      first = false;\n    }\n    return word + this.input.slice(chunkStart, this.pos)\n  };\n\n  // Read an identifier or keyword token. Will check for reserved\n  // words when necessary.\n\n  pp.readWord = function() {\n    var word = this.readWord1();\n    var type = types$1.name;\n    if (this.keywords.test(word)) {\n      type = keywords[word];\n    }\n    return this.finishToken(type, word)\n  };\n\n  // Acorn is a tiny, fast JavaScript parser written in JavaScript.\n  //\n  // Acorn was written by Marijn Haverbeke, Ingvar Stepanyan, and\n  // various contributors and released under an MIT license.\n  //\n  // Git repositories for Acorn are available at\n  //\n  //     http://marijnhaverbeke.nl/git/acorn\n  //     https://github.com/acornjs/acorn.git\n  //\n  // Please use the [github bug tracker][ghbt] to report issues.\n  //\n  // [ghbt]: https://github.com/acornjs/acorn/issues\n  //\n  // [walk]: util/walk.js\n\n\n  var version = \"8.12.1\";\n\n  Parser.acorn = {\n    Parser: Parser,\n    version: version,\n    defaultOptions: defaultOptions,\n    Position: Position,\n    SourceLocation: SourceLocation,\n    getLineInfo: getLineInfo,\n    Node: Node,\n    TokenType: TokenType,\n    tokTypes: types$1,\n    keywordTypes: keywords,\n    TokContext: TokContext,\n    tokContexts: types,\n    isIdentifierChar: isIdentifierChar,\n    isIdentifierStart: isIdentifierStart,\n    Token: Token,\n    isNewLine: isNewLine,\n    lineBreak: lineBreak,\n    lineBreakG: lineBreakG,\n    nonASCIIwhitespace: nonASCIIwhitespace\n  };\n\n  // The main exported interface (under `self.acorn` when in the\n  // browser) is a `parse` function that takes a code string and returns\n  // an abstract syntax tree as specified by the [ESTree spec][estree].\n  //\n  // [estree]: https://github.com/estree/estree\n\n  function parse(input, options) {\n    return Parser.parse(input, options)\n  }\n\n  // This function tries to parse a single expression at a given\n  // offset in a string. Useful for parsing mixed-language formats\n  // that embed JavaScript expressions.\n\n  function parseExpressionAt(input, pos, options) {\n    return Parser.parseExpressionAt(input, pos, options)\n  }\n\n  // Acorn is organized as a tokenizer and a recursive-descent parser.\n  // The `tokenizer` export provides an interface to the tokenizer.\n\n  function tokenizer(input, options) {\n    return Parser.tokenizer(input, options)\n  }\n\n  exports.Node = Node;\n  exports.Parser = Parser;\n  exports.Position = Position;\n  exports.SourceLocation = SourceLocation;\n  exports.TokContext = TokContext;\n  exports.Token = Token;\n  exports.TokenType = TokenType;\n  exports.defaultOptions = defaultOptions;\n  exports.getLineInfo = getLineInfo;\n  exports.isIdentifierChar = isIdentifierChar;\n  exports.isIdentifierStart = isIdentifierStart;\n  exports.isNewLine = isNewLine;\n  exports.keywordTypes = keywords;\n  exports.lineBreak = lineBreak;\n  exports.lineBreakG = lineBreakG;\n  exports.nonASCIIwhitespace = nonASCIIwhitespace;\n  exports.parse = parse;\n  exports.parseExpressionAt = parseExpressionAt;\n  exports.tokContexts = types;\n  exports.tokTypes = types$1;\n  exports.tokenizer = tokenizer;\n  exports.version = version;\n\n}));\n","/*!\n * Paper.js v0.12.18 - The Swiss Army Knife of Vector Graphics Scripting.\n * http://paperjs.org/\n *\n * Copyright (c) 2011 - 2020, Jürg Lehni & Jonathan Puckey\n * http://juerglehni.com/ & https://puckey.studio/\n *\n * Distributed under the MIT license. See LICENSE file for details.\n *\n * All rights reserved.\n *\n * Date: Wed Jul 17 14:57:24 2024 +0200\n *\n ***\n *\n * Straps.js - Class inheritance library with support for bean-style accessors\n *\n * Copyright (c) 2006 - 2020 Jürg Lehni\n * http://juerglehni.com/\n *\n * Distributed under the MIT license.\n *\n ***\n *\n * Acorn.js\n * https://marijnhaverbeke.nl/acorn/\n *\n * Acorn is a tiny, fast JavaScript parser written in JavaScript,\n * created by Marijn Haverbeke and released under an MIT license.\n *\n */\n\nvar paper = function(self, undefined) {\n\nself = self || require('./node/self.js');\nvar window = self.window,\n\tdocument = self.document;\n\nvar Base = new function() {\n\tvar hidden = /^(statics|enumerable|beans|preserve)$/,\n\t\tarray = [],\n\t\tslice = array.slice,\n\t\tcreate = Object.create,\n\t\tdescribe = Object.getOwnPropertyDescriptor,\n\t\tdefine = Object.defineProperty,\n\n\t\tforEach = array.forEach || function(iter, bind) {\n\t\t\tfor (var i = 0, l = this.length; i < l; i++) {\n\t\t\t\titer.call(bind, this[i], i, this);\n\t\t\t}\n\t\t},\n\n\t\tforIn = function(iter, bind) {\n\t\t\tfor (var i in this) {\n\t\t\t\tif (this.hasOwnProperty(i))\n\t\t\t\t\titer.call(bind, this[i], i, this);\n\t\t\t}\n\t\t},\n\n\t\tset = Object.assign || function(dst) {\n\t\t\tfor (var i = 1, l = arguments.length; i < l; i++) {\n\t\t\t\tvar src = arguments[i];\n\t\t\t\tfor (var key in src) {\n\t\t\t\t\tif (src.hasOwnProperty(key))\n\t\t\t\t\t\tdst[key] = src[key];\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn dst;\n\t\t},\n\n\t\teach = function(obj, iter, bind) {\n\t\t\tif (obj) {\n\t\t\t\tvar desc = describe(obj, 'length');\n\t\t\t\t(desc && typeof desc.value === 'number' ? forEach : forIn)\n\t\t\t\t\t.call(obj, iter, bind = bind || obj);\n\t\t\t}\n\t\t\treturn bind;\n\t\t};\n\n\tfunction inject(dest, src, enumerable, beans, preserve) {\n\t\tvar beansNames = {};\n\n\t\tfunction field(name, val) {\n\t\t\tval = val || (val = describe(src, name))\n\t\t\t\t\t&& (val.get ? val : val.value);\n\t\t\tif (typeof val === 'string' && val[0] === '#')\n\t\t\t\tval = dest[val.substring(1)] || val;\n\t\t\tvar isFunc = typeof val === 'function',\n\t\t\t\tres = val,\n\t\t\t\tprev = preserve || isFunc && !val.base\n\t\t\t\t\t\t? (val && val.get ? name in dest : dest[name])\n\t\t\t\t\t\t: null,\n\t\t\t\tbean;\n\t\t\tif (!preserve || !prev) {\n\t\t\t\tif (isFunc && prev)\n\t\t\t\t\tval.base = prev;\n\t\t\t\tif (isFunc && beans !== false\n\t\t\t\t\t\t&& (bean = name.match(/^([gs]et|is)(([A-Z])(.*))$/)))\n\t\t\t\t\tbeansNames[bean[3].toLowerCase() + bean[4]] = bean[2];\n\t\t\t\tif (!res || isFunc || !res.get || typeof res.get !== 'function'\n\t\t\t\t\t\t|| !Base.isPlainObject(res)) {\n\t\t\t\t\tres = { value: res, writable: true };\n\t\t\t\t}\n\t\t\t\tif ((describe(dest, name)\n\t\t\t\t\t\t|| { configurable: true }).configurable) {\n\t\t\t\t\tres.configurable = true;\n\t\t\t\t\tres.enumerable = enumerable != null ? enumerable : !bean;\n\t\t\t\t}\n\t\t\t\tdefine(dest, name, res);\n\t\t\t}\n\t\t}\n\t\tif (src) {\n\t\t\tfor (var name in src) {\n\t\t\t\tif (src.hasOwnProperty(name) && !hidden.test(name))\n\t\t\t\t\tfield(name);\n\t\t\t}\n\t\t\tfor (var name in beansNames) {\n\t\t\t\tvar part = beansNames[name],\n\t\t\t\t\tset = dest['set' + part],\n\t\t\t\t\tget = dest['get' + part] || set && dest['is' + part];\n\t\t\t\tif (get && (beans === true || get.length === 0))\n\t\t\t\t\tfield(name, { get: get, set: set });\n\t\t\t}\n\t\t}\n\t\treturn dest;\n\t}\n\n\tfunction Base() {\n\t\tfor (var i = 0, l = arguments.length; i < l; i++) {\n\t\t\tvar src = arguments[i];\n\t\t\tif (src)\n\t\t\t\tset(this, src);\n\t\t}\n\t\treturn this;\n\t}\n\n\treturn inject(Base, {\n\t\tinject: function(src) {\n\t\t\tif (src) {\n\t\t\t\tvar statics = src.statics === true ? src : src.statics,\n\t\t\t\t\tbeans = src.beans,\n\t\t\t\t\tpreserve = src.preserve;\n\t\t\t\tif (statics !== src)\n\t\t\t\t\tinject(this.prototype, src, src.enumerable, beans, preserve);\n\t\t\t\tinject(this, statics, null, beans, preserve);\n\t\t\t}\n\t\t\tfor (var i = 1, l = arguments.length; i < l; i++)\n\t\t\t\tthis.inject(arguments[i]);\n\t\t\treturn this;\n\t\t},\n\n\t\textend: function() {\n\t\t\tvar base = this,\n\t\t\t\tctor,\n\t\t\t\tproto;\n\t\t\tfor (var i = 0, obj, l = arguments.length;\n\t\t\t\t\ti < l && !(ctor && proto); i++) {\n\t\t\t\tobj = arguments[i];\n\t\t\t\tctor = ctor || obj.initialize;\n\t\t\t\tproto = proto || obj.prototype;\n\t\t\t}\n\t\t\tctor = ctor || function() {\n\t\t\t\tbase.apply(this, arguments);\n\t\t\t};\n\t\t\tproto = ctor.prototype = proto || create(this.prototype);\n\t\t\tdefine(proto, 'constructor',\n\t\t\t\t\t{ value: ctor, writable: true, configurable: true });\n\t\t\tinject(ctor, this);\n\t\t\tif (arguments.length)\n\t\t\t\tthis.inject.apply(ctor, arguments);\n\t\t\tctor.base = base;\n\t\t\treturn ctor;\n\t\t}\n\t}).inject({\n\t\tenumerable: false,\n\n\t\tinitialize: Base,\n\n\t\tset: Base,\n\n\t\tinject: function() {\n\t\t\tfor (var i = 0, l = arguments.length; i < l; i++) {\n\t\t\t\tvar src = arguments[i];\n\t\t\t\tif (src) {\n\t\t\t\t\tinject(this, src, src.enumerable, src.beans, src.preserve);\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn this;\n\t\t},\n\n\t\textend: function() {\n\t\t\tvar res = create(this);\n\t\t\treturn res.inject.apply(res, arguments);\n\t\t},\n\n\t\teach: function(iter, bind) {\n\t\t\treturn each(this, iter, bind);\n\t\t},\n\n\t\tclone: function() {\n\t\t\treturn new this.constructor(this);\n\t\t},\n\n\t\tstatics: {\n\t\t\tset: set,\n\t\t\teach: each,\n\t\t\tcreate: create,\n\t\t\tdefine: define,\n\t\t\tdescribe: describe,\n\n\t\t\tclone: function(obj) {\n\t\t\t\treturn set(new obj.constructor(), obj);\n\t\t\t},\n\n\t\t\tisPlainObject: function(obj) {\n\t\t\t\tvar ctor = obj != null && obj.constructor;\n\t\t\t\treturn ctor && (ctor === Object || ctor === Base\n\t\t\t\t\t\t|| ctor.name === 'Object');\n\t\t\t},\n\n\t\t\tpick: function(a, b) {\n\t\t\t\treturn a !== undefined ? a : b;\n\t\t\t},\n\n\t\t\tslice: function(list, begin, end) {\n\t\t\t\treturn slice.call(list, begin, end);\n\t\t\t}\n\t\t}\n\t});\n};\n\nif (typeof module !== 'undefined')\n\tmodule.exports = Base;\n\nBase.inject({\n\tenumerable: false,\n\n\ttoString: function() {\n\t\treturn this._id != null\n\t\t\t?  (this._class || 'Object') + (this._name\n\t\t\t\t? \" '\" + this._name + \"'\"\n\t\t\t\t: ' @' + this._id)\n\t\t\t: '{ ' + Base.each(this, function(value, key) {\n\t\t\t\tif (!/^_/.test(key)) {\n\t\t\t\t\tvar type = typeof value;\n\t\t\t\t\tthis.push(key + ': ' + (type === 'number'\n\t\t\t\t\t\t\t? Formatter.instance.number(value)\n\t\t\t\t\t\t\t: type === 'string' ? \"'\" + value + \"'\" : value));\n\t\t\t\t}\n\t\t\t}, []).join(', ') + ' }';\n\t},\n\n\tgetClassName: function() {\n\t\treturn this._class || '';\n\t},\n\n\timportJSON: function(json) {\n\t\treturn Base.importJSON(json, this);\n\t},\n\n\texportJSON: function(options) {\n\t\treturn Base.exportJSON(this, options);\n\t},\n\n\ttoJSON: function() {\n\t\treturn Base.serialize(this);\n\t},\n\n\tset: function(props, exclude) {\n\t\tif (props)\n\t\t\tBase.filter(this, props, exclude, this._prioritize);\n\t\treturn this;\n\t}\n}, {\n\nbeans: false,\nstatics: {\n\texports: {},\n\n\textend: function extend() {\n\t\tvar res = extend.base.apply(this, arguments),\n\t\t\tname = res.prototype._class;\n\t\tif (name && !Base.exports[name])\n\t\t\tBase.exports[name] = res;\n\t\treturn res;\n\t},\n\n\tequals: function(obj1, obj2) {\n\t\tif (obj1 === obj2)\n\t\t\treturn true;\n\t\tif (obj1 && obj1.equals)\n\t\t\treturn obj1.equals(obj2);\n\t\tif (obj2 && obj2.equals)\n\t\t\treturn obj2.equals(obj1);\n\t\tif (obj1 && obj2\n\t\t\t\t&& typeof obj1 === 'object' && typeof obj2 === 'object') {\n\t\t\tif (Array.isArray(obj1) && Array.isArray(obj2)) {\n\t\t\t\tvar length = obj1.length;\n\t\t\t\tif (length !== obj2.length)\n\t\t\t\t\treturn false;\n\t\t\t\twhile (length--) {\n\t\t\t\t\tif (!Base.equals(obj1[length], obj2[length]))\n\t\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tvar keys = Object.keys(obj1),\n\t\t\t\t\tlength = keys.length;\n\t\t\t\tif (length !== Object.keys(obj2).length)\n\t\t\t\t\treturn false;\n\t\t\t\twhile (length--) {\n\t\t\t\t\tvar key = keys[length];\n\t\t\t\t\tif (!(obj2.hasOwnProperty(key)\n\t\t\t\t\t\t\t&& Base.equals(obj1[key], obj2[key])))\n\t\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn true;\n\t\t}\n\t\treturn false;\n\t},\n\n\tread: function(list, start, options, amount) {\n\t\tif (this === Base) {\n\t\t\tvar value = this.peek(list, start);\n\t\t\tlist.__index++;\n\t\t\treturn value;\n\t\t}\n\t\tvar proto = this.prototype,\n\t\t\treadIndex = proto._readIndex,\n\t\t\tbegin = start || readIndex && list.__index || 0,\n\t\t\tlength = list.length,\n\t\t\tobj = list[begin];\n\t\tamount = amount || length - begin;\n\t\tif (obj instanceof this\n\t\t\t|| options && options.readNull && obj == null && amount <= 1) {\n\t\t\tif (readIndex)\n\t\t\t\tlist.__index = begin + 1;\n\t\t\treturn obj && options && options.clone ? obj.clone() : obj;\n\t\t}\n\t\tobj = Base.create(proto);\n\t\tif (readIndex)\n\t\t\tobj.__read = true;\n\t\tobj = obj.initialize.apply(obj, begin > 0 || begin + amount < length\n\t\t\t\t? Base.slice(list, begin, begin + amount)\n\t\t\t\t: list) || obj;\n\t\tif (readIndex) {\n\t\t\tlist.__index = begin + obj.__read;\n\t\t\tvar filtered = obj.__filtered;\n\t\t\tif (filtered) {\n\t\t\t\tlist.__filtered = filtered;\n\t\t\t\tobj.__filtered = undefined;\n\t\t\t}\n\t\t\tobj.__read = undefined;\n\t\t}\n\t\treturn obj;\n\t},\n\n\tpeek: function(list, start) {\n\t\treturn list[list.__index = start || list.__index || 0];\n\t},\n\n\tremain: function(list) {\n\t\treturn list.length - (list.__index || 0);\n\t},\n\n\treadList: function(list, start, options, amount) {\n\t\tvar res = [],\n\t\t\tentry,\n\t\t\tbegin = start || 0,\n\t\t\tend = amount ? begin + amount : list.length;\n\t\tfor (var i = begin; i < end; i++) {\n\t\t\tres.push(Array.isArray(entry = list[i])\n\t\t\t\t\t? this.read(entry, 0, options)\n\t\t\t\t\t: this.read(list, i, options, 1));\n\t\t}\n\t\treturn res;\n\t},\n\n\treadNamed: function(list, name, start, options, amount) {\n\t\tvar value = this.getNamed(list, name),\n\t\t\thasValue = value !== undefined;\n\t\tif (hasValue) {\n\t\t\tvar filtered = list.__filtered;\n\t\t\tif (!filtered) {\n\t\t\t\tvar source = this.getSource(list);\n\t\t\t\tfiltered = list.__filtered = Base.create(source);\n\t\t\t\tfiltered.__unfiltered = source;\n\t\t\t}\n\t\t\tfiltered[name] = undefined;\n\t\t}\n\t\treturn this.read(hasValue ? [value] : list, start, options, amount);\n\t},\n\n\treadSupported: function(list, dest) {\n\t\tvar source = this.getSource(list),\n\t\t\tthat = this,\n\t\t\tread = false;\n\t\tif (source) {\n\t\t\tObject.keys(source).forEach(function(key) {\n\t\t\t\tif (key in dest) {\n\t\t\t\t\tvar value = that.readNamed(list, key);\n\t\t\t\t\tif (value !== undefined) {\n\t\t\t\t\t\tdest[key] = value;\n\t\t\t\t\t}\n\t\t\t\t\tread = true;\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t\treturn read;\n\t},\n\n\tgetSource: function(list) {\n\t\tvar source = list.__source;\n\t\tif (source === undefined) {\n\t\t\tvar arg = list.length === 1 && list[0];\n\t\t\tsource = list.__source = arg && Base.isPlainObject(arg)\n\t\t\t\t? arg : null;\n\t\t}\n\t\treturn source;\n\t},\n\n\tgetNamed: function(list, name) {\n\t\tvar source = this.getSource(list);\n\t\tif (source) {\n\t\t\treturn name ? source[name] : list.__filtered || source;\n\t\t}\n\t},\n\n\thasNamed: function(list, name) {\n\t\treturn !!this.getNamed(list, name);\n\t},\n\n\tfilter: function(dest, source, exclude, prioritize) {\n\t\tvar processed;\n\n\t\tfunction handleKey(key) {\n\t\t\tif (!(exclude && key in exclude) &&\n\t\t\t\t!(processed && key in processed)) {\n\t\t\t\tvar value = source[key];\n\t\t\t\tif (value !== undefined)\n\t\t\t\t\tdest[key] = value;\n\t\t\t}\n\t\t}\n\n\t\tif (prioritize) {\n\t\t\tvar keys = {};\n\t\t\tfor (var i = 0, key, l = prioritize.length; i < l; i++) {\n\t\t\t\tif ((key = prioritize[i]) in source) {\n\t\t\t\t\thandleKey(key);\n\t\t\t\t\tkeys[key] = true;\n\t\t\t\t}\n\t\t\t}\n\t\t\tprocessed = keys;\n\t\t}\n\n\t\tObject.keys(source.__unfiltered || source).forEach(handleKey);\n\t\treturn dest;\n\t},\n\n\tisPlainValue: function(obj, asString) {\n\t\treturn Base.isPlainObject(obj) || Array.isArray(obj)\n\t\t\t\t|| asString && typeof obj === 'string';\n\t},\n\n\tserialize: function(obj, options, compact, dictionary) {\n\t\toptions = options || {};\n\n\t\tvar isRoot = !dictionary,\n\t\t\tres;\n\t\tif (isRoot) {\n\t\t\toptions.formatter = new Formatter(options.precision);\n\t\t\tdictionary = {\n\t\t\t\tlength: 0,\n\t\t\t\tdefinitions: {},\n\t\t\t\treferences: {},\n\t\t\t\tadd: function(item, create) {\n\t\t\t\t\tvar id = '#' + item._id,\n\t\t\t\t\t\tref = this.references[id];\n\t\t\t\t\tif (!ref) {\n\t\t\t\t\t\tthis.length++;\n\t\t\t\t\t\tvar res = create.call(item),\n\t\t\t\t\t\t\tname = item._class;\n\t\t\t\t\t\tif (name && res[0] !== name)\n\t\t\t\t\t\t\tres.unshift(name);\n\t\t\t\t\t\tthis.definitions[id] = res;\n\t\t\t\t\t\tref = this.references[id] = [id];\n\t\t\t\t\t}\n\t\t\t\t\treturn ref;\n\t\t\t\t}\n\t\t\t};\n\t\t}\n\t\tif (obj && obj._serialize) {\n\t\t\tres = obj._serialize(options, dictionary);\n\t\t\tvar name = obj._class;\n\t\t\tif (name && !obj._compactSerialize && (isRoot || !compact)\n\t\t\t\t\t&& res[0] !== name) {\n\t\t\t\tres.unshift(name);\n\t\t\t}\n\t\t} else if (Array.isArray(obj)) {\n\t\t\tres = [];\n\t\t\tfor (var i = 0, l = obj.length; i < l; i++)\n\t\t\t\tres[i] = Base.serialize(obj[i], options, compact, dictionary);\n\t\t} else if (Base.isPlainObject(obj)) {\n\t\t\tres = {};\n\t\t\tvar keys = Object.keys(obj);\n\t\t\tfor (var i = 0, l = keys.length; i < l; i++) {\n\t\t\t\tvar key = keys[i];\n\t\t\t\tres[key] = Base.serialize(obj[key], options, compact,\n\t\t\t\t\t\tdictionary);\n\t\t\t}\n\t\t} else if (typeof obj === 'number') {\n\t\t\tres = options.formatter.number(obj, options.precision);\n\t\t} else {\n\t\t\tres = obj;\n\t\t}\n\t\treturn isRoot && dictionary.length > 0\n\t\t\t\t? [['dictionary', dictionary.definitions], res]\n\t\t\t\t: res;\n\t},\n\n\tdeserialize: function(json, create, _data, _setDictionary, _isRoot) {\n\t\tvar res = json,\n\t\t\tisFirst = !_data,\n\t\t\thasDictionary = isFirst && json && json.length\n\t\t\t\t&& json[0][0] === 'dictionary';\n\t\t_data = _data || {};\n\t\tif (Array.isArray(json)) {\n\t\t\tvar type = json[0],\n\t\t\t\tisDictionary = type === 'dictionary';\n\t\t\tif (json.length == 1 && /^#/.test(type)) {\n\t\t\t\treturn _data.dictionary[type];\n\t\t\t}\n\t\t\ttype = Base.exports[type];\n\t\t\tres = [];\n\t\t\tfor (var i = type ? 1 : 0, l = json.length; i < l; i++) {\n\t\t\t\tres.push(Base.deserialize(json[i], create, _data,\n\t\t\t\t\t\tisDictionary, hasDictionary));\n\t\t\t}\n\t\t\tif (type) {\n\t\t\t\tvar args = res;\n\t\t\t\tif (create) {\n\t\t\t\t\tres = create(type, args, isFirst || _isRoot);\n\t\t\t\t} else {\n\t\t\t\t\tres = new type(args);\n\t\t\t\t}\n\t\t\t}\n\t\t} else if (Base.isPlainObject(json)) {\n\t\t\tres = {};\n\t\t\tif (_setDictionary)\n\t\t\t\t_data.dictionary = res;\n\t\t\tfor (var key in json)\n\t\t\t\tres[key] = Base.deserialize(json[key], create, _data);\n\t\t}\n\t\treturn hasDictionary ? res[1] : res;\n\t},\n\n\texportJSON: function(obj, options) {\n\t\tvar json = Base.serialize(obj, options);\n\t\treturn options && options.asString == false\n\t\t\t\t? json\n\t\t\t\t: JSON.stringify(json);\n\t},\n\n\timportJSON: function(json, target) {\n\t\treturn Base.deserialize(\n\t\t\t\ttypeof json === 'string' ? JSON.parse(json) : json,\n\t\t\t\tfunction(ctor, args, isRoot) {\n\t\t\t\t\tvar useTarget = isRoot && target\n\t\t\t\t\t\t\t&& target.constructor === ctor,\n\t\t\t\t\t\tobj = useTarget ? target\n\t\t\t\t\t\t\t: Base.create(ctor.prototype);\n\t\t\t\t\tif (args.length === 1 && obj instanceof Item\n\t\t\t\t\t\t\t&& (useTarget || !(obj instanceof Layer))) {\n\t\t\t\t\t\tvar arg = args[0];\n\t\t\t\t\t\tif (Base.isPlainObject(arg)) {\n\t\t\t\t\t\t\targ.insert = false;\n\t\t\t\t\t\t\tif (useTarget) {\n\t\t\t\t\t\t\t\targs = args.concat([Item.INSERT]);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\t(useTarget ? obj.set : ctor).apply(obj, args);\n\t\t\t\t\tif (useTarget)\n\t\t\t\t\t\ttarget = null;\n\t\t\t\t\treturn obj;\n\t\t\t\t});\n\t},\n\n\tpush: function(list, items) {\n\t\tvar itemsLength = items.length;\n\t\tif (itemsLength < 4096) {\n\t\t\tlist.push.apply(list, items);\n\t\t} else {\n\t\t\tvar startLength = list.length;\n\t\t\tlist.length += itemsLength;\n\t\t\tfor (var i = 0; i < itemsLength; i++) {\n\t\t\t\tlist[startLength + i] = items[i];\n\t\t\t}\n\t\t}\n\t\treturn list;\n\t},\n\n\tsplice: function(list, items, index, remove) {\n\t\tvar amount = items && items.length,\n\t\t\tappend = index === undefined;\n\t\tindex = append ? list.length : index;\n\t\tif (index > list.length)\n\t\t\tindex = list.length;\n\t\tfor (var i = 0; i < amount; i++)\n\t\t\titems[i]._index = index + i;\n\t\tif (append) {\n\t\t\tBase.push(list, items);\n\t\t\treturn [];\n\t\t} else {\n\t\t\tvar args = [index, remove];\n\t\t\tif (items)\n\t\t\t\tBase.push(args, items);\n\t\t\tvar removed = list.splice.apply(list, args);\n\t\t\tfor (var i = 0, l = removed.length; i < l; i++)\n\t\t\t\tremoved[i]._index = undefined;\n\t\t\tfor (var i = index + amount, l = list.length; i < l; i++)\n\t\t\t\tlist[i]._index = i;\n\t\t\treturn removed;\n\t\t}\n\t},\n\n\tcapitalize: function(str) {\n\t\treturn str.replace(/\\b[a-z]/g, function(match) {\n\t\t\treturn match.toUpperCase();\n\t\t});\n\t},\n\n\tcamelize: function(str) {\n\t\treturn str.replace(/-(.)/g, function(match, chr) {\n\t\t\treturn chr.toUpperCase();\n\t\t});\n\t},\n\n\thyphenate: function(str) {\n\t\treturn str.replace(/([a-z])([A-Z])/g, '$1-$2').toLowerCase();\n\t}\n}});\n\nvar Emitter = {\n\ton: function(type, func) {\n\t\tif (typeof type !== 'string') {\n\t\t\tBase.each(type, function(value, key) {\n\t\t\t\tthis.on(key, value);\n\t\t\t}, this);\n\t\t} else {\n\t\t\tvar types = this._eventTypes,\n\t\t\t\tentry = types && types[type],\n\t\t\t\thandlers = this._callbacks = this._callbacks || {};\n\t\t\thandlers = handlers[type] = handlers[type] || [];\n\t\t\tif (handlers.indexOf(func) === -1) {\n\t\t\t\thandlers.push(func);\n\t\t\t\tif (entry && entry.install && handlers.length === 1)\n\t\t\t\t\tentry.install.call(this, type);\n\t\t\t}\n\t\t}\n\t\treturn this;\n\t},\n\n\toff: function(type, func) {\n\t\tif (typeof type !== 'string') {\n\t\t\tBase.each(type, function(value, key) {\n\t\t\t\tthis.off(key, value);\n\t\t\t}, this);\n\t\t\treturn;\n\t\t}\n\t\tvar types = this._eventTypes,\n\t\t\tentry = types && types[type],\n\t\t\thandlers = this._callbacks && this._callbacks[type],\n\t\t\tindex;\n\t\tif (handlers) {\n\t\t\tif (!func || (index = handlers.indexOf(func)) !== -1\n\t\t\t\t\t&& handlers.length === 1) {\n\t\t\t\tif (entry && entry.uninstall)\n\t\t\t\t\tentry.uninstall.call(this, type);\n\t\t\t\tdelete this._callbacks[type];\n\t\t\t} else if (index !== -1) {\n\t\t\t\thandlers.splice(index, 1);\n\t\t\t}\n\t\t}\n\t\treturn this;\n\t},\n\n\tonce: function(type, func) {\n\t\treturn this.on(type, function handler() {\n\t\t\tfunc.apply(this, arguments);\n\t\t\tthis.off(type, handler);\n\t\t});\n\t},\n\n\temit: function(type, event) {\n\t\tvar handlers = this._callbacks && this._callbacks[type];\n\t\tif (!handlers)\n\t\t\treturn false;\n\t\tvar args = Base.slice(arguments, 1),\n\t\t\tsetTarget = event && event.target && !event.currentTarget;\n\t\thandlers = handlers.slice();\n\t\tif (setTarget)\n\t\t\tevent.currentTarget = this;\n\t\tfor (var i = 0, l = handlers.length; i < l; i++) {\n\t\t\tif (handlers[i].apply(this, args) == false) {\n\t\t\t\tif (event && event.stop)\n\t\t\t\t\tevent.stop();\n\t\t\t\tbreak;\n\t\t   }\n\t\t}\n\t\tif (setTarget)\n\t\t\tdelete event.currentTarget;\n\t\treturn true;\n\t},\n\n\tresponds: function(type) {\n\t\treturn !!(this._callbacks && this._callbacks[type]);\n\t},\n\n\tattach: '#on',\n\tdetach: '#off',\n\tfire: '#emit',\n\n\t_installEvents: function(install) {\n\t\tvar types = this._eventTypes,\n\t\t\thandlers = this._callbacks,\n\t\t\tkey = install ? 'install' : 'uninstall';\n\t\tif (types) {\n\t\t\tfor (var type in handlers) {\n\t\t\t\tif (handlers[type].length > 0) {\n\t\t\t\t\tvar entry = types[type],\n\t\t\t\t\t\tfunc = entry && entry[key];\n\t\t\t\t\tif (func)\n\t\t\t\t\t\tfunc.call(this, type);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t},\n\n\tstatics: {\n\t\tinject: function inject(src) {\n\t\t\tvar events = src._events;\n\t\t\tif (events) {\n\t\t\t\tvar types = {};\n\t\t\t\tBase.each(events, function(entry, key) {\n\t\t\t\t\tvar isString = typeof entry === 'string',\n\t\t\t\t\t\tname = isString ? entry : key,\n\t\t\t\t\t\tpart = Base.capitalize(name),\n\t\t\t\t\t\ttype = name.substring(2).toLowerCase();\n\t\t\t\t\ttypes[type] = isString ? {} : entry;\n\t\t\t\t\tname = '_' + name;\n\t\t\t\t\tsrc['get' + part] = function() {\n\t\t\t\t\t\treturn this[name];\n\t\t\t\t\t};\n\t\t\t\t\tsrc['set' + part] = function(func) {\n\t\t\t\t\t\tvar prev = this[name];\n\t\t\t\t\t\tif (prev)\n\t\t\t\t\t\t\tthis.off(type, prev);\n\t\t\t\t\t\tif (func)\n\t\t\t\t\t\t\tthis.on(type, func);\n\t\t\t\t\t\tthis[name] = func;\n\t\t\t\t\t};\n\t\t\t\t});\n\t\t\t\tsrc._eventTypes = types;\n\t\t\t}\n\t\t\treturn inject.base.apply(this, arguments);\n\t\t}\n\t}\n};\n\nvar PaperScope = Base.extend({\n\t_class: 'PaperScope',\n\n\tinitialize: function PaperScope() {\n\t\tpaper = this;\n\t\tthis.settings = new Base({\n\t\t\tapplyMatrix: true,\n\t\t\tinsertItems: true,\n\t\t\thandleSize: 4,\n\t\t\thitTolerance: 0\n\t\t});\n\t\tthis.project = null;\n\t\tthis.projects = [];\n\t\tthis.tools = [];\n\t\tthis._id = PaperScope._id++;\n\t\tPaperScope._scopes[this._id] = this;\n\t\tvar proto = PaperScope.prototype;\n\t\tif (!this.support) {\n\t\t\tvar ctx = CanvasProvider.getContext(1, 1) || {};\n\t\t\tproto.support = {\n\t\t\t\tnativeDash: 'setLineDash' in ctx || 'mozDash' in ctx,\n\t\t\t\tnativeBlendModes: BlendMode.nativeModes\n\t\t\t};\n\t\t\tCanvasProvider.release(ctx);\n\t\t}\n\t\tif (!this.agent) {\n\t\t\tvar user = self.navigator.userAgent.toLowerCase(),\n\t\t\t\tos = (/(darwin|win|mac|linux|freebsd|sunos)/.exec(user)||[])[0],\n\t\t\t\tplatform = os === 'darwin' ? 'mac' : os,\n\t\t\t\tagent = proto.agent = proto.browser = { platform: platform };\n\t\t\tif (platform)\n\t\t\t\tagent[platform] = true;\n\t\t\tuser.replace(\n\t\t\t\t/(opera|chrome|safari|webkit|firefox|msie|trident|atom|node|jsdom)\\/?\\s*([.\\d]+)(?:.*version\\/([.\\d]+))?(?:.*rv\\:v?([.\\d]+))?/g,\n\t\t\t\tfunction(match, n, v1, v2, rv) {\n\t\t\t\t\tif (!agent.chrome) {\n\t\t\t\t\t\tvar v = n === 'opera' ? v2 :\n\t\t\t\t\t\t\t\t/^(node|trident)$/.test(n) ? rv : v1;\n\t\t\t\t\t\tagent.version = v;\n\t\t\t\t\t\tagent.versionNumber = parseFloat(v);\n\t\t\t\t\t\tn = { trident: 'msie', jsdom: 'node' }[n] || n;\n\t\t\t\t\t\tagent.name = n;\n\t\t\t\t\t\tagent[n] = true;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t);\n\t\t\tif (agent.chrome)\n\t\t\t\tdelete agent.webkit;\n\t\t\tif (agent.atom)\n\t\t\t\tdelete agent.chrome;\n\t\t}\n\t},\n\n\tversion: \"0.12.18\",\n\n\tgetView: function() {\n\t\tvar project = this.project;\n\t\treturn project && project._view;\n\t},\n\n\tgetPaper: function() {\n\t\treturn this;\n\t},\n\n\texecute: function(code, options) {\n\t\t\tvar exports = paper.PaperScript.execute(code, this, options);\n\t\t\tView.updateFocus();\n\t\t\treturn exports;\n\t},\n\n\tinstall: function(scope) {\n\t\tvar that = this;\n\t\tBase.each(['project', 'view', 'tool'], function(key) {\n\t\t\tBase.define(scope, key, {\n\t\t\t\tconfigurable: true,\n\t\t\t\tget: function() {\n\t\t\t\t\treturn that[key];\n\t\t\t\t}\n\t\t\t});\n\t\t});\n\t\tfor (var key in this)\n\t\t\tif (!/^_/.test(key) && this[key])\n\t\t\t\tscope[key] = this[key];\n\t},\n\n\tsetup: function(element) {\n\t\tpaper = this;\n\t\tthis.project = new Project(element);\n\t\treturn this;\n\t},\n\n\tcreateCanvas: function(width, height) {\n\t\treturn CanvasProvider.getCanvas(width, height);\n\t},\n\n\tactivate: function() {\n\t\tpaper = this;\n\t},\n\n\tclear: function() {\n\t\tvar projects = this.projects,\n\t\t\ttools = this.tools;\n\t\tfor (var i = projects.length - 1; i >= 0; i--)\n\t\t\tprojects[i].remove();\n\t\tfor (var i = tools.length - 1; i >= 0; i--)\n\t\t\ttools[i].remove();\n\t},\n\n\tremove: function() {\n\t\tthis.clear();\n\t\tdelete PaperScope._scopes[this._id];\n\t},\n\n\tstatics: new function() {\n\t\tfunction handleAttribute(name) {\n\t\t\tname += 'Attribute';\n\t\t\treturn function(el, attr) {\n\t\t\t\treturn el[name](attr) || el[name]('data-paper-' + attr);\n\t\t\t};\n\t\t}\n\n\t\treturn {\n\t\t\t_scopes: {},\n\t\t\t_id: 0,\n\n\t\t\tget: function(id) {\n\t\t\t\treturn this._scopes[id] || null;\n\t\t\t},\n\n\t\t\tgetAttribute: handleAttribute('get'),\n\t\t\thasAttribute: handleAttribute('has')\n\t\t};\n\t}\n});\n\nvar PaperScopeItem = Base.extend(Emitter, {\n\n\tinitialize: function(activate) {\n\t\tthis._scope = paper;\n\t\tthis._index = this._scope[this._list].push(this) - 1;\n\t\tif (activate || !this._scope[this._reference])\n\t\t\tthis.activate();\n\t},\n\n\tactivate: function() {\n\t\tif (!this._scope)\n\t\t\treturn false;\n\t\tvar prev = this._scope[this._reference];\n\t\tif (prev && prev !== this)\n\t\t\tprev.emit('deactivate');\n\t\tthis._scope[this._reference] = this;\n\t\tthis.emit('activate', prev);\n\t\treturn true;\n\t},\n\n\tisActive: function() {\n\t\treturn this._scope[this._reference] === this;\n\t},\n\n\tremove: function() {\n\t\tif (this._index == null)\n\t\t\treturn false;\n\t\tBase.splice(this._scope[this._list], null, this._index, 1);\n\t\tif (this._scope[this._reference] == this)\n\t\t\tthis._scope[this._reference] = null;\n\t\tthis._scope = null;\n\t\treturn true;\n\t},\n\n\tgetView: function() {\n\t\treturn this._scope.getView();\n\t}\n});\n\nvar CollisionDetection = {\n\tfindItemBoundsCollisions: function(items1, items2, tolerance) {\n\t\tfunction getBounds(items) {\n\t\t\tvar bounds = new Array(items.length);\n\t\t\tfor (var i = 0; i < items.length; i++) {\n\t\t\t\tvar rect = items[i].getBounds();\n\t\t\t\tbounds[i] = [rect.left, rect.top, rect.right, rect.bottom];\n\t\t\t}\n\t\t\treturn bounds;\n\t\t}\n\n\t\tvar bounds1 = getBounds(items1),\n\t\t\tbounds2 = !items2 || items2 === items1\n\t\t\t\t? bounds1\n\t\t\t\t: getBounds(items2);\n\t\treturn this.findBoundsCollisions(bounds1, bounds2, tolerance || 0);\n\t},\n\n\tfindCurveBoundsCollisions: function(curves1, curves2, tolerance, bothAxis) {\n\t\tfunction getBounds(curves) {\n\t\t\tvar min = Math.min,\n\t\t\t\tmax = Math.max,\n\t\t\t\tbounds = new Array(curves.length);\n\t\t\tfor (var i = 0; i < curves.length; i++) {\n\t\t\t\tvar v = curves[i];\n\t\t\t\tbounds[i] = [\n\t\t\t\t\tmin(v[0], v[2], v[4], v[6]),\n\t\t\t\t\tmin(v[1], v[3], v[5], v[7]),\n\t\t\t\t\tmax(v[0], v[2], v[4], v[6]),\n\t\t\t\t\tmax(v[1], v[3], v[5], v[7])\n\t\t\t\t];\n\t\t\t}\n\t\t\treturn bounds;\n\t\t}\n\n\t\tvar bounds1 = getBounds(curves1),\n\t\t\tbounds2 = !curves2 || curves2 === curves1\n\t\t\t\t? bounds1\n\t\t\t\t: getBounds(curves2);\n\t\tif (bothAxis) {\n\t\t\tvar hor = this.findBoundsCollisions(\n\t\t\t\t\tbounds1, bounds2, tolerance || 0, false, true),\n\t\t\t\tver = this.findBoundsCollisions(\n\t\t\t\t\tbounds1, bounds2, tolerance || 0, true, true),\n\t\t\t\tlist = [];\n\t\t\tfor (var i = 0, l = hor.length; i < l; i++) {\n\t\t\t\tlist[i] = { hor: hor[i], ver: ver[i] };\n\t\t\t}\n\t\t\treturn list;\n\t\t}\n\t\treturn this.findBoundsCollisions(bounds1, bounds2, tolerance || 0);\n\t},\n\n\tfindBoundsCollisions: function(boundsA, boundsB, tolerance,\n\t\tsweepVertical, onlySweepAxisCollisions) {\n\t\tvar self = !boundsB || boundsA === boundsB,\n\t\t\tallBounds = self ? boundsA : boundsA.concat(boundsB),\n\t\t\tlengthA = boundsA.length,\n\t\t\tlengthAll = allBounds.length;\n\n\t\tfunction binarySearch(indices, coord, value) {\n\t\t\tvar lo = 0,\n\t\t\t\thi = indices.length;\n\t\t\twhile (lo < hi) {\n\t\t\t\tvar mid = (hi + lo) >>> 1;\n\t\t\t\tif (allBounds[indices[mid]][coord] < value) {\n\t\t\t\t\tlo = mid + 1;\n\t\t\t\t} else {\n\t\t\t\t\thi = mid;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn lo - 1;\n\t\t}\n\n\t\tvar pri0 = sweepVertical ? 1 : 0,\n\t\t\tpri1 = pri0 + 2,\n\t\t\tsec0 = sweepVertical ? 0 : 1,\n\t\t\tsec1 = sec0 + 2;\n\t\tvar allIndicesByPri0 = new Array(lengthAll);\n\t\tfor (var i = 0; i < lengthAll; i++) {\n\t\t\tallIndicesByPri0[i] = i;\n\t\t}\n\t\tallIndicesByPri0.sort(function(i1, i2) {\n\t\t\treturn allBounds[i1][pri0] - allBounds[i2][pri0];\n\t\t});\n\t\tvar activeIndicesByPri1 = [],\n\t\t\tallCollisions = new Array(lengthA);\n\t\tfor (var i = 0; i < lengthAll; i++) {\n\t\t\tvar curIndex = allIndicesByPri0[i],\n\t\t\t\tcurBounds = allBounds[curIndex],\n\t\t\t\torigIndex = self ? curIndex : curIndex - lengthA,\n\t\t\t\tisCurrentA = curIndex < lengthA,\n\t\t\t\tisCurrentB = self || !isCurrentA,\n\t\t\t\tcurCollisions = isCurrentA ? [] : null;\n\t\t\tif (activeIndicesByPri1.length) {\n\t\t\t\tvar pruneCount = binarySearch(activeIndicesByPri1, pri1,\n\t\t\t\t\t\tcurBounds[pri0] - tolerance) + 1;\n\t\t\t\tactiveIndicesByPri1.splice(0, pruneCount);\n\t\t\t\tif (self && onlySweepAxisCollisions) {\n\t\t\t\t\tcurCollisions = curCollisions.concat(activeIndicesByPri1);\n\t\t\t\t\tfor (var j = 0; j < activeIndicesByPri1.length; j++) {\n\t\t\t\t\t\tvar activeIndex = activeIndicesByPri1[j];\n\t\t\t\t\t\tallCollisions[activeIndex].push(origIndex);\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tvar curSec1 = curBounds[sec1],\n\t\t\t\t\t\tcurSec0 = curBounds[sec0];\n\t\t\t\t\tfor (var j = 0; j < activeIndicesByPri1.length; j++) {\n\t\t\t\t\t\tvar activeIndex = activeIndicesByPri1[j],\n\t\t\t\t\t\t\tactiveBounds = allBounds[activeIndex],\n\t\t\t\t\t\t\tisActiveA = activeIndex < lengthA,\n\t\t\t\t\t\t\tisActiveB = self || activeIndex >= lengthA;\n\n\t\t\t\t\t\tif (\n\t\t\t\t\t\t\tonlySweepAxisCollisions ||\n\t\t\t\t\t\t\t(\n\t\t\t\t\t\t\t\tisCurrentA && isActiveB ||\n\t\t\t\t\t\t\t\tisCurrentB && isActiveA\n\t\t\t\t\t\t\t) && (\n\t\t\t\t\t\t\t\tcurSec1 >= activeBounds[sec0] - tolerance &&\n\t\t\t\t\t\t\t\tcurSec0 <= activeBounds[sec1] + tolerance\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t) {\n\t\t\t\t\t\t\tif (isCurrentA && isActiveB) {\n\t\t\t\t\t\t\t\tcurCollisions.push(\n\t\t\t\t\t\t\t\t\tself ? activeIndex : activeIndex - lengthA);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tif (isCurrentB && isActiveA) {\n\t\t\t\t\t\t\t\tallCollisions[activeIndex].push(origIndex);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (isCurrentA) {\n\t\t\t\tif (boundsA === boundsB) {\n\t\t\t\t\tcurCollisions.push(curIndex);\n\t\t\t\t}\n\t\t\t\tallCollisions[curIndex] = curCollisions;\n\t\t\t}\n\t\t\tif (activeIndicesByPri1.length) {\n\t\t\t\tvar curPri1 = curBounds[pri1],\n\t\t\t\t\tindex = binarySearch(activeIndicesByPri1, pri1, curPri1);\n\t\t\t\tactiveIndicesByPri1.splice(index + 1, 0, curIndex);\n\t\t\t} else {\n\t\t\t\tactiveIndicesByPri1.push(curIndex);\n\t\t\t}\n\t\t}\n\t\tfor (var i = 0; i < allCollisions.length; i++) {\n\t\t\tvar collisions = allCollisions[i];\n\t\t\tif (collisions) {\n\t\t\t\tcollisions.sort(function(i1, i2) { return i1 - i2; });\n\t\t\t}\n\t\t}\n\t\treturn allCollisions;\n\t}\n};\n\nvar Formatter = Base.extend({\n\tinitialize: function(precision) {\n\t\tthis.precision = Base.pick(precision, 5);\n\t\tthis.multiplier = Math.pow(10, this.precision);\n\t},\n\n\tnumber: function(val) {\n\t\treturn this.precision < 16\n\t\t\t\t? Math.round(val * this.multiplier) / this.multiplier : val;\n\t},\n\n\tpair: function(val1, val2, separator) {\n\t\treturn this.number(val1) + (separator || ',') + this.number(val2);\n\t},\n\n\tpoint: function(val, separator) {\n\t\treturn this.number(val.x) + (separator || ',') + this.number(val.y);\n\t},\n\n\tsize: function(val, separator) {\n\t\treturn this.number(val.width) + (separator || ',')\n\t\t\t\t+ this.number(val.height);\n\t},\n\n\trectangle: function(val, separator) {\n\t\treturn this.point(val, separator) + (separator || ',')\n\t\t\t\t+ this.size(val, separator);\n\t}\n});\n\nFormatter.instance = new Formatter();\n\nvar Numerical = new function() {\n\n\tvar abscissas = [\n\t\t[  0.5773502691896257645091488],\n\t\t[0,0.7745966692414833770358531],\n\t\t[  0.3399810435848562648026658,0.8611363115940525752239465],\n\t\t[0,0.5384693101056830910363144,0.9061798459386639927976269],\n\t\t[  0.2386191860831969086305017,0.6612093864662645136613996,0.9324695142031520278123016],\n\t\t[0,0.4058451513773971669066064,0.7415311855993944398638648,0.9491079123427585245261897],\n\t\t[  0.1834346424956498049394761,0.5255324099163289858177390,0.7966664774136267395915539,0.9602898564975362316835609],\n\t\t[0,0.3242534234038089290385380,0.6133714327005903973087020,0.8360311073266357942994298,0.9681602395076260898355762],\n\t\t[  0.1488743389816312108848260,0.4333953941292471907992659,0.6794095682990244062343274,0.8650633666889845107320967,0.9739065285171717200779640],\n\t\t[0,0.2695431559523449723315320,0.5190961292068118159257257,0.7301520055740493240934163,0.8870625997680952990751578,0.9782286581460569928039380],\n\t\t[  0.1252334085114689154724414,0.3678314989981801937526915,0.5873179542866174472967024,0.7699026741943046870368938,0.9041172563704748566784659,0.9815606342467192506905491],\n\t\t[0,0.2304583159551347940655281,0.4484927510364468528779129,0.6423493394403402206439846,0.8015780907333099127942065,0.9175983992229779652065478,0.9841830547185881494728294],\n\t\t[  0.1080549487073436620662447,0.3191123689278897604356718,0.5152486363581540919652907,0.6872929048116854701480198,0.8272013150697649931897947,0.9284348836635735173363911,0.9862838086968123388415973],\n\t\t[0,0.2011940939974345223006283,0.3941513470775633698972074,0.5709721726085388475372267,0.7244177313601700474161861,0.8482065834104272162006483,0.9372733924007059043077589,0.9879925180204854284895657],\n\t\t[  0.0950125098376374401853193,0.2816035507792589132304605,0.4580167776572273863424194,0.6178762444026437484466718,0.7554044083550030338951012,0.8656312023878317438804679,0.9445750230732325760779884,0.9894009349916499325961542]\n\t];\n\n\tvar weights = [\n\t\t[1],\n\t\t[0.8888888888888888888888889,0.5555555555555555555555556],\n\t\t[0.6521451548625461426269361,0.3478548451374538573730639],\n\t\t[0.5688888888888888888888889,0.4786286704993664680412915,0.2369268850561890875142640],\n\t\t[0.4679139345726910473898703,0.3607615730481386075698335,0.1713244923791703450402961],\n\t\t[0.4179591836734693877551020,0.3818300505051189449503698,0.2797053914892766679014678,0.1294849661688696932706114],\n\t\t[0.3626837833783619829651504,0.3137066458778872873379622,0.2223810344533744705443560,0.1012285362903762591525314],\n\t\t[0.3302393550012597631645251,0.3123470770400028400686304,0.2606106964029354623187429,0.1806481606948574040584720,0.0812743883615744119718922],\n\t\t[0.2955242247147528701738930,0.2692667193099963550912269,0.2190863625159820439955349,0.1494513491505805931457763,0.0666713443086881375935688],\n\t\t[0.2729250867779006307144835,0.2628045445102466621806889,0.2331937645919904799185237,0.1862902109277342514260976,0.1255803694649046246346943,0.0556685671161736664827537],\n\t\t[0.2491470458134027850005624,0.2334925365383548087608499,0.2031674267230659217490645,0.1600783285433462263346525,0.1069393259953184309602547,0.0471753363865118271946160],\n\t\t[0.2325515532308739101945895,0.2262831802628972384120902,0.2078160475368885023125232,0.1781459807619457382800467,0.1388735102197872384636018,0.0921214998377284479144218,0.0404840047653158795200216],\n\t\t[0.2152638534631577901958764,0.2051984637212956039659241,0.1855383974779378137417166,0.1572031671581935345696019,0.1215185706879031846894148,0.0801580871597602098056333,0.0351194603317518630318329],\n\t\t[0.2025782419255612728806202,0.1984314853271115764561183,0.1861610000155622110268006,0.1662692058169939335532009,0.1395706779261543144478048,0.1071592204671719350118695,0.0703660474881081247092674,0.0307532419961172683546284],\n\t\t[0.1894506104550684962853967,0.1826034150449235888667637,0.1691565193950025381893121,0.1495959888165767320815017,0.1246289712555338720524763,0.0951585116824927848099251,0.0622535239386478928628438,0.0271524594117540948517806]\n\t];\n\n\tvar abs = Math.abs,\n\t\tsqrt = Math.sqrt,\n\t\tpow = Math.pow,\n\t\tlog2 = Math.log2 || function(x) {\n\t\t\treturn Math.log(x) * Math.LOG2E;\n\t\t},\n\t\tEPSILON = 1e-12,\n\t\tMACHINE_EPSILON = 1.12e-16;\n\n\tfunction clamp(value, min, max) {\n\t\treturn value < min ? min : value > max ? max : value;\n\t}\n\n\tfunction getDiscriminant(a, b, c) {\n\t\tfunction split(v) {\n\t\t\tvar x = v * 134217729,\n\t\t\t\ty = v - x,\n\t\t\t\thi = y + x,\n\t\t\t\tlo = v - hi;\n\t\t\treturn [hi, lo];\n\t\t}\n\n\t\tvar D = b * b - a * c,\n\t\t\tE = b * b + a * c;\n\t\tif (abs(D) * 3 < E) {\n\t\t\tvar ad = split(a),\n\t\t\t\tbd = split(b),\n\t\t\t\tcd = split(c),\n\t\t\t\tp = b * b,\n\t\t\t\tdp = (bd[0] * bd[0] - p + 2 * bd[0] * bd[1]) + bd[1] * bd[1],\n\t\t\t\tq = a * c,\n\t\t\t\tdq = (ad[0] * cd[0] - q + ad[0] * cd[1] + ad[1] * cd[0])\n\t\t\t\t\t\t+ ad[1] * cd[1];\n\t\t\tD = (p - q) + (dp - dq);\n\t\t}\n\t\treturn D;\n\t}\n\n\tfunction getNormalizationFactor() {\n\t\tvar norm = Math.max.apply(Math, arguments);\n\t\treturn norm && (norm < 1e-8 || norm > 1e8)\n\t\t\t\t? pow(2, -Math.round(log2(norm)))\n\t\t\t\t: 0;\n\t}\n\n\treturn {\n\t\tEPSILON: EPSILON,\n\t\tMACHINE_EPSILON: MACHINE_EPSILON,\n\t\tCURVETIME_EPSILON: 1e-8,\n\t\tGEOMETRIC_EPSILON: 1e-7,\n\t\tTRIGONOMETRIC_EPSILON: 1e-8,\n\t\tANGULAR_EPSILON: 1e-5,\n\t\tKAPPA: 4 * (sqrt(2) - 1) / 3,\n\n\t\tisZero: function(val) {\n\t\t\treturn val >= -EPSILON && val <= EPSILON;\n\t\t},\n\n\t\tisMachineZero: function(val) {\n\t\t\treturn val >= -MACHINE_EPSILON && val <= MACHINE_EPSILON;\n\t\t},\n\n\t\tclamp: clamp,\n\n\t\tintegrate: function(f, a, b, n) {\n\t\t\tvar x = abscissas[n - 2],\n\t\t\t\tw = weights[n - 2],\n\t\t\t\tA = (b - a) * 0.5,\n\t\t\t\tB = A + a,\n\t\t\t\ti = 0,\n\t\t\t\tm = (n + 1) >> 1,\n\t\t\t\tsum = n & 1 ? w[i++] * f(B) : 0;\n\t\t\twhile (i < m) {\n\t\t\t\tvar Ax = A * x[i];\n\t\t\t\tsum += w[i++] * (f(B + Ax) + f(B - Ax));\n\t\t\t}\n\t\t\treturn A * sum;\n\t\t},\n\n\t\tfindRoot: function(f, df, x, a, b, n, tolerance) {\n\t\t\tfor (var i = 0; i < n; i++) {\n\t\t\t\tvar fx = f(x),\n\t\t\t\t\tdx = fx / df(x),\n\t\t\t\t\tnx = x - dx;\n\t\t\t\tif (abs(dx) < tolerance) {\n\t\t\t\t\tx = nx;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\tif (fx > 0) {\n\t\t\t\t\tb = x;\n\t\t\t\t\tx = nx <= a ? (a + b) * 0.5 : nx;\n\t\t\t\t} else {\n\t\t\t\t\ta = x;\n\t\t\t\t\tx = nx >= b ? (a + b) * 0.5 : nx;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn clamp(x, a, b);\n\t\t},\n\n\t\tsolveQuadratic: function(a, b, c, roots, min, max) {\n\t\t\tvar x1, x2 = Infinity;\n\t\t\tif (abs(a) < EPSILON) {\n\t\t\t\tif (abs(b) < EPSILON)\n\t\t\t\t\treturn abs(c) < EPSILON ? -1 : 0;\n\t\t\t\tx1 = -c / b;\n\t\t\t} else {\n\t\t\t\tb *= -0.5;\n\t\t\t\tvar D = getDiscriminant(a, b, c);\n\t\t\t\tif (D && abs(D) < MACHINE_EPSILON) {\n\t\t\t\t\tvar f = getNormalizationFactor(abs(a), abs(b), abs(c));\n\t\t\t\t\tif (f) {\n\t\t\t\t\t\ta *= f;\n\t\t\t\t\t\tb *= f;\n\t\t\t\t\t\tc *= f;\n\t\t\t\t\t\tD = getDiscriminant(a, b, c);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif (D >= -MACHINE_EPSILON) {\n\t\t\t\t\tvar Q = D < 0 ? 0 : sqrt(D),\n\t\t\t\t\t\tR = b + (b < 0 ? -Q : Q);\n\t\t\t\t\tif (R === 0) {\n\t\t\t\t\t\tx1 = c / a;\n\t\t\t\t\t\tx2 = -x1;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tx1 = R / a;\n\t\t\t\t\t\tx2 = c / R;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tvar count = 0,\n\t\t\t\tboundless = min == null,\n\t\t\t\tminB = min - EPSILON,\n\t\t\t\tmaxB = max + EPSILON;\n\t\t\tif (isFinite(x1) && (boundless || x1 > minB && x1 < maxB))\n\t\t\t\troots[count++] = boundless ? x1 : clamp(x1, min, max);\n\t\t\tif (x2 !== x1\n\t\t\t\t\t&& isFinite(x2) && (boundless || x2 > minB && x2 < maxB))\n\t\t\t\troots[count++] = boundless ? x2 : clamp(x2, min, max);\n\t\t\treturn count;\n\t\t},\n\n\t\tsolveCubic: function(a, b, c, d, roots, min, max) {\n\t\t\tvar f = getNormalizationFactor(abs(a), abs(b), abs(c), abs(d)),\n\t\t\t\tx, b1, c2, qd, q;\n\t\t\tif (f) {\n\t\t\t\ta *= f;\n\t\t\t\tb *= f;\n\t\t\t\tc *= f;\n\t\t\t\td *= f;\n\t\t\t}\n\n\t\t\tfunction evaluate(x0) {\n\t\t\t\tx = x0;\n\t\t\t\tvar tmp = a * x;\n\t\t\t\tb1 = tmp + b;\n\t\t\t\tc2 = b1 * x + c;\n\t\t\t\tqd = (tmp + b1) * x + c2;\n\t\t\t\tq = c2 * x + d;\n\t\t\t}\n\n\t\t\tif (abs(a) < EPSILON) {\n\t\t\t\ta = b;\n\t\t\t\tb1 = c;\n\t\t\t\tc2 = d;\n\t\t\t\tx = Infinity;\n\t\t\t} else if (abs(d) < EPSILON) {\n\t\t\t\tb1 = b;\n\t\t\t\tc2 = c;\n\t\t\t\tx = 0;\n\t\t\t} else {\n\t\t\t\tevaluate(-(b / a) / 3);\n\t\t\t\tvar t = q / a,\n\t\t\t\t\tr = pow(abs(t), 1/3),\n\t\t\t\t\ts = t < 0 ? -1 : 1,\n\t\t\t\t\ttd = -qd / a,\n\t\t\t\t\trd = td > 0 ? 1.324717957244746 * Math.max(r, sqrt(td)) : r,\n\t\t\t\t\tx0 = x - s * rd;\n\t\t\t\tif (x0 !== x) {\n\t\t\t\t\tdo {\n\t\t\t\t\t\tevaluate(x0);\n\t\t\t\t\t\tx0 = qd === 0 ? x : x - q / qd / (1 + MACHINE_EPSILON);\n\t\t\t\t\t} while (s * x0 > s * x);\n\t\t\t\t\tif (abs(a) * x * x > abs(d / x)) {\n\t\t\t\t\t\tc2 = -d / x;\n\t\t\t\t\t\tb1 = (c2 - c) / x;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tvar count = Numerical.solveQuadratic(a, b1, c2, roots, min, max),\n\t\t\t\tboundless = min == null;\n\t\t\tif (isFinite(x) && (count === 0\n\t\t\t\t\t|| count > 0 && x !== roots[0] && x !== roots[1])\n\t\t\t\t\t&& (boundless || x > min - EPSILON && x < max + EPSILON))\n\t\t\t\troots[count++] = boundless ? x : clamp(x, min, max);\n\t\t\treturn count;\n\t\t}\n\t};\n};\n\nvar UID = {\n\t_id: 1,\n\t_pools: {},\n\n\tget: function(name) {\n\t\tif (name) {\n\t\t\tvar pool = this._pools[name];\n\t\t\tif (!pool)\n\t\t\t\tpool = this._pools[name] = { _id: 1 };\n\t\t\treturn pool._id++;\n\t\t} else {\n\t\t\treturn this._id++;\n\t\t}\n\t}\n};\n\nvar Point = Base.extend({\n\t_class: 'Point',\n\t_readIndex: true,\n\n\tinitialize: function Point(arg0, arg1) {\n\t\tvar type = typeof arg0,\n\t\t\treading = this.__read,\n\t\t\tread = 0;\n\t\tif (type === 'number') {\n\t\t\tvar hasY = typeof arg1 === 'number';\n\t\t\tthis._set(arg0, hasY ? arg1 : arg0);\n\t\t\tif (reading)\n\t\t\t\tread = hasY ? 2 : 1;\n\t\t} else if (type === 'undefined' || arg0 === null) {\n\t\t\tthis._set(0, 0);\n\t\t\tif (reading)\n\t\t\t\tread = arg0 === null ? 1 : 0;\n\t\t} else {\n\t\t\tvar obj = type === 'string' ? arg0.split(/[\\s,]+/) || [] : arg0;\n\t\t\tread = 1;\n\t\t\tif (Array.isArray(obj)) {\n\t\t\t\tthis._set(+obj[0], +(obj.length > 1 ? obj[1] : obj[0]));\n\t\t\t} else if ('x' in obj) {\n\t\t\t\tthis._set(obj.x || 0, obj.y || 0);\n\t\t\t} else if ('width' in obj) {\n\t\t\t\tthis._set(obj.width || 0, obj.height || 0);\n\t\t\t} else if ('angle' in obj) {\n\t\t\t\tthis._set(obj.length || 0, 0);\n\t\t\t\tthis.setAngle(obj.angle || 0);\n\t\t\t} else {\n\t\t\t\tthis._set(0, 0);\n\t\t\t\tread = 0;\n\t\t\t}\n\t\t}\n\t\tif (reading)\n\t\t\tthis.__read = read;\n\t\treturn this;\n\t},\n\n\tset: '#initialize',\n\n\t_set: function(x, y) {\n\t\tthis.x = x;\n\t\tthis.y = y;\n\t\treturn this;\n\t},\n\n\tequals: function(point) {\n\t\treturn this === point || point\n\t\t\t\t&& (this.x === point.x && this.y === point.y\n\t\t\t\t\t|| Array.isArray(point)\n\t\t\t\t\t\t&& this.x === point[0] && this.y === point[1])\n\t\t\t\t|| false;\n\t},\n\n\tclone: function() {\n\t\treturn new Point(this.x, this.y);\n\t},\n\n\ttoString: function() {\n\t\tvar f = Formatter.instance;\n\t\treturn '{ x: ' + f.number(this.x) + ', y: ' + f.number(this.y) + ' }';\n\t},\n\n\t_serialize: function(options) {\n\t\tvar f = options.formatter;\n\t\treturn [f.number(this.x), f.number(this.y)];\n\t},\n\n\tgetLength: function() {\n\t\treturn Math.sqrt(this.x * this.x + this.y * this.y);\n\t},\n\n\tsetLength: function(length) {\n\t\tif (this.isZero()) {\n\t\t\tvar angle = this._angle || 0;\n\t\t\tthis._set(\n\t\t\t\tMath.cos(angle) * length,\n\t\t\t\tMath.sin(angle) * length\n\t\t\t);\n\t\t} else {\n\t\t\tvar scale = length / this.getLength();\n\t\t\tif (Numerical.isZero(scale))\n\t\t\t\tthis.getAngle();\n\t\t\tthis._set(\n\t\t\t\tthis.x * scale,\n\t\t\t\tthis.y * scale\n\t\t\t);\n\t\t}\n\t},\n\tgetAngle: function() {\n\t\treturn this.getAngleInRadians.apply(this, arguments) * 180 / Math.PI;\n\t},\n\n\tsetAngle: function(angle) {\n\t\tthis.setAngleInRadians.call(this, angle * Math.PI / 180);\n\t},\n\n\tgetAngleInDegrees: '#getAngle',\n\tsetAngleInDegrees: '#setAngle',\n\n\tgetAngleInRadians: function() {\n\t\tif (!arguments.length) {\n\t\t\treturn this.isZero()\n\t\t\t\t\t? this._angle || 0\n\t\t\t\t\t: this._angle = Math.atan2(this.y, this.x);\n\t\t} else {\n\t\t\tvar point = Point.read(arguments),\n\t\t\t\tdiv = this.getLength() * point.getLength();\n\t\t\tif (Numerical.isZero(div)) {\n\t\t\t\treturn NaN;\n\t\t\t} else {\n\t\t\t\tvar a = this.dot(point) / div;\n\t\t\t\treturn Math.acos(a < -1 ? -1 : a > 1 ? 1 : a);\n\t\t\t}\n\t\t}\n\t},\n\n\tsetAngleInRadians: function(angle) {\n\t\tthis._angle = angle;\n\t\tif (!this.isZero()) {\n\t\t\tvar length = this.getLength();\n\t\t\tthis._set(\n\t\t\t\tMath.cos(angle) * length,\n\t\t\t\tMath.sin(angle) * length\n\t\t\t);\n\t\t}\n\t},\n\n\tgetQuadrant: function() {\n\t\treturn this.x >= 0 ? this.y >= 0 ? 1 : 4 : this.y >= 0 ? 2 : 3;\n\t}\n}, {\n\tbeans: false,\n\n\tgetDirectedAngle: function() {\n\t\tvar point = Point.read(arguments);\n\t\treturn Math.atan2(this.cross(point), this.dot(point)) * 180 / Math.PI;\n\t},\n\n\tgetDistance: function() {\n\t\tvar args = arguments,\n\t\t\tpoint = Point.read(args),\n\t\t\tx = point.x - this.x,\n\t\t\ty = point.y - this.y,\n\t\t\td = x * x + y * y,\n\t\t\tsquared = Base.read(args);\n\t\treturn squared ? d : Math.sqrt(d);\n\t},\n\n\tnormalize: function(length) {\n\t\tif (length === undefined)\n\t\t\tlength = 1;\n\t\tvar current = this.getLength(),\n\t\t\tscale = current !== 0 ? length / current : 0,\n\t\t\tpoint = new Point(this.x * scale, this.y * scale);\n\t\tif (scale >= 0)\n\t\t\tpoint._angle = this._angle;\n\t\treturn point;\n\t},\n\n\trotate: function(angle, center) {\n\t\tif (angle === 0)\n\t\t\treturn this.clone();\n\t\tangle = angle * Math.PI / 180;\n\t\tvar point = center ? this.subtract(center) : this,\n\t\t\tsin = Math.sin(angle),\n\t\t\tcos = Math.cos(angle);\n\t\tpoint = new Point(\n\t\t\tpoint.x * cos - point.y * sin,\n\t\t\tpoint.x * sin + point.y * cos\n\t\t);\n\t\treturn center ? point.add(center) : point;\n\t},\n\n\ttransform: function(matrix) {\n\t\treturn matrix ? matrix._transformPoint(this) : this;\n\t},\n\n\tadd: function() {\n\t\tvar point = Point.read(arguments);\n\t\treturn new Point(this.x + point.x, this.y + point.y);\n\t},\n\n\tsubtract: function() {\n\t\tvar point = Point.read(arguments);\n\t\treturn new Point(this.x - point.x, this.y - point.y);\n\t},\n\n\tmultiply: function() {\n\t\tvar point = Point.read(arguments);\n\t\treturn new Point(this.x * point.x, this.y * point.y);\n\t},\n\n\tdivide: function() {\n\t\tvar point = Point.read(arguments);\n\t\treturn new Point(this.x / point.x, this.y / point.y);\n\t},\n\n\tmodulo: function() {\n\t\tvar point = Point.read(arguments);\n\t\treturn new Point(this.x % point.x, this.y % point.y);\n\t},\n\n\tnegate: function() {\n\t\treturn new Point(-this.x, -this.y);\n\t},\n\n\tisInside: function() {\n\t\treturn Rectangle.read(arguments).contains(this);\n\t},\n\n\tisClose: function() {\n\t\tvar args = arguments,\n\t\t\tpoint = Point.read(args),\n\t\t\ttolerance = Base.read(args);\n\t\treturn this.getDistance(point) <= tolerance;\n\t},\n\n\tisCollinear: function() {\n\t\tvar point = Point.read(arguments);\n\t\treturn Point.isCollinear(this.x, this.y, point.x, point.y);\n\t},\n\n\tisColinear: '#isCollinear',\n\n\tisOrthogonal: function() {\n\t\tvar point = Point.read(arguments);\n\t\treturn Point.isOrthogonal(this.x, this.y, point.x, point.y);\n\t},\n\n\tisZero: function() {\n\t\tvar isZero = Numerical.isZero;\n\t\treturn isZero(this.x) && isZero(this.y);\n\t},\n\n\tisNaN: function() {\n\t\treturn isNaN(this.x) || isNaN(this.y);\n\t},\n\n\tisInQuadrant: function(q) {\n\t\treturn this.x * (q > 1 && q < 4 ? -1 : 1) >= 0\n\t\t\t&& this.y * (q > 2 ? -1 : 1) >= 0;\n\t},\n\n\tdot: function() {\n\t\tvar point = Point.read(arguments);\n\t\treturn this.x * point.x + this.y * point.y;\n\t},\n\n\tcross: function() {\n\t\tvar point = Point.read(arguments);\n\t\treturn this.x * point.y - this.y * point.x;\n\t},\n\n\tproject: function() {\n\t\tvar point = Point.read(arguments),\n\t\t\tscale = point.isZero() ? 0 : this.dot(point) / point.dot(point);\n\t\treturn new Point(\n\t\t\tpoint.x * scale,\n\t\t\tpoint.y * scale\n\t\t);\n\t},\n\n\tstatics: {\n\t\tmin: function() {\n\t\t\tvar args = arguments,\n\t\t\t\tpoint1 = Point.read(args),\n\t\t\t\tpoint2 = Point.read(args);\n\t\t\treturn new Point(\n\t\t\t\tMath.min(point1.x, point2.x),\n\t\t\t\tMath.min(point1.y, point2.y)\n\t\t\t);\n\t\t},\n\n\t\tmax: function() {\n\t\t\tvar args = arguments,\n\t\t\t\tpoint1 = Point.read(args),\n\t\t\t\tpoint2 = Point.read(args);\n\t\t\treturn new Point(\n\t\t\t\tMath.max(point1.x, point2.x),\n\t\t\t\tMath.max(point1.y, point2.y)\n\t\t\t);\n\t\t},\n\n\t\trandom: function() {\n\t\t\treturn new Point(Math.random(), Math.random());\n\t\t},\n\n\t\tisCollinear: function(x1, y1, x2, y2) {\n\t\t\treturn Math.abs(x1 * y2 - y1 * x2)\n\t\t\t\t\t<= Math.sqrt((x1 * x1 + y1 * y1) * (x2 * x2 + y2 * y2))\n\t\t\t\t\t\t* 1e-8;\n\t\t},\n\n\t\tisOrthogonal: function(x1, y1, x2, y2) {\n\t\t\treturn Math.abs(x1 * x2 + y1 * y2)\n\t\t\t\t\t<= Math.sqrt((x1 * x1 + y1 * y1) * (x2 * x2 + y2 * y2))\n\t\t\t\t\t\t* 1e-8;\n\t\t}\n\t}\n}, Base.each(['round', 'ceil', 'floor', 'abs'], function(key) {\n\tvar op = Math[key];\n\tthis[key] = function() {\n\t\treturn new Point(op(this.x), op(this.y));\n\t};\n}, {}));\n\nvar LinkedPoint = Point.extend({\n\tinitialize: function Point(x, y, owner, setter) {\n\t\tthis._x = x;\n\t\tthis._y = y;\n\t\tthis._owner = owner;\n\t\tthis._setter = setter;\n\t},\n\n\t_set: function(x, y, _dontNotify) {\n\t\tthis._x = x;\n\t\tthis._y = y;\n\t\tif (!_dontNotify)\n\t\t\tthis._owner[this._setter](this);\n\t\treturn this;\n\t},\n\n\tgetX: function() {\n\t\treturn this._x;\n\t},\n\n\tsetX: function(x) {\n\t\tthis._x = x;\n\t\tthis._owner[this._setter](this);\n\t},\n\n\tgetY: function() {\n\t\treturn this._y;\n\t},\n\n\tsetY: function(y) {\n\t\tthis._y = y;\n\t\tthis._owner[this._setter](this);\n\t},\n\n\tisSelected: function() {\n\t\treturn !!(this._owner._selection & this._getSelection());\n\t},\n\n\tsetSelected: function(selected) {\n\t\tthis._owner._changeSelection(this._getSelection(), selected);\n\t},\n\n\t_getSelection: function() {\n\t\treturn this._setter === 'setPosition' ? 4 : 0;\n\t}\n});\n\nvar Size = Base.extend({\n\t_class: 'Size',\n\t_readIndex: true,\n\n\tinitialize: function Size(arg0, arg1) {\n\t\tvar type = typeof arg0,\n\t\t\treading = this.__read,\n\t\t\tread = 0;\n\t\tif (type === 'number') {\n\t\t\tvar hasHeight = typeof arg1 === 'number';\n\t\t\tthis._set(arg0, hasHeight ? arg1 : arg0);\n\t\t\tif (reading)\n\t\t\t\tread = hasHeight ? 2 : 1;\n\t\t} else if (type === 'undefined' || arg0 === null) {\n\t\t\tthis._set(0, 0);\n\t\t\tif (reading)\n\t\t\t\tread = arg0 === null ? 1 : 0;\n\t\t} else {\n\t\t\tvar obj = type === 'string' ? arg0.split(/[\\s,]+/) || [] : arg0;\n\t\t\tread = 1;\n\t\t\tif (Array.isArray(obj)) {\n\t\t\t\tthis._set(+obj[0], +(obj.length > 1 ? obj[1] : obj[0]));\n\t\t\t} else if ('width' in obj) {\n\t\t\t\tthis._set(obj.width || 0, obj.height || 0);\n\t\t\t} else if ('x' in obj) {\n\t\t\t\tthis._set(obj.x || 0, obj.y || 0);\n\t\t\t} else {\n\t\t\t\tthis._set(0, 0);\n\t\t\t\tread = 0;\n\t\t\t}\n\t\t}\n\t\tif (reading)\n\t\t\tthis.__read = read;\n\t\treturn this;\n\t},\n\n\tset: '#initialize',\n\n\t_set: function(width, height) {\n\t\tthis.width = width;\n\t\tthis.height = height;\n\t\treturn this;\n\t},\n\n\tequals: function(size) {\n\t\treturn size === this || size && (this.width === size.width\n\t\t\t\t&& this.height === size.height\n\t\t\t\t|| Array.isArray(size) && this.width === size[0]\n\t\t\t\t\t&& this.height === size[1]) || false;\n\t},\n\n\tclone: function() {\n\t\treturn new Size(this.width, this.height);\n\t},\n\n\ttoString: function() {\n\t\tvar f = Formatter.instance;\n\t\treturn '{ width: ' + f.number(this.width)\n\t\t\t\t+ ', height: ' + f.number(this.height) + ' }';\n\t},\n\n\t_serialize: function(options) {\n\t\tvar f = options.formatter;\n\t\treturn [f.number(this.width),\n\t\t\t\tf.number(this.height)];\n\t},\n\n\tadd: function() {\n\t\tvar size = Size.read(arguments);\n\t\treturn new Size(this.width + size.width, this.height + size.height);\n\t},\n\n\tsubtract: function() {\n\t\tvar size = Size.read(arguments);\n\t\treturn new Size(this.width - size.width, this.height - size.height);\n\t},\n\n\tmultiply: function() {\n\t\tvar size = Size.read(arguments);\n\t\treturn new Size(this.width * size.width, this.height * size.height);\n\t},\n\n\tdivide: function() {\n\t\tvar size = Size.read(arguments);\n\t\treturn new Size(this.width / size.width, this.height / size.height);\n\t},\n\n\tmodulo: function() {\n\t\tvar size = Size.read(arguments);\n\t\treturn new Size(this.width % size.width, this.height % size.height);\n\t},\n\n\tnegate: function() {\n\t\treturn new Size(-this.width, -this.height);\n\t},\n\n\tisZero: function() {\n\t\tvar isZero = Numerical.isZero;\n\t\treturn isZero(this.width) && isZero(this.height);\n\t},\n\n\tisNaN: function() {\n\t\treturn isNaN(this.width) || isNaN(this.height);\n\t},\n\n\tstatics: {\n\t\tmin: function(size1, size2) {\n\t\t\treturn new Size(\n\t\t\t\tMath.min(size1.width, size2.width),\n\t\t\t\tMath.min(size1.height, size2.height));\n\t\t},\n\n\t\tmax: function(size1, size2) {\n\t\t\treturn new Size(\n\t\t\t\tMath.max(size1.width, size2.width),\n\t\t\t\tMath.max(size1.height, size2.height));\n\t\t},\n\n\t\trandom: function() {\n\t\t\treturn new Size(Math.random(), Math.random());\n\t\t}\n\t}\n}, Base.each(['round', 'ceil', 'floor', 'abs'], function(key) {\n\tvar op = Math[key];\n\tthis[key] = function() {\n\t\treturn new Size(op(this.width), op(this.height));\n\t};\n}, {}));\n\nvar LinkedSize = Size.extend({\n\tinitialize: function Size(width, height, owner, setter) {\n\t\tthis._width = width;\n\t\tthis._height = height;\n\t\tthis._owner = owner;\n\t\tthis._setter = setter;\n\t},\n\n\t_set: function(width, height, _dontNotify) {\n\t\tthis._width = width;\n\t\tthis._height = height;\n\t\tif (!_dontNotify)\n\t\t\tthis._owner[this._setter](this);\n\t\treturn this;\n\t},\n\n\tgetWidth: function() {\n\t\treturn this._width;\n\t},\n\n\tsetWidth: function(width) {\n\t\tthis._width = width;\n\t\tthis._owner[this._setter](this);\n\t},\n\n\tgetHeight: function() {\n\t\treturn this._height;\n\t},\n\n\tsetHeight: function(height) {\n\t\tthis._height = height;\n\t\tthis._owner[this._setter](this);\n\t}\n});\n\nvar Rectangle = Base.extend({\n\t_class: 'Rectangle',\n\t_readIndex: true,\n\tbeans: true,\n\n\tinitialize: function Rectangle(arg0, arg1, arg2, arg3) {\n\t\tvar args = arguments,\n\t\t\ttype = typeof arg0,\n\t\t\tread;\n\t\tif (type === 'number') {\n\t\t\tthis._set(arg0, arg1, arg2, arg3);\n\t\t\tread = 4;\n\t\t} else if (type === 'undefined' || arg0 === null) {\n\t\t\tthis._set(0, 0, 0, 0);\n\t\t\tread = arg0 === null ? 1 : 0;\n\t\t} else if (args.length === 1) {\n\t\t\tif (Array.isArray(arg0)) {\n\t\t\t\tthis._set.apply(this, arg0);\n\t\t\t\tread = 1;\n\t\t\t} else if (arg0.x !== undefined || arg0.width !== undefined) {\n\t\t\t\tthis._set(arg0.x || 0, arg0.y || 0,\n\t\t\t\t\t\targ0.width || 0, arg0.height || 0);\n\t\t\t\tread = 1;\n\t\t\t} else if (arg0.from === undefined && arg0.to === undefined) {\n\t\t\t\tthis._set(0, 0, 0, 0);\n\t\t\t\tif (Base.readSupported(args, this)) {\n\t\t\t\t\tread = 1;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tif (read === undefined) {\n\t\t\tvar frm = Point.readNamed(args, 'from'),\n\t\t\t\tnext = Base.peek(args),\n\t\t\t\tx = frm.x,\n\t\t\t\ty = frm.y,\n\t\t\t\twidth,\n\t\t\t\theight;\n\t\t\tif (next && next.x !== undefined || Base.hasNamed(args, 'to')) {\n\t\t\t\tvar to = Point.readNamed(args, 'to');\n\t\t\t\twidth = to.x - x;\n\t\t\t\theight = to.y - y;\n\t\t\t\tif (width < 0) {\n\t\t\t\t\tx = to.x;\n\t\t\t\t\twidth = -width;\n\t\t\t\t}\n\t\t\t\tif (height < 0) {\n\t\t\t\t\ty = to.y;\n\t\t\t\t\theight = -height;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tvar size = Size.read(args);\n\t\t\t\twidth = size.width;\n\t\t\t\theight = size.height;\n\t\t\t}\n\t\t\tthis._set(x, y, width, height);\n\t\t\tread = args.__index;\n\t\t}\n\t\tvar filtered = args.__filtered;\n\t\tif (filtered)\n\t\t\tthis.__filtered = filtered;\n\t\tif (this.__read)\n\t\t\tthis.__read = read;\n\t\treturn this;\n\t},\n\n\tset: '#initialize',\n\n\t_set: function(x, y, width, height) {\n\t\tthis.x = x;\n\t\tthis.y = y;\n\t\tthis.width = width;\n\t\tthis.height = height;\n\t\treturn this;\n\t},\n\n\tclone: function() {\n\t\treturn new Rectangle(this.x, this.y, this.width, this.height);\n\t},\n\n\tequals: function(rect) {\n\t\tvar rt = Base.isPlainValue(rect)\n\t\t\t\t? Rectangle.read(arguments)\n\t\t\t\t: rect;\n\t\treturn rt === this\n\t\t\t\t|| rt && this.x === rt.x && this.y === rt.y\n\t\t\t\t\t&& this.width === rt.width && this.height === rt.height\n\t\t\t\t|| false;\n\t},\n\n\ttoString: function() {\n\t\tvar f = Formatter.instance;\n\t\treturn '{ x: ' + f.number(this.x)\n\t\t\t\t+ ', y: ' + f.number(this.y)\n\t\t\t\t+ ', width: ' + f.number(this.width)\n\t\t\t\t+ ', height: ' + f.number(this.height)\n\t\t\t\t+ ' }';\n\t},\n\n\t_serialize: function(options) {\n\t\tvar f = options.formatter;\n\t\treturn [f.number(this.x),\n\t\t\t\tf.number(this.y),\n\t\t\t\tf.number(this.width),\n\t\t\t\tf.number(this.height)];\n\t},\n\n\tgetPoint: function(_dontLink) {\n\t\tvar ctor = _dontLink ? Point : LinkedPoint;\n\t\treturn new ctor(this.x, this.y, this, 'setPoint');\n\t},\n\n\tsetPoint: function() {\n\t\tvar point = Point.read(arguments);\n\t\tthis.x = point.x;\n\t\tthis.y = point.y;\n\t},\n\n\tgetSize: function(_dontLink) {\n\t\tvar ctor = _dontLink ? Size : LinkedSize;\n\t\treturn new ctor(this.width, this.height, this, 'setSize');\n\t},\n\n\t_fw: 1,\n\t_fh: 1,\n\n\tsetSize: function() {\n\t\tvar size = Size.read(arguments),\n\t\t\tsx = this._sx,\n\t\t\tsy = this._sy,\n\t\t\tw = size.width,\n\t\t\th = size.height;\n\t\tif (sx) {\n\t\t\tthis.x += (this.width - w) * sx;\n\t\t}\n\t\tif (sy) {\n\t\t\tthis.y += (this.height - h) * sy;\n\t\t}\n\t\tthis.width = w;\n\t\tthis.height = h;\n\t\tthis._fw = this._fh = 1;\n\t},\n\n\tgetLeft: function() {\n\t\treturn this.x;\n\t},\n\n\tsetLeft: function(left) {\n\t\tif (!this._fw) {\n\t\t\tvar amount = left - this.x;\n\t\t\tthis.width -= this._sx === 0.5 ? amount * 2 : amount;\n\t\t}\n\t\tthis.x = left;\n\t\tthis._sx = this._fw = 0;\n\t},\n\n\tgetTop: function() {\n\t\treturn this.y;\n\t},\n\n\tsetTop: function(top) {\n\t\tif (!this._fh) {\n\t\t\tvar amount = top - this.y;\n\t\t\tthis.height -= this._sy === 0.5 ? amount * 2 : amount;\n\t\t}\n\t\tthis.y = top;\n\t\tthis._sy = this._fh = 0;\n\t},\n\n\tgetRight: function() {\n\t\treturn this.x + this.width;\n\t},\n\n\tsetRight: function(right) {\n\t\tif (!this._fw) {\n\t\t\tvar amount = right - this.x;\n\t\t\tthis.width = this._sx === 0.5 ? amount * 2 : amount;\n\t\t}\n\t\tthis.x = right - this.width;\n\t\tthis._sx = 1;\n\t\tthis._fw = 0;\n\t},\n\n\tgetBottom: function() {\n\t\treturn this.y + this.height;\n\t},\n\n\tsetBottom: function(bottom) {\n\t\tif (!this._fh) {\n\t\t\tvar amount = bottom - this.y;\n\t\t\tthis.height = this._sy === 0.5 ? amount * 2 : amount;\n\t\t}\n\t\tthis.y = bottom - this.height;\n\t\tthis._sy = 1;\n\t\tthis._fh = 0;\n\t},\n\n\tgetCenterX: function() {\n\t\treturn this.x + this.width / 2;\n\t},\n\n\tsetCenterX: function(x) {\n\t\tif (this._fw || this._sx === 0.5) {\n\t\t\tthis.x = x - this.width / 2;\n\t\t} else {\n\t\t\tif (this._sx) {\n\t\t\t\tthis.x += (x - this.x) * 2 * this._sx;\n\t\t\t}\n\t\t\tthis.width = (x - this.x) * 2;\n\t\t}\n\t\tthis._sx = 0.5;\n\t\tthis._fw = 0;\n\t},\n\n\tgetCenterY: function() {\n\t\treturn this.y + this.height / 2;\n\t},\n\n\tsetCenterY: function(y) {\n\t\tif (this._fh || this._sy === 0.5) {\n\t\t\tthis.y = y - this.height / 2;\n\t\t} else {\n\t\t\tif (this._sy) {\n\t\t\t\tthis.y += (y - this.y) * 2 * this._sy;\n\t\t\t}\n\t\t\tthis.height = (y - this.y) * 2;\n\t\t}\n\t\tthis._sy = 0.5;\n\t\tthis._fh = 0;\n\t},\n\n\tgetCenter: function(_dontLink) {\n\t\tvar ctor = _dontLink ? Point : LinkedPoint;\n\t\treturn new ctor(this.getCenterX(), this.getCenterY(), this, 'setCenter');\n\t},\n\n\tsetCenter: function() {\n\t\tvar point = Point.read(arguments);\n\t\tthis.setCenterX(point.x);\n\t\tthis.setCenterY(point.y);\n\t\treturn this;\n\t},\n\n\tgetArea: function() {\n\t\treturn this.width * this.height;\n\t},\n\n\tisEmpty: function() {\n\t\treturn this.width === 0 || this.height === 0;\n\t},\n\n\tcontains: function(arg) {\n\t\treturn arg && arg.width !== undefined\n\t\t\t\t|| (Array.isArray(arg) ? arg : arguments).length === 4\n\t\t\t\t? this._containsRectangle(Rectangle.read(arguments))\n\t\t\t\t: this._containsPoint(Point.read(arguments));\n\t},\n\n\t_containsPoint: function(point) {\n\t\tvar x = point.x,\n\t\t\ty = point.y;\n\t\treturn x >= this.x && y >= this.y\n\t\t\t\t&& x <= this.x + this.width\n\t\t\t\t&& y <= this.y + this.height;\n\t},\n\n\t_containsRectangle: function(rect) {\n\t\tvar x = rect.x,\n\t\t\ty = rect.y;\n\t\treturn x >= this.x && y >= this.y\n\t\t\t\t&& x + rect.width <= this.x + this.width\n\t\t\t\t&& y + rect.height <= this.y + this.height;\n\t},\n\n\tintersects: function() {\n\t\tvar rect = Rectangle.read(arguments),\n\t\t\tepsilon = Base.read(arguments) || 0;\n\t\treturn rect.x + rect.width > this.x - epsilon\n\t\t\t\t&& rect.y + rect.height > this.y - epsilon\n\t\t\t\t&& rect.x < this.x + this.width + epsilon\n\t\t\t\t&& rect.y < this.y + this.height + epsilon;\n\t},\n\n\tintersect: function() {\n\t\tvar rect = Rectangle.read(arguments),\n\t\t\tx1 = Math.max(this.x, rect.x),\n\t\t\ty1 = Math.max(this.y, rect.y),\n\t\t\tx2 = Math.min(this.x + this.width, rect.x + rect.width),\n\t\t\ty2 = Math.min(this.y + this.height, rect.y + rect.height);\n\t\treturn new Rectangle(x1, y1, x2 - x1, y2 - y1);\n\t},\n\n\tunite: function() {\n\t\tvar rect = Rectangle.read(arguments),\n\t\t\tx1 = Math.min(this.x, rect.x),\n\t\t\ty1 = Math.min(this.y, rect.y),\n\t\t\tx2 = Math.max(this.x + this.width, rect.x + rect.width),\n\t\t\ty2 = Math.max(this.y + this.height, rect.y + rect.height);\n\t\treturn new Rectangle(x1, y1, x2 - x1, y2 - y1);\n\t},\n\n\tinclude: function() {\n\t\tvar point = Point.read(arguments);\n\t\tvar x1 = Math.min(this.x, point.x),\n\t\t\ty1 = Math.min(this.y, point.y),\n\t\t\tx2 = Math.max(this.x + this.width, point.x),\n\t\t\ty2 = Math.max(this.y + this.height, point.y);\n\t\treturn new Rectangle(x1, y1, x2 - x1, y2 - y1);\n\t},\n\n\texpand: function() {\n\t\tvar amount = Size.read(arguments),\n\t\t\thor = amount.width,\n\t\t\tver = amount.height;\n\t\treturn new Rectangle(this.x - hor / 2, this.y - ver / 2,\n\t\t\t\tthis.width + hor, this.height + ver);\n\t},\n\n\tscale: function(hor, ver) {\n\t\treturn this.expand(this.width * hor - this.width,\n\t\t\t\tthis.height * (ver === undefined ? hor : ver) - this.height);\n\t}\n}, Base.each([\n\t\t['Top', 'Left'], ['Top', 'Right'],\n\t\t['Bottom', 'Left'], ['Bottom', 'Right'],\n\t\t['Left', 'Center'], ['Top', 'Center'],\n\t\t['Right', 'Center'], ['Bottom', 'Center']\n\t],\n\tfunction(parts, index) {\n\t\tvar part = parts.join(''),\n\t\t\txFirst = /^[RL]/.test(part);\n\t\tif (index >= 4)\n\t\t\tparts[1] += xFirst ? 'Y' : 'X';\n\t\tvar x = parts[xFirst ? 0 : 1],\n\t\t\ty = parts[xFirst ? 1 : 0],\n\t\t\tgetX = 'get' + x,\n\t\t\tgetY = 'get' + y,\n\t\t\tsetX = 'set' + x,\n\t\t\tsetY = 'set' + y,\n\t\t\tget = 'get' + part,\n\t\t\tset = 'set' + part;\n\t\tthis[get] = function(_dontLink) {\n\t\t\tvar ctor = _dontLink ? Point : LinkedPoint;\n\t\t\treturn new ctor(this[getX](), this[getY](), this, set);\n\t\t};\n\t\tthis[set] = function() {\n\t\t\tvar point = Point.read(arguments);\n\t\t\tthis[setX](point.x);\n\t\t\tthis[setY](point.y);\n\t\t};\n\t}, {\n\t\tbeans: true\n\t}\n));\n\nvar LinkedRectangle = Rectangle.extend({\n\tinitialize: function Rectangle(x, y, width, height, owner, setter) {\n\t\tthis._set(x, y, width, height, true);\n\t\tthis._owner = owner;\n\t\tthis._setter = setter;\n\t},\n\n\t_set: function(x, y, width, height, _dontNotify) {\n\t\tthis._x = x;\n\t\tthis._y = y;\n\t\tthis._width = width;\n\t\tthis._height = height;\n\t\tif (!_dontNotify)\n\t\t\tthis._owner[this._setter](this);\n\t\treturn this;\n\t}\n},\nnew function() {\n\tvar proto = Rectangle.prototype;\n\n\treturn Base.each(['x', 'y', 'width', 'height'], function(key) {\n\t\tvar part = Base.capitalize(key),\n\t\t\tinternal = '_' + key;\n\t\tthis['get' + part] = function() {\n\t\t\treturn this[internal];\n\t\t};\n\n\t\tthis['set' + part] = function(value) {\n\t\t\tthis[internal] = value;\n\t\t\tif (!this._dontNotify)\n\t\t\t\tthis._owner[this._setter](this);\n\t\t};\n\t}, Base.each(['Point', 'Size', 'Center',\n\t\t\t'Left', 'Top', 'Right', 'Bottom', 'CenterX', 'CenterY',\n\t\t\t'TopLeft', 'TopRight', 'BottomLeft', 'BottomRight',\n\t\t\t'LeftCenter', 'TopCenter', 'RightCenter', 'BottomCenter'],\n\t\tfunction(key) {\n\t\t\tvar name = 'set' + key;\n\t\t\tthis[name] = function() {\n\t\t\t\tthis._dontNotify = true;\n\t\t\t\tproto[name].apply(this, arguments);\n\t\t\t\tthis._dontNotify = false;\n\t\t\t\tthis._owner[this._setter](this);\n\t\t\t};\n\t\t}, {\n\t\t\tisSelected: function() {\n\t\t\t\treturn !!(this._owner._selection & 2);\n\t\t\t},\n\n\t\t\tsetSelected: function(selected) {\n\t\t\t\tvar owner = this._owner;\n\t\t\t\tif (owner._changeSelection) {\n\t\t\t\t\towner._changeSelection(2, selected);\n\t\t\t\t}\n\t\t\t}\n\t\t})\n\t);\n});\n\nvar Matrix = Base.extend({\n\t_class: 'Matrix',\n\n\tinitialize: function Matrix(arg, _dontNotify) {\n\t\tvar args = arguments,\n\t\t\tcount = args.length,\n\t\t\tok = true;\n\t\tif (count >= 6) {\n\t\t\tthis._set.apply(this, args);\n\t\t} else if (count === 1 || count === 2) {\n\t\t\tif (arg instanceof Matrix) {\n\t\t\t\tthis._set(arg._a, arg._b, arg._c, arg._d, arg._tx, arg._ty,\n\t\t\t\t\t\t_dontNotify);\n\t\t\t} else if (Array.isArray(arg)) {\n\t\t\t\tthis._set.apply(this,\n\t\t\t\t\t\t_dontNotify ? arg.concat([_dontNotify]) : arg);\n\t\t\t} else {\n\t\t\t\tok = false;\n\t\t\t}\n\t\t} else if (!count) {\n\t\t\tthis.reset();\n\t\t} else {\n\t\t\tok = false;\n\t\t}\n\t\tif (!ok) {\n\t\t\tthrow new Error('Unsupported matrix parameters');\n\t\t}\n\t\treturn this;\n\t},\n\n\tset: '#initialize',\n\n\t_set: function(a, b, c, d, tx, ty, _dontNotify) {\n\t\tthis._a = a;\n\t\tthis._b = b;\n\t\tthis._c = c;\n\t\tthis._d = d;\n\t\tthis._tx = tx;\n\t\tthis._ty = ty;\n\t\tif (!_dontNotify)\n\t\t\tthis._changed();\n\t\treturn this;\n\t},\n\n\t_serialize: function(options, dictionary) {\n\t\treturn Base.serialize(this.getValues(), options, true, dictionary);\n\t},\n\n\t_changed: function() {\n\t\tvar owner = this._owner;\n\t\tif (owner) {\n\t\t\tif (owner._applyMatrix) {\n\t\t\t\towner.transform(null, true);\n\t\t\t} else {\n\t\t\t\towner._changed(25);\n\t\t\t}\n\t\t}\n\t},\n\n\tclone: function() {\n\t\treturn new Matrix(this._a, this._b, this._c, this._d,\n\t\t\t\tthis._tx, this._ty);\n\t},\n\n\tequals: function(mx) {\n\t\treturn mx === this || mx && this._a === mx._a && this._b === mx._b\n\t\t\t\t&& this._c === mx._c && this._d === mx._d\n\t\t\t\t&& this._tx === mx._tx && this._ty === mx._ty;\n\t},\n\n\ttoString: function() {\n\t\tvar f = Formatter.instance;\n\t\treturn '[[' + [f.number(this._a), f.number(this._c),\n\t\t\t\t\tf.number(this._tx)].join(', ') + '], ['\n\t\t\t\t+ [f.number(this._b), f.number(this._d),\n\t\t\t\t\tf.number(this._ty)].join(', ') + ']]';\n\t},\n\n\treset: function(_dontNotify) {\n\t\tthis._a = this._d = 1;\n\t\tthis._b = this._c = this._tx = this._ty = 0;\n\t\tif (!_dontNotify)\n\t\t\tthis._changed();\n\t\treturn this;\n\t},\n\n\tapply: function(recursively, _setApplyMatrix) {\n\t\tvar owner = this._owner;\n\t\tif (owner) {\n\t\t\towner.transform(null, Base.pick(recursively, true), _setApplyMatrix);\n\t\t\treturn this.isIdentity();\n\t\t}\n\t\treturn false;\n\t},\n\n\ttranslate: function() {\n\t\tvar point = Point.read(arguments),\n\t\t\tx = point.x,\n\t\t\ty = point.y;\n\t\tthis._tx += x * this._a + y * this._c;\n\t\tthis._ty += x * this._b + y * this._d;\n\t\tthis._changed();\n\t\treturn this;\n\t},\n\n\tscale: function() {\n\t\tvar args = arguments,\n\t\t\tscale = Point.read(args),\n\t\t\tcenter = Point.read(args, 0, { readNull: true });\n\t\tif (center)\n\t\t\tthis.translate(center);\n\t\tthis._a *= scale.x;\n\t\tthis._b *= scale.x;\n\t\tthis._c *= scale.y;\n\t\tthis._d *= scale.y;\n\t\tif (center)\n\t\t\tthis.translate(center.negate());\n\t\tthis._changed();\n\t\treturn this;\n\t},\n\n\trotate: function(angle ) {\n\t\tangle *= Math.PI / 180;\n\t\tvar center = Point.read(arguments, 1),\n\t\t\tx = center.x,\n\t\t\ty = center.y,\n\t\t\tcos = Math.cos(angle),\n\t\t\tsin = Math.sin(angle),\n\t\t\ttx = x - x * cos + y * sin,\n\t\t\tty = y - x * sin - y * cos,\n\t\t\ta = this._a,\n\t\t\tb = this._b,\n\t\t\tc = this._c,\n\t\t\td = this._d;\n\t\tthis._a = cos * a + sin * c;\n\t\tthis._b = cos * b + sin * d;\n\t\tthis._c = -sin * a + cos * c;\n\t\tthis._d = -sin * b + cos * d;\n\t\tthis._tx += tx * a + ty * c;\n\t\tthis._ty += tx * b + ty * d;\n\t\tthis._changed();\n\t\treturn this;\n\t},\n\n\tshear: function() {\n\t\tvar args = arguments,\n\t\t\tshear = Point.read(args),\n\t\t\tcenter = Point.read(args, 0, { readNull: true });\n\t\tif (center)\n\t\t\tthis.translate(center);\n\t\tvar a = this._a,\n\t\t\tb = this._b;\n\t\tthis._a += shear.y * this._c;\n\t\tthis._b += shear.y * this._d;\n\t\tthis._c += shear.x * a;\n\t\tthis._d += shear.x * b;\n\t\tif (center)\n\t\t\tthis.translate(center.negate());\n\t\tthis._changed();\n\t\treturn this;\n\t},\n\n\tskew: function() {\n\t\tvar args = arguments,\n\t\t\tskew = Point.read(args),\n\t\t\tcenter = Point.read(args, 0, { readNull: true }),\n\t\t\ttoRadians = Math.PI / 180,\n\t\t\tshear = new Point(Math.tan(skew.x * toRadians),\n\t\t\t\tMath.tan(skew.y * toRadians));\n\t\treturn this.shear(shear, center);\n\t},\n\n\tappend: function(mx, _dontNotify) {\n\t\tif (mx) {\n\t\t\tvar a1 = this._a,\n\t\t\t\tb1 = this._b,\n\t\t\t\tc1 = this._c,\n\t\t\t\td1 = this._d,\n\t\t\t\ta2 = mx._a,\n\t\t\t\tb2 = mx._c,\n\t\t\t\tc2 = mx._b,\n\t\t\t\td2 = mx._d,\n\t\t\t\ttx2 = mx._tx,\n\t\t\t\tty2 = mx._ty;\n\t\t\tthis._a = a2 * a1 + c2 * c1;\n\t\t\tthis._c = b2 * a1 + d2 * c1;\n\t\t\tthis._b = a2 * b1 + c2 * d1;\n\t\t\tthis._d = b2 * b1 + d2 * d1;\n\t\t\tthis._tx += tx2 * a1 + ty2 * c1;\n\t\t\tthis._ty += tx2 * b1 + ty2 * d1;\n\t\t\tif (!_dontNotify)\n\t\t\t\tthis._changed();\n\t\t}\n\t\treturn this;\n\t},\n\n\tprepend: function(mx, _dontNotify) {\n\t\tif (mx) {\n\t\t\tvar a1 = this._a,\n\t\t\t\tb1 = this._b,\n\t\t\t\tc1 = this._c,\n\t\t\t\td1 = this._d,\n\t\t\t\ttx1 = this._tx,\n\t\t\t\tty1 = this._ty,\n\t\t\t\ta2 = mx._a,\n\t\t\t\tb2 = mx._c,\n\t\t\t\tc2 = mx._b,\n\t\t\t\td2 = mx._d,\n\t\t\t\ttx2 = mx._tx,\n\t\t\t\tty2 = mx._ty;\n\t\t\tthis._a = a2 * a1 + b2 * b1;\n\t\t\tthis._c = a2 * c1 + b2 * d1;\n\t\t\tthis._b = c2 * a1 + d2 * b1;\n\t\t\tthis._d = c2 * c1 + d2 * d1;\n\t\t\tthis._tx = a2 * tx1 + b2 * ty1 + tx2;\n\t\t\tthis._ty = c2 * tx1 + d2 * ty1 + ty2;\n\t\t\tif (!_dontNotify)\n\t\t\t\tthis._changed();\n\t\t}\n\t\treturn this;\n\t},\n\n\tappended: function(mx) {\n\t\treturn this.clone().append(mx);\n\t},\n\n\tprepended: function(mx) {\n\t\treturn this.clone().prepend(mx);\n\t},\n\n\tinvert: function() {\n\t\tvar a = this._a,\n\t\t\tb = this._b,\n\t\t\tc = this._c,\n\t\t\td = this._d,\n\t\t\ttx = this._tx,\n\t\t\tty = this._ty,\n\t\t\tdet = a * d - b * c,\n\t\t\tres = null;\n\t\tif (det && !isNaN(det) && isFinite(tx) && isFinite(ty)) {\n\t\t\tthis._a = d / det;\n\t\t\tthis._b = -b / det;\n\t\t\tthis._c = -c / det;\n\t\t\tthis._d = a / det;\n\t\t\tthis._tx = (c * ty - d * tx) / det;\n\t\t\tthis._ty = (b * tx - a * ty) / det;\n\t\t\tres = this;\n\t\t}\n\t\treturn res;\n\t},\n\n\tinverted: function() {\n\t\treturn this.clone().invert();\n\t},\n\n\tconcatenate: '#append',\n\tpreConcatenate: '#prepend',\n\tchain: '#appended',\n\n\t_shiftless: function() {\n\t\treturn new Matrix(this._a, this._b, this._c, this._d, 0, 0);\n\t},\n\n\t_orNullIfIdentity: function() {\n\t\treturn this.isIdentity() ? null : this;\n\t},\n\n\tisIdentity: function() {\n\t\treturn this._a === 1 && this._b === 0 && this._c === 0 && this._d === 1\n\t\t\t\t&& this._tx === 0 && this._ty === 0;\n\t},\n\n\tisInvertible: function() {\n\t\tvar det = this._a * this._d - this._c * this._b;\n\t\treturn det && !isNaN(det) && isFinite(this._tx) && isFinite(this._ty);\n\t},\n\n\tisSingular: function() {\n\t\treturn !this.isInvertible();\n\t},\n\n\ttransform: function( src, dst, count) {\n\t\treturn arguments.length < 3\n\t\t\t? this._transformPoint(Point.read(arguments))\n\t\t\t: this._transformCoordinates(src, dst, count);\n\t},\n\n\t_transformPoint: function(point, dest, _dontNotify) {\n\t\tvar x = point.x,\n\t\t\ty = point.y;\n\t\tif (!dest)\n\t\t\tdest = new Point();\n\t\treturn dest._set(\n\t\t\t\tx * this._a + y * this._c + this._tx,\n\t\t\t\tx * this._b + y * this._d + this._ty,\n\t\t\t\t_dontNotify);\n\t},\n\n\t_transformCoordinates: function(src, dst, count) {\n\t\tfor (var i = 0, max = 2 * count; i < max; i += 2) {\n\t\t\tvar x = src[i],\n\t\t\t\ty = src[i + 1];\n\t\t\tdst[i] = x * this._a + y * this._c + this._tx;\n\t\t\tdst[i + 1] = x * this._b + y * this._d + this._ty;\n\t\t}\n\t\treturn dst;\n\t},\n\n\t_transformCorners: function(rect) {\n\t\tvar x1 = rect.x,\n\t\t\ty1 = rect.y,\n\t\t\tx2 = x1 + rect.width,\n\t\t\ty2 = y1 + rect.height,\n\t\t\tcoords = [ x1, y1, x2, y1, x2, y2, x1, y2 ];\n\t\treturn this._transformCoordinates(coords, coords, 4);\n\t},\n\n\t_transformBounds: function(bounds, dest, _dontNotify) {\n\t\tvar coords = this._transformCorners(bounds),\n\t\t\tmin = coords.slice(0, 2),\n\t\t\tmax = min.slice();\n\t\tfor (var i = 2; i < 8; i++) {\n\t\t\tvar val = coords[i],\n\t\t\t\tj = i & 1;\n\t\t\tif (val < min[j]) {\n\t\t\t\tmin[j] = val;\n\t\t\t} else if (val > max[j]) {\n\t\t\t\tmax[j] = val;\n\t\t\t}\n\t\t}\n\t\tif (!dest)\n\t\t\tdest = new Rectangle();\n\t\treturn dest._set(min[0], min[1], max[0] - min[0], max[1] - min[1],\n\t\t\t\t_dontNotify);\n\t},\n\n\tinverseTransform: function() {\n\t\treturn this._inverseTransform(Point.read(arguments));\n\t},\n\n\t_inverseTransform: function(point, dest, _dontNotify) {\n\t\tvar a = this._a,\n\t\t\tb = this._b,\n\t\t\tc = this._c,\n\t\t\td = this._d,\n\t\t\ttx = this._tx,\n\t\t\tty = this._ty,\n\t\t\tdet = a * d - b * c,\n\t\t\tres = null;\n\t\tif (det && !isNaN(det) && isFinite(tx) && isFinite(ty)) {\n\t\t\tvar x = point.x - this._tx,\n\t\t\t\ty = point.y - this._ty;\n\t\t\tif (!dest)\n\t\t\t\tdest = new Point();\n\t\t\tres = dest._set(\n\t\t\t\t\t(x * d - y * c) / det,\n\t\t\t\t\t(y * a - x * b) / det,\n\t\t\t\t\t_dontNotify);\n\t\t}\n\t\treturn res;\n\t},\n\n\tdecompose: function() {\n\t\tvar a = this._a,\n\t\t\tb = this._b,\n\t\t\tc = this._c,\n\t\t\td = this._d,\n\t\t\tdet = a * d - b * c,\n\t\t\tsqrt = Math.sqrt,\n\t\t\tatan2 = Math.atan2,\n\t\t\tdegrees = 180 / Math.PI,\n\t\t\trotate,\n\t\t\tscale,\n\t\t\tskew;\n\t\tif (a !== 0 || b !== 0) {\n\t\t\tvar r = sqrt(a * a + b * b);\n\t\t\trotate = Math.acos(a / r) * (b > 0 ? 1 : -1);\n\t\t\tscale = [r, det / r];\n\t\t\tskew = [atan2(a * c + b * d, r * r), 0];\n\t\t} else if (c !== 0 || d !== 0) {\n\t\t\tvar s = sqrt(c * c + d * d);\n\t\t\trotate = Math.asin(c / s)  * (d > 0 ? 1 : -1);\n\t\t\tscale = [det / s, s];\n\t\t\tskew = [0, atan2(a * c + b * d, s * s)];\n\t\t} else {\n\t\t\trotate = 0;\n\t\t\tskew = scale = [0, 0];\n\t\t}\n\t\treturn {\n\t\t\ttranslation: this.getTranslation(),\n\t\t\trotation: rotate * degrees,\n\t\t\tscaling: new Point(scale),\n\t\t\tskewing: new Point(skew[0] * degrees, skew[1] * degrees)\n\t\t};\n\t},\n\n\tgetValues: function() {\n\t\treturn [ this._a, this._b, this._c, this._d, this._tx, this._ty ];\n\t},\n\n\tgetTranslation: function() {\n\t\treturn new Point(this._tx, this._ty);\n\t},\n\n\tgetScaling: function() {\n\t\treturn this.decompose().scaling;\n\t},\n\n\tgetRotation: function() {\n\t\treturn this.decompose().rotation;\n\t},\n\n\tapplyToContext: function(ctx) {\n\t\tif (!this.isIdentity()) {\n\t\t\tctx.transform(this._a, this._b, this._c, this._d,\n\t\t\t\t\tthis._tx, this._ty);\n\t\t}\n\t}\n}, Base.each(['a', 'b', 'c', 'd', 'tx', 'ty'], function(key) {\n\tvar part = Base.capitalize(key),\n\t\tprop = '_' + key;\n\tthis['get' + part] = function() {\n\t\treturn this[prop];\n\t};\n\tthis['set' + part] = function(value) {\n\t\tthis[prop] = value;\n\t\tthis._changed();\n\t};\n}, {}));\n\nvar Line = Base.extend({\n\t_class: 'Line',\n\n\tinitialize: function Line(arg0, arg1, arg2, arg3, arg4) {\n\t\tvar asVector = false;\n\t\tif (arguments.length >= 4) {\n\t\t\tthis._px = arg0;\n\t\t\tthis._py = arg1;\n\t\t\tthis._vx = arg2;\n\t\t\tthis._vy = arg3;\n\t\t\tasVector = arg4;\n\t\t} else {\n\t\t\tthis._px = arg0.x;\n\t\t\tthis._py = arg0.y;\n\t\t\tthis._vx = arg1.x;\n\t\t\tthis._vy = arg1.y;\n\t\t\tasVector = arg2;\n\t\t}\n\t\tif (!asVector) {\n\t\t\tthis._vx -= this._px;\n\t\t\tthis._vy -= this._py;\n\t\t}\n\t},\n\n\tgetPoint: function() {\n\t\treturn new Point(this._px, this._py);\n\t},\n\n\tgetVector: function() {\n\t\treturn new Point(this._vx, this._vy);\n\t},\n\n\tgetLength: function() {\n\t\treturn this.getVector().getLength();\n\t},\n\n\tintersect: function(line, isInfinite) {\n\t\treturn Line.intersect(\n\t\t\t\tthis._px, this._py, this._vx, this._vy,\n\t\t\t\tline._px, line._py, line._vx, line._vy,\n\t\t\t\ttrue, isInfinite);\n\t},\n\n\tgetSide: function(point, isInfinite) {\n\t\treturn Line.getSide(\n\t\t\t\tthis._px, this._py, this._vx, this._vy,\n\t\t\t\tpoint.x, point.y, true, isInfinite);\n\t},\n\n\tgetDistance: function(point) {\n\t\treturn Math.abs(this.getSignedDistance(point));\n\t},\n\n\tgetSignedDistance: function(point) {\n\t\treturn Line.getSignedDistance(this._px, this._py, this._vx, this._vy,\n\t\t\t\tpoint.x, point.y, true);\n\t},\n\n\tisCollinear: function(line) {\n\t\treturn Point.isCollinear(this._vx, this._vy, line._vx, line._vy);\n\t},\n\n\tisOrthogonal: function(line) {\n\t\treturn Point.isOrthogonal(this._vx, this._vy, line._vx, line._vy);\n\t},\n\n\tstatics: {\n\t\tintersect: function(p1x, p1y, v1x, v1y, p2x, p2y, v2x, v2y, asVector,\n\t\t\t\tisInfinite) {\n\t\t\tif (!asVector) {\n\t\t\t\tv1x -= p1x;\n\t\t\t\tv1y -= p1y;\n\t\t\t\tv2x -= p2x;\n\t\t\t\tv2y -= p2y;\n\t\t\t}\n\t\t\tvar cross = v1x * v2y - v1y * v2x;\n\t\t\tif (!Numerical.isMachineZero(cross)) {\n\t\t\t\tvar dx = p1x - p2x,\n\t\t\t\t\tdy = p1y - p2y,\n\t\t\t\t\tu1 = (v2x * dy - v2y * dx) / cross,\n\t\t\t\t\tu2 = (v1x * dy - v1y * dx) / cross,\n\t\t\t\t\tepsilon = 1e-12,\n\t\t\t\t\tuMin = -epsilon,\n\t\t\t\t\tuMax = 1 + epsilon;\n\t\t\t\tif (isInfinite\n\t\t\t\t\t\t|| uMin < u1 && u1 < uMax && uMin < u2 && u2 < uMax) {\n\t\t\t\t\tif (!isInfinite) {\n\t\t\t\t\t\tu1 = u1 <= 0 ? 0 : u1 >= 1 ? 1 : u1;\n\t\t\t\t\t}\n\t\t\t\t\treturn new Point(\n\t\t\t\t\t\t\tp1x + u1 * v1x,\n\t\t\t\t\t\t\tp1y + u1 * v1y);\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\n\t\tgetSide: function(px, py, vx, vy, x, y, asVector, isInfinite) {\n\t\t\tif (!asVector) {\n\t\t\t\tvx -= px;\n\t\t\t\tvy -= py;\n\t\t\t}\n\t\t\tvar v2x = x - px,\n\t\t\t\tv2y = y - py,\n\t\t\t\tccw = v2x * vy - v2y * vx;\n\t\t\tif (!isInfinite && Numerical.isMachineZero(ccw)) {\n\t\t\t\tccw = (v2x * vx + v2x * vx) / (vx * vx + vy * vy);\n\t\t\t\tif (ccw >= 0 && ccw <= 1)\n\t\t\t\t\tccw = 0;\n\t\t\t}\n\t\t\treturn ccw < 0 ? -1 : ccw > 0 ? 1 : 0;\n\t\t},\n\n\t\tgetSignedDistance: function(px, py, vx, vy, x, y, asVector) {\n\t\t\tif (!asVector) {\n\t\t\t\tvx -= px;\n\t\t\t\tvy -= py;\n\t\t\t}\n\t\t\t  return  vx === 0 ? (vy > 0 ? x - px : px - x)\n\t\t\t\t\t: vy === 0 ? (vx < 0 ? y - py : py - y)\n\t\t\t\t\t: ((x - px) * vy - (y - py) * vx) / (\n\t\t\t\t\t\tvy > vx\n\t\t\t\t\t\t\t? vy * Math.sqrt(1 + (vx * vx) / (vy * vy))\n\t\t\t\t\t\t\t: vx * Math.sqrt(1 + (vy * vy) / (vx * vx))\n\t\t\t\t\t);\n\t\t},\n\n\t\tgetDistance: function(px, py, vx, vy, x, y, asVector) {\n\t\t\treturn Math.abs(\n\t\t\t\t\tLine.getSignedDistance(px, py, vx, vy, x, y, asVector));\n\t\t}\n\t}\n});\n\nvar Project = PaperScopeItem.extend({\n\t_class: 'Project',\n\t_list: 'projects',\n\t_reference: 'project',\n\t_compactSerialize: true,\n\n\tinitialize: function Project(element) {\n\t\tPaperScopeItem.call(this, true);\n\t\tthis._children = [];\n\t\tthis._namedChildren = {};\n\t\tthis._activeLayer = null;\n\t\tthis._currentStyle = new Style(null, null, this);\n\t\tthis._view = View.create(this,\n\t\t\t\telement || CanvasProvider.getCanvas(1, 1));\n\t\tthis._selectionItems = {};\n\t\tthis._selectionCount = 0;\n\t\tthis._updateVersion = 0;\n\t},\n\n\t_serialize: function(options, dictionary) {\n\t\treturn Base.serialize(this._children, options, true, dictionary);\n\t},\n\n\t_changed: function(flags, item) {\n\t\tif (flags & 1) {\n\t\t\tvar view = this._view;\n\t\t\tif (view) {\n\t\t\t\tview._needsUpdate = true;\n\t\t\t\tif (!view._requested && view._autoUpdate)\n\t\t\t\t\tview.requestUpdate();\n\t\t\t}\n\t\t}\n\t\tvar changes = this._changes;\n\t\tif (changes && item) {\n\t\t\tvar changesById = this._changesById,\n\t\t\t\tid = item._id,\n\t\t\t\tentry = changesById[id];\n\t\t\tif (entry) {\n\t\t\t\tentry.flags |= flags;\n\t\t\t} else {\n\t\t\t\tchanges.push(changesById[id] = { item: item, flags: flags });\n\t\t\t}\n\t\t}\n\t},\n\n\tclear: function() {\n\t\tvar children = this._children;\n\t\tfor (var i = children.length - 1; i >= 0; i--)\n\t\t\tchildren[i].remove();\n\t},\n\n\tisEmpty: function() {\n\t\treturn !this._children.length;\n\t},\n\n\tremove: function remove() {\n\t\tif (!remove.base.call(this))\n\t\t\treturn false;\n\t\tif (this._view)\n\t\t\tthis._view.remove();\n\t\treturn true;\n\t},\n\n\tgetView: function() {\n\t\treturn this._view;\n\t},\n\n\tgetCurrentStyle: function() {\n\t\treturn this._currentStyle;\n\t},\n\n\tsetCurrentStyle: function(style) {\n\t\tthis._currentStyle.set(style);\n\t},\n\n\tgetIndex: function() {\n\t\treturn this._index;\n\t},\n\n\tgetOptions: function() {\n\t\treturn this._scope.settings;\n\t},\n\n\tgetLayers: function() {\n\t\treturn this._children;\n\t},\n\n\tgetActiveLayer: function() {\n\t\treturn this._activeLayer || new Layer({ project: this, insert: true });\n\t},\n\n\tgetSymbolDefinitions: function() {\n\t\tvar definitions = [],\n\t\t\tids = {};\n\t\tthis.getItems({\n\t\t\tclass: SymbolItem,\n\t\t\tmatch: function(item) {\n\t\t\t\tvar definition = item._definition,\n\t\t\t\t\tid = definition._id;\n\t\t\t\tif (!ids[id]) {\n\t\t\t\t\tids[id] = true;\n\t\t\t\t\tdefinitions.push(definition);\n\t\t\t\t}\n\t\t\t\treturn false;\n\t\t\t}\n\t\t});\n\t\treturn definitions;\n\t},\n\n\tgetSymbols: 'getSymbolDefinitions',\n\n\tgetSelectedItems: function() {\n\t\tvar selectionItems = this._selectionItems,\n\t\t\titems = [];\n\t\tfor (var id in selectionItems) {\n\t\t\tvar item = selectionItems[id],\n\t\t\t\tselection = item._selection;\n\t\t\tif ((selection & 1) && item.isInserted()) {\n\t\t\t\titems.push(item);\n\t\t\t} else if (!selection) {\n\t\t\t\tthis._updateSelection(item);\n\t\t\t}\n\t\t}\n\t\treturn items;\n\t},\n\n\t_updateSelection: function(item) {\n\t\tvar id = item._id,\n\t\t\tselectionItems = this._selectionItems;\n\t\tif (item._selection) {\n\t\t\tif (selectionItems[id] !== item) {\n\t\t\t\tthis._selectionCount++;\n\t\t\t\tselectionItems[id] = item;\n\t\t\t}\n\t\t} else if (selectionItems[id] === item) {\n\t\t\tthis._selectionCount--;\n\t\t\tdelete selectionItems[id];\n\t\t}\n\t},\n\n\tselectAll: function() {\n\t\tvar children = this._children;\n\t\tfor (var i = 0, l = children.length; i < l; i++)\n\t\t\tchildren[i].setFullySelected(true);\n\t},\n\n\tdeselectAll: function() {\n\t\tvar selectionItems = this._selectionItems;\n\t\tfor (var i in selectionItems)\n\t\t\tselectionItems[i].setFullySelected(false);\n\t},\n\n\taddLayer: function(layer) {\n\t\treturn this.insertLayer(undefined, layer);\n\t},\n\n\tinsertLayer: function(index, layer) {\n\t\tif (layer instanceof Layer) {\n\t\t\tlayer._remove(false, true);\n\t\t\tBase.splice(this._children, [layer], index, 0);\n\t\t\tlayer._setProject(this, true);\n\t\t\tvar name = layer._name;\n\t\t\tif (name)\n\t\t\t\tlayer.setName(name);\n\t\t\tif (this._changes)\n\t\t\t\tlayer._changed(5);\n\t\t\tif (!this._activeLayer)\n\t\t\t\tthis._activeLayer = layer;\n\t\t} else {\n\t\t\tlayer = null;\n\t\t}\n\t\treturn layer;\n\t},\n\n\t_insertItem: function(index, item, _created) {\n\t\titem = this.insertLayer(index, item)\n\t\t\t\t|| (this._activeLayer || this._insertItem(undefined,\n\t\t\t\t\t\tnew Layer(Item.NO_INSERT), true))\n\t\t\t\t\t\t.insertChild(index, item);\n\t\tif (_created && item.activate)\n\t\t\titem.activate();\n\t\treturn item;\n\t},\n\n\tgetItems: function(options) {\n\t\treturn Item._getItems(this, options);\n\t},\n\n\tgetItem: function(options) {\n\t\treturn Item._getItems(this, options, null, null, true)[0] || null;\n\t},\n\n\timportJSON: function(json) {\n\t\tthis.activate();\n\t\tvar layer = this._activeLayer;\n\t\treturn Base.importJSON(json, layer && layer.isEmpty() && layer);\n\t},\n\n\tremoveOn: function(type) {\n\t\tvar sets = this._removeSets;\n\t\tif (sets) {\n\t\t\tif (type === 'mouseup')\n\t\t\t\tsets.mousedrag = null;\n\t\t\tvar set = sets[type];\n\t\t\tif (set) {\n\t\t\t\tfor (var id in set) {\n\t\t\t\t\tvar item = set[id];\n\t\t\t\t\tfor (var key in sets) {\n\t\t\t\t\t\tvar other = sets[key];\n\t\t\t\t\t\tif (other && other != set)\n\t\t\t\t\t\t\tdelete other[item._id];\n\t\t\t\t\t}\n\t\t\t\t\titem.remove();\n\t\t\t\t}\n\t\t\t\tsets[type] = null;\n\t\t\t}\n\t\t}\n\t},\n\n\tdraw: function(ctx, matrix, pixelRatio) {\n\t\tthis._updateVersion++;\n\t\tctx.save();\n\t\tmatrix.applyToContext(ctx);\n\t\tvar children = this._children,\n\t\t\tparam = new Base({\n\t\t\t\toffset: new Point(0, 0),\n\t\t\t\tpixelRatio: pixelRatio,\n\t\t\t\tviewMatrix: matrix.isIdentity() ? null : matrix,\n\t\t\t\tmatrices: [new Matrix()],\n\t\t\t\tupdateMatrix: true\n\t\t\t});\n\t\tfor (var i = 0, l = children.length; i < l; i++) {\n\t\t\tchildren[i].draw(ctx, param);\n\t\t}\n\t\tctx.restore();\n\n\t\tif (this._selectionCount > 0) {\n\t\t\tctx.save();\n\t\t\tctx.strokeWidth = 1;\n\t\t\tvar items = this._selectionItems,\n\t\t\t\tsize = this._scope.settings.handleSize,\n\t\t\t\tversion = this._updateVersion;\n\t\t\tfor (var id in items) {\n\t\t\t\titems[id]._drawSelection(ctx, matrix, size, items, version);\n\t\t\t}\n\t\t\tctx.restore();\n\t\t}\n\t}\n});\n\nvar Item = Base.extend(Emitter, {\n\tstatics: {\n\t\textend: function extend(src) {\n\t\t\tif (src._serializeFields)\n\t\t\t\tsrc._serializeFields = Base.set({},\n\t\t\t\t\tthis.prototype._serializeFields, src._serializeFields);\n\t\t\treturn extend.base.apply(this, arguments);\n\t\t},\n\n\t\tINSERT: { insert: true },\n\t\tNO_INSERT: { insert: false }\n\t},\n\n\t_class: 'Item',\n\t_name: null,\n\t_applyMatrix: true,\n\t_canApplyMatrix: true,\n\t_canScaleStroke: false,\n\t_pivot: null,\n\t_visible: true,\n\t_blendMode: 'normal',\n\t_opacity: 1,\n\t_locked: false,\n\t_guide: false,\n\t_clipMask: false,\n\t_selection: 0,\n\t_selectBounds: true,\n\t_selectChildren: false,\n\t_serializeFields: {\n\t\tname: null,\n\t\tapplyMatrix: null,\n\t\tmatrix: new Matrix(),\n\t\tpivot: null,\n\t\tvisible: true,\n\t\tblendMode: 'normal',\n\t\topacity: 1,\n\t\tlocked: false,\n\t\tguide: false,\n\t\tclipMask: false,\n\t\tselected: false,\n\t\tdata: {}\n\t},\n\t_prioritize: ['applyMatrix']\n},\nnew function() {\n\tvar handlers = ['onMouseDown', 'onMouseUp', 'onMouseDrag', 'onClick',\n\t\t\t'onDoubleClick', 'onMouseMove', 'onMouseEnter', 'onMouseLeave'];\n\treturn Base.each(handlers,\n\t\tfunction(name) {\n\t\t\tthis._events[name] = {\n\t\t\t\tinstall: function(type) {\n\t\t\t\t\tthis.getView()._countItemEvent(type, 1);\n\t\t\t\t},\n\n\t\t\t\tuninstall: function(type) {\n\t\t\t\t\tthis.getView()._countItemEvent(type, -1);\n\t\t\t\t}\n\t\t\t};\n\t\t}, {\n\t\t\t_events: {\n\t\t\t\tonFrame: {\n\t\t\t\t\tinstall: function() {\n\t\t\t\t\t\tthis.getView()._animateItem(this, true);\n\t\t\t\t\t},\n\n\t\t\t\t\tuninstall: function() {\n\t\t\t\t\t\tthis.getView()._animateItem(this, false);\n\t\t\t\t\t}\n\t\t\t\t},\n\n\t\t\t\tonLoad: {},\n\t\t\t\tonError: {}\n\t\t\t},\n\t\t\tstatics: {\n\t\t\t\t_itemHandlers: handlers\n\t\t\t}\n\t\t}\n\t);\n}, {\n\tinitialize: function Item() {\n\t},\n\n\t_initialize: function(props, point) {\n\t\tvar hasProps = props && Base.isPlainObject(props),\n\t\t\tinternal = hasProps && props.internal === true,\n\t\t\tmatrix = this._matrix = new Matrix(),\n\t\t\tproject = hasProps && props.project || paper.project,\n\t\t\tsettings = paper.settings;\n\t\tthis._id = internal ? null : UID.get();\n\t\tthis._parent = this._index = null;\n\t\tthis._applyMatrix = this._canApplyMatrix && settings.applyMatrix;\n\t\tif (point)\n\t\t\tmatrix.translate(point);\n\t\tmatrix._owner = this;\n\t\tthis._style = new Style(project._currentStyle, this, project);\n\t\tif (internal || hasProps && props.insert == false\n\t\t\t|| !settings.insertItems && !(hasProps && props.insert == true)) {\n\t\t\tthis._setProject(project);\n\t\t} else {\n\t\t\t(hasProps && props.parent || project)\n\t\t\t\t\t._insertItem(undefined, this, true);\n\t\t}\n\t\tif (hasProps && props !== Item.NO_INSERT && props !== Item.INSERT) {\n\t\t\tthis.set(props, {\n\t\t\t\tinternal: true, insert: true, project: true, parent: true\n\t\t\t});\n\t\t}\n\t\treturn hasProps;\n\t},\n\n\t_serialize: function(options, dictionary) {\n\t\tvar props = {},\n\t\t\tthat = this;\n\n\t\tfunction serialize(fields) {\n\t\t\tfor (var key in fields) {\n\t\t\t\tvar value = that[key];\n\t\t\t\tif (!Base.equals(value, key === 'leading'\n\t\t\t\t\t\t? fields.fontSize * 1.2 : fields[key])) {\n\t\t\t\t\tprops[key] = Base.serialize(value, options,\n\t\t\t\t\t\t\tkey !== 'data', dictionary);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tserialize(this._serializeFields);\n\t\tif (!(this instanceof Group))\n\t\t\tserialize(this._style._defaults);\n\t\treturn [ this._class, props ];\n\t},\n\n\t_changed: function(flags) {\n\t\tvar symbol = this._symbol,\n\t\t\tcacheParent = this._parent || symbol,\n\t\t\tproject = this._project;\n\t\tif (flags & 8) {\n\t\t\tthis._bounds = this._position = this._decomposed = undefined;\n\t\t}\n\t\tif (flags & 16) {\n\t\t\tthis._globalMatrix = undefined;\n\t\t}\n\t\tif (cacheParent\n\t\t\t\t&& (flags & 72)) {\n\t\t\tItem._clearBoundsCache(cacheParent);\n\t\t}\n\t\tif (flags & 2) {\n\t\t\tItem._clearBoundsCache(this);\n\t\t}\n\t\tif (project)\n\t\t\tproject._changed(flags, this);\n\t\tif (symbol)\n\t\t\tsymbol._changed(flags);\n\t},\n\n\tgetId: function() {\n\t\treturn this._id;\n\t},\n\n\tgetName: function() {\n\t\treturn this._name;\n\t},\n\n\tsetName: function(name) {\n\n\t\tif (this._name)\n\t\t\tthis._removeNamed();\n\t\tif (name === (+name) + '')\n\t\t\tthrow new Error(\n\t\t\t\t\t'Names consisting only of numbers are not supported.');\n\t\tvar owner = this._getOwner();\n\t\tif (name && owner) {\n\t\t\tvar children = owner._children,\n\t\t\t\tnamedChildren = owner._namedChildren;\n\t\t\t(namedChildren[name] = namedChildren[name] || []).push(this);\n\t\t\tif (!(name in children))\n\t\t\t\tchildren[name] = this;\n\t\t}\n\t\tthis._name = name || undefined;\n\t\tthis._changed(256);\n\t},\n\n\tgetStyle: function() {\n\t\treturn this._style;\n\t},\n\n\tsetStyle: function(style) {\n\t\tthis.getStyle().set(style);\n\t}\n}, Base.each(['locked', 'visible', 'blendMode', 'opacity', 'guide'],\n\tfunction(name) {\n\t\tvar part = Base.capitalize(name),\n\t\t\tkey = '_' + name,\n\t\t\tflags = {\n\t\t\t\tlocked: 256,\n\t\t\t\tvisible: 265\n\t\t\t};\n\t\tthis['get' + part] = function() {\n\t\t\treturn this[key];\n\t\t};\n\t\tthis['set' + part] = function(value) {\n\t\t\tif (value != this[key]) {\n\t\t\t\tthis[key] = value;\n\t\t\t\tthis._changed(flags[name] || 257);\n\t\t\t}\n\t\t};\n\t},\n{}), {\n\tbeans: true,\n\n\tgetSelection: function() {\n\t\treturn this._selection;\n\t},\n\n\tsetSelection: function(selection) {\n\t\tif (selection !== this._selection) {\n\t\t\tthis._selection = selection;\n\t\t\tvar project = this._project;\n\t\t\tif (project) {\n\t\t\t\tproject._updateSelection(this);\n\t\t\t\tthis._changed(257);\n\t\t\t}\n\t\t}\n\t},\n\n\t_changeSelection: function(flag, selected) {\n\t\tvar selection = this._selection;\n\t\tthis.setSelection(selected ? selection | flag : selection & ~flag);\n\t},\n\n\tisSelected: function() {\n\t\tif (this._selectChildren) {\n\t\t\tvar children = this._children;\n\t\t\tfor (var i = 0, l = children.length; i < l; i++)\n\t\t\t\tif (children[i].isSelected())\n\t\t\t\t\treturn true;\n\t\t}\n\t\treturn !!(this._selection & 1);\n\t},\n\n\tsetSelected: function(selected) {\n\t\tif (this._selectChildren) {\n\t\t\tvar children = this._children;\n\t\t\tfor (var i = 0, l = children.length; i < l; i++)\n\t\t\t\tchildren[i].setSelected(selected);\n\t\t}\n\t\tthis._changeSelection(1, selected);\n\t},\n\n\tisFullySelected: function() {\n\t\tvar children = this._children,\n\t\t\tselected = !!(this._selection & 1);\n\t\tif (children && selected) {\n\t\t\tfor (var i = 0, l = children.length; i < l; i++)\n\t\t\t\tif (!children[i].isFullySelected())\n\t\t\t\t\treturn false;\n\t\t\treturn true;\n\t\t}\n\t\treturn selected;\n\t},\n\n\tsetFullySelected: function(selected) {\n\t\tvar children = this._children;\n\t\tif (children) {\n\t\t\tfor (var i = 0, l = children.length; i < l; i++)\n\t\t\t\tchildren[i].setFullySelected(selected);\n\t\t}\n\t\tthis._changeSelection(1, selected);\n\t},\n\n\tisClipMask: function() {\n\t\treturn this._clipMask;\n\t},\n\n\tsetClipMask: function(clipMask) {\n\t\tif (this._clipMask != (clipMask = !!clipMask)) {\n\t\t\tthis._clipMask = clipMask;\n\t\t\tif (clipMask) {\n\t\t\t\tthis.setFillColor(null);\n\t\t\t\tthis.setStrokeColor(null);\n\t\t\t}\n\t\t\tthis._changed(257);\n\t\t\tif (this._parent)\n\t\t\t\tthis._parent._changed(2048);\n\t\t}\n\t},\n\n\tgetData: function() {\n\t\tif (!this._data)\n\t\t\tthis._data = {};\n\t\treturn this._data;\n\t},\n\n\tsetData: function(data) {\n\t\tthis._data = data;\n\t},\n\n\tgetPosition: function(_dontLink) {\n\t\tvar ctor = _dontLink ? Point : LinkedPoint;\n\t\tvar position = this._position ||\n\t\t\t(this._position = this._getPositionFromBounds());\n\t\treturn new ctor(position.x, position.y, this, 'setPosition');\n\t},\n\n\tsetPosition: function() {\n\t\tthis.translate(Point.read(arguments).subtract(this.getPosition(true)));\n\t},\n\n\t_getPositionFromBounds: function(bounds) {\n\t\treturn this._pivot\n\t\t\t\t? this._matrix._transformPoint(this._pivot)\n\t\t\t\t: (bounds || this.getBounds()).getCenter(true);\n\t},\n\n\tgetPivot: function() {\n\t\tvar pivot = this._pivot;\n\t\treturn pivot\n\t\t\t\t? new LinkedPoint(pivot.x, pivot.y, this, 'setPivot')\n\t\t\t\t: null;\n\t},\n\n\tsetPivot: function() {\n\t\tthis._pivot = Point.read(arguments, 0, { clone: true, readNull: true });\n\t\tthis._position = undefined;\n\t}\n}, Base.each({\n\t\tgetStrokeBounds: { stroke: true },\n\t\tgetHandleBounds: { handle: true },\n\t\tgetInternalBounds: { internal: true }\n\t},\n\tfunction(options, key) {\n\t\tthis[key] = function(matrix) {\n\t\t\treturn this.getBounds(matrix, options);\n\t\t};\n\t},\n{\n\tbeans: true,\n\n\tgetBounds: function(matrix, options) {\n\t\tvar hasMatrix = options || matrix instanceof Matrix,\n\t\t\topts = Base.set({}, hasMatrix ? options : matrix,\n\t\t\t\t\tthis._boundsOptions);\n\t\tif (!opts.stroke || this.getStrokeScaling())\n\t\t\topts.cacheItem = this;\n\t\tvar rect = this._getCachedBounds(hasMatrix && matrix, opts).rect;\n\t\treturn !arguments.length\n\t\t\t\t? new LinkedRectangle(rect.x, rect.y, rect.width, rect.height,\n\t\t\t\t\tthis, 'setBounds')\n\t\t\t\t: rect;\n\t},\n\n\tsetBounds: function() {\n\t\tvar rect = Rectangle.read(arguments),\n\t\t\tbounds = this.getBounds(),\n\t\t\t_matrix = this._matrix,\n\t\t\tmatrix = new Matrix(),\n\t\t\tcenter = rect.getCenter();\n\t\tmatrix.translate(center);\n\t\tif (rect.width != bounds.width || rect.height != bounds.height) {\n\t\t\tif (!_matrix.isInvertible()) {\n\t\t\t\t_matrix.set(_matrix._backup\n\t\t\t\t\t\t|| new Matrix().translate(_matrix.getTranslation()));\n\t\t\t\tbounds = this.getBounds();\n\t\t\t}\n\t\t\tmatrix.scale(\n\t\t\t\t\tbounds.width !== 0 ? rect.width / bounds.width : 0,\n\t\t\t\t\tbounds.height !== 0 ? rect.height / bounds.height : 0);\n\t\t}\n\t\tcenter = bounds.getCenter();\n\t\tmatrix.translate(-center.x, -center.y);\n\t\tthis.transform(matrix);\n\t},\n\n\t_getBounds: function(matrix, options) {\n\t\tvar children = this._children;\n\t\tif (!children || !children.length)\n\t\t\treturn new Rectangle();\n\t\tItem._updateBoundsCache(this, options.cacheItem);\n\t\treturn Item._getBounds(children, matrix, options);\n\t},\n\n\t_getBoundsCacheKey: function(options, internal) {\n\t\treturn [\n\t\t\toptions.stroke ? 1 : 0,\n\t\t\toptions.handle ? 1 : 0,\n\t\t\tinternal ? 1 : 0\n\t\t].join('');\n\t},\n\n\t_getCachedBounds: function(matrix, options, noInternal) {\n\t\tmatrix = matrix && matrix._orNullIfIdentity();\n\t\tvar internal = options.internal && !noInternal,\n\t\t\tcacheItem = options.cacheItem,\n\t\t\t_matrix = internal ? null : this._matrix._orNullIfIdentity(),\n\t\t\tcacheKey = cacheItem && (!matrix || matrix.equals(_matrix))\n\t\t\t\t&& this._getBoundsCacheKey(options, internal),\n\t\t\tbounds = this._bounds;\n\t\tItem._updateBoundsCache(this._parent || this._symbol, cacheItem);\n\t\tif (cacheKey && bounds && cacheKey in bounds) {\n\t\t\tvar cached = bounds[cacheKey];\n\t\t\treturn {\n\t\t\t\trect: cached.rect.clone(),\n\t\t\t\tnonscaling: cached.nonscaling\n\t\t\t};\n\t\t}\n\t\tvar res = this._getBounds(matrix || _matrix, options),\n\t\t\trect = res.rect || res,\n\t\t\tstyle = this._style,\n\t\t\tnonscaling = res.nonscaling || style.hasStroke()\n\t\t\t\t&& !style.getStrokeScaling();\n\t\tif (cacheKey) {\n\t\t\tif (!bounds) {\n\t\t\t\tthis._bounds = bounds = {};\n\t\t\t}\n\t\t\tvar cached = bounds[cacheKey] = {\n\t\t\t\trect: rect.clone(),\n\t\t\t\tnonscaling: nonscaling,\n\t\t\t\tinternal: internal\n\t\t\t};\n\t\t}\n\t\treturn {\n\t\t\trect: rect,\n\t\t\tnonscaling: nonscaling\n\t\t};\n\t},\n\n\t_getStrokeMatrix: function(matrix, options) {\n\t\tvar parent = this.getStrokeScaling() ? null\n\t\t\t\t: options && options.internal ? this\n\t\t\t\t\t: this._parent || this._symbol && this._symbol._item,\n\t\t\tmx = parent ? parent.getViewMatrix().invert() : matrix;\n\t\treturn mx && mx._shiftless();\n\t},\n\n\tstatics: {\n\t\t_updateBoundsCache: function(parent, item) {\n\t\t\tif (parent && item) {\n\t\t\t\tvar id = item._id,\n\t\t\t\t\tref = parent._boundsCache = parent._boundsCache || {\n\t\t\t\t\t\tids: {},\n\t\t\t\t\t\tlist: []\n\t\t\t\t\t};\n\t\t\t\tif (!ref.ids[id]) {\n\t\t\t\t\tref.list.push(item);\n\t\t\t\t\tref.ids[id] = item;\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\n\t\t_clearBoundsCache: function(item) {\n\t\t\tvar cache = item._boundsCache;\n\t\t\tif (cache) {\n\t\t\t\titem._bounds = item._position = item._boundsCache = undefined;\n\t\t\t\tfor (var i = 0, list = cache.list, l = list.length; i < l; i++){\n\t\t\t\t\tvar other = list[i];\n\t\t\t\t\tif (other !== item) {\n\t\t\t\t\t\tother._bounds = other._position = undefined;\n\t\t\t\t\t\tif (other._boundsCache)\n\t\t\t\t\t\t\tItem._clearBoundsCache(other);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\n\t\t_getBounds: function(items, matrix, options) {\n\t\t\tvar x1 = Infinity,\n\t\t\t\tx2 = -x1,\n\t\t\t\ty1 = x1,\n\t\t\t\ty2 = x2,\n\t\t\t\tnonscaling = false;\n\t\t\toptions = options || {};\n\t\t\tfor (var i = 0, l = items.length; i < l; i++) {\n\t\t\t\tvar item = items[i];\n\t\t\t\tif (item._visible && !item.isEmpty(true)) {\n\t\t\t\t\tvar bounds = item._getCachedBounds(\n\t\t\t\t\t\tmatrix && matrix.appended(item._matrix), options, true),\n\t\t\t\t\t\trect = bounds.rect;\n\t\t\t\t\tx1 = Math.min(rect.x, x1);\n\t\t\t\t\ty1 = Math.min(rect.y, y1);\n\t\t\t\t\tx2 = Math.max(rect.x + rect.width, x2);\n\t\t\t\t\ty2 = Math.max(rect.y + rect.height, y2);\n\t\t\t\t\tif (bounds.nonscaling)\n\t\t\t\t\t\tnonscaling = true;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn {\n\t\t\t\trect: isFinite(x1)\n\t\t\t\t\t? new Rectangle(x1, y1, x2 - x1, y2 - y1)\n\t\t\t\t\t: new Rectangle(),\n\t\t\t\tnonscaling: nonscaling\n\t\t\t};\n\t\t}\n\t}\n\n}), {\n\tbeans: true,\n\n\t_decompose: function() {\n\t\treturn this._applyMatrix\n\t\t\t? null\n\t\t\t: this._decomposed || (this._decomposed = this._matrix.decompose());\n\t},\n\n\tgetRotation: function() {\n\t\tvar decomposed = this._decompose();\n\t\treturn decomposed ? decomposed.rotation : 0;\n\t},\n\n\tsetRotation: function(rotation) {\n\t\tvar current = this.getRotation();\n\t\tif (current != null && rotation != null) {\n\t\t\tvar decomposed = this._decomposed;\n\t\t\tthis.rotate(rotation - current);\n\t\t\tif (decomposed) {\n\t\t\t\tdecomposed.rotation = rotation;\n\t\t\t\tthis._decomposed = decomposed;\n\t\t\t}\n\t\t}\n\t},\n\n\tgetScaling: function() {\n\t\tvar decomposed = this._decompose(),\n\t\t\ts = decomposed && decomposed.scaling;\n\t\treturn new LinkedPoint(s ? s.x : 1, s ? s.y : 1, this, 'setScaling');\n\t},\n\n\tsetScaling: function() {\n\t\tvar current = this.getScaling(),\n\t\t\tscaling = Point.read(arguments, 0, { clone: true, readNull: true });\n\t\tif (current && scaling && !current.equals(scaling)) {\n\t\t\tvar rotation = this.getRotation(),\n\t\t\t\tdecomposed = this._decomposed,\n\t\t\t\tmatrix = new Matrix(),\n\t\t\t\tisZero = Numerical.isZero;\n\t\t\tif (isZero(current.x) || isZero(current.y)) {\n\t\t\t\tmatrix.translate(decomposed.translation);\n\t\t\t\tif (rotation) {\n\t\t\t\t\tmatrix.rotate(rotation);\n\t\t\t\t}\n\t\t\t\tmatrix.scale(scaling.x, scaling.y);\n\t\t\t\tthis._matrix.set(matrix);\n\t\t\t} else {\n\t\t\t\tvar center = this.getPosition(true);\n\t\t\t\tmatrix.translate(center);\n\t\t\t\tif (rotation)\n\t\t\t\t\tmatrix.rotate(rotation);\n\t\t\t\tmatrix.scale(scaling.x / current.x, scaling.y / current.y);\n\t\t\t\tif (rotation)\n\t\t\t\t\tmatrix.rotate(-rotation);\n\t\t\t\tmatrix.translate(center.negate());\n\t\t\t\tthis.transform(matrix);\n\t\t\t}\n\t\t\tif (decomposed) {\n\t\t\t\tdecomposed.scaling = scaling;\n\t\t\t\tthis._decomposed = decomposed;\n\t\t\t}\n\t\t}\n\t},\n\n\tgetMatrix: function() {\n\t\treturn this._matrix;\n\t},\n\n\tsetMatrix: function() {\n\t\tvar matrix = this._matrix;\n\t\tmatrix.set.apply(matrix, arguments);\n\t},\n\n\tgetGlobalMatrix: function(_dontClone) {\n\t\tvar matrix = this._globalMatrix;\n\t\tif (matrix) {\n\t\t\tvar parent = this._parent;\n\t\t\tvar parents = [];\n\t\t\twhile (parent) {\n\t\t\t\tif (!parent._globalMatrix) {\n\t\t\t\t\tmatrix = null;\n\t\t\t\t\tfor (var i = 0, l = parents.length; i < l; i++) {\n\t\t\t\t\t\tparents[i]._globalMatrix = null;\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\tparents.push(parent);\n\t\t\t\tparent = parent._parent;\n\t\t\t}\n\t\t}\n\t\tif (!matrix) {\n\t\t\tmatrix = this._globalMatrix = this._matrix.clone();\n\t\t\tvar parent = this._parent;\n\t\t\tif (parent)\n\t\t\t\tmatrix.prepend(parent.getGlobalMatrix(true));\n\t\t}\n\t\treturn _dontClone ? matrix : matrix.clone();\n\t},\n\n\tgetViewMatrix: function() {\n\t\treturn this.getGlobalMatrix().prepend(this.getView()._matrix);\n\t},\n\n\tgetApplyMatrix: function() {\n\t\treturn this._applyMatrix;\n\t},\n\n\tsetApplyMatrix: function(apply) {\n\t\tif (this._applyMatrix = this._canApplyMatrix && !!apply)\n\t\t\tthis.transform(null, true);\n\t},\n\n\tgetTransformContent: '#getApplyMatrix',\n\tsetTransformContent: '#setApplyMatrix',\n}, {\n\tgetProject: function() {\n\t\treturn this._project;\n\t},\n\n\t_setProject: function(project, installEvents) {\n\t\tif (this._project !== project) {\n\t\t\tif (this._project)\n\t\t\t\tthis._installEvents(false);\n\t\t\tthis._project = project;\n\t\t\tvar children = this._children;\n\t\t\tfor (var i = 0, l = children && children.length; i < l; i++)\n\t\t\t\tchildren[i]._setProject(project);\n\t\t\tinstallEvents = true;\n\t\t}\n\t\tif (installEvents)\n\t\t\tthis._installEvents(true);\n\t},\n\n\tgetView: function() {\n\t\treturn this._project._view;\n\t},\n\n\t_installEvents: function _installEvents(install) {\n\t\t_installEvents.base.call(this, install);\n\t\tvar children = this._children;\n\t\tfor (var i = 0, l = children && children.length; i < l; i++)\n\t\t\tchildren[i]._installEvents(install);\n\t},\n\n\tgetLayer: function() {\n\t\tvar parent = this;\n\t\twhile (parent = parent._parent) {\n\t\t\tif (parent instanceof Layer)\n\t\t\t\treturn parent;\n\t\t}\n\t\treturn null;\n\t},\n\n\tgetParent: function() {\n\t\treturn this._parent;\n\t},\n\n\tsetParent: function(item) {\n\t\treturn item.addChild(this);\n\t},\n\n\t_getOwner: '#getParent',\n\n\tgetChildren: function() {\n\t\treturn this._children;\n\t},\n\n\tsetChildren: function(items) {\n\t\tthis.removeChildren();\n\t\tthis.addChildren(items);\n\t},\n\n\tgetFirstChild: function() {\n\t\treturn this._children && this._children[0] || null;\n\t},\n\n\tgetLastChild: function() {\n\t\treturn this._children && this._children[this._children.length - 1]\n\t\t\t\t|| null;\n\t},\n\n\tgetNextSibling: function() {\n\t\tvar owner = this._getOwner();\n\t\treturn owner && owner._children[this._index + 1] || null;\n\t},\n\n\tgetPreviousSibling: function() {\n\t\tvar owner = this._getOwner();\n\t\treturn owner && owner._children[this._index - 1] || null;\n\t},\n\n\tgetIndex: function() {\n\t\treturn this._index;\n\t},\n\n\tsetIndex: function(index) {\n\t\tvar parent = this._parent,\n\t\t\tchildren = parent && parent._children;\n\t\tif (children) {\n\t\t\tparent.insertChildren(index in children ? index : undefined,\n\t\t\t\t\t\t\t\t  [this]);\n\t\t}\n\t},\n\n\tequals: function(item) {\n\t\treturn item === this || item && this._class === item._class\n\t\t\t\t&& this._style.equals(item._style)\n\t\t\t\t&& this._matrix.equals(item._matrix)\n\t\t\t\t&& this._locked === item._locked\n\t\t\t\t&& this._visible === item._visible\n\t\t\t\t&& this._blendMode === item._blendMode\n\t\t\t\t&& this._opacity === item._opacity\n\t\t\t\t&& this._clipMask === item._clipMask\n\t\t\t\t&& this._guide === item._guide\n\t\t\t\t&& this._equals(item)\n\t\t\t\t|| false;\n\t},\n\n\t_equals: function(item) {\n\t\treturn Base.equals(this._children, item._children);\n\t},\n\n\tclone: function(options) {\n\t\tvar copy = new this.constructor(Item.NO_INSERT),\n\t\t\tchildren = this._children,\n\t\t\tinsert = Base.pick(options ? options.insert : undefined,\n\t\t\t\t\toptions === undefined || options === true),\n\t\t\tdeep = Base.pick(options ? options.deep : undefined, true);\n\t\tif (children)\n\t\t\tcopy.copyAttributes(this);\n\t\tif (!children || deep)\n\t\t\tcopy.copyContent(this);\n\t\tif (!children)\n\t\t\tcopy.copyAttributes(this);\n\t\tif (insert)\n\t\t\tcopy.insertAbove(this);\n\t\tvar name = this._name,\n\t\t\tparent = this._parent;\n\t\tif (name && parent) {\n\t\t\tvar children = parent._children,\n\t\t\t\torig = name,\n\t\t\t\ti = 1;\n\t\t\twhile (children[name])\n\t\t\t\tname = orig + ' ' + (i++);\n\t\t\tif (name !== orig)\n\t\t\t\tcopy.setName(name);\n\t\t}\n\t\treturn copy;\n\t},\n\n\tcopyContent: function(source) {\n\t\tvar children = source._children;\n\t\tfor (var i = 0, l = children && children.length; i < l; i++) {\n\t\t\tthis.addChild(children[i].clone(false), true);\n\t\t}\n\t},\n\n\tcopyAttributes: function(source, excludeMatrix) {\n\t\tthis.setStyle(source._style);\n\t\tvar keys = ['_locked', '_visible', '_blendMode', '_opacity',\n\t\t\t\t'_clipMask', '_guide'];\n\t\tfor (var i = 0, l = keys.length; i < l; i++) {\n\t\t\tvar key = keys[i];\n\t\t\tif (source.hasOwnProperty(key))\n\t\t\t\tthis[key] = source[key];\n\t\t}\n\t\tif (!excludeMatrix)\n\t\t\tthis._matrix.set(source._matrix, true);\n\t\tthis.setApplyMatrix(source._applyMatrix);\n\t\tthis.setPivot(source._pivot);\n\t\tthis.setSelection(source._selection);\n\t\tvar data = source._data,\n\t\t\tname = source._name;\n\t\tthis._data = data ? Base.clone(data) : null;\n\t\tif (name)\n\t\t\tthis.setName(name);\n\t},\n\n\trasterize: function(arg0, arg1) {\n\t\tvar resolution,\n\t\t\tinsert,\n\t\t\traster;\n\t\tif (Base.isPlainObject(arg0)) {\n\t\t\tresolution = arg0.resolution;\n\t\t\tinsert = arg0.insert;\n\t\t\traster = arg0.raster;\n\t\t} else {\n\t\t\tresolution = arg0;\n\t\t\tinsert = arg1;\n\t\t}\n\t\tif (!raster) {\n\t\t\traster = new Raster(Item.NO_INSERT);\n\t\t}\n\t\tvar bounds = this.getStrokeBounds(),\n\t\t\tscale = (resolution || this.getView().getResolution()) / 72,\n\t\t\ttopLeft = bounds.getTopLeft().floor(),\n\t\t\tbottomRight = bounds.getBottomRight().ceil(),\n\t\t\tboundsSize = new Size(bottomRight.subtract(topLeft)),\n\t\t\trasterSize = boundsSize.multiply(scale);\n\t\traster.setSize(rasterSize, true);\n\n\t\tif (!rasterSize.isZero()) {\n\t\t\tvar ctx = raster.getContext(true),\n\t\t\t\tmatrix = new Matrix().scale(scale).translate(topLeft.negate());\n\t\t\tctx.save();\n\t\t\tmatrix.applyToContext(ctx);\n\t\t\tthis.draw(ctx, new Base({ matrices: [matrix] }));\n\t\t\tctx.restore();\n\t\t}\n\t\traster._matrix.set(\n\t\t\tnew Matrix()\n\t\t\t\t.translate(topLeft.add(boundsSize.divide(2)))\n\t\t\t\t.scale(1 / scale)\n\t\t);\n\t\tif (insert === undefined || insert) {\n\t\t\traster.insertAbove(this);\n\t\t}\n\t\treturn raster;\n\t},\n\n\tcontains: function() {\n\t\tvar matrix = this._matrix;\n\t\treturn (\n\t\t\tmatrix.isInvertible() &&\n\t\t\t!!this._contains(matrix._inverseTransform(Point.read(arguments)))\n\t\t);\n\t},\n\n\t_contains: function(point) {\n\t\tvar children = this._children;\n\t\tif (children) {\n\t\t\tfor (var i = children.length - 1; i >= 0; i--) {\n\t\t\t\tif (children[i].contains(point))\n\t\t\t\t\treturn true;\n\t\t\t}\n\t\t\treturn false;\n\t\t}\n\t\treturn point.isInside(this.getInternalBounds());\n\t},\n\n\tisInside: function() {\n\t\treturn Rectangle.read(arguments).contains(this.getBounds());\n\t},\n\n\t_asPathItem: function() {\n\t\treturn new Path.Rectangle({\n\t\t\trectangle: this.getInternalBounds(),\n\t\t\tmatrix: this._matrix,\n\t\t\tinsert: false,\n\t\t});\n\t},\n\n\tintersects: function(item, _matrix) {\n\t\tif (!(item instanceof Item))\n\t\t\treturn false;\n\t\treturn this._asPathItem().getIntersections(item._asPathItem(), null,\n\t\t\t\t_matrix, true).length > 0;\n\t}\n},\nnew function() {\n\tfunction hitTest() {\n\t\tvar args = arguments;\n\t\treturn this._hitTest(\n\t\t\t\tPoint.read(args),\n\t\t\t\tHitResult.getOptions(args));\n\t}\n\n\tfunction hitTestAll() {\n\t\tvar args = arguments,\n\t\t\tpoint = Point.read(args),\n\t\t\toptions = HitResult.getOptions(args),\n\t\t\tall = [];\n\t\tthis._hitTest(point, new Base({ all: all }, options));\n\t\treturn all;\n\t}\n\n\tfunction hitTestChildren(point, options, viewMatrix, _exclude) {\n\t\tvar children = this._children;\n\t\tif (children) {\n\t\t\tfor (var i = children.length - 1; i >= 0; i--) {\n\t\t\t\tvar child = children[i];\n\t\t\t\tvar res = child !== _exclude && child._hitTest(point, options,\n\t\t\t\t\t\tviewMatrix);\n\t\t\t\tif (res && !options.all)\n\t\t\t\t\treturn res;\n\t\t\t}\n\t\t}\n\t\treturn null;\n\t}\n\n\tProject.inject({\n\t\thitTest: hitTest,\n\t\thitTestAll: hitTestAll,\n\t\t_hitTest: hitTestChildren\n\t});\n\n\treturn {\n\t\thitTest: hitTest,\n\t\thitTestAll: hitTestAll,\n\t\t_hitTestChildren: hitTestChildren,\n\t};\n}, {\n\n\t_hitTest: function(point, options, parentViewMatrix) {\n\t\tif (this._locked || !this._visible || this._guide && !options.guides\n\t\t\t\t|| this.isEmpty()) {\n\t\t\treturn null;\n\t\t}\n\n\t\tvar matrix = this._matrix,\n\t\t\tviewMatrix = parentViewMatrix\n\t\t\t\t\t? parentViewMatrix.appended(matrix)\n\t\t\t\t\t: this.getGlobalMatrix().prepend(this.getView()._matrix),\n\t\t\ttolerance = Math.max(options.tolerance, 1e-12),\n\t\t\ttolerancePadding = options._tolerancePadding = new Size(\n\t\t\t\t\tPath._getStrokePadding(tolerance,\n\t\t\t\t\t\tmatrix._shiftless().invert()));\n\t\tpoint = matrix._inverseTransform(point);\n\t\tif (!point || !this._children &&\n\t\t\t!this.getBounds({ internal: true, stroke: true, handle: true })\n\t\t\t\t.expand(tolerancePadding.multiply(2))._containsPoint(point)) {\n\t\t\treturn null;\n\t\t}\n\n\t\tvar checkSelf = !(options.guides && !this._guide\n\t\t\t\t|| options.selected && !this.isSelected()\n\t\t\t\t|| options.type && options.type !== Base.hyphenate(this._class)\n\t\t\t\t|| options.class && !(this instanceof options.class)),\n\t\t\tmatch = options.match,\n\t\t\tthat = this,\n\t\t\tbounds,\n\t\t\tres;\n\n\t\tfunction filter(hit) {\n\t\t\tif (hit && match && !match(hit))\n\t\t\t\thit = null;\n\t\t\tif (hit && options.all)\n\t\t\t\toptions.all.push(hit);\n\t\t\treturn hit;\n\t\t}\n\n\t\tfunction checkPoint(type, part) {\n\t\t\tvar pt = part ? bounds['get' + part]() : that.getPosition();\n\t\t\tif (point.subtract(pt).divide(tolerancePadding).length <= 1) {\n\t\t\t\treturn new HitResult(type, that, {\n\t\t\t\t\tname: part ? Base.hyphenate(part) : type,\n\t\t\t\t\tpoint: pt\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\n\t\tvar checkPosition = options.position,\n\t\t\tcheckCenter = options.center,\n\t\t\tcheckBounds = options.bounds;\n\t\tif (checkSelf && this._parent\n\t\t\t\t&& (checkPosition || checkCenter || checkBounds)) {\n\t\t\tif (checkCenter || checkBounds) {\n\t\t\t\tbounds = this.getInternalBounds();\n\t\t\t}\n\t\t\tres = checkPosition && checkPoint('position') ||\n\t\t\t\t\tcheckCenter && checkPoint('center', 'Center');\n\t\t\tif (!res && checkBounds) {\n\t\t\t\tvar points = [\n\t\t\t\t\t'TopLeft', 'TopRight', 'BottomLeft', 'BottomRight',\n\t\t\t\t\t'LeftCenter', 'TopCenter', 'RightCenter', 'BottomCenter'\n\t\t\t\t];\n\t\t\t\tfor (var i = 0; i < 8 && !res; i++) {\n\t\t\t\t\tres = checkPoint('bounds', points[i]);\n\t\t\t\t}\n\t\t\t}\n\t\t\tres = filter(res);\n\t\t}\n\n\t\tif (!res) {\n\t\t\tres = this._hitTestChildren(point, options, viewMatrix)\n\t\t\t\t|| checkSelf\n\t\t\t\t\t&& filter(this._hitTestSelf(point, options, viewMatrix,\n\t\t\t\t\t\tthis.getStrokeScaling() ? null\n\t\t\t\t\t\t\t: viewMatrix._shiftless().invert()))\n\t\t\t\t|| null;\n\t\t}\n\t\tif (res && res.point) {\n\t\t\tres.point = matrix.transform(res.point);\n\t\t}\n\t\treturn res;\n\t},\n\n\t_hitTestSelf: function(point, options) {\n\t\tif (options.fill && this.hasFill() && this._contains(point))\n\t\t\treturn new HitResult('fill', this);\n\t},\n\n\tmatches: function(name, compare) {\n\t\tfunction matchObject(obj1, obj2) {\n\t\t\tfor (var i in obj1) {\n\t\t\t\tif (obj1.hasOwnProperty(i)) {\n\t\t\t\t\tvar val1 = obj1[i],\n\t\t\t\t\t\tval2 = obj2[i];\n\t\t\t\t\tif (Base.isPlainObject(val1) && Base.isPlainObject(val2)) {\n\t\t\t\t\t\tif (!matchObject(val1, val2))\n\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t} else if (!Base.equals(val1, val2)) {\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn true;\n\t\t}\n\t\tvar type = typeof name;\n\t\tif (type === 'object') {\n\t\t\tfor (var key in name) {\n\t\t\t\tif (name.hasOwnProperty(key) && !this.matches(key, name[key]))\n\t\t\t\t\treturn false;\n\t\t\t}\n\t\t\treturn true;\n\t\t} else if (type === 'function') {\n\t\t\treturn name(this);\n\t\t} else if (name === 'match') {\n\t\t\treturn compare(this);\n\t\t} else {\n\t\t\tvar value = /^(empty|editable)$/.test(name)\n\t\t\t\t\t? this['is' + Base.capitalize(name)]()\n\t\t\t\t\t: name === 'type'\n\t\t\t\t\t\t? Base.hyphenate(this._class)\n\t\t\t\t\t\t: this[name];\n\t\t\tif (name === 'class') {\n\t\t\t\tif (typeof compare === 'function')\n\t\t\t\t\treturn this instanceof compare;\n\t\t\t\tvalue = this._class;\n\t\t\t}\n\t\t\tif (typeof compare === 'function') {\n\t\t\t\treturn !!compare(value);\n\t\t\t} else if (compare) {\n\t\t\t\tif (compare.test) {\n\t\t\t\t\treturn compare.test(value);\n\t\t\t\t} else if (Base.isPlainObject(compare)) {\n\t\t\t\t\treturn matchObject(compare, value);\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn Base.equals(value, compare);\n\t\t}\n\t},\n\n\tgetItems: function(options) {\n\t\treturn Item._getItems(this, options, this._matrix);\n\t},\n\n\tgetItem: function(options) {\n\t\treturn Item._getItems(this, options, this._matrix, null, true)[0]\n\t\t\t\t|| null;\n\t},\n\n\tstatics: {\n\t\t_getItems: function _getItems(item, options, matrix, param, firstOnly) {\n\t\t\tif (!param) {\n\t\t\t\tvar obj = typeof options === 'object' && options,\n\t\t\t\t\toverlapping = obj && obj.overlapping,\n\t\t\t\t\tinside = obj && obj.inside,\n\t\t\t\t\tbounds = overlapping || inside,\n\t\t\t\t\trect = bounds && Rectangle.read([bounds]);\n\t\t\t\tparam = {\n\t\t\t\t\titems: [],\n\t\t\t\t\trecursive: obj && obj.recursive !== false,\n\t\t\t\t\tinside: !!inside,\n\t\t\t\t\toverlapping: !!overlapping,\n\t\t\t\t\trect: rect,\n\t\t\t\t\tpath: overlapping && new Path.Rectangle({\n\t\t\t\t\t\trectangle: rect,\n\t\t\t\t\t\tinsert: false\n\t\t\t\t\t})\n\t\t\t\t};\n\t\t\t\tif (obj) {\n\t\t\t\t\toptions = Base.filter({}, options, {\n\t\t\t\t\t\trecursive: true, inside: true, overlapping: true\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\t\t\tvar children = item._children,\n\t\t\t\titems = param.items,\n\t\t\t\trect = param.rect;\n\t\t\tmatrix = rect && (matrix || new Matrix());\n\t\t\tfor (var i = 0, l = children && children.length; i < l; i++) {\n\t\t\t\tvar child = children[i],\n\t\t\t\t\tchildMatrix = matrix && matrix.appended(child._matrix),\n\t\t\t\t\tadd = true;\n\t\t\t\tif (rect) {\n\t\t\t\t\tvar bounds = child.getBounds(childMatrix);\n\t\t\t\t\tif (!rect.intersects(bounds))\n\t\t\t\t\t\tcontinue;\n\t\t\t\t\tif (!(rect.contains(bounds)\n\t\t\t\t\t\t\t|| param.overlapping && (bounds.contains(rect)\n\t\t\t\t\t\t\t\t|| param.path.intersects(child, childMatrix))))\n\t\t\t\t\t\tadd = false;\n\t\t\t\t}\n\t\t\t\tif (add && child.matches(options)) {\n\t\t\t\t\titems.push(child);\n\t\t\t\t\tif (firstOnly)\n\t\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\tif (param.recursive !== false) {\n\t\t\t\t\t_getItems(child, options, childMatrix, param, firstOnly);\n\t\t\t\t}\n\t\t\t\tif (firstOnly && items.length > 0)\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t\treturn items;\n\t\t}\n\t}\n}, {\n\n\timportJSON: function(json) {\n\t\tvar res = Base.importJSON(json, this);\n\t\treturn res !== this ? this.addChild(res) : res;\n\t},\n\n\taddChild: function(item) {\n\t\treturn this.insertChild(undefined, item);\n\t},\n\n\tinsertChild: function(index, item) {\n\t\tvar res = item ? this.insertChildren(index, [item]) : null;\n\t\treturn res && res[0];\n\t},\n\n\taddChildren: function(items) {\n\t\treturn this.insertChildren(this._children.length, items);\n\t},\n\n\tinsertChildren: function(index, items) {\n\t\tvar children = this._children;\n\t\tif (children && items && items.length > 0) {\n\t\t\titems = Base.slice(items);\n\t\t\tvar inserted = {};\n\t\t\tfor (var i = items.length - 1; i >= 0; i--) {\n\t\t\t\tvar item = items[i],\n\t\t\t\t\tid = item && item._id;\n\t\t\t\tif (!item || inserted[id]) {\n\t\t\t\t\titems.splice(i, 1);\n\t\t\t\t} else {\n\t\t\t\t\titem._remove(false, true);\n\t\t\t\t\tinserted[id] = true;\n\t\t\t\t}\n\t\t\t}\n\t\t\tBase.splice(children, items, index, 0);\n\t\t\tvar project = this._project,\n\t\t\t\tnotifySelf = project._changes;\n\t\t\tfor (var i = 0, l = items.length; i < l; i++) {\n\t\t\t\tvar item = items[i],\n\t\t\t\t\tname = item._name;\n\t\t\t\titem._parent = this;\n\t\t\t\titem._setProject(project, true);\n\t\t\t\tif (name)\n\t\t\t\t\titem.setName(name);\n\t\t\t\tif (notifySelf)\n\t\t\t\t\titem._changed(5);\n\t\t\t}\n\t\t\tthis._changed(11);\n\t\t} else {\n\t\t\titems = null;\n\t\t}\n\t\treturn items;\n\t},\n\n\t_insertItem: '#insertChild',\n\n\t_insertAt: function(item, offset) {\n\t\tvar owner = item && item._getOwner(),\n\t\t\tres = item !== this && owner ? this : null;\n\t\tif (res) {\n\t\t\tres._remove(false, true);\n\t\t\towner._insertItem(item._index + offset, res);\n\t\t}\n\t\treturn res;\n\t},\n\n\tinsertAbove: function(item) {\n\t\treturn this._insertAt(item, 1);\n\t},\n\n\tinsertBelow: function(item) {\n\t\treturn this._insertAt(item, 0);\n\t},\n\n\tsendToBack: function() {\n\t\tvar owner = this._getOwner();\n\t\treturn owner ? owner._insertItem(0, this) : null;\n\t},\n\n\tbringToFront: function() {\n\t\tvar owner = this._getOwner();\n\t\treturn owner ? owner._insertItem(undefined, this) : null;\n\t},\n\n\tappendTop: '#addChild',\n\n\tappendBottom: function(item) {\n\t\treturn this.insertChild(0, item);\n\t},\n\n\tmoveAbove: '#insertAbove',\n\n\tmoveBelow: '#insertBelow',\n\n\taddTo: function(owner) {\n\t\treturn owner._insertItem(undefined, this);\n\t},\n\n\tcopyTo: function(owner) {\n\t\treturn this.clone(false).addTo(owner);\n\t},\n\n\treduce: function(options) {\n\t\tvar children = this._children;\n\t\tif (children && children.length === 1) {\n\t\t\tvar child = children[0].reduce(options);\n\t\t\tif (this._parent) {\n\t\t\t\tchild.insertAbove(this);\n\t\t\t\tthis.remove();\n\t\t\t} else {\n\t\t\t\tchild.remove();\n\t\t\t}\n\t\t\treturn child;\n\t\t}\n\t\treturn this;\n\t},\n\n\t_removeNamed: function() {\n\t\tvar owner = this._getOwner();\n\t\tif (owner) {\n\t\t\tvar children = owner._children,\n\t\t\t\tnamedChildren = owner._namedChildren,\n\t\t\t\tname = this._name,\n\t\t\t\tnamedArray = namedChildren[name],\n\t\t\t\tindex = namedArray ? namedArray.indexOf(this) : -1;\n\t\t\tif (index !== -1) {\n\t\t\t\tif (children[name] == this)\n\t\t\t\t\tdelete children[name];\n\t\t\t\tnamedArray.splice(index, 1);\n\t\t\t\tif (namedArray.length) {\n\t\t\t\t\tchildren[name] = namedArray[0];\n\t\t\t\t} else {\n\t\t\t\t\tdelete namedChildren[name];\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t},\n\n\t_remove: function(notifySelf, notifyParent) {\n\t\tvar owner = this._getOwner(),\n\t\t\tproject = this._project,\n\t\t\tindex = this._index;\n\t\tif (this._style)\n\t\t\tthis._style._dispose();\n\t\tif (owner) {\n\t\t\tif (this._name)\n\t\t\t\tthis._removeNamed();\n\t\t\tif (index != null) {\n\t\t\t\tif (project._activeLayer === this)\n\t\t\t\t\tproject._activeLayer = this.getNextSibling()\n\t\t\t\t\t\t\t|| this.getPreviousSibling();\n\t\t\t\tBase.splice(owner._children, null, index, 1);\n\t\t\t}\n\t\t\tthis._installEvents(false);\n\t\t\tif (notifySelf && project._changes)\n\t\t\t\tthis._changed(5);\n\t\t\tif (notifyParent)\n\t\t\t\towner._changed(11, this);\n\t\t\tthis._parent = null;\n\t\t\treturn true;\n\t\t}\n\t\treturn false;\n\t},\n\n\tremove: function() {\n\t\treturn this._remove(true, true);\n\t},\n\n\treplaceWith: function(item) {\n\t\tvar ok = item && item.insertBelow(this);\n\t\tif (ok)\n\t\t\tthis.remove();\n\t\treturn ok;\n\t},\n\n\tremoveChildren: function(start, end) {\n\t\tif (!this._children)\n\t\t\treturn null;\n\t\tstart = start || 0;\n\t\tend = Base.pick(end, this._children.length);\n\t\tvar removed = Base.splice(this._children, null, start, end - start);\n\t\tfor (var i = removed.length - 1; i >= 0; i--) {\n\t\t\tremoved[i]._remove(true, false);\n\t\t}\n\t\tif (removed.length > 0)\n\t\t\tthis._changed(11);\n\t\treturn removed;\n\t},\n\n\tclear: '#removeChildren',\n\n\treverseChildren: function() {\n\t\tif (this._children) {\n\t\t\tthis._children.reverse();\n\t\t\tfor (var i = 0, l = this._children.length; i < l; i++)\n\t\t\t\tthis._children[i]._index = i;\n\t\t\tthis._changed(11);\n\t\t}\n\t},\n\n\tisEmpty: function(recursively) {\n\t\tvar children = this._children;\n\t\tvar numChildren = children ? children.length : 0;\n\t\tif (recursively) {\n\t\t\tfor (var i = 0; i < numChildren; i++) {\n\t\t\t\tif (!children[i].isEmpty(recursively)) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn true;\n\t\t}\n\t\treturn !numChildren;\n\t},\n\n\tisEditable: function() {\n\t\tvar item = this;\n\t\twhile (item) {\n\t\t\tif (!item._visible || item._locked)\n\t\t\t\treturn false;\n\t\t\titem = item._parent;\n\t\t}\n\t\treturn true;\n\t},\n\n\thasFill: function() {\n\t\treturn this.getStyle().hasFill();\n\t},\n\n\thasStroke: function() {\n\t\treturn this.getStyle().hasStroke();\n\t},\n\n\thasShadow: function() {\n\t\treturn this.getStyle().hasShadow();\n\t},\n\n\t_getOrder: function(item) {\n\t\tfunction getList(item) {\n\t\t\tvar list = [];\n\t\t\tdo {\n\t\t\t\tlist.unshift(item);\n\t\t\t} while (item = item._parent);\n\t\t\treturn list;\n\t\t}\n\t\tvar list1 = getList(this),\n\t\t\tlist2 = getList(item);\n\t\tfor (var i = 0, l = Math.min(list1.length, list2.length); i < l; i++) {\n\t\t\tif (list1[i] != list2[i]) {\n\t\t\t\treturn list1[i]._index < list2[i]._index ? 1 : -1;\n\t\t\t}\n\t\t}\n\t\treturn 0;\n\t},\n\n\thasChildren: function() {\n\t\treturn this._children && this._children.length > 0;\n\t},\n\n\tisInserted: function() {\n\t\treturn this._parent ? this._parent.isInserted() : false;\n\t},\n\n\tisAbove: function(item) {\n\t\treturn this._getOrder(item) === -1;\n\t},\n\n\tisBelow: function(item) {\n\t\treturn this._getOrder(item) === 1;\n\t},\n\n\tisParent: function(item) {\n\t\treturn this._parent === item;\n\t},\n\n\tisChild: function(item) {\n\t\treturn item && item._parent === this;\n\t},\n\n\tisDescendant: function(item) {\n\t\tvar parent = this;\n\t\twhile (parent = parent._parent) {\n\t\t\tif (parent === item)\n\t\t\t\treturn true;\n\t\t}\n\t\treturn false;\n\t},\n\n\tisAncestor: function(item) {\n\t\treturn item ? item.isDescendant(this) : false;\n\t},\n\n\tisSibling: function(item) {\n\t\treturn this._parent === item._parent;\n\t},\n\n\tisGroupedWith: function(item) {\n\t\tvar parent = this._parent;\n\t\twhile (parent) {\n\t\t\tif (parent._parent\n\t\t\t\t&& /^(Group|Layer|CompoundPath)$/.test(parent._class)\n\t\t\t\t&& item.isDescendant(parent))\n\t\t\t\t\treturn true;\n\t\t\tparent = parent._parent;\n\t\t}\n\t\treturn false;\n\t},\n\n}, Base.each(['rotate', 'scale', 'shear', 'skew'], function(key) {\n\tvar rotate = key === 'rotate';\n\tthis[key] = function() {\n\t\tvar args = arguments,\n\t\t\tvalue = (rotate ? Base : Point).read(args),\n\t\t\tcenter = Point.read(args, 0, { readNull: true });\n\t\treturn this.transform(new Matrix()[key](value,\n\t\t\t\tcenter || this.getPosition(true)));\n\t};\n}, {\n\ttranslate: function() {\n\t\tvar mx = new Matrix();\n\t\treturn this.transform(mx.translate.apply(mx, arguments));\n\t},\n\n\ttransform: function(matrix, _applyRecursively, _setApplyMatrix) {\n\t\tvar _matrix = this._matrix,\n\t\t\ttransformMatrix = matrix && !matrix.isIdentity(),\n\t\t\tapplyMatrix = (\n\t\t\t\t_setApplyMatrix && this._canApplyMatrix ||\n\t\t\t\tthis._applyMatrix && (\n\t\t\t\t\ttransformMatrix || !_matrix.isIdentity() ||\n\t\t\t\t\t_applyRecursively && this._children\n\t\t\t\t)\n\t\t\t);\n\t\tif (!transformMatrix && !applyMatrix)\n\t\t\treturn this;\n\t\tif (transformMatrix) {\n\t\t\tif (!matrix.isInvertible() && _matrix.isInvertible())\n\t\t\t\t_matrix._backup = _matrix.getValues();\n\t\t\t_matrix.prepend(matrix, true);\n\t\t\tvar style = this._style,\n\t\t\t\tfillColor = style.getFillColor(true),\n\t\t\t\tstrokeColor = style.getStrokeColor(true);\n\t\t\tif (fillColor)\n\t\t\t\tfillColor.transform(matrix);\n\t\t\tif (strokeColor)\n\t\t\t\tstrokeColor.transform(matrix);\n\t\t}\n\n\t\tif (applyMatrix && (applyMatrix = this._transformContent(\n\t\t\t\t_matrix, _applyRecursively, _setApplyMatrix))) {\n\t\t\tvar pivot = this._pivot;\n\t\t\tif (pivot)\n\t\t\t\t_matrix._transformPoint(pivot, pivot, true);\n\t\t\t_matrix.reset(true);\n\t\t\tif (_setApplyMatrix && this._canApplyMatrix)\n\t\t\t\tthis._applyMatrix = true;\n\t\t}\n\t\tvar bounds = this._bounds,\n\t\t\tposition = this._position;\n\t\tif (transformMatrix || applyMatrix) {\n\t\t\tthis._changed(25);\n\t\t}\n\t\tvar decomp = transformMatrix && bounds && matrix.decompose();\n\t\tif (decomp && decomp.skewing.isZero() && decomp.rotation % 90 === 0) {\n\t\t\tfor (var key in bounds) {\n\t\t\t\tvar cache = bounds[key];\n\t\t\t\tif (cache.nonscaling) {\n\t\t\t\t\tdelete bounds[key];\n\t\t\t\t} else if (applyMatrix || !cache.internal) {\n\t\t\t\t\tvar rect = cache.rect;\n\t\t\t\t\tmatrix._transformBounds(rect, rect);\n\t\t\t\t}\n\t\t\t}\n\t\t\tthis._bounds = bounds;\n\t\t\tvar cached = bounds[this._getBoundsCacheKey(\n\t\t\t\tthis._boundsOptions || {})];\n\t\t\tif (cached) {\n\t\t\t\tthis._position = this._getPositionFromBounds(cached.rect);\n\t\t\t}\n\t\t} else if (transformMatrix && position && this._pivot) {\n\t\t\tthis._position = matrix._transformPoint(position, position);\n\t\t}\n\t\treturn this;\n\t},\n\n\t_transformContent: function(matrix, applyRecursively, setApplyMatrix) {\n\t\tvar children = this._children;\n\t\tif (children) {\n\t\t\tfor (var i = 0, l = children.length; i < l; i++) {\n\t\t\t\tchildren[i].transform(matrix, applyRecursively, setApplyMatrix);\n\t\t\t}\n\t\t\treturn true;\n\t\t}\n\t},\n\n\tglobalToLocal: function() {\n\t\treturn this.getGlobalMatrix(true)._inverseTransform(\n\t\t\t\tPoint.read(arguments));\n\t},\n\n\tlocalToGlobal: function() {\n\t\treturn this.getGlobalMatrix(true)._transformPoint(\n\t\t\t\tPoint.read(arguments));\n\t},\n\n\tparentToLocal: function() {\n\t\treturn this._matrix._inverseTransform(Point.read(arguments));\n\t},\n\n\tlocalToParent: function() {\n\t\treturn this._matrix._transformPoint(Point.read(arguments));\n\t},\n\n\tfitBounds: function(rectangle, fill) {\n\t\trectangle = Rectangle.read(arguments);\n\t\tvar bounds = this.getBounds(),\n\t\t\titemRatio = bounds.height / bounds.width,\n\t\t\trectRatio = rectangle.height / rectangle.width,\n\t\t\tscale = (fill ? itemRatio > rectRatio : itemRatio < rectRatio)\n\t\t\t\t\t? rectangle.width / bounds.width\n\t\t\t\t\t: rectangle.height / bounds.height,\n\t\t\tnewBounds = new Rectangle(new Point(),\n\t\t\t\t\tnew Size(bounds.width * scale, bounds.height * scale));\n\t\tnewBounds.setCenter(rectangle.getCenter());\n\t\tthis.setBounds(newBounds);\n\t}\n}), {\n\n\t_setStyles: function(ctx, param, viewMatrix) {\n\t\tvar style = this._style,\n\t\t\tmatrix = this._matrix;\n\t\tif (style.hasFill()) {\n\t\t\tctx.fillStyle = style.getFillColor().toCanvasStyle(ctx, matrix);\n\t\t}\n\t\tif (style.hasStroke()) {\n\t\t\tctx.strokeStyle = style.getStrokeColor().toCanvasStyle(ctx, matrix);\n\t\t\tctx.lineWidth = style.getStrokeWidth();\n\t\t\tvar strokeJoin = style.getStrokeJoin(),\n\t\t\t\tstrokeCap = style.getStrokeCap(),\n\t\t\t\tmiterLimit = style.getMiterLimit();\n\t\t\tif (strokeJoin)\n\t\t\t\tctx.lineJoin = strokeJoin;\n\t\t\tif (strokeCap)\n\t\t\t\tctx.lineCap = strokeCap;\n\t\t\tif (miterLimit)\n\t\t\t\tctx.miterLimit = miterLimit;\n\t\t\tif (paper.support.nativeDash) {\n\t\t\t\tvar dashArray = style.getDashArray(),\n\t\t\t\t\tdashOffset = style.getDashOffset();\n\t\t\t\tif (dashArray && dashArray.length) {\n\t\t\t\t\tif ('setLineDash' in ctx) {\n\t\t\t\t\t\tctx.setLineDash(dashArray);\n\t\t\t\t\t\tctx.lineDashOffset = dashOffset;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tctx.mozDash = dashArray;\n\t\t\t\t\t\tctx.mozDashOffset = dashOffset;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tif (style.hasShadow()) {\n\t\t\tvar pixelRatio = param.pixelRatio || 1,\n\t\t\t\tmx = viewMatrix._shiftless().prepend(\n\t\t\t\t\tnew Matrix().scale(pixelRatio, pixelRatio)),\n\t\t\t\tblur = mx.transform(new Point(style.getShadowBlur(), 0)),\n\t\t\t\toffset = mx.transform(this.getShadowOffset());\n\t\t\tctx.shadowColor = style.getShadowColor().toCanvasStyle(ctx);\n\t\t\tctx.shadowBlur = blur.getLength();\n\t\t\tctx.shadowOffsetX = offset.x;\n\t\t\tctx.shadowOffsetY = offset.y;\n\t\t}\n\t},\n\n\tdraw: function(ctx, param, parentStrokeMatrix) {\n\t\tvar updateVersion = this._updateVersion = this._project._updateVersion;\n\t\tif (!this._visible || this._opacity === 0)\n\t\t\treturn;\n\t\tvar matrices = param.matrices,\n\t\t\tviewMatrix = param.viewMatrix,\n\t\t\tmatrix = this._matrix,\n\t\t\tglobalMatrix = matrices[matrices.length - 1].appended(matrix);\n\t\tif (!globalMatrix.isInvertible())\n\t\t\treturn;\n\n\t\tviewMatrix = viewMatrix ? viewMatrix.appended(globalMatrix)\n\t\t\t\t: globalMatrix;\n\n\t\tmatrices.push(globalMatrix);\n\t\tif (param.updateMatrix) {\n\t\t\tthis._globalMatrix = globalMatrix;\n\t\t}\n\n\t\tvar blendMode = this._blendMode,\n\t\t\topacity = Numerical.clamp(this._opacity, 0, 1),\n\t\t\tnormalBlend = blendMode === 'normal',\n\t\t\tnativeBlend = BlendMode.nativeModes[blendMode],\n\t\t\tdirect = normalBlend && opacity === 1\n\t\t\t\t\t|| param.dontStart\n\t\t\t\t\t|| param.clip\n\t\t\t\t\t|| (nativeBlend || normalBlend && opacity < 1)\n\t\t\t\t\t\t&& this._canComposite(),\n\t\t\tpixelRatio = param.pixelRatio || 1,\n\t\t\tmainCtx, itemOffset, prevOffset;\n\t\tif (!direct) {\n\t\t\tvar bounds = this.getStrokeBounds(viewMatrix);\n\t\t\tif (!bounds.width || !bounds.height) {\n\t\t\t\tmatrices.pop();\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tprevOffset = param.offset;\n\t\t\titemOffset = param.offset = bounds.getTopLeft().floor();\n\t\t\tmainCtx = ctx;\n\t\t\tctx = CanvasProvider.getContext(bounds.getSize().ceil().add(1)\n\t\t\t\t\t.multiply(pixelRatio));\n\t\t\tif (pixelRatio !== 1)\n\t\t\t\tctx.scale(pixelRatio, pixelRatio);\n\t\t}\n\t\tctx.save();\n\t\tvar strokeMatrix = parentStrokeMatrix\n\t\t\t\t? parentStrokeMatrix.appended(matrix)\n\t\t\t\t: this._canScaleStroke && !this.getStrokeScaling(true)\n\t\t\t\t\t&& viewMatrix,\n\t\t\tclip = !direct && param.clipItem,\n\t\t\ttransform = !strokeMatrix || clip;\n\t\tif (direct) {\n\t\t\tctx.globalAlpha = opacity;\n\t\t\tif (nativeBlend)\n\t\t\t\tctx.globalCompositeOperation = blendMode;\n\t\t} else if (transform) {\n\t\t\tctx.translate(-itemOffset.x, -itemOffset.y);\n\t\t}\n\t\tif (transform) {\n\t\t\t(direct ? matrix : viewMatrix).applyToContext(ctx);\n\t\t}\n\t\tif (clip) {\n\t\t\tparam.clipItem.draw(ctx, param.extend({ clip: true }));\n\t\t}\n\t\tif (strokeMatrix) {\n\t\t\tctx.setTransform(pixelRatio, 0, 0, pixelRatio, 0, 0);\n\t\t\tvar offset = param.offset;\n\t\t\tif (offset)\n\t\t\t\tctx.translate(-offset.x, -offset.y);\n\t\t}\n\t\tthis._draw(ctx, param, viewMatrix, strokeMatrix);\n\t\tctx.restore();\n\t\tmatrices.pop();\n\t\tif (param.clip && !param.dontFinish) {\n\t\t\tctx.clip(this.getFillRule());\n\t\t}\n\t\tif (!direct) {\n\t\t\tBlendMode.process(blendMode, ctx, mainCtx, opacity,\n\t\t\t\t\titemOffset.subtract(prevOffset).multiply(pixelRatio));\n\t\t\tCanvasProvider.release(ctx);\n\t\t\tparam.offset = prevOffset;\n\t\t}\n\t},\n\n\t_isUpdated: function(updateVersion) {\n\t\tvar parent = this._parent;\n\t\tif (parent instanceof CompoundPath)\n\t\t\treturn parent._isUpdated(updateVersion);\n\t\tvar updated = this._updateVersion === updateVersion;\n\t\tif (!updated && parent && parent._visible\n\t\t\t\t&& parent._isUpdated(updateVersion)) {\n\t\t\tthis._updateVersion = updateVersion;\n\t\t\tupdated = true;\n\t\t}\n\t\treturn updated;\n\t},\n\n\t_drawSelection: function(ctx, matrix, size, selectionItems, updateVersion) {\n\t\tvar selection = this._selection,\n\t\t\titemSelected = selection & 1,\n\t\t\tboundsSelected = selection & 2\n\t\t\t\t\t|| itemSelected && this._selectBounds,\n\t\t\tpositionSelected = selection & 4;\n\t\tif (!this._drawSelected)\n\t\t\titemSelected = false;\n\t\tif ((itemSelected || boundsSelected || positionSelected)\n\t\t\t\t&& this._isUpdated(updateVersion)) {\n\t\t\tvar layer,\n\t\t\t\tcolor = this.getSelectedColor(true) || (layer = this.getLayer())\n\t\t\t\t\t&& layer.getSelectedColor(true),\n\t\t\t\tmx = matrix.appended(this.getGlobalMatrix(true)),\n\t\t\t\thalf = size / 2;\n\t\t\tctx.strokeStyle = ctx.fillStyle = color\n\t\t\t\t\t? color.toCanvasStyle(ctx) : '#009dec';\n\t\t\tif (itemSelected)\n\t\t\t\tthis._drawSelected(ctx, mx, selectionItems);\n\t\t\tif (positionSelected) {\n\t\t\t\tvar pos = this.getPosition(true),\n\t\t\t\t\tparent = this._parent,\n\t\t\t\t\tpoint = parent ? parent.localToGlobal(pos) : pos,\n\t\t\t\t\tx = point.x,\n\t\t\t\t\ty = point.y;\n\t\t\t\tctx.beginPath();\n\t\t\t\tctx.arc(x, y, half, 0, Math.PI * 2, true);\n\t\t\t\tctx.stroke();\n\t\t\t\tvar deltas = [[0, -1], [1, 0], [0, 1], [-1, 0]],\n\t\t\t\t\tstart = half,\n\t\t\t\t\tend = size + 1;\n\t\t\t\tfor (var i = 0; i < 4; i++) {\n\t\t\t\t\tvar delta = deltas[i],\n\t\t\t\t\t\tdx = delta[0],\n\t\t\t\t\t\tdy = delta[1];\n\t\t\t\t\tctx.moveTo(x + dx * start, y + dy * start);\n\t\t\t\t\tctx.lineTo(x + dx * end, y + dy * end);\n\t\t\t\t\tctx.stroke();\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (boundsSelected) {\n\t\t\t\tvar coords = mx._transformCorners(this.getInternalBounds());\n\t\t\t\tctx.beginPath();\n\t\t\t\tfor (var i = 0; i < 8; i++) {\n\t\t\t\t\tctx[!i ? 'moveTo' : 'lineTo'](coords[i], coords[++i]);\n\t\t\t\t}\n\t\t\t\tctx.closePath();\n\t\t\t\tctx.stroke();\n\t\t\t\tfor (var i = 0; i < 8; i++) {\n\t\t\t\t\tctx.fillRect(coords[i] - half, coords[++i] - half,\n\t\t\t\t\t\t\tsize, size);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t},\n\n\t_canComposite: function() {\n\t\treturn false;\n\t}\n}, Base.each(['down', 'drag', 'up', 'move'], function(key) {\n\tthis['removeOn' + Base.capitalize(key)] = function() {\n\t\tvar hash = {};\n\t\thash[key] = true;\n\t\treturn this.removeOn(hash);\n\t};\n}, {\n\n\tremoveOn: function(obj) {\n\t\tfor (var name in obj) {\n\t\t\tif (obj[name]) {\n\t\t\t\tvar key = 'mouse' + name,\n\t\t\t\t\tproject = this._project,\n\t\t\t\t\tsets = project._removeSets = project._removeSets || {};\n\t\t\t\tsets[key] = sets[key] || {};\n\t\t\t\tsets[key][this._id] = this;\n\t\t\t}\n\t\t}\n\t\treturn this;\n\t}\n}), {\n\ttween: function(from, to, options) {\n\t\tif (!options) {\n\t\t\toptions = to;\n\t\t\tto = from;\n\t\t\tfrom = null;\n\t\t\tif (!options) {\n\t\t\t\toptions = to;\n\t\t\t\tto = null;\n\t\t\t}\n\t\t}\n\t\tvar easing = options && options.easing,\n\t\t\tstart = options && options.start,\n\t\t\tduration = options != null && (\n\t\t\t\ttypeof options === 'number' ? options : options.duration\n\t\t\t),\n\t\t\ttween = new Tween(this, from, to, duration, easing, start);\n\t\tfunction onFrame(event) {\n\t\t\ttween._handleFrame(event.time * 1000);\n\t\t\tif (!tween.running) {\n\t\t\t\tthis.off('frame', onFrame);\n\t\t\t}\n\t\t}\n\t\tif (duration) {\n\t\t\tthis.on('frame', onFrame);\n\t\t}\n\t\treturn tween;\n\t},\n\n\ttweenTo: function(to, options) {\n\t\treturn this.tween(null, to, options);\n\t},\n\n\ttweenFrom: function(from, options) {\n\t\treturn this.tween(from, null, options);\n\t}\n});\n\nvar Group = Item.extend({\n\t_class: 'Group',\n\t_selectBounds: false,\n\t_selectChildren: true,\n\t_serializeFields: {\n\t\tchildren: []\n\t},\n\n\tinitialize: function Group(arg) {\n\t\tthis._children = [];\n\t\tthis._namedChildren = {};\n\t\tif (!this._initialize(arg))\n\t\t\tthis.addChildren(Array.isArray(arg) ? arg : arguments);\n\t},\n\n\t_changed: function _changed(flags) {\n\t\t_changed.base.call(this, flags);\n\t\tif (flags & 2050) {\n\t\t\tthis._clipItem = undefined;\n\t\t}\n\t},\n\n\t_getClipItem: function() {\n\t\tvar clipItem = this._clipItem;\n\t\tif (clipItem === undefined) {\n\t\t\tclipItem = null;\n\t\t\tvar children = this._children;\n\t\t\tfor (var i = 0, l = children.length; i < l; i++) {\n\t\t\t\tif (children[i]._clipMask) {\n\t\t\t\t\tclipItem = children[i];\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t\tthis._clipItem = clipItem;\n\t\t}\n\t\treturn clipItem;\n\t},\n\n\tisClipped: function() {\n\t\treturn !!this._getClipItem();\n\t},\n\n\tsetClipped: function(clipped) {\n\t\tvar child = this.getFirstChild();\n\t\tif (child)\n\t\t\tchild.setClipMask(clipped);\n\t},\n\n\t_getBounds: function _getBounds(matrix, options) {\n\t\tvar clipItem = this._getClipItem();\n\t\treturn clipItem\n\t\t\t? clipItem._getCachedBounds(clipItem._matrix.prepended(matrix),\n\t\t\t\tBase.set({}, options, { stroke: false }))\n\t\t\t: _getBounds.base.call(this, matrix, options);\n\t},\n\n\t_hitTestChildren: function _hitTestChildren(point, options, viewMatrix) {\n\t\tvar clipItem = this._getClipItem();\n\t\treturn (!clipItem || clipItem.contains(point))\n\t\t\t\t&& _hitTestChildren.base.call(this, point, options, viewMatrix,\n\t\t\t\t\tclipItem);\n\t},\n\n\t_draw: function(ctx, param) {\n\t\tvar clip = param.clip,\n\t\t\tclipItem = !clip && this._getClipItem();\n\t\tparam = param.extend({ clipItem: clipItem, clip: false });\n\t\tif (clip) {\n\t\t\tctx.beginPath();\n\t\t\tparam.dontStart = param.dontFinish = true;\n\t\t} else if (clipItem) {\n\t\t\tclipItem.draw(ctx, param.extend({ clip: true }));\n\t\t}\n\t\tvar children = this._children;\n\t\tfor (var i = 0, l = children.length; i < l; i++) {\n\t\t\tvar item = children[i];\n\t\t\tif (item !== clipItem)\n\t\t\t\titem.draw(ctx, param);\n\t\t}\n\t}\n});\n\nvar Layer = Group.extend({\n\t_class: 'Layer',\n\n\tinitialize: function Layer() {\n\t\tGroup.apply(this, arguments);\n\t},\n\n\t_getOwner: function() {\n\t\treturn this._parent || this._index != null && this._project;\n\t},\n\n\tisInserted: function isInserted() {\n\t\treturn this._parent ? isInserted.base.call(this) : this._index != null;\n\t},\n\n\tactivate: function() {\n\t\tthis._project._activeLayer = this;\n\t},\n\n\t_hitTestSelf: function() {\n\t}\n});\n\nvar Shape = Item.extend({\n\t_class: 'Shape',\n\t_applyMatrix: false,\n\t_canApplyMatrix: false,\n\t_canScaleStroke: true,\n\t_serializeFields: {\n\t\ttype: null,\n\t\tsize: null,\n\t\tradius: null\n\t},\n\n\tinitialize: function Shape(props, point) {\n\t\tthis._initialize(props, point);\n\t},\n\n\t_equals: function(item) {\n\t\treturn this._type === item._type\n\t\t\t&& this._size.equals(item._size)\n\t\t\t&& Base.equals(this._radius, item._radius);\n\t},\n\n\tcopyContent: function(source) {\n\t\tthis.setType(source._type);\n\t\tthis.setSize(source._size);\n\t\tthis.setRadius(source._radius);\n\t},\n\n\tgetType: function() {\n\t\treturn this._type;\n\t},\n\n\tsetType: function(type) {\n\t\tthis._type = type;\n\t},\n\n\tgetShape: '#getType',\n\tsetShape: '#setType',\n\n\tgetSize: function() {\n\t\tvar size = this._size;\n\t\treturn new LinkedSize(size.width, size.height, this, 'setSize');\n\t},\n\n\tsetSize: function() {\n\t\tvar size = Size.read(arguments);\n\t\tif (!this._size) {\n\t\t\tthis._size = size.clone();\n\t\t} else if (!this._size.equals(size)) {\n\t\t\tvar type = this._type,\n\t\t\t\twidth = size.width,\n\t\t\t\theight = size.height;\n\t\t\tif (type === 'rectangle') {\n\t\t\t\tthis._radius.set(Size.min(this._radius, size.divide(2).abs()));\n\t\t\t} else if (type === 'circle') {\n\t\t\t\twidth = height = (width + height) / 2;\n\t\t\t\tthis._radius = width / 2;\n\t\t\t} else if (type === 'ellipse') {\n\t\t\t\tthis._radius._set(width / 2, height / 2);\n\t\t\t}\n\t\t\tthis._size._set(width, height);\n\t\t\tthis._changed(9);\n\t\t}\n\t},\n\n\tgetRadius: function() {\n\t\tvar rad = this._radius;\n\t\treturn this._type === 'circle'\n\t\t\t\t? rad\n\t\t\t\t: new LinkedSize(rad.width, rad.height, this, 'setRadius');\n\t},\n\n\tsetRadius: function(radius) {\n\t\tvar type = this._type;\n\t\tif (type === 'circle') {\n\t\t\tif (radius === this._radius)\n\t\t\t\treturn;\n\t\t\tvar size = radius * 2;\n\t\t\tthis._radius = radius;\n\t\t\tthis._size._set(size, size);\n\t\t} else {\n\t\t\tradius = Size.read(arguments);\n\t\t\tif (!this._radius) {\n\t\t\t\tthis._radius = radius.clone();\n\t\t\t} else {\n\t\t\t\tif (this._radius.equals(radius))\n\t\t\t\t\treturn;\n\t\t\t\tthis._radius.set(radius);\n\t\t\t\tif (type === 'rectangle') {\n\t\t\t\t\tvar size = Size.max(this._size, radius.multiply(2));\n\t\t\t\t\tthis._size.set(size);\n\t\t\t\t} else if (type === 'ellipse') {\n\t\t\t\t\tthis._size._set(radius.width * 2, radius.height * 2);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tthis._changed(9);\n\t},\n\n\tisEmpty: function() {\n\t\treturn false;\n\t},\n\n\ttoPath: function(insert) {\n\t\tvar path = new Path[Base.capitalize(this._type)]({\n\t\t\tcenter: new Point(),\n\t\t\tsize: this._size,\n\t\t\tradius: this._radius,\n\t\t\tinsert: false\n\t\t});\n\t\tpath.copyAttributes(this);\n\t\tif (paper.settings.applyMatrix)\n\t\t\tpath.setApplyMatrix(true);\n\t\tif (insert === undefined || insert)\n\t\t\tpath.insertAbove(this);\n\t\treturn path;\n\t},\n\n\ttoShape: '#clone',\n\n\t_asPathItem: function() {\n\t\treturn this.toPath(false);\n\t},\n\n\t_draw: function(ctx, param, viewMatrix, strokeMatrix) {\n\t\tvar style = this._style,\n\t\t\thasFill = style.hasFill(),\n\t\t\thasStroke = style.hasStroke(),\n\t\t\tdontPaint = param.dontFinish || param.clip,\n\t\t\tuntransformed = !strokeMatrix;\n\t\tif (hasFill || hasStroke || dontPaint) {\n\t\t\tvar type = this._type,\n\t\t\t\tradius = this._radius,\n\t\t\t\tisCircle = type === 'circle';\n\t\t\tif (!param.dontStart)\n\t\t\t\tctx.beginPath();\n\t\t\tif (untransformed && isCircle) {\n\t\t\t\tctx.arc(0, 0, radius, 0, Math.PI * 2, true);\n\t\t\t} else {\n\t\t\t\tvar rx = isCircle ? radius : radius.width,\n\t\t\t\t\try = isCircle ? radius : radius.height,\n\t\t\t\t\tsize = this._size,\n\t\t\t\t\twidth = size.width,\n\t\t\t\t\theight = size.height;\n\t\t\t\tif (untransformed && type === 'rectangle' && rx === 0 && ry === 0) {\n\t\t\t\t\tctx.rect(-width / 2, -height / 2, width, height);\n\t\t\t\t} else {\n\t\t\t\t\tvar x = width / 2,\n\t\t\t\t\t\ty = height / 2,\n\t\t\t\t\t\tkappa = 1 - 0.5522847498307936,\n\t\t\t\t\t\tcx = rx * kappa,\n\t\t\t\t\t\tcy = ry * kappa,\n\t\t\t\t\t\tc = [\n\t\t\t\t\t\t\t-x, -y + ry,\n\t\t\t\t\t\t\t-x, -y + cy,\n\t\t\t\t\t\t\t-x + cx, -y,\n\t\t\t\t\t\t\t-x + rx, -y,\n\t\t\t\t\t\t\tx - rx, -y,\n\t\t\t\t\t\t\tx - cx, -y,\n\t\t\t\t\t\t\tx, -y + cy,\n\t\t\t\t\t\t\tx, -y + ry,\n\t\t\t\t\t\t\tx, y - ry,\n\t\t\t\t\t\t\tx, y - cy,\n\t\t\t\t\t\t\tx - cx, y,\n\t\t\t\t\t\t\tx - rx, y,\n\t\t\t\t\t\t\t-x + rx, y,\n\t\t\t\t\t\t\t-x + cx, y,\n\t\t\t\t\t\t\t-x, y - cy,\n\t\t\t\t\t\t\t-x, y - ry\n\t\t\t\t\t\t];\n\t\t\t\t\tif (strokeMatrix)\n\t\t\t\t\t\tstrokeMatrix.transform(c, c, 32);\n\t\t\t\t\tctx.moveTo(c[0], c[1]);\n\t\t\t\t\tctx.bezierCurveTo(c[2], c[3], c[4], c[5], c[6], c[7]);\n\t\t\t\t\tif (x !== rx)\n\t\t\t\t\t\tctx.lineTo(c[8], c[9]);\n\t\t\t\t\tctx.bezierCurveTo(c[10], c[11], c[12], c[13], c[14], c[15]);\n\t\t\t\t\tif (y !== ry)\n\t\t\t\t\t\tctx.lineTo(c[16], c[17]);\n\t\t\t\t\tctx.bezierCurveTo(c[18], c[19], c[20], c[21], c[22], c[23]);\n\t\t\t\t\tif (x !== rx)\n\t\t\t\t\t\tctx.lineTo(c[24], c[25]);\n\t\t\t\t\tctx.bezierCurveTo(c[26], c[27], c[28], c[29], c[30], c[31]);\n\t\t\t\t}\n\t\t\t}\n\t\t\tctx.closePath();\n\t\t}\n\t\tif (!dontPaint && (hasFill || hasStroke)) {\n\t\t\tthis._setStyles(ctx, param, viewMatrix);\n\t\t\tif (hasFill) {\n\t\t\t\tctx.fill(style.getFillRule());\n\t\t\t\tctx.shadowColor = 'rgba(0,0,0,0)';\n\t\t\t}\n\t\t\tif (hasStroke)\n\t\t\t\tctx.stroke();\n\t\t}\n\t},\n\n\t_canComposite: function() {\n\t\treturn !(this.hasFill() && this.hasStroke());\n\t},\n\n\t_getBounds: function(matrix, options) {\n\t\tvar rect = new Rectangle(this._size).setCenter(0, 0),\n\t\t\tstyle = this._style,\n\t\t\tstrokeWidth = options.stroke && style.hasStroke()\n\t\t\t\t\t&& style.getStrokeWidth();\n\t\tif (matrix)\n\t\t\trect = matrix._transformBounds(rect);\n\t\treturn strokeWidth\n\t\t\t\t? rect.expand(Path._getStrokePadding(strokeWidth,\n\t\t\t\t\tthis._getStrokeMatrix(matrix, options)))\n\t\t\t\t: rect;\n\t}\n},\nnew function() {\n\tfunction getCornerCenter(that, point, expand) {\n\t\tvar radius = that._radius;\n\t\tif (!radius.isZero()) {\n\t\t\tvar halfSize = that._size.divide(2);\n\t\t\tfor (var q = 1; q <= 4; q++) {\n\t\t\t\tvar dir = new Point(q > 1 && q < 4 ? -1 : 1, q > 2 ? -1 : 1),\n\t\t\t\t\tcorner = dir.multiply(halfSize),\n\t\t\t\t\tcenter = corner.subtract(dir.multiply(radius)),\n\t\t\t\t\trect = new Rectangle(\n\t\t\t\t\t\t\texpand ? corner.add(dir.multiply(expand)) : corner,\n\t\t\t\t\t\t\tcenter);\n\t\t\t\tif (rect.contains(point))\n\t\t\t\t\treturn { point: center, quadrant: q };\n\t\t\t}\n\t\t}\n\t}\n\n\tfunction isOnEllipseStroke(point, radius, padding, quadrant) {\n\t\tvar vector = point.divide(radius);\n\t\treturn (!quadrant || vector.isInQuadrant(quadrant)) &&\n\t\t\t\tvector.subtract(vector.normalize()).multiply(radius)\n\t\t\t\t\t.divide(padding).length <= 1;\n\t}\n\n\treturn {\n\t\t_contains: function _contains(point) {\n\t\t\tif (this._type === 'rectangle') {\n\t\t\t\tvar center = getCornerCenter(this, point);\n\t\t\t\treturn center\n\t\t\t\t\t\t? point.subtract(center.point).divide(this._radius)\n\t\t\t\t\t\t\t.getLength() <= 1\n\t\t\t\t\t\t: _contains.base.call(this, point);\n\t\t\t} else {\n\t\t\t\treturn point.divide(this.size).getLength() <= 0.5;\n\t\t\t}\n\t\t},\n\n\t\t_hitTestSelf: function _hitTestSelf(point, options, viewMatrix,\n\t\t\t\tstrokeMatrix) {\n\t\t\tvar hit = false,\n\t\t\t\tstyle = this._style,\n\t\t\t\thitStroke = options.stroke && style.hasStroke(),\n\t\t\t\thitFill = options.fill && style.hasFill();\n\t\t\tif (hitStroke || hitFill) {\n\t\t\t\tvar type = this._type,\n\t\t\t\t\tradius = this._radius,\n\t\t\t\t\tstrokeRadius = hitStroke ? style.getStrokeWidth() / 2 : 0,\n\t\t\t\t\tstrokePadding = options._tolerancePadding.add(\n\t\t\t\t\t\tPath._getStrokePadding(strokeRadius,\n\t\t\t\t\t\t\t!style.getStrokeScaling() && strokeMatrix));\n\t\t\t\tif (type === 'rectangle') {\n\t\t\t\t\tvar padding = strokePadding.multiply(2),\n\t\t\t\t\t\tcenter = getCornerCenter(this, point, padding);\n\t\t\t\t\tif (center) {\n\t\t\t\t\t\thit = isOnEllipseStroke(point.subtract(center.point),\n\t\t\t\t\t\t\t\tradius, strokePadding, center.quadrant);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tvar rect = new Rectangle(this._size).setCenter(0, 0),\n\t\t\t\t\t\t\touter = rect.expand(padding),\n\t\t\t\t\t\t\tinner = rect.expand(padding.negate());\n\t\t\t\t\t\thit = outer._containsPoint(point)\n\t\t\t\t\t\t\t\t&& !inner._containsPoint(point);\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\thit = isOnEllipseStroke(point, radius, strokePadding);\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn hit ? new HitResult(hitStroke ? 'stroke' : 'fill', this)\n\t\t\t\t\t: _hitTestSelf.base.apply(this, arguments);\n\t\t}\n\t};\n}, {\n\nstatics: new function() {\n\tfunction createShape(type, point, size, radius, args) {\n\t\tvar item = Base.create(Shape.prototype);\n\t\titem._type = type;\n\t\titem._size = size;\n\t\titem._radius = radius;\n\t\titem._initialize(Base.getNamed(args), point);\n\t\treturn item;\n\t}\n\n\treturn {\n\t\tCircle: function() {\n\t\t\tvar args = arguments,\n\t\t\t\tcenter = Point.readNamed(args, 'center'),\n\t\t\t\tradius = Base.readNamed(args, 'radius');\n\t\t\treturn createShape('circle', center, new Size(radius * 2), radius,\n\t\t\t\t\targs);\n\t\t},\n\n\t\tRectangle: function() {\n\t\t\tvar args = arguments,\n\t\t\t\trect = Rectangle.readNamed(args, 'rectangle'),\n\t\t\t\tradius = Size.min(Size.readNamed(args, 'radius'),\n\t\t\t\t\t\trect.getSize(true).divide(2));\n\t\t\treturn createShape('rectangle', rect.getCenter(true),\n\t\t\t\t\trect.getSize(true), radius, args);\n\t\t},\n\n\t\tEllipse: function() {\n\t\t\tvar args = arguments,\n\t\t\t\tellipse = Shape._readEllipse(args),\n\t\t\t\tradius = ellipse.radius;\n\t\t\treturn createShape('ellipse', ellipse.center, radius.multiply(2),\n\t\t\t\t\tradius, args);\n\t\t},\n\n\t\t_readEllipse: function(args) {\n\t\t\tvar center,\n\t\t\t\tradius;\n\t\t\tif (Base.hasNamed(args, 'radius')) {\n\t\t\t\tcenter = Point.readNamed(args, 'center');\n\t\t\t\tradius = Size.readNamed(args, 'radius');\n\t\t\t} else {\n\t\t\t\tvar rect = Rectangle.readNamed(args, 'rectangle');\n\t\t\t\tcenter = rect.getCenter(true);\n\t\t\t\tradius = rect.getSize(true).divide(2);\n\t\t\t}\n\t\t\treturn { center: center, radius: radius };\n\t\t}\n\t};\n}});\n\nvar Raster = Item.extend({\n\t_class: 'Raster',\n\t_applyMatrix: false,\n\t_canApplyMatrix: false,\n\t_boundsOptions: { stroke: false, handle: false },\n\t_serializeFields: {\n\t\tcrossOrigin: null,\n\t\tsource: null\n\t},\n\t_prioritize: ['crossOrigin'],\n\t_smoothing: 'low',\n\tbeans: true,\n\n\tinitialize: function Raster(source, position) {\n\t\tif (!this._initialize(source,\n\t\t\t\tposition !== undefined && Point.read(arguments))) {\n\t\t\tvar image,\n\t\t\t\ttype = typeof source,\n\t\t\t\tobject = type === 'string'\n\t\t\t\t\t? document.getElementById(source)\n\t\t\t\t\t: type  === 'object'\n\t\t\t\t\t\t? source\n\t\t\t\t\t\t: null;\n\t\t\tif (object && object !== Item.NO_INSERT) {\n\t\t\t\tif (object.getContext || object.naturalHeight != null) {\n\t\t\t\t\timage = object;\n\t\t\t\t} else if (object) {\n\t\t\t\t\tvar size = Size.read(arguments);\n\t\t\t\t\tif (!size.isZero()) {\n\t\t\t\t\t\timage = CanvasProvider.getCanvas(size);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (image) {\n\t\t\t\tthis.setImage(image);\n\t\t\t} else {\n\t\t\t\tthis.setSource(source);\n\t\t\t}\n\t\t}\n\t\tif (!this._size) {\n\t\t\tthis._size = new Size();\n\t\t\tthis._loaded = false;\n\t\t}\n\t},\n\n\t_equals: function(item) {\n\t\treturn this.getSource() === item.getSource();\n\t},\n\n\tcopyContent: function(source) {\n\t\tvar image = source._image,\n\t\t\tcanvas = source._canvas;\n\t\tif (image) {\n\t\t\tthis._setImage(image);\n\t\t} else if (canvas) {\n\t\t\tvar copyCanvas = CanvasProvider.getCanvas(source._size);\n\t\t\tcopyCanvas.getContext('2d').drawImage(canvas, 0, 0);\n\t\t\tthis._setImage(copyCanvas);\n\t\t}\n\t\tthis._crossOrigin = source._crossOrigin;\n\t},\n\n\tgetSize: function() {\n\t\tvar size = this._size;\n\t\treturn new LinkedSize(size ? size.width : 0, size ? size.height : 0,\n\t\t\t\tthis, 'setSize');\n\t},\n\n\tsetSize: function(_size, _clear) {\n\t\tvar size = Size.read(arguments);\n\t\tif (!size.equals(this._size)) {\n\t\t\tif (size.width > 0 && size.height > 0) {\n\t\t\t\tvar element = !_clear && this.getElement();\n\t\t\t\tthis._setImage(CanvasProvider.getCanvas(size));\n\t\t\t\tif (element) {\n\t\t\t\t\tthis.getContext(true).drawImage(element, 0, 0,\n\t\t\t\t\t\t\tsize.width, size.height);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tif (this._canvas)\n\t\t\t\t\tCanvasProvider.release(this._canvas);\n\t\t\t\tthis._size = size.clone();\n\t\t\t}\n\t\t} else if (_clear) {\n\t\t\tthis.clear();\n\t\t}\n\t},\n\n\tgetWidth: function() {\n\t\treturn this._size ? this._size.width : 0;\n\t},\n\n\tsetWidth: function(width) {\n\t\tthis.setSize(width, this.getHeight());\n\t},\n\n\tgetHeight: function() {\n\t\treturn this._size ? this._size.height : 0;\n\t},\n\n\tsetHeight: function(height) {\n\t\tthis.setSize(this.getWidth(), height);\n\t},\n\n\tgetLoaded: function() {\n\t\treturn this._loaded;\n\t},\n\n\tisEmpty: function() {\n\t\tvar size = this._size;\n\t\treturn !size || size.width === 0 && size.height === 0;\n\t},\n\n\tgetResolution: function() {\n\t\tvar matrix = this._matrix,\n\t\t\torig = new Point(0, 0).transform(matrix),\n\t\t\tu = new Point(1, 0).transform(matrix).subtract(orig),\n\t\t\tv = new Point(0, 1).transform(matrix).subtract(orig);\n\t\treturn new Size(\n\t\t\t72 / u.getLength(),\n\t\t\t72 / v.getLength()\n\t\t);\n\t},\n\n\tgetPpi: '#getResolution',\n\n\tgetImage: function() {\n\t\treturn this._image;\n\t},\n\n\tsetImage: function(image) {\n\t\tvar that = this;\n\n\t\tfunction emit(event) {\n\t\t\tvar view = that.getView(),\n\t\t\t\ttype = event && event.type || 'load';\n\t\t\tif (view && that.responds(type)) {\n\t\t\t\tpaper = view._scope;\n\t\t\t\tthat.emit(type, new Event(event));\n\t\t\t}\n\t\t}\n\n\t\tthis._setImage(image);\n\t\tif (this._loaded) {\n\t\t\tsetTimeout(emit, 0);\n\t\t} else if (image) {\n\t\t\tDomEvent.add(image, {\n\t\t\t\tload: function(event) {\n\t\t\t\t\tthat._setImage(image);\n\t\t\t\t\temit(event);\n\t\t\t\t},\n\t\t\t\terror: emit\n\t\t\t});\n\t\t}\n\t},\n\n\t_setImage: function(image) {\n\t\tif (this._canvas)\n\t\t\tCanvasProvider.release(this._canvas);\n\t\tif (image && image.getContext) {\n\t\t\tthis._image = null;\n\t\t\tthis._canvas = image;\n\t\t\tthis._loaded = true;\n\t\t} else {\n\t\t\tthis._image = image;\n\t\t\tthis._canvas = null;\n\t\t\tthis._loaded = !!(image && image.src && image.complete);\n\t\t}\n\t\tthis._size = new Size(\n\t\t\t\timage ? image.naturalWidth || image.width : 0,\n\t\t\t\timage ? image.naturalHeight || image.height : 0);\n\t\tthis._context = null;\n\t\tthis._changed(1033);\n\t},\n\n\tgetCanvas: function() {\n\t\tif (!this._canvas) {\n\t\t\tvar ctx = CanvasProvider.getContext(this._size);\n\t\t\ttry {\n\t\t\t\tif (this._image)\n\t\t\t\t\tctx.drawImage(this._image, 0, 0);\n\t\t\t\tthis._canvas = ctx.canvas;\n\t\t\t} catch (e) {\n\t\t\t\tCanvasProvider.release(ctx);\n\t\t\t}\n\t\t}\n\t\treturn this._canvas;\n\t},\n\n\tsetCanvas: '#setImage',\n\n\tgetContext: function(_change) {\n\t\tif (!this._context)\n\t\t\tthis._context = this.getCanvas().getContext('2d');\n\t\tif (_change) {\n\t\t\tthis._image = null;\n\t\t\tthis._changed(1025);\n\t\t}\n\t\treturn this._context;\n\t},\n\n\tsetContext: function(context) {\n\t\tthis._context = context;\n\t},\n\n\tgetSource: function() {\n\t\tvar image = this._image;\n\t\treturn image && image.src || this.toDataURL();\n\t},\n\n\tsetSource: function(src) {\n\t\tvar image = new self.Image(),\n\t\t\tcrossOrigin = this._crossOrigin;\n\t\tif (crossOrigin)\n\t\t\timage.crossOrigin = crossOrigin;\n\t\tif (src)\n\t\t\timage.src = src;\n\t\tthis.setImage(image);\n\t},\n\n\tgetCrossOrigin: function() {\n\t\tvar image = this._image;\n\t\treturn image && image.crossOrigin || this._crossOrigin || '';\n\t},\n\n\tsetCrossOrigin: function(crossOrigin) {\n\t\tthis._crossOrigin = crossOrigin;\n\t\tvar image = this._image;\n\t\tif (image)\n\t\t\timage.crossOrigin = crossOrigin;\n\t},\n\n\tgetSmoothing: function() {\n\t\treturn this._smoothing;\n\t},\n\n\tsetSmoothing: function(smoothing) {\n\t\tthis._smoothing = typeof smoothing === 'string'\n\t\t\t? smoothing\n\t\t\t: smoothing ? 'low' : 'off';\n\t\tthis._changed(257);\n\t},\n\n\tgetElement: function() {\n\t\treturn this._canvas || this._loaded && this._image;\n\t}\n}, {\n\tbeans: false,\n\n\tgetSubCanvas: function() {\n\t\tvar rect = Rectangle.read(arguments),\n\t\t\tctx = CanvasProvider.getContext(rect.getSize());\n\t\tctx.drawImage(this.getCanvas(), rect.x, rect.y,\n\t\t\t\trect.width, rect.height, 0, 0, rect.width, rect.height);\n\t\treturn ctx.canvas;\n\t},\n\n\tgetSubRaster: function() {\n\t\tvar rect = Rectangle.read(arguments),\n\t\t\traster = new Raster(Item.NO_INSERT);\n\t\traster._setImage(this.getSubCanvas(rect));\n\t\traster.translate(rect.getCenter().subtract(this.getSize().divide(2)));\n\t\traster._matrix.prepend(this._matrix);\n\t\traster.insertAbove(this);\n\t\treturn raster;\n\t},\n\n\ttoDataURL: function() {\n\t\tvar image = this._image,\n\t\t\tsrc = image && image.src;\n\t\tif (/^data:/.test(src))\n\t\t\treturn src;\n\t\tvar canvas = this.getCanvas();\n\t\treturn canvas ? canvas.toDataURL.apply(canvas, arguments) : null;\n\t},\n\n\tdrawImage: function(image ) {\n\t\tvar point = Point.read(arguments, 1);\n\t\tthis.getContext(true).drawImage(image, point.x, point.y);\n\t},\n\n\tgetAverageColor: function(object) {\n\t\tvar bounds, path;\n\t\tif (!object) {\n\t\t\tbounds = this.getBounds();\n\t\t} else if (object instanceof PathItem) {\n\t\t\tpath = object;\n\t\t\tbounds = object.getBounds();\n\t\t} else if (typeof object === 'object') {\n\t\t\tif ('width' in object) {\n\t\t\t\tbounds = new Rectangle(object);\n\t\t\t} else if ('x' in object) {\n\t\t\t\tbounds = new Rectangle(object.x - 0.5, object.y - 0.5, 1, 1);\n\t\t\t}\n\t\t}\n\t\tif (!bounds)\n\t\t\treturn null;\n\t\tvar sampleSize = 32,\n\t\t\twidth = Math.min(bounds.width, sampleSize),\n\t\t\theight = Math.min(bounds.height, sampleSize);\n\t\tvar ctx = Raster._sampleContext;\n\t\tif (!ctx) {\n\t\t\tctx = Raster._sampleContext = CanvasProvider.getContext(\n\t\t\t\t\tnew Size(sampleSize));\n\t\t} else {\n\t\t\tctx.clearRect(0, 0, sampleSize + 1, sampleSize + 1);\n\t\t}\n\t\tctx.save();\n\t\tvar matrix = new Matrix()\n\t\t\t\t.scale(width / bounds.width, height / bounds.height)\n\t\t\t\t.translate(-bounds.x, -bounds.y);\n\t\tmatrix.applyToContext(ctx);\n\t\tif (path)\n\t\t\tpath.draw(ctx, new Base({ clip: true, matrices: [matrix] }));\n\t\tthis._matrix.applyToContext(ctx);\n\t\tvar element = this.getElement(),\n\t\t\tsize = this._size;\n\t\tif (element)\n\t\t\tctx.drawImage(element, -size.width / 2, -size.height / 2);\n\t\tctx.restore();\n\t\tvar pixels = ctx.getImageData(0.5, 0.5, Math.ceil(width),\n\t\t\t\tMath.ceil(height)).data,\n\t\t\tchannels = [0, 0, 0],\n\t\t\ttotal = 0;\n\t\tfor (var i = 0, l = pixels.length; i < l; i += 4) {\n\t\t\tvar alpha = pixels[i + 3];\n\t\t\ttotal += alpha;\n\t\t\talpha /= 255;\n\t\t\tchannels[0] += pixels[i] * alpha;\n\t\t\tchannels[1] += pixels[i + 1] * alpha;\n\t\t\tchannels[2] += pixels[i + 2] * alpha;\n\t\t}\n\t\tfor (var i = 0; i < 3; i++)\n\t\t\tchannels[i] /= total;\n\t\treturn total ? Color.read(channels) : null;\n\t},\n\n\tgetPixel: function() {\n\t\tvar point = Point.read(arguments);\n\t\tvar data = this.getContext().getImageData(point.x, point.y, 1, 1).data;\n\t\treturn new Color('rgb', [data[0] / 255, data[1] / 255, data[2] / 255],\n\t\t\t\tdata[3] / 255);\n\t},\n\n\tsetPixel: function() {\n\t\tvar args = arguments,\n\t\t\tpoint = Point.read(args),\n\t\t\tcolor = Color.read(args),\n\t\t\tcomponents = color._convert('rgb'),\n\t\t\talpha = color._alpha,\n\t\t\tctx = this.getContext(true),\n\t\t\timageData = ctx.createImageData(1, 1),\n\t\t\tdata = imageData.data;\n\t\tdata[0] = components[0] * 255;\n\t\tdata[1] = components[1] * 255;\n\t\tdata[2] = components[2] * 255;\n\t\tdata[3] = alpha != null ? alpha * 255 : 255;\n\t\tctx.putImageData(imageData, point.x, point.y);\n\t},\n\n\tclear: function() {\n\t\tvar size = this._size;\n\t\tthis.getContext(true).clearRect(0, 0, size.width + 1, size.height + 1);\n\t},\n\n\tcreateImageData: function() {\n\t\tvar size = Size.read(arguments);\n\t\treturn this.getContext().createImageData(size.width, size.height);\n\t},\n\n\tgetImageData: function() {\n\t\tvar rect = Rectangle.read(arguments);\n\t\tif (rect.isEmpty())\n\t\t\trect = new Rectangle(this._size);\n\t\treturn this.getContext().getImageData(rect.x, rect.y,\n\t\t\t\trect.width, rect.height);\n\t},\n\n\tputImageData: function(data ) {\n\t\tvar point = Point.read(arguments, 1);\n\t\tthis.getContext(true).putImageData(data, point.x, point.y);\n\t},\n\n\tsetImageData: function(data) {\n\t\tthis.setSize(data);\n\t\tthis.getContext(true).putImageData(data, 0, 0);\n\t},\n\n\t_getBounds: function(matrix, options) {\n\t\tvar rect = new Rectangle(this._size).setCenter(0, 0);\n\t\treturn matrix ? matrix._transformBounds(rect) : rect;\n\t},\n\n\t_hitTestSelf: function(point) {\n\t\tif (this._contains(point)) {\n\t\t\tvar that = this;\n\t\t\treturn new HitResult('pixel', that, {\n\t\t\t\toffset: point.add(that._size.divide(2)).round(),\n\t\t\t\tcolor: {\n\t\t\t\t\tget: function() {\n\t\t\t\t\t\treturn that.getPixel(this.offset);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t},\n\n\t_draw: function(ctx, param, viewMatrix) {\n\t\tvar element = this.getElement();\n\t\tif (element && element.width > 0 && element.height > 0) {\n\t\t\tctx.globalAlpha = Numerical.clamp(this._opacity, 0, 1);\n\n\t\t\tthis._setStyles(ctx, param, viewMatrix);\n\n\t\t\tvar smoothing = this._smoothing,\n\t\t\t\tdisabled = smoothing === 'off';\n\t\t\tDomElement.setPrefixed(\n\t\t\t\tctx,\n\t\t\t\tdisabled ? 'imageSmoothingEnabled' : 'imageSmoothingQuality',\n\t\t\t\tdisabled ? false : smoothing\n\t\t\t);\n\n\t\t\tctx.drawImage(element,\n\t\t\t\t\t-this._size.width / 2, -this._size.height / 2);\n\t\t}\n\t},\n\n\t_canComposite: function() {\n\t\treturn true;\n\t}\n});\n\nvar SymbolItem = Item.extend({\n\t_class: 'SymbolItem',\n\t_applyMatrix: false,\n\t_canApplyMatrix: false,\n\t_boundsOptions: { stroke: true },\n\t_serializeFields: {\n\t\tsymbol: null\n\t},\n\n\tinitialize: function SymbolItem(arg0, arg1) {\n\t\tif (!this._initialize(arg0,\n\t\t\t\targ1 !== undefined && Point.read(arguments, 1)))\n\t\t\tthis.setDefinition(arg0 instanceof SymbolDefinition ?\n\t\t\t\t\targ0 : new SymbolDefinition(arg0));\n\t},\n\n\t_equals: function(item) {\n\t\treturn this._definition === item._definition;\n\t},\n\n\tcopyContent: function(source) {\n\t\tthis.setDefinition(source._definition);\n\t},\n\n\tgetDefinition: function() {\n\t\treturn this._definition;\n\t},\n\n\tsetDefinition: function(definition) {\n\t\tthis._definition = definition;\n\t\tthis._changed(9);\n\t},\n\n\tgetSymbol: '#getDefinition',\n\tsetSymbol: '#setDefinition',\n\n\tisEmpty: function() {\n\t\treturn this._definition._item.isEmpty();\n\t},\n\n\t_getBounds: function(matrix, options) {\n\t\tvar item = this._definition._item;\n\t\treturn item._getCachedBounds(item._matrix.prepended(matrix), options);\n\t},\n\n\t_hitTestSelf: function(point, options, viewMatrix) {\n\t\tvar opts = options.extend({ all: false });\n\t\tvar res = this._definition._item._hitTest(point, opts, viewMatrix);\n\t\tif (res)\n\t\t\tres.item = this;\n\t\treturn res;\n\t},\n\n\t_draw: function(ctx, param) {\n\t\tthis._definition._item.draw(ctx, param);\n\t}\n\n});\n\nvar SymbolDefinition = Base.extend({\n\t_class: 'SymbolDefinition',\n\n\tinitialize: function SymbolDefinition(item, dontCenter) {\n\t\tthis._id = UID.get();\n\t\tthis.project = paper.project;\n\t\tif (item)\n\t\t\tthis.setItem(item, dontCenter);\n\t},\n\n\t_serialize: function(options, dictionary) {\n\t\treturn dictionary.add(this, function() {\n\t\t\treturn Base.serialize([this._class, this._item],\n\t\t\t\t\toptions, false, dictionary);\n\t\t});\n\t},\n\n\t_changed: function(flags) {\n\t\tif (flags & 8)\n\t\t\tItem._clearBoundsCache(this);\n\t\tif (flags & 1)\n\t\t\tthis.project._changed(flags);\n\t},\n\n\tgetItem: function() {\n\t\treturn this._item;\n\t},\n\n\tsetItem: function(item, _dontCenter) {\n\t\tif (item._symbol)\n\t\t\titem = item.clone();\n\t\tif (this._item)\n\t\t\tthis._item._symbol = null;\n\t\tthis._item = item;\n\t\titem.remove();\n\t\titem.setSelected(false);\n\t\tif (!_dontCenter)\n\t\t\titem.setPosition(new Point());\n\t\titem._symbol = this;\n\t\tthis._changed(9);\n\t},\n\n\tgetDefinition: '#getItem',\n\tsetDefinition: '#setItem',\n\n\tplace: function(position) {\n\t\treturn new SymbolItem(this, position);\n\t},\n\n\tclone: function() {\n\t\treturn new SymbolDefinition(this._item.clone(false));\n\t},\n\n\tequals: function(symbol) {\n\t\treturn symbol === this\n\t\t\t\t|| symbol && this._item.equals(symbol._item)\n\t\t\t\t|| false;\n\t}\n});\n\nvar HitResult = Base.extend({\n\t_class: 'HitResult',\n\n\tinitialize: function HitResult(type, item, values) {\n\t\tthis.type = type;\n\t\tthis.item = item;\n\t\tif (values)\n\t\t\tthis.inject(values);\n\t},\n\n\tstatics: {\n\t\tgetOptions: function(args) {\n\t\t\tvar options = args && Base.read(args);\n\t\t\treturn new Base({\n\t\t\t\ttype: null,\n\t\t\t\ttolerance: paper.settings.hitTolerance,\n\t\t\t\tfill: !options,\n\t\t\t\tstroke: !options,\n\t\t\t\tsegments: !options,\n\t\t\t\thandles: false,\n\t\t\t\tends: false,\n\t\t\t\tposition: false,\n\t\t\t\tcenter: false,\n\t\t\t\tbounds: false,\n\t\t\t\tguides: false,\n\t\t\t\tselected: false\n\t\t\t}, options);\n\t\t}\n\t}\n});\n\nvar Segment = Base.extend({\n\t_class: 'Segment',\n\tbeans: true,\n\t_selection: 0,\n\n\tinitialize: function Segment(arg0, arg1, arg2, arg3, arg4, arg5) {\n\t\tvar count = arguments.length,\n\t\t\tpoint, handleIn, handleOut, selection;\n\t\tif (count > 0) {\n\t\t\tif (arg0 == null || typeof arg0 === 'object') {\n\t\t\t\tif (count === 1 && arg0 && 'point' in arg0) {\n\t\t\t\t\tpoint = arg0.point;\n\t\t\t\t\thandleIn = arg0.handleIn;\n\t\t\t\t\thandleOut = arg0.handleOut;\n\t\t\t\t\tselection = arg0.selection;\n\t\t\t\t} else {\n\t\t\t\t\tpoint = arg0;\n\t\t\t\t\thandleIn = arg1;\n\t\t\t\t\thandleOut = arg2;\n\t\t\t\t\tselection = arg3;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tpoint = [ arg0, arg1 ];\n\t\t\t\thandleIn = arg2 !== undefined ? [ arg2, arg3 ] : null;\n\t\t\t\thandleOut = arg4 !== undefined ? [ arg4, arg5 ] : null;\n\t\t\t}\n\t\t}\n\t\tnew SegmentPoint(point, this, '_point');\n\t\tnew SegmentPoint(handleIn, this, '_handleIn');\n\t\tnew SegmentPoint(handleOut, this, '_handleOut');\n\t\tif (selection)\n\t\t\tthis.setSelection(selection);\n\t},\n\n\t_serialize: function(options, dictionary) {\n\t\tvar point = this._point,\n\t\t\tselection = this._selection,\n\t\t\tobj = selection || this.hasHandles()\n\t\t\t\t\t? [point, this._handleIn, this._handleOut]\n\t\t\t\t\t: point;\n\t\tif (selection)\n\t\t\tobj.push(selection);\n\t\treturn Base.serialize(obj, options, true, dictionary);\n\t},\n\n\t_changed: function(point) {\n\t\tvar path = this._path;\n\t\tif (!path)\n\t\t\treturn;\n\t\tvar curves = path._curves,\n\t\t\tindex = this._index,\n\t\t\tcurve;\n\t\tif (curves) {\n\t\t\tif ((!point || point === this._point || point === this._handleIn)\n\t\t\t\t\t&& (curve = index > 0 ? curves[index - 1] : path._closed\n\t\t\t\t\t\t? curves[curves.length - 1] : null))\n\t\t\t\tcurve._changed();\n\t\t\tif ((!point || point === this._point || point === this._handleOut)\n\t\t\t\t\t&& (curve = curves[index]))\n\t\t\t\tcurve._changed();\n\t\t}\n\t\tpath._changed(41);\n\t},\n\n\tgetPoint: function() {\n\t\treturn this._point;\n\t},\n\n\tsetPoint: function() {\n\t\tthis._point.set(Point.read(arguments));\n\t},\n\n\tgetHandleIn: function() {\n\t\treturn this._handleIn;\n\t},\n\n\tsetHandleIn: function() {\n\t\tthis._handleIn.set(Point.read(arguments));\n\t},\n\n\tgetHandleOut: function() {\n\t\treturn this._handleOut;\n\t},\n\n\tsetHandleOut: function() {\n\t\tthis._handleOut.set(Point.read(arguments));\n\t},\n\n\thasHandles: function() {\n\t\treturn !this._handleIn.isZero() || !this._handleOut.isZero();\n\t},\n\n\tisSmooth: function() {\n\t\tvar handleIn = this._handleIn,\n\t\t\thandleOut = this._handleOut;\n\t\treturn !handleIn.isZero() && !handleOut.isZero()\n\t\t\t\t&& handleIn.isCollinear(handleOut);\n\t},\n\n\tclearHandles: function() {\n\t\tthis._handleIn._set(0, 0);\n\t\tthis._handleOut._set(0, 0);\n\t},\n\n\tgetSelection: function() {\n\t\treturn this._selection;\n\t},\n\n\tsetSelection: function(selection) {\n\t\tvar oldSelection = this._selection,\n\t\t\tpath = this._path;\n\t\tthis._selection = selection = selection || 0;\n\t\tif (path && selection !== oldSelection) {\n\t\t\tpath._updateSelection(this, oldSelection, selection);\n\t\t\tpath._changed(257);\n\t\t}\n\t},\n\n\t_changeSelection: function(flag, selected) {\n\t\tvar selection = this._selection;\n\t\tthis.setSelection(selected ? selection | flag : selection & ~flag);\n\t},\n\n\tisSelected: function() {\n\t\treturn !!(this._selection & 7);\n\t},\n\n\tsetSelected: function(selected) {\n\t\tthis._changeSelection(7, selected);\n\t},\n\n\tgetIndex: function() {\n\t\treturn this._index !== undefined ? this._index : null;\n\t},\n\n\tgetPath: function() {\n\t\treturn this._path || null;\n\t},\n\n\tgetCurve: function() {\n\t\tvar path = this._path,\n\t\t\tindex = this._index;\n\t\tif (path) {\n\t\t\tif (index > 0 && !path._closed\n\t\t\t\t\t&& index === path._segments.length - 1)\n\t\t\t\tindex--;\n\t\t\treturn path.getCurves()[index] || null;\n\t\t}\n\t\treturn null;\n\t},\n\n\tgetLocation: function() {\n\t\tvar curve = this.getCurve();\n\t\treturn curve\n\t\t\t\t? new CurveLocation(curve, this === curve._segment1 ? 0 : 1)\n\t\t\t\t: null;\n\t},\n\n\tgetNext: function() {\n\t\tvar segments = this._path && this._path._segments;\n\t\treturn segments && (segments[this._index + 1]\n\t\t\t\t|| this._path._closed && segments[0]) || null;\n\t},\n\n\tsmooth: function(options, _first, _last) {\n\t\tvar opts = options || {},\n\t\t\ttype = opts.type,\n\t\t\tfactor = opts.factor,\n\t\t\tprev = this.getPrevious(),\n\t\t\tnext = this.getNext(),\n\t\t\tp0 = (prev || this)._point,\n\t\t\tp1 = this._point,\n\t\t\tp2 = (next || this)._point,\n\t\t\td1 = p0.getDistance(p1),\n\t\t\td2 = p1.getDistance(p2);\n\t\tif (!type || type === 'catmull-rom') {\n\t\t\tvar a = factor === undefined ? 0.5 : factor,\n\t\t\t\td1_a = Math.pow(d1, a),\n\t\t\t\td1_2a = d1_a * d1_a,\n\t\t\t\td2_a = Math.pow(d2, a),\n\t\t\t\td2_2a = d2_a * d2_a;\n\t\t\tif (!_first && prev) {\n\t\t\t\tvar A = 2 * d2_2a + 3 * d2_a * d1_a + d1_2a,\n\t\t\t\t\tN = 3 * d2_a * (d2_a + d1_a);\n\t\t\t\tthis.setHandleIn(N !== 0\n\t\t\t\t\t? new Point(\n\t\t\t\t\t\t(d2_2a * p0._x + A * p1._x - d1_2a * p2._x) / N - p1._x,\n\t\t\t\t\t\t(d2_2a * p0._y + A * p1._y - d1_2a * p2._y) / N - p1._y)\n\t\t\t\t\t: new Point());\n\t\t\t}\n\t\t\tif (!_last && next) {\n\t\t\t\tvar A = 2 * d1_2a + 3 * d1_a * d2_a + d2_2a,\n\t\t\t\t\tN = 3 * d1_a * (d1_a + d2_a);\n\t\t\t\tthis.setHandleOut(N !== 0\n\t\t\t\t\t? new Point(\n\t\t\t\t\t\t(d1_2a * p2._x + A * p1._x - d2_2a * p0._x) / N - p1._x,\n\t\t\t\t\t\t(d1_2a * p2._y + A * p1._y - d2_2a * p0._y) / N - p1._y)\n\t\t\t\t\t: new Point());\n\t\t\t}\n\t\t} else if (type === 'geometric') {\n\t\t\tif (prev && next) {\n\t\t\t\tvar vector = p0.subtract(p2),\n\t\t\t\t\tt = factor === undefined ? 0.4 : factor,\n\t\t\t\t\tk = t * d1 / (d1 + d2);\n\t\t\t\tif (!_first)\n\t\t\t\t\tthis.setHandleIn(vector.multiply(k));\n\t\t\t\tif (!_last)\n\t\t\t\t\tthis.setHandleOut(vector.multiply(k - t));\n\t\t\t}\n\t\t} else {\n\t\t\tthrow new Error('Smoothing method \\'' + type + '\\' not supported.');\n\t\t}\n\t},\n\n\tgetPrevious: function() {\n\t\tvar segments = this._path && this._path._segments;\n\t\treturn segments && (segments[this._index - 1]\n\t\t\t\t|| this._path._closed && segments[segments.length - 1]) || null;\n\t},\n\n\tisFirst: function() {\n\t\treturn !this._index;\n\t},\n\n\tisLast: function() {\n\t\tvar path = this._path;\n\t\treturn path && this._index === path._segments.length - 1 || false;\n\t},\n\n\treverse: function() {\n\t\tvar handleIn = this._handleIn,\n\t\t\thandleOut = this._handleOut,\n\t\t\ttmp = handleIn.clone();\n\t\thandleIn.set(handleOut);\n\t\thandleOut.set(tmp);\n\t},\n\n\treversed: function() {\n\t\treturn new Segment(this._point, this._handleOut, this._handleIn);\n\t},\n\n\tremove: function() {\n\t\treturn this._path ? !!this._path.removeSegment(this._index) : false;\n\t},\n\n\tclone: function() {\n\t\treturn new Segment(this._point, this._handleIn, this._handleOut);\n\t},\n\n\tequals: function(segment) {\n\t\treturn segment === this || segment && this._class === segment._class\n\t\t\t\t&& this._point.equals(segment._point)\n\t\t\t\t&& this._handleIn.equals(segment._handleIn)\n\t\t\t\t&& this._handleOut.equals(segment._handleOut)\n\t\t\t\t|| false;\n\t},\n\n\ttoString: function() {\n\t\tvar parts = [ 'point: ' + this._point ];\n\t\tif (!this._handleIn.isZero())\n\t\t\tparts.push('handleIn: ' + this._handleIn);\n\t\tif (!this._handleOut.isZero())\n\t\t\tparts.push('handleOut: ' + this._handleOut);\n\t\treturn '{ ' + parts.join(', ') + ' }';\n\t},\n\n\ttransform: function(matrix) {\n\t\tthis._transformCoordinates(matrix, new Array(6), true);\n\t\tthis._changed();\n\t},\n\n\tinterpolate: function(from, to, factor) {\n\t\tvar u = 1 - factor,\n\t\t\tv = factor,\n\t\t\tpoint1 = from._point,\n\t\t\tpoint2 = to._point,\n\t\t\thandleIn1 = from._handleIn,\n\t\t\thandleIn2 = to._handleIn,\n\t\t\thandleOut2 = to._handleOut,\n\t\t\thandleOut1 = from._handleOut;\n\t\tthis._point._set(\n\t\t\t\tu * point1._x + v * point2._x,\n\t\t\t\tu * point1._y + v * point2._y, true);\n\t\tthis._handleIn._set(\n\t\t\t\tu * handleIn1._x + v * handleIn2._x,\n\t\t\t\tu * handleIn1._y + v * handleIn2._y, true);\n\t\tthis._handleOut._set(\n\t\t\t\tu * handleOut1._x + v * handleOut2._x,\n\t\t\t\tu * handleOut1._y + v * handleOut2._y, true);\n\t\tthis._changed();\n\t},\n\n\t_transformCoordinates: function(matrix, coords, change) {\n\t\tvar point = this._point,\n\t\t\thandleIn = !change || !this._handleIn.isZero()\n\t\t\t\t\t? this._handleIn : null,\n\t\t\thandleOut = !change || !this._handleOut.isZero()\n\t\t\t\t\t? this._handleOut : null,\n\t\t\tx = point._x,\n\t\t\ty = point._y,\n\t\t\ti = 2;\n\t\tcoords[0] = x;\n\t\tcoords[1] = y;\n\t\tif (handleIn) {\n\t\t\tcoords[i++] = handleIn._x + x;\n\t\t\tcoords[i++] = handleIn._y + y;\n\t\t}\n\t\tif (handleOut) {\n\t\t\tcoords[i++] = handleOut._x + x;\n\t\t\tcoords[i++] = handleOut._y + y;\n\t\t}\n\t\tif (matrix) {\n\t\t\tmatrix._transformCoordinates(coords, coords, i / 2);\n\t\t\tx = coords[0];\n\t\t\ty = coords[1];\n\t\t\tif (change) {\n\t\t\t\tpoint._x = x;\n\t\t\t\tpoint._y = y;\n\t\t\t\ti = 2;\n\t\t\t\tif (handleIn) {\n\t\t\t\t\thandleIn._x = coords[i++] - x;\n\t\t\t\t\thandleIn._y = coords[i++] - y;\n\t\t\t\t}\n\t\t\t\tif (handleOut) {\n\t\t\t\t\thandleOut._x = coords[i++] - x;\n\t\t\t\t\thandleOut._y = coords[i++] - y;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tif (!handleIn) {\n\t\t\t\t\tcoords[i++] = x;\n\t\t\t\t\tcoords[i++] = y;\n\t\t\t\t}\n\t\t\t\tif (!handleOut) {\n\t\t\t\t\tcoords[i++] = x;\n\t\t\t\t\tcoords[i++] = y;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn coords;\n\t}\n});\n\nvar SegmentPoint = Point.extend({\n\tinitialize: function SegmentPoint(point, owner, key) {\n\t\tvar x, y,\n\t\t\tselected;\n\t\tif (!point) {\n\t\t\tx = y = 0;\n\t\t} else if ((x = point[0]) !== undefined) {\n\t\t\ty = point[1];\n\t\t} else {\n\t\t\tvar pt = point;\n\t\t\tif ((x = pt.x) === undefined) {\n\t\t\t\tpt = Point.read(arguments);\n\t\t\t\tx = pt.x;\n\t\t\t}\n\t\t\ty = pt.y;\n\t\t\tselected = pt.selected;\n\t\t}\n\t\tthis._x = x;\n\t\tthis._y = y;\n\t\tthis._owner = owner;\n\t\towner[key] = this;\n\t\tif (selected)\n\t\t\tthis.setSelected(true);\n\t},\n\n\t_set: function(x, y) {\n\t\tthis._x = x;\n\t\tthis._y = y;\n\t\tthis._owner._changed(this);\n\t\treturn this;\n\t},\n\n\tgetX: function() {\n\t\treturn this._x;\n\t},\n\n\tsetX: function(x) {\n\t\tthis._x = x;\n\t\tthis._owner._changed(this);\n\t},\n\n\tgetY: function() {\n\t\treturn this._y;\n\t},\n\n\tsetY: function(y) {\n\t\tthis._y = y;\n\t\tthis._owner._changed(this);\n\t},\n\n\tisZero: function() {\n\t\tvar isZero = Numerical.isZero;\n\t\treturn isZero(this._x) && isZero(this._y);\n\t},\n\n\tisSelected: function() {\n\t\treturn !!(this._owner._selection & this._getSelection());\n\t},\n\n\tsetSelected: function(selected) {\n\t\tthis._owner._changeSelection(this._getSelection(), selected);\n\t},\n\n\t_getSelection: function() {\n\t\tvar owner = this._owner;\n\t\treturn this === owner._point ? 1\n\t\t\t: this === owner._handleIn ? 2\n\t\t\t: this === owner._handleOut ? 4\n\t\t\t: 0;\n\t}\n});\n\nvar Curve = Base.extend({\n\t_class: 'Curve',\n\tbeans: true,\n\n\tinitialize: function Curve(arg0, arg1, arg2, arg3, arg4, arg5, arg6, arg7) {\n\t\tvar count = arguments.length,\n\t\t\tseg1, seg2,\n\t\t\tpoint1, point2,\n\t\t\thandle1, handle2;\n\t\tif (count === 3) {\n\t\t\tthis._path = arg0;\n\t\t\tseg1 = arg1;\n\t\t\tseg2 = arg2;\n\t\t} else if (!count) {\n\t\t\tseg1 = new Segment();\n\t\t\tseg2 = new Segment();\n\t\t} else if (count === 1) {\n\t\t\tif ('segment1' in arg0) {\n\t\t\t\tseg1 = new Segment(arg0.segment1);\n\t\t\t\tseg2 = new Segment(arg0.segment2);\n\t\t\t} else if ('point1' in arg0) {\n\t\t\t\tpoint1 = arg0.point1;\n\t\t\t\thandle1 = arg0.handle1;\n\t\t\t\thandle2 = arg0.handle2;\n\t\t\t\tpoint2 = arg0.point2;\n\t\t\t} else if (Array.isArray(arg0)) {\n\t\t\t\tpoint1 = [arg0[0], arg0[1]];\n\t\t\t\tpoint2 = [arg0[6], arg0[7]];\n\t\t\t\thandle1 = [arg0[2] - arg0[0], arg0[3] - arg0[1]];\n\t\t\t\thandle2 = [arg0[4] - arg0[6], arg0[5] - arg0[7]];\n\t\t\t}\n\t\t} else if (count === 2) {\n\t\t\tseg1 = new Segment(arg0);\n\t\t\tseg2 = new Segment(arg1);\n\t\t} else if (count === 4) {\n\t\t\tpoint1 = arg0;\n\t\t\thandle1 = arg1;\n\t\t\thandle2 = arg2;\n\t\t\tpoint2 = arg3;\n\t\t} else if (count === 8) {\n\t\t\tpoint1 = [arg0, arg1];\n\t\t\tpoint2 = [arg6, arg7];\n\t\t\thandle1 = [arg2 - arg0, arg3 - arg1];\n\t\t\thandle2 = [arg4 - arg6, arg5 - arg7];\n\t\t}\n\t\tthis._segment1 = seg1 || new Segment(point1, null, handle1);\n\t\tthis._segment2 = seg2 || new Segment(point2, handle2, null);\n\t},\n\n\t_serialize: function(options, dictionary) {\n\t\treturn Base.serialize(this.hasHandles()\n\t\t\t\t? [this.getPoint1(), this.getHandle1(), this.getHandle2(),\n\t\t\t\t\tthis.getPoint2()]\n\t\t\t\t: [this.getPoint1(), this.getPoint2()],\n\t\t\t\toptions, true, dictionary);\n\t},\n\n\t_changed: function() {\n\t\tthis._length = this._bounds = undefined;\n\t},\n\n\tclone: function() {\n\t\treturn new Curve(this._segment1, this._segment2);\n\t},\n\n\ttoString: function() {\n\t\tvar parts = [ 'point1: ' + this._segment1._point ];\n\t\tif (!this._segment1._handleOut.isZero())\n\t\t\tparts.push('handle1: ' + this._segment1._handleOut);\n\t\tif (!this._segment2._handleIn.isZero())\n\t\t\tparts.push('handle2: ' + this._segment2._handleIn);\n\t\tparts.push('point2: ' + this._segment2._point);\n\t\treturn '{ ' + parts.join(', ') + ' }';\n\t},\n\n\tclassify: function() {\n\t\treturn Curve.classify(this.getValues());\n\t},\n\n\tremove: function() {\n\t\tvar removed = false;\n\t\tif (this._path) {\n\t\t\tvar segment2 = this._segment2,\n\t\t\t\thandleOut = segment2._handleOut;\n\t\t\tremoved = segment2.remove();\n\t\t\tif (removed)\n\t\t\t\tthis._segment1._handleOut.set(handleOut);\n\t\t}\n\t\treturn removed;\n\t},\n\n\tgetPoint1: function() {\n\t\treturn this._segment1._point;\n\t},\n\n\tsetPoint1: function() {\n\t\tthis._segment1._point.set(Point.read(arguments));\n\t},\n\n\tgetPoint2: function() {\n\t\treturn this._segment2._point;\n\t},\n\n\tsetPoint2: function() {\n\t\tthis._segment2._point.set(Point.read(arguments));\n\t},\n\n\tgetHandle1: function() {\n\t\treturn this._segment1._handleOut;\n\t},\n\n\tsetHandle1: function() {\n\t\tthis._segment1._handleOut.set(Point.read(arguments));\n\t},\n\n\tgetHandle2: function() {\n\t\treturn this._segment2._handleIn;\n\t},\n\n\tsetHandle2: function() {\n\t\tthis._segment2._handleIn.set(Point.read(arguments));\n\t},\n\n\tgetSegment1: function() {\n\t\treturn this._segment1;\n\t},\n\n\tgetSegment2: function() {\n\t\treturn this._segment2;\n\t},\n\n\tgetPath: function() {\n\t\treturn this._path;\n\t},\n\n\tgetIndex: function() {\n\t\treturn this._segment1._index;\n\t},\n\n\tgetNext: function() {\n\t\tvar curves = this._path && this._path._curves;\n\t\treturn curves && (curves[this._segment1._index + 1]\n\t\t\t\t|| this._path._closed && curves[0]) || null;\n\t},\n\n\tgetPrevious: function() {\n\t\tvar curves = this._path && this._path._curves;\n\t\treturn curves && (curves[this._segment1._index - 1]\n\t\t\t\t|| this._path._closed && curves[curves.length - 1]) || null;\n\t},\n\n\tisFirst: function() {\n\t\treturn !this._segment1._index;\n\t},\n\n\tisLast: function() {\n\t\tvar path = this._path;\n\t\treturn path && this._segment1._index === path._curves.length - 1\n\t\t\t\t|| false;\n\t},\n\n\tisSelected: function() {\n\t\treturn this.getPoint1().isSelected()\n\t\t\t\t&& this.getHandle1().isSelected()\n\t\t\t\t&& this.getHandle2().isSelected()\n\t\t\t\t&& this.getPoint2().isSelected();\n\t},\n\n\tsetSelected: function(selected) {\n\t\tthis.getPoint1().setSelected(selected);\n\t\tthis.getHandle1().setSelected(selected);\n\t\tthis.getHandle2().setSelected(selected);\n\t\tthis.getPoint2().setSelected(selected);\n\t},\n\n\tgetValues: function(matrix) {\n\t\treturn Curve.getValues(this._segment1, this._segment2, matrix);\n\t},\n\n\tgetPoints: function() {\n\t\tvar coords = this.getValues(),\n\t\t\tpoints = [];\n\t\tfor (var i = 0; i < 8; i += 2)\n\t\t\tpoints.push(new Point(coords[i], coords[i + 1]));\n\t\treturn points;\n\t}\n}, {\n\tgetLength: function() {\n\t\tif (this._length == null)\n\t\t\tthis._length = Curve.getLength(this.getValues(), 0, 1);\n\t\treturn this._length;\n\t},\n\n\tgetArea: function() {\n\t\treturn Curve.getArea(this.getValues());\n\t},\n\n\tgetLine: function() {\n\t\treturn new Line(this._segment1._point, this._segment2._point);\n\t},\n\n\tgetPart: function(from, to) {\n\t\treturn new Curve(Curve.getPart(this.getValues(), from, to));\n\t},\n\n\tgetPartLength: function(from, to) {\n\t\treturn Curve.getLength(this.getValues(), from, to);\n\t},\n\n\tdivideAt: function(location) {\n\t\treturn this.divideAtTime(location && location.curve === this\n\t\t\t\t? location.time : this.getTimeAt(location));\n\t},\n\n\tdivideAtTime: function(time, _setHandles) {\n\t\tvar tMin = 1e-8,\n\t\t\ttMax = 1 - tMin,\n\t\t\tres = null;\n\t\tif (time >= tMin && time <= tMax) {\n\t\t\tvar parts = Curve.subdivide(this.getValues(), time),\n\t\t\t\tleft = parts[0],\n\t\t\t\tright = parts[1],\n\t\t\t\tsetHandles = _setHandles || this.hasHandles(),\n\t\t\t\tseg1 = this._segment1,\n\t\t\t\tseg2 = this._segment2,\n\t\t\t\tpath = this._path;\n\t\t\tif (setHandles) {\n\t\t\t\tseg1._handleOut._set(left[2] - left[0], left[3] - left[1]);\n\t\t\t\tseg2._handleIn._set(right[4] - right[6],right[5] - right[7]);\n\t\t\t}\n\t\t\tvar x = left[6], y = left[7],\n\t\t\t\tsegment = new Segment(new Point(x, y),\n\t\t\t\t\t\tsetHandles && new Point(left[4] - x, left[5] - y),\n\t\t\t\t\t\tsetHandles && new Point(right[2] - x, right[3] - y));\n\t\t\tif (path) {\n\t\t\t\tpath.insert(seg1._index + 1, segment);\n\t\t\t\tres = this.getNext();\n\t\t\t} else {\n\t\t\t\tthis._segment2 = segment;\n\t\t\t\tthis._changed();\n\t\t\t\tres = new Curve(segment, seg2);\n\t\t\t}\n\t\t}\n\t\treturn res;\n\t},\n\n\tsplitAt: function(location) {\n\t\tvar path = this._path;\n\t\treturn path ? path.splitAt(location) : null;\n\t},\n\n\tsplitAtTime: function(time) {\n\t\treturn this.splitAt(this.getLocationAtTime(time));\n\t},\n\n\tdivide: function(offset, isTime) {\n\t\treturn this.divideAtTime(offset === undefined ? 0.5 : isTime ? offset\n\t\t\t\t: this.getTimeAt(offset));\n\t},\n\n\tsplit: function(offset, isTime) {\n\t\treturn this.splitAtTime(offset === undefined ? 0.5 : isTime ? offset\n\t\t\t\t: this.getTimeAt(offset));\n\t},\n\n\treversed: function() {\n\t\treturn new Curve(this._segment2.reversed(), this._segment1.reversed());\n\t},\n\n\tclearHandles: function() {\n\t\tthis._segment1._handleOut._set(0, 0);\n\t\tthis._segment2._handleIn._set(0, 0);\n\t},\n\nstatics: {\n\tgetValues: function(segment1, segment2, matrix, straight) {\n\t\tvar p1 = segment1._point,\n\t\t\th1 = segment1._handleOut,\n\t\t\th2 = segment2._handleIn,\n\t\t\tp2 = segment2._point,\n\t\t\tx1 = p1.x, y1 = p1.y,\n\t\t\tx2 = p2.x, y2 = p2.y,\n\t\t\tvalues = straight\n\t\t\t\t? [ x1, y1, x1, y1, x2, y2, x2, y2 ]\n\t\t\t\t: [\n\t\t\t\t\tx1, y1,\n\t\t\t\t\tx1 + h1._x, y1 + h1._y,\n\t\t\t\t\tx2 + h2._x, y2 + h2._y,\n\t\t\t\t\tx2, y2\n\t\t\t\t];\n\t\tif (matrix)\n\t\t\tmatrix._transformCoordinates(values, values, 4);\n\t\treturn values;\n\t},\n\n\tsubdivide: function(v, t) {\n\t\tvar x0 = v[0], y0 = v[1],\n\t\t\tx1 = v[2], y1 = v[3],\n\t\t\tx2 = v[4], y2 = v[5],\n\t\t\tx3 = v[6], y3 = v[7];\n\t\tif (t === undefined)\n\t\t\tt = 0.5;\n\t\tvar u = 1 - t,\n\t\t\tx4 = u * x0 + t * x1, y4 = u * y0 + t * y1,\n\t\t\tx5 = u * x1 + t * x2, y5 = u * y1 + t * y2,\n\t\t\tx6 = u * x2 + t * x3, y6 = u * y2 + t * y3,\n\t\t\tx7 = u * x4 + t * x5, y7 = u * y4 + t * y5,\n\t\t\tx8 = u * x5 + t * x6, y8 = u * y5 + t * y6,\n\t\t\tx9 = u * x7 + t * x8, y9 = u * y7 + t * y8;\n\t\treturn [\n\t\t\t[x0, y0, x4, y4, x7, y7, x9, y9],\n\t\t\t[x9, y9, x8, y8, x6, y6, x3, y3]\n\t\t];\n\t},\n\n\tgetMonoCurves: function(v, dir) {\n\t\tvar curves = [],\n\t\t\tio = dir ? 0 : 1,\n\t\t\to0 = v[io + 0],\n\t\t\to1 = v[io + 2],\n\t\t\to2 = v[io + 4],\n\t\t\to3 = v[io + 6];\n\t\tif ((o0 >= o1) === (o1 >= o2) && (o1 >= o2) === (o2 >= o3)\n\t\t\t\t|| Curve.isStraight(v)) {\n\t\t\tcurves.push(v);\n\t\t} else {\n\t\t\tvar a = 3 * (o1 - o2) - o0 + o3,\n\t\t\t\tb = 2 * (o0 + o2) - 4 * o1,\n\t\t\t\tc = o1 - o0,\n\t\t\t\ttMin = 1e-8,\n\t\t\t\ttMax = 1 - tMin,\n\t\t\t\troots = [],\n\t\t\t\tn = Numerical.solveQuadratic(a, b, c, roots, tMin, tMax);\n\t\t\tif (!n) {\n\t\t\t\tcurves.push(v);\n\t\t\t} else {\n\t\t\t\troots.sort();\n\t\t\t\tvar t = roots[0],\n\t\t\t\t\tparts = Curve.subdivide(v, t);\n\t\t\t\tcurves.push(parts[0]);\n\t\t\t\tif (n > 1) {\n\t\t\t\t\tt = (roots[1] - t) / (1 - t);\n\t\t\t\t\tparts = Curve.subdivide(parts[1], t);\n\t\t\t\t\tcurves.push(parts[0]);\n\t\t\t\t}\n\t\t\t\tcurves.push(parts[1]);\n\t\t\t}\n\t\t}\n\t\treturn curves;\n\t},\n\n\tsolveCubic: function (v, coord, val, roots, min, max) {\n\t\tvar v0 = v[coord],\n\t\t\tv1 = v[coord + 2],\n\t\t\tv2 = v[coord + 4],\n\t\t\tv3 = v[coord + 6],\n\t\t\tres = 0;\n\t\tif (  !(v0 < val && v3 < val && v1 < val && v2 < val ||\n\t\t\t\tv0 > val && v3 > val && v1 > val && v2 > val)) {\n\t\t\tvar c = 3 * (v1 - v0),\n\t\t\t\tb = 3 * (v2 - v1) - c,\n\t\t\t\ta = v3 - v0 - c - b;\n\t\t\tres = Numerical.solveCubic(a, b, c, v0 - val, roots, min, max);\n\t\t}\n\t\treturn res;\n\t},\n\n\tgetTimeOf: function(v, point) {\n\t\tvar p0 = new Point(v[0], v[1]),\n\t\t\tp3 = new Point(v[6], v[7]),\n\t\t\tepsilon = 1e-12,\n\t\t\tgeomEpsilon = 1e-7,\n\t\t\tt = point.isClose(p0, epsilon) ? 0\n\t\t\t  : point.isClose(p3, epsilon) ? 1\n\t\t\t  : null;\n\t\tif (t === null) {\n\t\t\tvar coords = [point.x, point.y],\n\t\t\t\troots = [];\n\t\t\tfor (var c = 0; c < 2; c++) {\n\t\t\t\tvar count = Curve.solveCubic(v, c, coords[c], roots, 0, 1);\n\t\t\t\tfor (var i = 0; i < count; i++) {\n\t\t\t\t\tvar u = roots[i];\n\t\t\t\t\tif (point.isClose(Curve.getPoint(v, u), geomEpsilon))\n\t\t\t\t\t\treturn u;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn point.isClose(p0, geomEpsilon) ? 0\n\t\t\t : point.isClose(p3, geomEpsilon) ? 1\n\t\t\t : null;\n\t},\n\n\tgetNearestTime: function(v, point) {\n\t\tif (Curve.isStraight(v)) {\n\t\t\tvar x0 = v[0], y0 = v[1],\n\t\t\t\tx3 = v[6], y3 = v[7],\n\t\t\t\tvx = x3 - x0, vy = y3 - y0,\n\t\t\t\tdet = vx * vx + vy * vy;\n\t\t\tif (det === 0)\n\t\t\t\treturn 0;\n\t\t\tvar u = ((point.x - x0) * vx + (point.y - y0) * vy) / det;\n\t\t\treturn u < 1e-12 ? 0\n\t\t\t\t : u > 0.999999999999 ? 1\n\t\t\t\t : Curve.getTimeOf(v,\n\t\t\t\t\tnew Point(x0 + u * vx, y0 + u * vy));\n\t\t}\n\n\t\tvar count = 100,\n\t\t\tminDist = Infinity,\n\t\t\tminT = 0;\n\n\t\tfunction refine(t) {\n\t\t\tif (t >= 0 && t <= 1) {\n\t\t\t\tvar dist = point.getDistance(Curve.getPoint(v, t), true);\n\t\t\t\tif (dist < minDist) {\n\t\t\t\t\tminDist = dist;\n\t\t\t\t\tminT = t;\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tfor (var i = 0; i <= count; i++)\n\t\t\trefine(i / count);\n\n\t\tvar step = 1 / (count * 2);\n\t\twhile (step > 1e-8) {\n\t\t\tif (!refine(minT - step) && !refine(minT + step))\n\t\t\t\tstep /= 2;\n\t\t}\n\t\treturn minT;\n\t},\n\n\tgetPart: function(v, from, to) {\n\t\tvar flip = from > to;\n\t\tif (flip) {\n\t\t\tvar tmp = from;\n\t\t\tfrom = to;\n\t\t\tto = tmp;\n\t\t}\n\t\tif (from > 0)\n\t\t\tv = Curve.subdivide(v, from)[1];\n\t\tif (to < 1)\n\t\t\tv = Curve.subdivide(v, (to - from) / (1 - from))[0];\n\t\treturn flip\n\t\t\t\t? [v[6], v[7], v[4], v[5], v[2], v[3], v[0], v[1]]\n\t\t\t\t: v;\n\t},\n\n\tisFlatEnough: function(v, flatness) {\n\t\tvar x0 = v[0], y0 = v[1],\n\t\t\tx1 = v[2], y1 = v[3],\n\t\t\tx2 = v[4], y2 = v[5],\n\t\t\tx3 = v[6], y3 = v[7],\n\t\t\tux = 3 * x1 - 2 * x0 - x3,\n\t\t\tuy = 3 * y1 - 2 * y0 - y3,\n\t\t\tvx = 3 * x2 - 2 * x3 - x0,\n\t\t\tvy = 3 * y2 - 2 * y3 - y0;\n\t\treturn Math.max(ux * ux, vx * vx) + Math.max(uy * uy, vy * vy)\n\t\t\t\t<= 16 * flatness * flatness;\n\t},\n\n\tgetArea: function(v) {\n\t\tvar x0 = v[0], y0 = v[1],\n\t\t\tx1 = v[2], y1 = v[3],\n\t\t\tx2 = v[4], y2 = v[5],\n\t\t\tx3 = v[6], y3 = v[7];\n\t\treturn 3 * ((y3 - y0) * (x1 + x2) - (x3 - x0) * (y1 + y2)\n\t\t\t\t+ y1 * (x0 - x2) - x1 * (y0 - y2)\n\t\t\t\t+ y3 * (x2 + x0 / 3) - x3 * (y2 + y0 / 3)) / 20;\n\t},\n\n\tgetBounds: function(v) {\n\t\tvar min = v.slice(0, 2),\n\t\t\tmax = min.slice(),\n\t\t\troots = [0, 0];\n\t\tfor (var i = 0; i < 2; i++)\n\t\t\tCurve._addBounds(v[i], v[i + 2], v[i + 4], v[i + 6],\n\t\t\t\t\ti, 0, min, max, roots);\n\t\treturn new Rectangle(min[0], min[1], max[0] - min[0], max[1] - min[1]);\n\t},\n\n\t_addBounds: function(v0, v1, v2, v3, coord, padding, min, max, roots) {\n\t\tfunction add(value, padding) {\n\t\t\tvar left = value - padding,\n\t\t\t\tright = value + padding;\n\t\t\tif (left < min[coord])\n\t\t\t\tmin[coord] = left;\n\t\t\tif (right > max[coord])\n\t\t\t\tmax[coord] = right;\n\t\t}\n\n\t\tpadding /= 2;\n\t\tvar minPad = min[coord] + padding,\n\t\t\tmaxPad = max[coord] - padding;\n\t\tif (    v0 < minPad || v1 < minPad || v2 < minPad || v3 < minPad ||\n\t\t\t\tv0 > maxPad || v1 > maxPad || v2 > maxPad || v3 > maxPad) {\n\t\t\tif (v1 < v0 != v1 < v3 && v2 < v0 != v2 < v3) {\n\t\t\t\tadd(v0, 0);\n\t\t\t\tadd(v3, 0);\n\t\t\t} else {\n\t\t\t\tvar a = 3 * (v1 - v2) - v0 + v3,\n\t\t\t\t\tb = 2 * (v0 + v2) - 4 * v1,\n\t\t\t\t\tc = v1 - v0,\n\t\t\t\t\tcount = Numerical.solveQuadratic(a, b, c, roots),\n\t\t\t\t\ttMin = 1e-8,\n\t\t\t\t\ttMax = 1 - tMin;\n\t\t\t\tadd(v3, 0);\n\t\t\t\tfor (var i = 0; i < count; i++) {\n\t\t\t\t\tvar t = roots[i],\n\t\t\t\t\t\tu = 1 - t;\n\t\t\t\t\tif (tMin <= t && t <= tMax)\n\t\t\t\t\t\tadd(u * u * u * v0\n\t\t\t\t\t\t\t+ 3 * u * u * t * v1\n\t\t\t\t\t\t\t+ 3 * u * t * t * v2\n\t\t\t\t\t\t\t+ t * t * t * v3,\n\t\t\t\t\t\t\tpadding);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n}}, Base.each(\n\t['getBounds', 'getStrokeBounds', 'getHandleBounds'],\n\tfunction(name) {\n\t\tthis[name] = function() {\n\t\t\tif (!this._bounds)\n\t\t\t\tthis._bounds = {};\n\t\t\tvar bounds = this._bounds[name];\n\t\t\tif (!bounds) {\n\t\t\t\tbounds = this._bounds[name] = Path[name](\n\t\t\t\t\t\t[this._segment1, this._segment2], false, this._path);\n\t\t\t}\n\t\t\treturn bounds.clone();\n\t\t};\n\t},\n{\n\n}), Base.each({\n\tisStraight: function(p1, h1, h2, p2) {\n\t\tif (h1.isZero() && h2.isZero()) {\n\t\t\treturn true;\n\t\t} else {\n\t\t\tvar v = p2.subtract(p1);\n\t\t\tif (v.isZero()) {\n\t\t\t\treturn false;\n\t\t\t} else if (v.isCollinear(h1) && v.isCollinear(h2)) {\n\t\t\t\tvar l = new Line(p1, p2),\n\t\t\t\t\tepsilon = 1e-7;\n\t\t\t\tif (l.getDistance(p1.add(h1)) < epsilon &&\n\t\t\t\t\tl.getDistance(p2.add(h2)) < epsilon) {\n\t\t\t\t\tvar div = v.dot(v),\n\t\t\t\t\t\ts1 = v.dot(h1) / div,\n\t\t\t\t\t\ts2 = v.dot(h2) / div;\n\t\t\t\t\treturn s1 >= 0 && s1 <= 1 && s2 <= 0 && s2 >= -1;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn false;\n\t},\n\n\tisLinear: function(p1, h1, h2, p2) {\n\t\tvar third = p2.subtract(p1).divide(3);\n\t\treturn h1.equals(third) && h2.negate().equals(third);\n\t}\n}, function(test, name) {\n\tthis[name] = function(epsilon) {\n\t\tvar seg1 = this._segment1,\n\t\t\tseg2 = this._segment2;\n\t\treturn test(seg1._point, seg1._handleOut, seg2._handleIn, seg2._point,\n\t\t\t\tepsilon);\n\t};\n\n\tthis.statics[name] = function(v, epsilon) {\n\t\tvar x0 = v[0], y0 = v[1],\n\t\t\tx3 = v[6], y3 = v[7];\n\t\treturn test(\n\t\t\t\tnew Point(x0, y0),\n\t\t\t\tnew Point(v[2] - x0, v[3] - y0),\n\t\t\t\tnew Point(v[4] - x3, v[5] - y3),\n\t\t\t\tnew Point(x3, y3), epsilon);\n\t};\n}, {\n\tstatics: {},\n\n\thasHandles: function() {\n\t\treturn !this._segment1._handleOut.isZero()\n\t\t\t\t|| !this._segment2._handleIn.isZero();\n\t},\n\n\thasLength: function(epsilon) {\n\t\treturn (!this.getPoint1().equals(this.getPoint2()) || this.hasHandles())\n\t\t\t\t&& this.getLength() > (epsilon || 0);\n\t},\n\n\tisCollinear: function(curve) {\n\t\treturn curve && this.isStraight() && curve.isStraight()\n\t\t\t\t&& this.getLine().isCollinear(curve.getLine());\n\t},\n\n\tisHorizontal: function() {\n\t\treturn this.isStraight() && Math.abs(this.getTangentAtTime(0.5).y)\n\t\t\t\t< 1e-8;\n\t},\n\n\tisVertical: function() {\n\t\treturn this.isStraight() && Math.abs(this.getTangentAtTime(0.5).x)\n\t\t\t\t< 1e-8;\n\t}\n}), {\n\tbeans: false,\n\n\tgetLocationAt: function(offset, _isTime) {\n\t\treturn this.getLocationAtTime(\n\t\t\t\t_isTime ? offset : this.getTimeAt(offset));\n\t},\n\n\tgetLocationAtTime: function(t) {\n\t\treturn t != null && t >= 0 && t <= 1\n\t\t\t\t? new CurveLocation(this, t)\n\t\t\t\t: null;\n\t},\n\n\tgetTimeAt: function(offset, start) {\n\t\treturn Curve.getTimeAt(this.getValues(), offset, start);\n\t},\n\n\tgetParameterAt: '#getTimeAt',\n\n\tgetTimesWithTangent: function () {\n\t\tvar tangent = Point.read(arguments);\n\t\treturn tangent.isZero()\n\t\t\t\t? []\n\t\t\t\t: Curve.getTimesWithTangent(this.getValues(), tangent);\n\t},\n\n\tgetOffsetAtTime: function(t) {\n\t\treturn this.getPartLength(0, t);\n\t},\n\n\tgetLocationOf: function() {\n\t\treturn this.getLocationAtTime(this.getTimeOf(Point.read(arguments)));\n\t},\n\n\tgetOffsetOf: function() {\n\t\tvar loc = this.getLocationOf.apply(this, arguments);\n\t\treturn loc ? loc.getOffset() : null;\n\t},\n\n\tgetTimeOf: function() {\n\t\treturn Curve.getTimeOf(this.getValues(), Point.read(arguments));\n\t},\n\n\tgetParameterOf: '#getTimeOf',\n\n\tgetNearestLocation: function() {\n\t\tvar point = Point.read(arguments),\n\t\t\tvalues = this.getValues(),\n\t\t\tt = Curve.getNearestTime(values, point),\n\t\t\tpt = Curve.getPoint(values, t);\n\t\treturn new CurveLocation(this, t, pt, null, point.getDistance(pt));\n\t},\n\n\tgetNearestPoint: function() {\n\t\tvar loc = this.getNearestLocation.apply(this, arguments);\n\t\treturn loc ? loc.getPoint() : loc;\n\t}\n\n},\nnew function() {\n\tvar methods = ['getPoint', 'getTangent', 'getNormal', 'getWeightedTangent',\n\t\t'getWeightedNormal', 'getCurvature'];\n\treturn Base.each(methods,\n\t\tfunction(name) {\n\t\t\tthis[name + 'At'] = function(location, _isTime) {\n\t\t\t\tvar values = this.getValues();\n\t\t\t\treturn Curve[name](values, _isTime ? location\n\t\t\t\t\t\t: Curve.getTimeAt(values, location));\n\t\t\t};\n\n\t\t\tthis[name + 'AtTime'] = function(time) {\n\t\t\t\treturn Curve[name](this.getValues(), time);\n\t\t\t};\n\t\t}, {\n\t\t\tstatics: {\n\t\t\t\t_evaluateMethods: methods\n\t\t\t}\n\t\t}\n\t);\n},\nnew function() {\n\n\tfunction getLengthIntegrand(v) {\n\t\tvar x0 = v[0], y0 = v[1],\n\t\t\tx1 = v[2], y1 = v[3],\n\t\t\tx2 = v[4], y2 = v[5],\n\t\t\tx3 = v[6], y3 = v[7],\n\n\t\t\tax = 9 * (x1 - x2) + 3 * (x3 - x0),\n\t\t\tbx = 6 * (x0 + x2) - 12 * x1,\n\t\t\tcx = 3 * (x1 - x0),\n\n\t\t\tay = 9 * (y1 - y2) + 3 * (y3 - y0),\n\t\t\tby = 6 * (y0 + y2) - 12 * y1,\n\t\t\tcy = 3 * (y1 - y0);\n\n\t\treturn function(t) {\n\t\t\tvar dx = (ax * t + bx) * t + cx,\n\t\t\t\tdy = (ay * t + by) * t + cy;\n\t\t\treturn Math.sqrt(dx * dx + dy * dy);\n\t\t};\n\t}\n\n\tfunction getIterations(a, b) {\n\t\treturn Math.max(2, Math.min(16, Math.ceil(Math.abs(b - a) * 32)));\n\t}\n\n\tfunction evaluate(v, t, type, normalized) {\n\t\tif (t == null || t < 0 || t > 1)\n\t\t\treturn null;\n\t\tvar x0 = v[0], y0 = v[1],\n\t\t\tx1 = v[2], y1 = v[3],\n\t\t\tx2 = v[4], y2 = v[5],\n\t\t\tx3 = v[6], y3 = v[7],\n\t\t\tisZero = Numerical.isZero;\n\t\tif (isZero(x1 - x0) && isZero(y1 - y0)) {\n\t\t\tx1 = x0;\n\t\t\ty1 = y0;\n\t\t}\n\t\tif (isZero(x2 - x3) && isZero(y2 - y3)) {\n\t\t\tx2 = x3;\n\t\t\ty2 = y3;\n\t\t}\n\t\tvar cx = 3 * (x1 - x0),\n\t\t\tbx = 3 * (x2 - x1) - cx,\n\t\t\tax = x3 - x0 - cx - bx,\n\t\t\tcy = 3 * (y1 - y0),\n\t\t\tby = 3 * (y2 - y1) - cy,\n\t\t\tay = y3 - y0 - cy - by,\n\t\t\tx, y;\n\t\tif (type === 0) {\n\t\t\tx = t === 0 ? x0 : t === 1 ? x3\n\t\t\t\t\t: ((ax * t + bx) * t + cx) * t + x0;\n\t\t\ty = t === 0 ? y0 : t === 1 ? y3\n\t\t\t\t\t: ((ay * t + by) * t + cy) * t + y0;\n\t\t} else {\n\t\t\tvar tMin = 1e-8,\n\t\t\t\ttMax = 1 - tMin;\n\t\t\tif (t < tMin) {\n\t\t\t\tx = cx;\n\t\t\t\ty = cy;\n\t\t\t} else if (t > tMax) {\n\t\t\t\tx = 3 * (x3 - x2);\n\t\t\t\ty = 3 * (y3 - y2);\n\t\t\t} else {\n\t\t\t\tx = (3 * ax * t + 2 * bx) * t + cx;\n\t\t\t\ty = (3 * ay * t + 2 * by) * t + cy;\n\t\t\t}\n\t\t\tif (normalized) {\n\t\t\t\tif (x === 0 && y === 0 && (t < tMin || t > tMax)) {\n\t\t\t\t\tx = x2 - x1;\n\t\t\t\t\ty = y2 - y1;\n\t\t\t\t}\n\t\t\t\tvar len = Math.sqrt(x * x + y * y);\n\t\t\t\tif (len) {\n\t\t\t\t\tx /= len;\n\t\t\t\t\ty /= len;\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (type === 3) {\n\t\t\t\tvar x2 = 6 * ax * t + 2 * bx,\n\t\t\t\t\ty2 = 6 * ay * t + 2 * by,\n\t\t\t\t\td = Math.pow(x * x + y * y, 3 / 2);\n\t\t\t\tx = d !== 0 ? (x * y2 - y * x2) / d : 0;\n\t\t\t\ty = 0;\n\t\t\t}\n\t\t}\n\t\treturn type === 2 ? new Point(y, -x) : new Point(x, y);\n\t}\n\n\treturn { statics: {\n\n\t\tclassify: function(v) {\n\n\t\t\tvar x0 = v[0], y0 = v[1],\n\t\t\t\tx1 = v[2], y1 = v[3],\n\t\t\t\tx2 = v[4], y2 = v[5],\n\t\t\t\tx3 = v[6], y3 = v[7],\n\t\t\t\ta1 = x0 * (y3 - y2) + y0 * (x2 - x3) + x3 * y2 - y3 * x2,\n\t\t\t\ta2 = x1 * (y0 - y3) + y1 * (x3 - x0) + x0 * y3 - y0 * x3,\n\t\t\t\ta3 = x2 * (y1 - y0) + y2 * (x0 - x1) + x1 * y0 - y1 * x0,\n\t\t\t\td3 = 3 * a3,\n\t\t\t\td2 = d3 - a2,\n\t\t\t\td1 = d2 - a2 + a1,\n\t\t\t\tl = Math.sqrt(d1 * d1 + d2 * d2 + d3 * d3),\n\t\t\t\ts = l !== 0 ? 1 / l : 0,\n\t\t\t\tisZero = Numerical.isZero,\n\t\t\t\tserpentine = 'serpentine';\n\t\t\td1 *= s;\n\t\t\td2 *= s;\n\t\t\td3 *= s;\n\n\t\t\tfunction type(type, t1, t2) {\n\t\t\t\tvar hasRoots = t1 !== undefined,\n\t\t\t\t\tt1Ok = hasRoots && t1 > 0 && t1 < 1,\n\t\t\t\t\tt2Ok = hasRoots && t2 > 0 && t2 < 1;\n\t\t\t\tif (hasRoots && (!(t1Ok || t2Ok)\n\t\t\t\t\t\t|| type === 'loop' && !(t1Ok && t2Ok))) {\n\t\t\t\t\ttype = 'arch';\n\t\t\t\t\tt1Ok = t2Ok = false;\n\t\t\t\t}\n\t\t\t\treturn {\n\t\t\t\t\ttype: type,\n\t\t\t\t\troots: t1Ok || t2Ok\n\t\t\t\t\t\t\t? t1Ok && t2Ok\n\t\t\t\t\t\t\t\t? t1 < t2 ? [t1, t2] : [t2, t1]\n\t\t\t\t\t\t\t\t: [t1Ok ? t1 : t2]\n\t\t\t\t\t\t\t: null\n\t\t\t\t};\n\t\t\t}\n\n\t\t\tif (isZero(d1)) {\n\t\t\t\treturn isZero(d2)\n\t\t\t\t\t\t? type(isZero(d3) ? 'line' : 'quadratic')\n\t\t\t\t\t\t: type(serpentine, d3 / (3 * d2));\n\t\t\t}\n\t\t\tvar d = 3 * d2 * d2 - 4 * d1 * d3;\n\t\t\tif (isZero(d)) {\n\t\t\t\treturn type('cusp', d2 / (2 * d1));\n\t\t\t}\n\t\t\tvar f1 = d > 0 ? Math.sqrt(d / 3) : Math.sqrt(-d),\n\t\t\t\tf2 = 2 * d1;\n\t\t\treturn type(d > 0 ? serpentine : 'loop',\n\t\t\t\t\t(d2 + f1) / f2,\n\t\t\t\t\t(d2 - f1) / f2);\n\t\t},\n\n\t\tgetLength: function(v, a, b, ds) {\n\t\t\tif (a === undefined)\n\t\t\t\ta = 0;\n\t\t\tif (b === undefined)\n\t\t\t\tb = 1;\n\t\t\tif (Curve.isStraight(v)) {\n\t\t\t\tvar c = v;\n\t\t\t\tif (b < 1) {\n\t\t\t\t\tc = Curve.subdivide(c, b)[0];\n\t\t\t\t\ta /= b;\n\t\t\t\t}\n\t\t\t\tif (a > 0) {\n\t\t\t\t\tc = Curve.subdivide(c, a)[1];\n\t\t\t\t}\n\t\t\t\tvar dx = c[6] - c[0],\n\t\t\t\t\tdy = c[7] - c[1];\n\t\t\t\treturn Math.sqrt(dx * dx + dy * dy);\n\t\t\t}\n\t\t\treturn Numerical.integrate(ds || getLengthIntegrand(v), a, b,\n\t\t\t\t\tgetIterations(a, b));\n\t\t},\n\n\t\tgetTimeAt: function(v, offset, start) {\n\t\t\tif (start === undefined)\n\t\t\t\tstart = offset < 0 ? 1 : 0;\n\t\t\tif (offset === 0)\n\t\t\t\treturn start;\n\t\t\tvar abs = Math.abs,\n\t\t\t\tepsilon = 1e-12,\n\t\t\t\tforward = offset > 0,\n\t\t\t\ta = forward ? start : 0,\n\t\t\t\tb = forward ? 1 : start,\n\t\t\t\tds = getLengthIntegrand(v),\n\t\t\t\trangeLength = Curve.getLength(v, a, b, ds),\n\t\t\t\tdiff = abs(offset) - rangeLength;\n\t\t\tif (abs(diff) < epsilon) {\n\t\t\t\treturn forward ? b : a;\n\t\t\t} else if (diff > epsilon) {\n\t\t\t\treturn null;\n\t\t\t}\n\t\t\tvar guess = offset / rangeLength,\n\t\t\t\tlength = 0;\n\t\t\tfunction f(t) {\n\t\t\t\tlength += Numerical.integrate(ds, start, t,\n\t\t\t\t\t\tgetIterations(start, t));\n\t\t\t\tstart = t;\n\t\t\t\treturn length - offset;\n\t\t\t}\n\t\t\treturn Numerical.findRoot(f, ds, start + guess, a, b, 32,\n\t\t\t\t\t1e-12);\n\t\t},\n\n\t\tgetPoint: function(v, t) {\n\t\t\treturn evaluate(v, t, 0, false);\n\t\t},\n\n\t\tgetTangent: function(v, t) {\n\t\t\treturn evaluate(v, t, 1, true);\n\t\t},\n\n\t\tgetWeightedTangent: function(v, t) {\n\t\t\treturn evaluate(v, t, 1, false);\n\t\t},\n\n\t\tgetNormal: function(v, t) {\n\t\t\treturn evaluate(v, t, 2, true);\n\t\t},\n\n\t\tgetWeightedNormal: function(v, t) {\n\t\t\treturn evaluate(v, t, 2, false);\n\t\t},\n\n\t\tgetCurvature: function(v, t) {\n\t\t\treturn evaluate(v, t, 3, false).x;\n\t\t},\n\n\t\tgetPeaks: function(v) {\n\t\t\tvar x0 = v[0], y0 = v[1],\n\t\t\t\tx1 = v[2], y1 = v[3],\n\t\t\t\tx2 = v[4], y2 = v[5],\n\t\t\t\tx3 = v[6], y3 = v[7],\n\t\t\t\tax =     -x0 + 3 * x1 - 3 * x2 + x3,\n\t\t\t\tbx =  3 * x0 - 6 * x1 + 3 * x2,\n\t\t\t\tcx = -3 * x0 + 3 * x1,\n\t\t\t\tay =     -y0 + 3 * y1 - 3 * y2 + y3,\n\t\t\t\tby =  3 * y0 - 6 * y1 + 3 * y2,\n\t\t\t\tcy = -3 * y0 + 3 * y1,\n\t\t\t\ttMin = 1e-8,\n\t\t\t\ttMax = 1 - tMin,\n\t\t\t\troots = [];\n\t\t\tNumerical.solveCubic(\n\t\t\t\t\t9 * (ax * ax + ay * ay),\n\t\t\t\t\t9 * (ax * bx + by * ay),\n\t\t\t\t\t2 * (bx * bx + by * by) + 3 * (cx * ax + cy * ay),\n\t\t\t\t\t(cx * bx + by * cy),\n\t\t\t\t\troots, tMin, tMax);\n\t\t\treturn roots.sort();\n\t\t}\n\t}};\n},\nnew function() {\n\n\tfunction addLocation(locations, include, c1, t1, c2, t2, overlap) {\n\t\tvar excludeStart = !overlap && c1.getPrevious() === c2,\n\t\t\texcludeEnd = !overlap && c1 !== c2 && c1.getNext() === c2,\n\t\t\ttMin = 1e-8,\n\t\t\ttMax = 1 - tMin;\n\t\tif (t1 !== null && t1 >= (excludeStart ? tMin : 0) &&\n\t\t\tt1 <= (excludeEnd ? tMax : 1)) {\n\t\t\tif (t2 !== null && t2 >= (excludeEnd ? tMin : 0) &&\n\t\t\t\tt2 <= (excludeStart ? tMax : 1)) {\n\t\t\t\tvar loc1 = new CurveLocation(c1, t1, null, overlap),\n\t\t\t\t\tloc2 = new CurveLocation(c2, t2, null, overlap);\n\t\t\t\tloc1._intersection = loc2;\n\t\t\t\tloc2._intersection = loc1;\n\t\t\t\tif (!include || include(loc1)) {\n\t\t\t\t\tCurveLocation.insert(locations, loc1, true);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\tfunction addCurveIntersections(v1, v2, c1, c2, locations, include, flip,\n\t\t\trecursion, calls, tMin, tMax, uMin, uMax) {\n\t\tif (++calls >= 4096 || ++recursion >= 40)\n\t\t\treturn calls;\n\t\tvar fatLineEpsilon = 1e-9,\n\t\t\tq0x = v2[0], q0y = v2[1], q3x = v2[6], q3y = v2[7],\n\t\t\tgetSignedDistance = Line.getSignedDistance,\n\t\t\td1 = getSignedDistance(q0x, q0y, q3x, q3y, v2[2], v2[3]),\n\t\t\td2 = getSignedDistance(q0x, q0y, q3x, q3y, v2[4], v2[5]),\n\t\t\tfactor = d1 * d2 > 0 ? 3 / 4 : 4 / 9,\n\t\t\tdMin = factor * Math.min(0, d1, d2),\n\t\t\tdMax = factor * Math.max(0, d1, d2),\n\t\t\tdp0 = getSignedDistance(q0x, q0y, q3x, q3y, v1[0], v1[1]),\n\t\t\tdp1 = getSignedDistance(q0x, q0y, q3x, q3y, v1[2], v1[3]),\n\t\t\tdp2 = getSignedDistance(q0x, q0y, q3x, q3y, v1[4], v1[5]),\n\t\t\tdp3 = getSignedDistance(q0x, q0y, q3x, q3y, v1[6], v1[7]),\n\t\t\thull = getConvexHull(dp0, dp1, dp2, dp3),\n\t\t\ttop = hull[0],\n\t\t\tbottom = hull[1],\n\t\t\ttMinClip,\n\t\t\ttMaxClip;\n\t\tif (d1 === 0 && d2 === 0\n\t\t\t\t&& dp0 === 0 && dp1 === 0 && dp2 === 0 && dp3 === 0\n\t\t\t|| (tMinClip = clipConvexHull(top, bottom, dMin, dMax)) == null\n\t\t\t|| (tMaxClip = clipConvexHull(top.reverse(), bottom.reverse(),\n\t\t\t\tdMin, dMax)) == null)\n\t\t\treturn calls;\n\t\tvar tMinNew = tMin + (tMax - tMin) * tMinClip,\n\t\t\ttMaxNew = tMin + (tMax - tMin) * tMaxClip;\n\t\tif (Math.max(uMax - uMin, tMaxNew - tMinNew) < fatLineEpsilon) {\n\t\t\tvar t = (tMinNew + tMaxNew) / 2,\n\t\t\t\tu = (uMin + uMax) / 2;\n\t\t\taddLocation(locations, include,\n\t\t\t\t\tflip ? c2 : c1, flip ? u : t,\n\t\t\t\t\tflip ? c1 : c2, flip ? t : u);\n\t\t} else {\n\t\t\tv1 = Curve.getPart(v1, tMinClip, tMaxClip);\n\t\t\tvar uDiff = uMax - uMin;\n\t\t\tif (tMaxClip - tMinClip > 0.8) {\n\t\t\t\tif (tMaxNew - tMinNew > uDiff) {\n\t\t\t\t\tvar parts = Curve.subdivide(v1, 0.5),\n\t\t\t\t\t\tt = (tMinNew + tMaxNew) / 2;\n\t\t\t\t\tcalls = addCurveIntersections(\n\t\t\t\t\t\t\tv2, parts[0], c2, c1, locations, include, !flip,\n\t\t\t\t\t\t\trecursion, calls, uMin, uMax, tMinNew, t);\n\t\t\t\t\tcalls = addCurveIntersections(\n\t\t\t\t\t\t\tv2, parts[1], c2, c1, locations, include, !flip,\n\t\t\t\t\t\t\trecursion, calls, uMin, uMax, t, tMaxNew);\n\t\t\t\t} else {\n\t\t\t\t\tvar parts = Curve.subdivide(v2, 0.5),\n\t\t\t\t\t\tu = (uMin + uMax) / 2;\n\t\t\t\t\tcalls = addCurveIntersections(\n\t\t\t\t\t\t\tparts[0], v1, c2, c1, locations, include, !flip,\n\t\t\t\t\t\t\trecursion, calls, uMin, u, tMinNew, tMaxNew);\n\t\t\t\t\tcalls = addCurveIntersections(\n\t\t\t\t\t\t\tparts[1], v1, c2, c1, locations, include, !flip,\n\t\t\t\t\t\t\trecursion, calls, u, uMax, tMinNew, tMaxNew);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tif (uDiff === 0 || uDiff >= fatLineEpsilon) {\n\t\t\t\t\tcalls = addCurveIntersections(\n\t\t\t\t\t\t\tv2, v1, c2, c1, locations, include, !flip,\n\t\t\t\t\t\t\trecursion, calls, uMin, uMax, tMinNew, tMaxNew);\n\t\t\t\t} else {\n\t\t\t\t\tcalls = addCurveIntersections(\n\t\t\t\t\t\t\tv1, v2, c1, c2, locations, include, flip,\n\t\t\t\t\t\t\trecursion, calls, tMinNew, tMaxNew, uMin, uMax);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn calls;\n\t}\n\n\tfunction getConvexHull(dq0, dq1, dq2, dq3) {\n\t\tvar p0 = [ 0, dq0 ],\n\t\t\tp1 = [ 1 / 3, dq1 ],\n\t\t\tp2 = [ 2 / 3, dq2 ],\n\t\t\tp3 = [ 1, dq3 ],\n\t\t\tdist1 = dq1 - (2 * dq0 + dq3) / 3,\n\t\t\tdist2 = dq2 - (dq0 + 2 * dq3) / 3,\n\t\t\thull;\n\t\tif (dist1 * dist2 < 0) {\n\t\t\thull = [[p0, p1, p3], [p0, p2, p3]];\n\t\t} else {\n\t\t\tvar distRatio = dist1 / dist2;\n\t\t\thull = [\n\t\t\t\tdistRatio >= 2 ? [p0, p1, p3]\n\t\t\t\t: distRatio <= 0.5 ? [p0, p2, p3]\n\t\t\t\t: [p0, p1, p2, p3],\n\t\t\t\t[p0, p3]\n\t\t\t];\n\t\t}\n\t\treturn (dist1 || dist2) < 0 ? hull.reverse() : hull;\n\t}\n\n\tfunction clipConvexHull(hullTop, hullBottom, dMin, dMax) {\n\t\tif (hullTop[0][1] < dMin) {\n\t\t\treturn clipConvexHullPart(hullTop, true, dMin);\n\t\t} else if (hullBottom[0][1] > dMax) {\n\t\t\treturn clipConvexHullPart(hullBottom, false, dMax);\n\t\t} else {\n\t\t\treturn hullTop[0][0];\n\t\t}\n\t}\n\n\tfunction clipConvexHullPart(part, top, threshold) {\n\t\tvar px = part[0][0],\n\t\t\tpy = part[0][1];\n\t\tfor (var i = 1, l = part.length; i < l; i++) {\n\t\t\tvar qx = part[i][0],\n\t\t\t\tqy = part[i][1];\n\t\t\tif (top ? qy >= threshold : qy <= threshold) {\n\t\t\t\treturn qy === threshold ? qx\n\t\t\t\t\t\t: px + (threshold - py) * (qx - px) / (qy - py);\n\t\t\t}\n\t\t\tpx = qx;\n\t\t\tpy = qy;\n\t\t}\n\t\treturn null;\n\t}\n\n\tfunction getCurveLineIntersections(v, px, py, vx, vy) {\n\t\tvar isZero = Numerical.isZero;\n\t\tif (isZero(vx) && isZero(vy)) {\n\t\t\tvar t = Curve.getTimeOf(v, new Point(px, py));\n\t\t\treturn t === null ? [] : [t];\n\t\t}\n\t\tvar angle = Math.atan2(-vy, vx),\n\t\t\tsin = Math.sin(angle),\n\t\t\tcos = Math.cos(angle),\n\t\t\trv = [],\n\t\t\troots = [];\n\t\tfor (var i = 0; i < 8; i += 2) {\n\t\t\tvar x = v[i] - px,\n\t\t\t\ty = v[i + 1] - py;\n\t\t\trv.push(\n\t\t\t\tx * cos - y * sin,\n\t\t\t\tx * sin + y * cos);\n\t\t}\n\t\tCurve.solveCubic(rv, 1, 0, roots, 0, 1);\n\t\treturn roots;\n\t}\n\n\tfunction addCurveLineIntersections(v1, v2, c1, c2, locations, include,\n\t\t\tflip) {\n\t\tvar x1 = v2[0], y1 = v2[1],\n\t\t\tx2 = v2[6], y2 = v2[7],\n\t\t\troots = getCurveLineIntersections(v1, x1, y1, x2 - x1, y2 - y1);\n\t\tfor (var i = 0, l = roots.length; i < l; i++) {\n\t\t\tvar t1 = roots[i],\n\t\t\t\tp1 = Curve.getPoint(v1, t1),\n\t\t\t\tt2 = Curve.getTimeOf(v2, p1);\n\t\t\tif (t2 !== null) {\n\t\t\t\taddLocation(locations, include,\n\t\t\t\t\t\tflip ? c2 : c1, flip ? t2 : t1,\n\t\t\t\t\t\tflip ? c1 : c2, flip ? t1 : t2);\n\t\t\t}\n\t\t}\n\t}\n\n\tfunction addLineIntersection(v1, v2, c1, c2, locations, include) {\n\t\tvar pt = Line.intersect(\n\t\t\t\tv1[0], v1[1], v1[6], v1[7],\n\t\t\t\tv2[0], v2[1], v2[6], v2[7]);\n\t\tif (pt) {\n\t\t\taddLocation(locations, include,\n\t\t\t\t\tc1, Curve.getTimeOf(v1, pt),\n\t\t\t\t\tc2, Curve.getTimeOf(v2, pt));\n\t\t}\n\t}\n\n\tfunction getCurveIntersections(v1, v2, c1, c2, locations, include) {\n\t\tvar epsilon = 1e-12,\n\t\t\tmin = Math.min,\n\t\t\tmax = Math.max;\n\n\t\tif (max(v1[0], v1[2], v1[4], v1[6]) + epsilon >\n\t\t\tmin(v2[0], v2[2], v2[4], v2[6]) &&\n\t\t\tmin(v1[0], v1[2], v1[4], v1[6]) - epsilon <\n\t\t\tmax(v2[0], v2[2], v2[4], v2[6]) &&\n\t\t\tmax(v1[1], v1[3], v1[5], v1[7]) + epsilon >\n\t\t\tmin(v2[1], v2[3], v2[5], v2[7]) &&\n\t\t\tmin(v1[1], v1[3], v1[5], v1[7]) - epsilon <\n\t\t\tmax(v2[1], v2[3], v2[5], v2[7])) {\n\t\t\tvar overlaps = getOverlaps(v1, v2);\n\t\t\tif (overlaps) {\n\t\t\t\tfor (var i = 0; i < 2; i++) {\n\t\t\t\t\tvar overlap = overlaps[i];\n\t\t\t\t\taddLocation(locations, include,\n\t\t\t\t\t\t\tc1, overlap[0],\n\t\t\t\t\t\t\tc2, overlap[1], true);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tvar straight1 = Curve.isStraight(v1),\n\t\t\t\t\tstraight2 = Curve.isStraight(v2),\n\t\t\t\t\tstraight = straight1 && straight2,\n\t\t\t\t\tflip = straight1 && !straight2,\n\t\t\t\t\tbefore = locations.length;\n\t\t\t\t(straight\n\t\t\t\t\t? addLineIntersection\n\t\t\t\t\t: straight1 || straight2\n\t\t\t\t\t\t? addCurveLineIntersections\n\t\t\t\t\t\t: addCurveIntersections)(\n\t\t\t\t\t\t\tflip ? v2 : v1, flip ? v1 : v2,\n\t\t\t\t\t\t\tflip ? c2 : c1, flip ? c1 : c2,\n\t\t\t\t\t\t\tlocations, include, flip,\n\t\t\t\t\t\t\t0, 0, 0, 1, 0, 1);\n\t\t\t\tif (!straight || locations.length === before) {\n\t\t\t\t\tfor (var i = 0; i < 4; i++) {\n\t\t\t\t\t\tvar t1 = i >> 1,\n\t\t\t\t\t\t\tt2 = i & 1,\n\t\t\t\t\t\t\ti1 = t1 * 6,\n\t\t\t\t\t\t\ti2 = t2 * 6,\n\t\t\t\t\t\t\tp1 = new Point(v1[i1], v1[i1 + 1]),\n\t\t\t\t\t\t\tp2 = new Point(v2[i2], v2[i2 + 1]);\n\t\t\t\t\t\tif (p1.isClose(p2, epsilon)) {\n\t\t\t\t\t\t\taddLocation(locations, include,\n\t\t\t\t\t\t\t\t\tc1, t1,\n\t\t\t\t\t\t\t\t\tc2, t2);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn locations;\n\t}\n\n\tfunction getSelfIntersection(v1, c1, locations, include) {\n\t\tvar info = Curve.classify(v1);\n\t\tif (info.type === 'loop') {\n\t\t\tvar roots = info.roots;\n\t\t\taddLocation(locations, include,\n\t\t\t\t\tc1, roots[0],\n\t\t\t\t\tc1, roots[1]);\n\t\t}\n\t  return locations;\n\t}\n\n\tfunction getIntersections(curves1, curves2, include, matrix1, matrix2,\n\t\t\t_returnFirst) {\n\t\tvar epsilon = 1e-7,\n\t\t\tself = !curves2;\n\t\tif (self)\n\t\t\tcurves2 = curves1;\n\t\tvar length1 = curves1.length,\n\t\t\tlength2 = curves2.length,\n\t\t\tvalues1 = new Array(length1),\n\t\t\tvalues2 = self ? values1 : new Array(length2),\n\t\t\tlocations = [];\n\n\t\tfor (var i = 0; i < length1; i++) {\n\t\t\tvalues1[i] = curves1[i].getValues(matrix1);\n\t\t}\n\t\tif (!self) {\n\t\t\tfor (var i = 0; i < length2; i++) {\n\t\t\t\tvalues2[i] = curves2[i].getValues(matrix2);\n\t\t\t}\n\t\t}\n\t\tvar boundsCollisions = CollisionDetection.findCurveBoundsCollisions(\n\t\t\t\tvalues1, values2, epsilon);\n\t\tfor (var index1 = 0; index1 < length1; index1++) {\n\t\t\tvar curve1 = curves1[index1],\n\t\t\t\tv1 = values1[index1];\n\t\t\tif (self) {\n\t\t\t\tgetSelfIntersection(v1, curve1, locations, include);\n\t\t\t}\n\t\t\tvar collisions1 = boundsCollisions[index1];\n\t\t\tif (collisions1) {\n\t\t\t\tfor (var j = 0; j < collisions1.length; j++) {\n\t\t\t\t\tif (_returnFirst && locations.length)\n\t\t\t\t\t\treturn locations;\n\t\t\t\t\tvar index2 = collisions1[j];\n\t\t\t\t\tif (!self || index2 > index1) {\n\t\t\t\t\t\tvar curve2 = curves2[index2],\n\t\t\t\t\t\t\tv2 = values2[index2];\n\t\t\t\t\t\tgetCurveIntersections(\n\t\t\t\t\t\t\t\tv1, v2, curve1, curve2, locations, include);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn locations;\n\t}\n\n\tfunction getOverlaps(v1, v2) {\n\n\t\tfunction getSquaredLineLength(v) {\n\t\t\tvar x = v[6] - v[0],\n\t\t\t\ty = v[7] - v[1];\n\t\t\treturn x * x + y * y;\n\t\t}\n\n\t\tvar abs = Math.abs,\n\t\t\tgetDistance = Line.getDistance,\n\t\t\ttimeEpsilon = 1e-8,\n\t\t\tgeomEpsilon = 1e-7,\n\t\t\tstraight1 = Curve.isStraight(v1),\n\t\t\tstraight2 = Curve.isStraight(v2),\n\t\t\tstraightBoth = straight1 && straight2,\n\t\t\tflip = getSquaredLineLength(v1) < getSquaredLineLength(v2),\n\t\t\tl1 = flip ? v2 : v1,\n\t\t\tl2 = flip ? v1 : v2,\n\t\t\tpx = l1[0], py = l1[1],\n\t\t\tvx = l1[6] - px, vy = l1[7] - py;\n\t\tif (getDistance(px, py, vx, vy, l2[0], l2[1], true) < geomEpsilon &&\n\t\t\tgetDistance(px, py, vx, vy, l2[6], l2[7], true) < geomEpsilon) {\n\t\t\tif (!straightBoth &&\n\t\t\t\tgetDistance(px, py, vx, vy, l1[2], l1[3], true) < geomEpsilon &&\n\t\t\t\tgetDistance(px, py, vx, vy, l1[4], l1[5], true) < geomEpsilon &&\n\t\t\t\tgetDistance(px, py, vx, vy, l2[2], l2[3], true) < geomEpsilon &&\n\t\t\t\tgetDistance(px, py, vx, vy, l2[4], l2[5], true) < geomEpsilon) {\n\t\t\t\tstraight1 = straight2 = straightBoth = true;\n\t\t\t}\n\t\t} else if (straightBoth) {\n\t\t\treturn null;\n\t\t}\n\t\tif (straight1 ^ straight2) {\n\t\t\treturn null;\n\t\t}\n\n\t\tvar v = [v1, v2],\n\t\t\tpairs = [];\n\t\tfor (var i = 0; i < 4 && pairs.length < 2; i++) {\n\t\t\tvar i1 = i & 1,\n\t\t\t\ti2 = i1 ^ 1,\n\t\t\t\tt1 = i >> 1,\n\t\t\t\tt2 = Curve.getTimeOf(v[i1], new Point(\n\t\t\t\t\tv[i2][t1 ? 6 : 0],\n\t\t\t\t\tv[i2][t1 ? 7 : 1]));\n\t\t\tif (t2 != null) {\n\t\t\t\tvar pair = i1 ? [t1, t2] : [t2, t1];\n\t\t\t\tif (!pairs.length ||\n\t\t\t\t\tabs(pair[0] - pairs[0][0]) > timeEpsilon &&\n\t\t\t\t\tabs(pair[1] - pairs[0][1]) > timeEpsilon) {\n\t\t\t\t\tpairs.push(pair);\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (i > 2 && !pairs.length)\n\t\t\t\tbreak;\n\t\t}\n\t\tif (pairs.length !== 2) {\n\t\t\tpairs = null;\n\t\t} else if (!straightBoth) {\n\t\t\tvar o1 = Curve.getPart(v1, pairs[0][0], pairs[1][0]),\n\t\t\t\to2 = Curve.getPart(v2, pairs[0][1], pairs[1][1]);\n\t\t\tif (abs(o2[2] - o1[2]) > geomEpsilon ||\n\t\t\t\tabs(o2[3] - o1[3]) > geomEpsilon ||\n\t\t\t\tabs(o2[4] - o1[4]) > geomEpsilon ||\n\t\t\t\tabs(o2[5] - o1[5]) > geomEpsilon)\n\t\t\t\tpairs = null;\n\t\t}\n\t\treturn pairs;\n\t}\n\n\tfunction getTimesWithTangent(v, tangent) {\n\t\tvar x0 = v[0], y0 = v[1],\n\t\t\tx1 = v[2], y1 = v[3],\n\t\t\tx2 = v[4], y2 = v[5],\n\t\t\tx3 = v[6], y3 = v[7],\n\t\t\tnormalized = tangent.normalize(),\n\t\t\ttx = normalized.x,\n\t\t\tty = normalized.y,\n\t\t\tax = 3 * x3 - 9 * x2 + 9 * x1 - 3 * x0,\n\t\t\tay = 3 * y3 - 9 * y2 + 9 * y1 - 3 * y0,\n\t\t\tbx = 6 * x2 - 12 * x1 + 6 * x0,\n\t\t\tby = 6 * y2 - 12 * y1 + 6 * y0,\n\t\t\tcx = 3 * x1 - 3 * x0,\n\t\t\tcy = 3 * y1 - 3 * y0,\n\t\t\tden = 2 * ax * ty - 2 * ay * tx,\n\t\t\ttimes = [];\n\t\tif (Math.abs(den) < Numerical.CURVETIME_EPSILON) {\n\t\t\tvar num = ax * cy - ay * cx,\n\t\t\t\tden = ax * by - ay * bx;\n\t\t\tif (den != 0) {\n\t\t\t\tvar t = -num / den;\n\t\t\t\tif (t >= 0 && t <= 1) times.push(t);\n\t\t\t}\n\t\t} else {\n\t\t\tvar delta = (bx * bx - 4 * ax * cx) * ty * ty +\n\t\t\t\t(-2 * bx * by + 4 * ay * cx + 4 * ax * cy) * tx * ty +\n\t\t\t\t(by * by - 4 * ay * cy) * tx * tx,\n\t\t\t\tk = bx * ty - by * tx;\n\t\t\tif (delta >= 0 && den != 0) {\n\t\t\t\tvar d = Math.sqrt(delta),\n\t\t\t\t\tt0 = -(k + d) / den,\n\t\t\t\t\tt1 = (-k + d) / den;\n\t\t\t\tif (t0 >= 0 && t0 <= 1) times.push(t0);\n\t\t\t\tif (t1 >= 0 && t1 <= 1) times.push(t1);\n\t\t\t}\n\t\t}\n\t\treturn times;\n\t}\n\n\treturn {\n\t\tgetIntersections: function(curve) {\n\t\t\tvar v1 = this.getValues(),\n\t\t\t\tv2 = curve && curve !== this && curve.getValues();\n\t\t\treturn v2 ? getCurveIntersections(v1, v2, this, curve, [])\n\t\t\t\t\t  : getSelfIntersection(v1, this, []);\n\t\t},\n\n\t\tstatics: {\n\t\t\tgetOverlaps: getOverlaps,\n\t\t\tgetIntersections: getIntersections,\n\t\t\tgetCurveLineIntersections: getCurveLineIntersections,\n\t\t\tgetTimesWithTangent: getTimesWithTangent\n\t\t}\n\t};\n});\n\nvar CurveLocation = Base.extend({\n\t_class: 'CurveLocation',\n\n\tinitialize: function CurveLocation(curve, time, point, _overlap, _distance) {\n\t\tif (time >= 0.99999999) {\n\t\t\tvar next = curve.getNext();\n\t\t\tif (next) {\n\t\t\t\ttime = 0;\n\t\t\t\tcurve = next;\n\t\t\t}\n\t\t}\n\t\tthis._setCurve(curve);\n\t\tthis._time = time;\n\t\tthis._point = point || curve.getPointAtTime(time);\n\t\tthis._overlap = _overlap;\n\t\tthis._distance = _distance;\n\t\tthis._intersection = this._next = this._previous = null;\n\t},\n\n\t_setPath: function(path) {\n\t\tthis._path = path;\n\t\tthis._version = path ? path._version : 0;\n\t},\n\n\t_setCurve: function(curve) {\n\t\tthis._setPath(curve._path);\n\t\tthis._curve = curve;\n\t\tthis._segment = null;\n\t\tthis._segment1 = curve._segment1;\n\t\tthis._segment2 = curve._segment2;\n\t},\n\n\t_setSegment: function(segment) {\n\t\tvar curve = segment.getCurve();\n\t\tif (curve) {\n\t\t\tthis._setCurve(curve);\n\t\t} else {\n\t\t\tthis._setPath(segment._path);\n\t\t\tthis._segment1 = segment;\n\t\t\tthis._segment2 = null;\n\t\t}\n\t\tthis._segment = segment;\n\t\tthis._time = segment === this._segment1 ? 0 : 1;\n\t\tthis._point = segment._point.clone();\n\t},\n\n\tgetSegment: function() {\n\t\tvar segment = this._segment;\n\t\tif (!segment) {\n\t\t\tvar curve = this.getCurve(),\n\t\t\t\ttime = this.getTime();\n\t\t\tif (time === 0) {\n\t\t\t\tsegment = curve._segment1;\n\t\t\t} else if (time === 1) {\n\t\t\t\tsegment = curve._segment2;\n\t\t\t} else if (time != null) {\n\t\t\t\tsegment = curve.getPartLength(0, time)\n\t\t\t\t\t< curve.getPartLength(time, 1)\n\t\t\t\t\t\t? curve._segment1\n\t\t\t\t\t\t: curve._segment2;\n\t\t\t}\n\t\t\tthis._segment = segment;\n\t\t}\n\t\treturn segment;\n\t},\n\n\tgetCurve: function() {\n\t\tvar path = this._path,\n\t\t\tthat = this;\n\t\tif (path && path._version !== this._version) {\n\t\t\tthis._time = this._offset = this._curveOffset = this._curve = null;\n\t\t}\n\n\t\tfunction trySegment(segment) {\n\t\t\tvar curve = segment && segment.getCurve();\n\t\t\tif (curve && (that._time = curve.getTimeOf(that._point)) != null) {\n\t\t\t\tthat._setCurve(curve);\n\t\t\t\treturn curve;\n\t\t\t}\n\t\t}\n\n\t\treturn this._curve\n\t\t\t|| trySegment(this._segment)\n\t\t\t|| trySegment(this._segment1)\n\t\t\t|| trySegment(this._segment2.getPrevious());\n\t},\n\n\tgetPath: function() {\n\t\tvar curve = this.getCurve();\n\t\treturn curve && curve._path;\n\t},\n\n\tgetIndex: function() {\n\t\tvar curve = this.getCurve();\n\t\treturn curve && curve.getIndex();\n\t},\n\n\tgetTime: function() {\n\t\tvar curve = this.getCurve(),\n\t\t\ttime = this._time;\n\t\treturn curve && time == null\n\t\t\t? this._time = curve.getTimeOf(this._point)\n\t\t\t: time;\n\t},\n\n\tgetParameter: '#getTime',\n\n\tgetPoint: function() {\n\t\treturn this._point;\n\t},\n\n\tgetOffset: function() {\n\t\tvar offset = this._offset;\n\t\tif (offset == null) {\n\t\t\toffset = 0;\n\t\t\tvar path = this.getPath(),\n\t\t\t\tindex = this.getIndex();\n\t\t\tif (path && index != null) {\n\t\t\t\tvar curves = path.getCurves();\n\t\t\t\tfor (var i = 0; i < index; i++)\n\t\t\t\t\toffset += curves[i].getLength();\n\t\t\t}\n\t\t\tthis._offset = offset += this.getCurveOffset();\n\t\t}\n\t\treturn offset;\n\t},\n\n\tgetCurveOffset: function() {\n\t\tvar offset = this._curveOffset;\n\t\tif (offset == null) {\n\t\t\tvar curve = this.getCurve(),\n\t\t\t\ttime = this.getTime();\n\t\t\tthis._curveOffset = offset = time != null && curve\n\t\t\t\t\t&& curve.getPartLength(0, time);\n\t\t}\n\t\treturn offset;\n\t},\n\n\tgetIntersection: function() {\n\t\treturn this._intersection;\n\t},\n\n\tgetDistance: function() {\n\t\treturn this._distance;\n\t},\n\n\tdivide: function() {\n\t\tvar curve = this.getCurve(),\n\t\t\tres = curve && curve.divideAtTime(this.getTime());\n\t\tif (res) {\n\t\t\tthis._setSegment(res._segment1);\n\t\t}\n\t\treturn res;\n\t},\n\n\tsplit: function() {\n\t\tvar curve = this.getCurve(),\n\t\t\tpath = curve._path,\n\t\t\tres = curve && curve.splitAtTime(this.getTime());\n\t\tif (res) {\n\t\t\tthis._setSegment(path.getLastSegment());\n\t\t}\n\t\treturn  res;\n\t},\n\n\tequals: function(loc, _ignoreOther) {\n\t\tvar res = this === loc;\n\t\tif (!res && loc instanceof CurveLocation) {\n\t\t\tvar c1 = this.getCurve(),\n\t\t\t\tc2 = loc.getCurve(),\n\t\t\t\tp1 = c1._path,\n\t\t\t\tp2 = c2._path;\n\t\t\tif (p1 === p2) {\n\t\t\t\tvar abs = Math.abs,\n\t\t\t\t\tepsilon = 1e-7,\n\t\t\t\t\tdiff = abs(this.getOffset() - loc.getOffset()),\n\t\t\t\t\ti1 = !_ignoreOther && this._intersection,\n\t\t\t\t\ti2 = !_ignoreOther && loc._intersection;\n\t\t\t\tres = (diff < epsilon\n\t\t\t\t\t\t|| p1 && abs(p1.getLength() - diff) < epsilon)\n\t\t\t\t\t&& (!i1 && !i2 || i1 && i2 && i1.equals(i2, true));\n\t\t\t}\n\t\t}\n\t\treturn res;\n\t},\n\n\ttoString: function() {\n\t\tvar parts = [],\n\t\t\tpoint = this.getPoint(),\n\t\t\tf = Formatter.instance;\n\t\tif (point)\n\t\t\tparts.push('point: ' + point);\n\t\tvar index = this.getIndex();\n\t\tif (index != null)\n\t\t\tparts.push('index: ' + index);\n\t\tvar time = this.getTime();\n\t\tif (time != null)\n\t\t\tparts.push('time: ' + f.number(time));\n\t\tif (this._distance != null)\n\t\t\tparts.push('distance: ' + f.number(this._distance));\n\t\treturn '{ ' + parts.join(', ') + ' }';\n\t},\n\n\tisTouching: function() {\n\t\tvar inter = this._intersection;\n\t\tif (inter && this.getTangent().isCollinear(inter.getTangent())) {\n\t\t\tvar curve1 = this.getCurve(),\n\t\t\t\tcurve2 = inter.getCurve();\n\t\t\treturn !(curve1.isStraight() && curve2.isStraight()\n\t\t\t\t\t&& curve1.getLine().intersect(curve2.getLine()));\n\t\t}\n\t\treturn false;\n\t},\n\n\tisCrossing: function() {\n\t\tvar inter = this._intersection;\n\t\tif (!inter)\n\t\t\treturn false;\n\t\tvar t1 = this.getTime(),\n\t\t\tt2 = inter.getTime(),\n\t\t\ttMin = 1e-8,\n\t\t\ttMax = 1 - tMin,\n\t\t\tt1Inside = t1 >= tMin && t1 <= tMax,\n\t\t\tt2Inside = t2 >= tMin && t2 <= tMax;\n\t\tif (t1Inside && t2Inside)\n\t\t\treturn !this.isTouching();\n\t\tvar c2 = this.getCurve(),\n\t\t\tc1 = c2 && t1 < tMin ? c2.getPrevious() : c2,\n\t\t\tc4 = inter.getCurve(),\n\t\t\tc3 = c4 && t2 < tMin ? c4.getPrevious() : c4;\n\t\tif (t1 > tMax)\n\t\t\tc2 = c2.getNext();\n\t\tif (t2 > tMax)\n\t\t\tc4 = c4.getNext();\n\t\tif (!c1 || !c2 || !c3 || !c4)\n\t\t\treturn false;\n\n\t\tvar offsets = [];\n\n\t\tfunction addOffsets(curve, end) {\n\t\t\tvar v = curve.getValues(),\n\t\t\t\troots = Curve.classify(v).roots || Curve.getPeaks(v),\n\t\t\t\tcount = roots.length,\n\t\t\t\toffset = Curve.getLength(v,\n\t\t\t\t\tend && count ? roots[count - 1] : 0,\n\t\t\t\t\t!end && count ? roots[0] : 1);\n\t\t\toffsets.push(count ? offset : offset / 32);\n\t\t}\n\n\t\tfunction isInRange(angle, min, max) {\n\t\t\treturn min < max\n\t\t\t\t\t? angle > min && angle < max\n\t\t\t\t\t: angle > min || angle < max;\n\t\t}\n\n\t\tif (!t1Inside) {\n\t\t\taddOffsets(c1, true);\n\t\t\taddOffsets(c2, false);\n\t\t}\n\t\tif (!t2Inside) {\n\t\t\taddOffsets(c3, true);\n\t\t\taddOffsets(c4, false);\n\t\t}\n\t\tvar pt = this.getPoint(),\n\t\t\toffset = Math.min.apply(Math, offsets),\n\t\t\tv2 = t1Inside ? c2.getTangentAtTime(t1)\n\t\t\t\t\t: c2.getPointAt(offset).subtract(pt),\n\t\t\tv1 = t1Inside ? v2.negate()\n\t\t\t\t\t: c1.getPointAt(-offset).subtract(pt),\n\t\t\tv4 = t2Inside ? c4.getTangentAtTime(t2)\n\t\t\t\t\t: c4.getPointAt(offset).subtract(pt),\n\t\t\tv3 = t2Inside ? v4.negate()\n\t\t\t\t\t: c3.getPointAt(-offset).subtract(pt),\n\t\t\ta1 = v1.getAngle(),\n\t\t\ta2 = v2.getAngle(),\n\t\t\ta3 = v3.getAngle(),\n\t\t\ta4 = v4.getAngle();\n\t\treturn !!(t1Inside\n\t\t\t\t? (isInRange(a1, a3, a4) ^ isInRange(a2, a3, a4)) &&\n\t\t\t\t  (isInRange(a1, a4, a3) ^ isInRange(a2, a4, a3))\n\t\t\t\t: (isInRange(a3, a1, a2) ^ isInRange(a4, a1, a2)) &&\n\t\t\t\t  (isInRange(a3, a2, a1) ^ isInRange(a4, a2, a1)));\n\t},\n\n\thasOverlap: function() {\n\t\treturn !!this._overlap;\n\t}\n}, Base.each(Curve._evaluateMethods, function(name) {\n\tvar get = name + 'At';\n\tthis[name] = function() {\n\t\tvar curve = this.getCurve(),\n\t\t\ttime = this.getTime();\n\t\treturn time != null && curve && curve[get](time, true);\n\t};\n}, {\n\tpreserve: true\n}),\nnew function() {\n\n\tfunction insert(locations, loc, merge) {\n\t\tvar length = locations.length,\n\t\t\tl = 0,\n\t\t\tr = length - 1;\n\n\t\tfunction search(index, dir) {\n\t\t\tfor (var i = index + dir; i >= -1 && i <= length; i += dir) {\n\t\t\t\tvar loc2 = locations[((i % length) + length) % length];\n\t\t\t\tif (!loc.getPoint().isClose(loc2.getPoint(),\n\t\t\t\t\t\t1e-7))\n\t\t\t\t\tbreak;\n\t\t\t\tif (loc.equals(loc2))\n\t\t\t\t\treturn loc2;\n\t\t\t}\n\t\t\treturn null;\n\t\t}\n\n\t\twhile (l <= r) {\n\t\t\tvar m = (l + r) >>> 1,\n\t\t\t\tloc2 = locations[m],\n\t\t\t\tfound;\n\t\t\tif (merge && (found = loc.equals(loc2) ? loc2\n\t\t\t\t\t: (search(m, -1) || search(m, 1)))) {\n\t\t\t\tif (loc._overlap) {\n\t\t\t\t\tfound._overlap = found._intersection._overlap = true;\n\t\t\t\t}\n\t\t\t\treturn found;\n\t\t\t}\n\t\tvar path1 = loc.getPath(),\n\t\t\tpath2 = loc2.getPath(),\n\t\t\tdiff = path1 !== path2\n\t\t\t\t? path1._id - path2._id\n\t\t\t\t: (loc.getIndex() + loc.getTime())\n\t\t\t\t- (loc2.getIndex() + loc2.getTime());\n\t\t\tif (diff < 0) {\n\t\t\t\tr = m - 1;\n\t\t\t} else {\n\t\t\t\tl = m + 1;\n\t\t\t}\n\t\t}\n\t\tlocations.splice(l, 0, loc);\n\t\treturn loc;\n\t}\n\n\treturn { statics: {\n\t\tinsert: insert,\n\n\t\texpand: function(locations) {\n\t\t\tvar expanded = locations.slice();\n\t\t\tfor (var i = locations.length - 1; i >= 0; i--) {\n\t\t\t\tinsert(expanded, locations[i]._intersection, false);\n\t\t\t}\n\t\t\treturn expanded;\n\t\t}\n\t}};\n});\n\nvar PathItem = Item.extend({\n\t_class: 'PathItem',\n\t_selectBounds: false,\n\t_canScaleStroke: true,\n\tbeans: true,\n\n\tinitialize: function PathItem() {\n\t},\n\n\tstatics: {\n\t\tcreate: function(arg) {\n\t\t\tvar data,\n\t\t\t\tsegments,\n\t\t\t\tcompound;\n\t\t\tif (Base.isPlainObject(arg)) {\n\t\t\t\tsegments = arg.segments;\n\t\t\t\tdata = arg.pathData;\n\t\t\t} else if (Array.isArray(arg)) {\n\t\t\t\tsegments = arg;\n\t\t\t} else if (typeof arg === 'string') {\n\t\t\t\tdata = arg;\n\t\t\t}\n\t\t\tif (segments) {\n\t\t\t\tvar first = segments[0];\n\t\t\t\tcompound = first && Array.isArray(first[0]);\n\t\t\t} else if (data) {\n\t\t\t\tcompound = (data.match(/m/gi) || []).length > 1\n\t\t\t\t\t\t|| /z\\s*\\S+/i.test(data);\n\t\t\t}\n\t\t\tvar ctor = compound ? CompoundPath : Path;\n\t\t\treturn new ctor(arg);\n\t\t}\n\t},\n\n\t_asPathItem: function() {\n\t\treturn this;\n\t},\n\n\tisClockwise: function() {\n\t\treturn this.getArea() >= 0;\n\t},\n\n\tsetClockwise: function(clockwise) {\n\t\tif (this.isClockwise() != (clockwise = !!clockwise))\n\t\t\tthis.reverse();\n\t},\n\n\tsetPathData: function(data) {\n\n\t\tvar parts = data && data.match(/[mlhvcsqtaz][^mlhvcsqtaz]*/ig),\n\t\t\tcoords,\n\t\t\trelative = false,\n\t\t\tprevious,\n\t\t\tcontrol,\n\t\t\tcurrent = new Point(),\n\t\t\tstart = new Point();\n\n\t\tfunction getCoord(index, coord) {\n\t\t\tvar val = +coords[index];\n\t\t\tif (relative)\n\t\t\t\tval += current[coord];\n\t\t\treturn val;\n\t\t}\n\n\t\tfunction getPoint(index) {\n\t\t\treturn new Point(\n\t\t\t\tgetCoord(index, 'x'),\n\t\t\t\tgetCoord(index + 1, 'y')\n\t\t\t);\n\t\t}\n\n\t\tthis.clear();\n\n\t\tfor (var i = 0, l = parts && parts.length; i < l; i++) {\n\t\t\tvar part = parts[i],\n\t\t\t\tcommand = part[0],\n\t\t\t\tlower = command.toLowerCase();\n\t\t\tcoords = part.match(/[+-]?(?:\\d*\\.\\d+|\\d+\\.?)(?:[eE][+-]?\\d+)?/g);\n\t\t\tvar length = coords && coords.length;\n\t\t\trelative = command === lower;\n\t\t\tif (previous === 'z' && !/[mz]/.test(lower))\n\t\t\t\tthis.moveTo(current);\n\t\t\tswitch (lower) {\n\t\t\tcase 'm':\n\t\t\tcase 'l':\n\t\t\t\tvar move = lower === 'm';\n\t\t\t\tfor (var j = 0; j < length; j += 2) {\n\t\t\t\t\tthis[move ? 'moveTo' : 'lineTo'](current = getPoint(j));\n\t\t\t\t\tif (move) {\n\t\t\t\t\t\tstart = current;\n\t\t\t\t\t\tmove = false;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tcontrol = current;\n\t\t\t\tbreak;\n\t\t\tcase 'h':\n\t\t\tcase 'v':\n\t\t\t\tvar coord = lower === 'h' ? 'x' : 'y';\n\t\t\t\tcurrent = current.clone();\n\t\t\t\tfor (var j = 0; j < length; j++) {\n\t\t\t\t\tcurrent[coord] = getCoord(j, coord);\n\t\t\t\t\tthis.lineTo(current);\n\t\t\t\t}\n\t\t\t\tcontrol = current;\n\t\t\t\tbreak;\n\t\t\tcase 'c':\n\t\t\t\tfor (var j = 0; j < length; j += 6) {\n\t\t\t\t\tthis.cubicCurveTo(\n\t\t\t\t\t\t\tgetPoint(j),\n\t\t\t\t\t\t\tcontrol = getPoint(j + 2),\n\t\t\t\t\t\t\tcurrent = getPoint(j + 4));\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase 's':\n\t\t\t\tfor (var j = 0; j < length; j += 4) {\n\t\t\t\t\tthis.cubicCurveTo(\n\t\t\t\t\t\t\t/[cs]/.test(previous)\n\t\t\t\t\t\t\t\t\t? current.multiply(2).subtract(control)\n\t\t\t\t\t\t\t\t\t: current,\n\t\t\t\t\t\t\tcontrol = getPoint(j),\n\t\t\t\t\t\t\tcurrent = getPoint(j + 2));\n\t\t\t\t\tprevious = lower;\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase 'q':\n\t\t\t\tfor (var j = 0; j < length; j += 4) {\n\t\t\t\t\tthis.quadraticCurveTo(\n\t\t\t\t\t\t\tcontrol = getPoint(j),\n\t\t\t\t\t\t\tcurrent = getPoint(j + 2));\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase 't':\n\t\t\t\tfor (var j = 0; j < length; j += 2) {\n\t\t\t\t\tthis.quadraticCurveTo(\n\t\t\t\t\t\t\tcontrol = (/[qt]/.test(previous)\n\t\t\t\t\t\t\t\t\t? current.multiply(2).subtract(control)\n\t\t\t\t\t\t\t\t\t: current),\n\t\t\t\t\t\t\tcurrent = getPoint(j));\n\t\t\t\t\tprevious = lower;\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase 'a':\n\t\t\t\tfor (var j = 0; j < length; j += 7) {\n\t\t\t\t\tthis.arcTo(current = getPoint(j + 5),\n\t\t\t\t\t\t\tnew Size(+coords[j], +coords[j + 1]),\n\t\t\t\t\t\t\t+coords[j + 2], +coords[j + 4], +coords[j + 3]);\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase 'z':\n\t\t\t\tthis.closePath(1e-12);\n\t\t\t\tcurrent = start;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tprevious = lower;\n\t\t}\n\t},\n\n\t_canComposite: function() {\n\t\treturn !(this.hasFill() && this.hasStroke());\n\t},\n\n\t_contains: function(point) {\n\t\tvar winding = point.isInside(\n\t\t\t\tthis.getBounds({ internal: true, handle: true }))\n\t\t\t\t\t? this._getWinding(point)\n\t\t\t\t\t: {};\n\t\treturn winding.onPath || !!(this.getFillRule() === 'evenodd'\n\t\t\t\t? winding.windingL & 1 || winding.windingR & 1\n\t\t\t\t: winding.winding);\n\t},\n\n\tgetIntersections: function(path, include, _matrix, _returnFirst) {\n\t\tvar self = this === path || !path,\n\t\t\tmatrix1 = this._matrix._orNullIfIdentity(),\n\t\t\tmatrix2 = self ? matrix1\n\t\t\t\t: (_matrix || path._matrix)._orNullIfIdentity();\n\t\treturn self || this.getBounds(matrix1).intersects(\n\t\t\t\tpath.getBounds(matrix2), 1e-12)\n\t\t\t\t? Curve.getIntersections(\n\t\t\t\t\t\tthis.getCurves(), !self && path.getCurves(), include,\n\t\t\t\t\t\tmatrix1, matrix2, _returnFirst)\n\t\t\t\t: [];\n\t},\n\n\tgetCrossings: function(path) {\n\t\treturn this.getIntersections(path, function(inter) {\n\t\t\treturn inter.isCrossing();\n\t\t});\n\t},\n\n\tgetNearestLocation: function() {\n\t\tvar point = Point.read(arguments),\n\t\t\tcurves = this.getCurves(),\n\t\t\tminDist = Infinity,\n\t\t\tminLoc = null;\n\t\tfor (var i = 0, l = curves.length; i < l; i++) {\n\t\t\tvar loc = curves[i].getNearestLocation(point);\n\t\t\tif (loc._distance < minDist) {\n\t\t\t\tminDist = loc._distance;\n\t\t\t\tminLoc = loc;\n\t\t\t}\n\t\t}\n\t\treturn minLoc;\n\t},\n\n\tgetNearestPoint: function() {\n\t\tvar loc = this.getNearestLocation.apply(this, arguments);\n\t\treturn loc ? loc.getPoint() : loc;\n\t},\n\n\tinterpolate: function(from, to, factor) {\n\t\tvar isPath = !this._children,\n\t\t\tname = isPath ? '_segments' : '_children',\n\t\t\titemsFrom = from[name],\n\t\t\titemsTo = to[name],\n\t\t\titems = this[name];\n\t\tif (!itemsFrom || !itemsTo || itemsFrom.length !== itemsTo.length) {\n\t\t\tthrow new Error('Invalid operands in interpolate() call: ' +\n\t\t\t\t\tfrom + ', ' + to);\n\t\t}\n\t\tvar current = items.length,\n\t\t\tlength = itemsTo.length;\n\t\tif (current < length) {\n\t\t\tvar ctor = isPath ? Segment : Path;\n\t\t\tfor (var i = current; i < length; i++) {\n\t\t\t\tthis.add(new ctor());\n\t\t\t}\n\t\t} else if (current > length) {\n\t\t\tthis[isPath ? 'removeSegments' : 'removeChildren'](length, current);\n\t\t}\n\t\tfor (var i = 0; i < length; i++) {\n\t\t\titems[i].interpolate(itemsFrom[i], itemsTo[i], factor);\n\t\t}\n\t\tif (isPath) {\n\t\t\tthis.setClosed(from._closed);\n\t\t\tthis._changed(9);\n\t\t}\n\t},\n\n\tcompare: function(path) {\n\t\tvar ok = false;\n\t\tif (path) {\n\t\t\tvar paths1 = this._children || [this],\n\t\t\t\tpaths2 = path._children ? path._children.slice() : [path],\n\t\t\t\tlength1 = paths1.length,\n\t\t\t\tlength2 = paths2.length,\n\t\t\t\tmatched = [],\n\t\t\t\tcount = 0;\n\t\t\tok = true;\n\t\t\tvar boundsOverlaps = CollisionDetection.findItemBoundsCollisions(paths1, paths2, Numerical.GEOMETRIC_EPSILON);\n\t\t\tfor (var i1 = length1 - 1; i1 >= 0 && ok; i1--) {\n\t\t\t\tvar path1 = paths1[i1];\n\t\t\t\tok = false;\n\t\t\t\tvar pathBoundsOverlaps = boundsOverlaps[i1];\n\t\t\t\tif (pathBoundsOverlaps) {\n\t\t\t\t\tfor (var i2 = pathBoundsOverlaps.length - 1; i2 >= 0 && !ok; i2--) {\n\t\t\t\t\t\tif (path1.compare(paths2[pathBoundsOverlaps[i2]])) {\n\t\t\t\t\t\t\tif (!matched[pathBoundsOverlaps[i2]]) {\n\t\t\t\t\t\t\t\tmatched[pathBoundsOverlaps[i2]] = true;\n\t\t\t\t\t\t\t\tcount++;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tok = true;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tok = ok && count === length2;\n\t\t}\n\t\treturn ok;\n\t},\n\n});\n\nvar Path = PathItem.extend({\n\t_class: 'Path',\n\t_serializeFields: {\n\t\tsegments: [],\n\t\tclosed: false\n\t},\n\n\tinitialize: function Path(arg) {\n\t\tthis._closed = false;\n\t\tthis._segments = [];\n\t\tthis._version = 0;\n\t\tvar args = arguments,\n\t\t\tsegments = Array.isArray(arg)\n\t\t\t? typeof arg[0] === 'object'\n\t\t\t\t? arg\n\t\t\t\t: args\n\t\t\t: arg && (arg.size === undefined && (arg.x !== undefined\n\t\t\t\t\t|| arg.point !== undefined))\n\t\t\t\t? args\n\t\t\t\t: null;\n\t\tif (segments && segments.length > 0) {\n\t\t\tthis.setSegments(segments);\n\t\t} else {\n\t\t\tthis._curves = undefined;\n\t\t\tthis._segmentSelection = 0;\n\t\t\tif (!segments && typeof arg === 'string') {\n\t\t\t\tthis.setPathData(arg);\n\t\t\t\targ = null;\n\t\t\t}\n\t\t}\n\t\tthis._initialize(!segments && arg);\n\t},\n\n\t_equals: function(item) {\n\t\treturn this._closed === item._closed\n\t\t\t\t&& Base.equals(this._segments, item._segments);\n\t},\n\n\tcopyContent: function(source) {\n\t\tthis.setSegments(source._segments);\n\t\tthis._closed = source._closed;\n\t},\n\n\t_changed: function _changed(flags) {\n\t\t_changed.base.call(this, flags);\n\t\tif (flags & 8) {\n\t\t\tthis._length = this._area = undefined;\n\t\t\tif (flags & 32) {\n\t\t\t\tthis._version++;\n\t\t\t} else if (this._curves) {\n\t\t\t   for (var i = 0, l = this._curves.length; i < l; i++)\n\t\t\t\t\tthis._curves[i]._changed();\n\t\t\t}\n\t\t} else if (flags & 64) {\n\t\t\tthis._bounds = undefined;\n\t\t}\n\t},\n\n\tgetStyle: function() {\n\t\tvar parent = this._parent;\n\t\treturn (parent instanceof CompoundPath ? parent : this)._style;\n\t},\n\n\tgetSegments: function() {\n\t\treturn this._segments;\n\t},\n\n\tsetSegments: function(segments) {\n\t\tvar fullySelected = this.isFullySelected(),\n\t\t\tlength = segments && segments.length;\n\t\tthis._segments.length = 0;\n\t\tthis._segmentSelection = 0;\n\t\tthis._curves = undefined;\n\t\tif (length) {\n\t\t\tvar last = segments[length - 1];\n\t\t\tif (typeof last === 'boolean') {\n\t\t\t\tthis.setClosed(last);\n\t\t\t\tlength--;\n\t\t\t}\n\t\t\tthis._add(Segment.readList(segments, 0, {}, length));\n\t\t}\n\t\tif (fullySelected)\n\t\t\tthis.setFullySelected(true);\n\t},\n\n\tgetFirstSegment: function() {\n\t\treturn this._segments[0];\n\t},\n\n\tgetLastSegment: function() {\n\t\treturn this._segments[this._segments.length - 1];\n\t},\n\n\tgetCurves: function() {\n\t\tvar curves = this._curves,\n\t\t\tsegments = this._segments;\n\t\tif (!curves) {\n\t\t\tvar length = this._countCurves();\n\t\t\tcurves = this._curves = new Array(length);\n\t\t\tfor (var i = 0; i < length; i++)\n\t\t\t\tcurves[i] = new Curve(this, segments[i],\n\t\t\t\t\tsegments[i + 1] || segments[0]);\n\t\t}\n\t\treturn curves;\n\t},\n\n\tgetFirstCurve: function() {\n\t\treturn this.getCurves()[0];\n\t},\n\n\tgetLastCurve: function() {\n\t\tvar curves = this.getCurves();\n\t\treturn curves[curves.length - 1];\n\t},\n\n\tisClosed: function() {\n\t\treturn this._closed;\n\t},\n\n\tsetClosed: function(closed) {\n\t\tif (this._closed != (closed = !!closed)) {\n\t\t\tthis._closed = closed;\n\t\t\tif (this._curves) {\n\t\t\t\tvar length = this._curves.length = this._countCurves();\n\t\t\t\tif (closed)\n\t\t\t\t\tthis._curves[length - 1] = new Curve(this,\n\t\t\t\t\t\tthis._segments[length - 1], this._segments[0]);\n\t\t\t}\n\t\t\tthis._changed(41);\n\t\t}\n\t}\n}, {\n\tbeans: true,\n\n\tgetPathData: function(_matrix, _precision) {\n\t\tvar segments = this._segments,\n\t\t\tlength = segments.length,\n\t\t\tf = new Formatter(_precision),\n\t\t\tcoords = new Array(6),\n\t\t\tfirst = true,\n\t\t\tcurX, curY,\n\t\t\tprevX, prevY,\n\t\t\tinX, inY,\n\t\t\toutX, outY,\n\t\t\tparts = [];\n\n\t\tfunction addSegment(segment, skipLine) {\n\t\t\tsegment._transformCoordinates(_matrix, coords);\n\t\t\tcurX = coords[0];\n\t\t\tcurY = coords[1];\n\t\t\tif (first) {\n\t\t\t\tparts.push('M' + f.pair(curX, curY));\n\t\t\t\tfirst = false;\n\t\t\t} else {\n\t\t\t\tinX = coords[2];\n\t\t\t\tinY = coords[3];\n\t\t\t\tif (inX === curX && inY === curY\n\t\t\t\t\t\t&& outX === prevX && outY === prevY) {\n\t\t\t\t\tif (!skipLine) {\n\t\t\t\t\t\tvar dx = curX - prevX,\n\t\t\t\t\t\t\tdy = curY - prevY;\n\t\t\t\t\t\tparts.push(\n\t\t\t\t\t\t\t  dx === 0 ? 'v' + f.number(dy)\n\t\t\t\t\t\t\t: dy === 0 ? 'h' + f.number(dx)\n\t\t\t\t\t\t\t: 'l' + f.pair(dx, dy));\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tparts.push('c' + f.pair(outX - prevX, outY - prevY)\n\t\t\t\t\t\t\t + ' ' + f.pair( inX - prevX,  inY - prevY)\n\t\t\t\t\t\t\t + ' ' + f.pair(curX - prevX, curY - prevY));\n\t\t\t\t}\n\t\t\t}\n\t\t\tprevX = curX;\n\t\t\tprevY = curY;\n\t\t\toutX = coords[4];\n\t\t\toutY = coords[5];\n\t\t}\n\n\t\tif (!length)\n\t\t\treturn '';\n\n\t\tfor (var i = 0; i < length; i++)\n\t\t\taddSegment(segments[i]);\n\t\tif (this._closed && length > 0) {\n\t\t\taddSegment(segments[0], true);\n\t\t\tparts.push('z');\n\t\t}\n\t\treturn parts.join('');\n\t},\n\n\tisEmpty: function() {\n\t\treturn !this._segments.length;\n\t},\n\n\t_transformContent: function(matrix) {\n\t\tvar segments = this._segments,\n\t\t\tcoords = new Array(6);\n\t\tfor (var i = 0, l = segments.length; i < l; i++)\n\t\t\tsegments[i]._transformCoordinates(matrix, coords, true);\n\t\treturn true;\n\t},\n\n\t_add: function(segs, index) {\n\t\tvar segments = this._segments,\n\t\t\tcurves = this._curves,\n\t\t\tamount = segs.length,\n\t\t\tappend = index == null,\n\t\t\tindex = append ? segments.length : index;\n\t\tfor (var i = 0; i < amount; i++) {\n\t\t\tvar segment = segs[i];\n\t\t\tif (segment._path)\n\t\t\t\tsegment = segs[i] = segment.clone();\n\t\t\tsegment._path = this;\n\t\t\tsegment._index = index + i;\n\t\t\tif (segment._selection)\n\t\t\t\tthis._updateSelection(segment, 0, segment._selection);\n\t\t}\n\t\tif (append) {\n\t\t\tBase.push(segments, segs);\n\t\t} else {\n\t\t\tsegments.splice.apply(segments, [index, 0].concat(segs));\n\t\t\tfor (var i = index + amount, l = segments.length; i < l; i++)\n\t\t\t\tsegments[i]._index = i;\n\t\t}\n\t\tif (curves) {\n\t\t\tvar total = this._countCurves(),\n\t\t\t\tstart = index > 0 && index + amount - 1 === total ? index - 1\n\t\t\t\t\t: index,\n\t\t\t\tinsert = start,\n\t\t\t\tend = Math.min(start + amount, total);\n\t\t\tif (segs._curves) {\n\t\t\t\tcurves.splice.apply(curves, [start, 0].concat(segs._curves));\n\t\t\t\tinsert += segs._curves.length;\n\t\t\t}\n\t\t\tfor (var i = insert; i < end; i++)\n\t\t\t\tcurves.splice(i, 0, new Curve(this, null, null));\n\t\t\tthis._adjustCurves(start, end);\n\t\t}\n\t\tthis._changed(41);\n\t\treturn segs;\n\t},\n\n\t_adjustCurves: function(start, end) {\n\t\tvar segments = this._segments,\n\t\t\tcurves = this._curves,\n\t\t\tcurve;\n\t\tfor (var i = start; i < end; i++) {\n\t\t\tcurve = curves[i];\n\t\t\tcurve._path = this;\n\t\t\tcurve._segment1 = segments[i];\n\t\t\tcurve._segment2 = segments[i + 1] || segments[0];\n\t\t\tcurve._changed();\n\t\t}\n\t\tif (curve = curves[this._closed && !start ? segments.length - 1\n\t\t\t\t: start - 1]) {\n\t\t\tcurve._segment2 = segments[start] || segments[0];\n\t\t\tcurve._changed();\n\t\t}\n\t\tif (curve = curves[end]) {\n\t\t\tcurve._segment1 = segments[end];\n\t\t\tcurve._changed();\n\t\t}\n\t},\n\n\t_countCurves: function() {\n\t\tvar length = this._segments.length;\n\t\treturn !this._closed && length > 0 ? length - 1 : length;\n\t},\n\n\tadd: function(segment1 ) {\n\t\tvar args = arguments;\n\t\treturn args.length > 1 && typeof segment1 !== 'number'\n\t\t\t? this._add(Segment.readList(args))\n\t\t\t: this._add([ Segment.read(args) ])[0];\n\t},\n\n\tinsert: function(index, segment1 ) {\n\t\tvar args = arguments;\n\t\treturn args.length > 2 && typeof segment1 !== 'number'\n\t\t\t? this._add(Segment.readList(args, 1), index)\n\t\t\t: this._add([ Segment.read(args, 1) ], index)[0];\n\t},\n\n\taddSegment: function() {\n\t\treturn this._add([ Segment.read(arguments) ])[0];\n\t},\n\n\tinsertSegment: function(index ) {\n\t\treturn this._add([ Segment.read(arguments, 1) ], index)[0];\n\t},\n\n\taddSegments: function(segments) {\n\t\treturn this._add(Segment.readList(segments));\n\t},\n\n\tinsertSegments: function(index, segments) {\n\t\treturn this._add(Segment.readList(segments), index);\n\t},\n\n\tremoveSegment: function(index) {\n\t\treturn this.removeSegments(index, index + 1)[0] || null;\n\t},\n\n\tremoveSegments: function(start, end, _includeCurves) {\n\t\tstart = start || 0;\n\t\tend = Base.pick(end, this._segments.length);\n\t\tvar segments = this._segments,\n\t\t\tcurves = this._curves,\n\t\t\tcount = segments.length,\n\t\t\tremoved = segments.splice(start, end - start),\n\t\t\tamount = removed.length;\n\t\tif (!amount)\n\t\t\treturn removed;\n\t\tfor (var i = 0; i < amount; i++) {\n\t\t\tvar segment = removed[i];\n\t\t\tif (segment._selection)\n\t\t\t\tthis._updateSelection(segment, segment._selection, 0);\n\t\t\tsegment._index = segment._path = null;\n\t\t}\n\t\tfor (var i = start, l = segments.length; i < l; i++)\n\t\t\tsegments[i]._index = i;\n\t\tif (curves) {\n\t\t\tvar index = start > 0 && end === count + (this._closed ? 1 : 0)\n\t\t\t\t\t? start - 1\n\t\t\t\t\t: start,\n\t\t\t\tcurves = curves.splice(index, amount);\n\t\t\tfor (var i = curves.length - 1; i >= 0; i--)\n\t\t\t\tcurves[i]._path = null;\n\t\t\tif (_includeCurves)\n\t\t\t\tremoved._curves = curves.slice(1);\n\t\t\tthis._adjustCurves(index, index);\n\t\t}\n\t\tthis._changed(41);\n\t\treturn removed;\n\t},\n\n\tclear: '#removeSegments',\n\n\thasHandles: function() {\n\t\tvar segments = this._segments;\n\t\tfor (var i = 0, l = segments.length; i < l; i++) {\n\t\t\tif (segments[i].hasHandles())\n\t\t\t\treturn true;\n\t\t}\n\t\treturn false;\n\t},\n\n\tclearHandles: function() {\n\t\tvar segments = this._segments;\n\t\tfor (var i = 0, l = segments.length; i < l; i++)\n\t\t\tsegments[i].clearHandles();\n\t},\n\n\tgetLength: function() {\n\t\tif (this._length == null) {\n\t\t\tvar curves = this.getCurves(),\n\t\t\t\tlength = 0;\n\t\t\tfor (var i = 0, l = curves.length; i < l; i++)\n\t\t\t\tlength += curves[i].getLength();\n\t\t\tthis._length = length;\n\t\t}\n\t\treturn this._length;\n\t},\n\n\tgetArea: function() {\n\t\tvar area = this._area;\n\t\tif (area == null) {\n\t\t\tvar segments = this._segments,\n\t\t\t\tclosed = this._closed;\n\t\t\tarea = 0;\n\t\t\tfor (var i = 0, l = segments.length; i < l; i++) {\n\t\t\t\tvar last = i + 1 === l;\n\t\t\t\tarea += Curve.getArea(Curve.getValues(\n\t\t\t\t\t\tsegments[i], segments[last ? 0 : i + 1],\n\t\t\t\t\t\tnull, last && !closed));\n\t\t\t}\n\t\t\tthis._area = area;\n\t\t}\n\t\treturn area;\n\t},\n\n\tisFullySelected: function() {\n\t\tvar length = this._segments.length;\n\t\treturn this.isSelected() && length > 0 && this._segmentSelection\n\t\t\t\t=== length * 7;\n\t},\n\n\tsetFullySelected: function(selected) {\n\t\tif (selected)\n\t\t\tthis._selectSegments(true);\n\t\tthis.setSelected(selected);\n\t},\n\n\tsetSelection: function setSelection(selection) {\n\t\tif (!(selection & 1))\n\t\t\tthis._selectSegments(false);\n\t\tsetSelection.base.call(this, selection);\n\t},\n\n\t_selectSegments: function(selected) {\n\t\tvar segments = this._segments,\n\t\t\tlength = segments.length,\n\t\t\tselection = selected ? 7 : 0;\n\t\tthis._segmentSelection = selection * length;\n\t\tfor (var i = 0; i < length; i++)\n\t\t\tsegments[i]._selection = selection;\n\t},\n\n\t_updateSelection: function(segment, oldSelection, newSelection) {\n\t\tsegment._selection = newSelection;\n\t\tvar selection = this._segmentSelection += newSelection - oldSelection;\n\t\tif (selection > 0)\n\t\t\tthis.setSelected(true);\n\t},\n\n\tdivideAt: function(location) {\n\t\tvar loc = this.getLocationAt(location),\n\t\t\tcurve;\n\t\treturn loc && (curve = loc.getCurve().divideAt(loc.getCurveOffset()))\n\t\t\t\t? curve._segment1\n\t\t\t\t: null;\n\t},\n\n\tsplitAt: function(location) {\n\t\tvar loc = this.getLocationAt(location),\n\t\t\tindex = loc && loc.index,\n\t\t\ttime = loc && loc.time,\n\t\t\ttMin = 1e-8,\n\t\t\ttMax = 1 - tMin;\n\t\tif (time > tMax) {\n\t\t\tindex++;\n\t\t\ttime = 0;\n\t\t}\n\t\tvar curves = this.getCurves();\n\t\tif (index >= 0 && index < curves.length) {\n\t\t\tif (time >= tMin) {\n\t\t\t\tcurves[index++].divideAtTime(time);\n\t\t\t}\n\t\t\tvar segs = this.removeSegments(index, this._segments.length, true),\n\t\t\t\tpath;\n\t\t\tif (this._closed) {\n\t\t\t\tthis.setClosed(false);\n\t\t\t\tpath = this;\n\t\t\t} else {\n\t\t\t\tpath = new Path(Item.NO_INSERT);\n\t\t\t\tpath.insertAbove(this);\n\t\t\t\tpath.copyAttributes(this);\n\t\t\t}\n\t\t\tpath._add(segs, 0);\n\t\t\tthis.addSegment(segs[0]);\n\t\t\treturn path;\n\t\t}\n\t\treturn null;\n\t},\n\n\tsplit: function(index, time) {\n\t\tvar curve,\n\t\t\tlocation = time === undefined ? index\n\t\t\t\t: (curve = this.getCurves()[index])\n\t\t\t\t\t&& curve.getLocationAtTime(time);\n\t\treturn location != null ? this.splitAt(location) : null;\n\t},\n\n\tjoin: function(path, tolerance) {\n\t\tvar epsilon = tolerance || 0;\n\t\tif (path && path !== this) {\n\t\t\tvar segments = path._segments,\n\t\t\t\tlast1 = this.getLastSegment(),\n\t\t\t\tlast2 = path.getLastSegment();\n\t\t\tif (!last2)\n\t\t\t\treturn this;\n\t\t\tif (last1 && last1._point.isClose(last2._point, epsilon))\n\t\t\t\tpath.reverse();\n\t\t\tvar first2 = path.getFirstSegment();\n\t\t\tif (last1 && last1._point.isClose(first2._point, epsilon)) {\n\t\t\t\tlast1.setHandleOut(first2._handleOut);\n\t\t\t\tthis._add(segments.slice(1));\n\t\t\t} else {\n\t\t\t\tvar first1 = this.getFirstSegment();\n\t\t\t\tif (first1 && first1._point.isClose(first2._point, epsilon))\n\t\t\t\t\tpath.reverse();\n\t\t\t\tlast2 = path.getLastSegment();\n\t\t\t\tif (first1 && first1._point.isClose(last2._point, epsilon)) {\n\t\t\t\t\tfirst1.setHandleIn(last2._handleIn);\n\t\t\t\t\tthis._add(segments.slice(0, segments.length - 1), 0);\n\t\t\t\t} else {\n\t\t\t\t\tthis._add(segments.slice());\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (path._closed)\n\t\t\t\tthis._add([segments[0]]);\n\t\t\tpath.remove();\n\t\t}\n\t\tvar first = this.getFirstSegment(),\n\t\t\tlast = this.getLastSegment();\n\t\tif (first !== last && first._point.isClose(last._point, epsilon)) {\n\t\t\tfirst.setHandleIn(last._handleIn);\n\t\t\tlast.remove();\n\t\t\tthis.setClosed(true);\n\t\t}\n\t\treturn this;\n\t},\n\n\treduce: function(options) {\n\t\tvar curves = this.getCurves(),\n\t\t\tsimplify = options && options.simplify,\n\t\t\ttolerance = simplify ? 1e-7 : 0;\n\t\tfor (var i = curves.length - 1; i >= 0; i--) {\n\t\t\tvar curve = curves[i];\n\t\t\tif (!curve.hasHandles() && (!curve.hasLength(tolerance)\n\t\t\t\t\t|| simplify && curve.isCollinear(curve.getNext())))\n\t\t\t\tcurve.remove();\n\t\t}\n\t\treturn this;\n\t},\n\n\treverse: function() {\n\t\tthis._segments.reverse();\n\t\tfor (var i = 0, l = this._segments.length; i < l; i++) {\n\t\t\tvar segment = this._segments[i];\n\t\t\tvar handleIn = segment._handleIn;\n\t\t\tsegment._handleIn = segment._handleOut;\n\t\t\tsegment._handleOut = handleIn;\n\t\t\tsegment._index = i;\n\t\t}\n\t\tthis._curves = null;\n\t\tthis._changed(9);\n\t},\n\n\tflatten: function(flatness) {\n\t\tvar flattener = new PathFlattener(this, flatness || 0.25, 256, true),\n\t\t\tparts = flattener.parts,\n\t\t\tlength = parts.length,\n\t\t\tsegments = [];\n\t\tfor (var i = 0; i < length; i++) {\n\t\t\tsegments.push(new Segment(parts[i].curve.slice(0, 2)));\n\t\t}\n\t\tif (!this._closed && length > 0) {\n\t\t\tsegments.push(new Segment(parts[length - 1].curve.slice(6)));\n\t\t}\n\t\tthis.setSegments(segments);\n\t},\n\n\tsimplify: function(tolerance) {\n\t\tvar segments = new PathFitter(this).fit(tolerance || 2.5);\n\t\tif (segments)\n\t\t\tthis.setSegments(segments);\n\t\treturn !!segments;\n\t},\n\n\tsmooth: function(options) {\n\t\tvar that = this,\n\t\t\topts = options || {},\n\t\t\ttype = opts.type || 'asymmetric',\n\t\t\tsegments = this._segments,\n\t\t\tlength = segments.length,\n\t\t\tclosed = this._closed;\n\n\t\tfunction getIndex(value, _default) {\n\t\t\tvar index = value && value.index;\n\t\t\tif (index != null) {\n\t\t\t\tvar path = value.path;\n\t\t\t\tif (path && path !== that)\n\t\t\t\t\tthrow new Error(value._class + ' ' + index + ' of ' + path\n\t\t\t\t\t\t\t+ ' is not part of ' + that);\n\t\t\t\tif (_default && value instanceof Curve)\n\t\t\t\t\tindex++;\n\t\t\t} else {\n\t\t\t\tindex = typeof value === 'number' ? value : _default;\n\t\t\t}\n\t\t\treturn Math.min(index < 0 && closed\n\t\t\t\t\t? index % length\n\t\t\t\t\t: index < 0 ? index + length : index, length - 1);\n\t\t}\n\n\t\tvar loop = closed && opts.from === undefined && opts.to === undefined,\n\t\t\tfrom = getIndex(opts.from, 0),\n\t\t\tto = getIndex(opts.to, length - 1);\n\n\t\tif (from > to) {\n\t\t\tif (closed) {\n\t\t\t\tfrom -= length;\n\t\t\t} else {\n\t\t\t\tvar tmp = from;\n\t\t\t\tfrom = to;\n\t\t\t\tto = tmp;\n\t\t\t}\n\t\t}\n\t\tif (/^(?:asymmetric|continuous)$/.test(type)) {\n\t\t\tvar asymmetric = type === 'asymmetric',\n\t\t\t\tmin = Math.min,\n\t\t\t\tamount = to - from + 1,\n\t\t\t\tn = amount - 1,\n\t\t\t\tpadding = loop ? min(amount, 4) : 1,\n\t\t\t\tpaddingLeft = padding,\n\t\t\t\tpaddingRight = padding,\n\t\t\t\tknots = [];\n\t\t\tif (!closed) {\n\t\t\t\tpaddingLeft = min(1, from);\n\t\t\t\tpaddingRight = min(1, length - to - 1);\n\t\t\t}\n\t\t\tn += paddingLeft + paddingRight;\n\t\t\tif (n <= 1)\n\t\t\t\treturn;\n\t\t\tfor (var i = 0, j = from - paddingLeft; i <= n; i++, j++) {\n\t\t\t\tknots[i] = segments[(j < 0 ? j + length : j) % length]._point;\n\t\t\t}\n\n\t\t\tvar x = knots[0]._x + 2 * knots[1]._x,\n\t\t\t\ty = knots[0]._y + 2 * knots[1]._y,\n\t\t\t\tf = 2,\n\t\t\t\tn_1 = n - 1,\n\t\t\t\trx = [x],\n\t\t\t\try = [y],\n\t\t\t\trf = [f],\n\t\t\t\tpx = [],\n\t\t\t\tpy = [];\n\t\t\tfor (var i = 1; i < n; i++) {\n\t\t\t\tvar internal = i < n_1,\n\t\t\t\t\ta = internal ? 1 : asymmetric ? 1 : 2,\n\t\t\t\t\tb = internal ? 4 : asymmetric ? 2 : 7,\n\t\t\t\t\tu = internal ? 4 : asymmetric ? 3 : 8,\n\t\t\t\t\tv = internal ? 2 : asymmetric ? 0 : 1,\n\t\t\t\t\tm = a / f;\n\t\t\t\tf = rf[i] = b - m;\n\t\t\t\tx = rx[i] = u * knots[i]._x + v * knots[i + 1]._x - m * x;\n\t\t\t\ty = ry[i] = u * knots[i]._y + v * knots[i + 1]._y - m * y;\n\t\t\t}\n\n\t\t\tpx[n_1] = rx[n_1] / rf[n_1];\n\t\t\tpy[n_1] = ry[n_1] / rf[n_1];\n\t\t\tfor (var i = n - 2; i >= 0; i--) {\n\t\t\t\tpx[i] = (rx[i] - px[i + 1]) / rf[i];\n\t\t\t\tpy[i] = (ry[i] - py[i + 1]) / rf[i];\n\t\t\t}\n\t\t\tpx[n] = (3 * knots[n]._x - px[n_1]) / 2;\n\t\t\tpy[n] = (3 * knots[n]._y - py[n_1]) / 2;\n\n\t\t\tfor (var i = paddingLeft, max = n - paddingRight, j = from;\n\t\t\t\t\ti <= max; i++, j++) {\n\t\t\t\tvar segment = segments[j < 0 ? j + length : j],\n\t\t\t\t\tpt = segment._point,\n\t\t\t\t\thx = px[i] - pt._x,\n\t\t\t\t\thy = py[i] - pt._y;\n\t\t\t\tif (loop || i < max)\n\t\t\t\t\tsegment.setHandleOut(hx, hy);\n\t\t\t\tif (loop || i > paddingLeft)\n\t\t\t\t\tsegment.setHandleIn(-hx, -hy);\n\t\t\t}\n\t\t} else {\n\t\t\tfor (var i = from; i <= to; i++) {\n\t\t\t\tsegments[i < 0 ? i + length : i].smooth(opts,\n\t\t\t\t\t\t!loop && i === from, !loop && i === to);\n\t\t\t}\n\t\t}\n\t},\n\n\ttoShape: function(insert) {\n\t\tif (!this._closed)\n\t\t\treturn null;\n\n\t\tvar segments = this._segments,\n\t\t\ttype,\n\t\t\tsize,\n\t\t\tradius,\n\t\t\ttopCenter;\n\n\t\tfunction isCollinear(i, j) {\n\t\t\tvar seg1 = segments[i],\n\t\t\t\tseg2 = seg1.getNext(),\n\t\t\t\tseg3 = segments[j],\n\t\t\t\tseg4 = seg3.getNext();\n\t\t\treturn seg1._handleOut.isZero() && seg2._handleIn.isZero()\n\t\t\t\t\t&& seg3._handleOut.isZero() && seg4._handleIn.isZero()\n\t\t\t\t\t&& seg2._point.subtract(seg1._point).isCollinear(\n\t\t\t\t\t\tseg4._point.subtract(seg3._point));\n\t\t}\n\n\t\tfunction isOrthogonal(i) {\n\t\t\tvar seg2 = segments[i],\n\t\t\t\tseg1 = seg2.getPrevious(),\n\t\t\t\tseg3 = seg2.getNext();\n\t\t\treturn seg1._handleOut.isZero() && seg2._handleIn.isZero()\n\t\t\t\t\t&& seg2._handleOut.isZero() && seg3._handleIn.isZero()\n\t\t\t\t\t&& seg2._point.subtract(seg1._point).isOrthogonal(\n\t\t\t\t\t\tseg3._point.subtract(seg2._point));\n\t\t}\n\n\t\tfunction isArc(i) {\n\t\t\tvar seg1 = segments[i],\n\t\t\t\tseg2 = seg1.getNext(),\n\t\t\t\thandle1 = seg1._handleOut,\n\t\t\t\thandle2 = seg2._handleIn,\n\t\t\t\tkappa = 0.5522847498307936;\n\t\t\tif (handle1.isOrthogonal(handle2)) {\n\t\t\t\tvar pt1 = seg1._point,\n\t\t\t\t\tpt2 = seg2._point,\n\t\t\t\t\tcorner = new Line(pt1, handle1, true).intersect(\n\t\t\t\t\t\t\tnew Line(pt2, handle2, true), true);\n\t\t\t\treturn corner && Numerical.isZero(handle1.getLength() /\n\t\t\t\t\t\tcorner.subtract(pt1).getLength() - kappa)\n\t\t\t\t\t&& Numerical.isZero(handle2.getLength() /\n\t\t\t\t\t\tcorner.subtract(pt2).getLength() - kappa);\n\t\t\t}\n\t\t\treturn false;\n\t\t}\n\n\t\tfunction getDistance(i, j) {\n\t\t\treturn segments[i]._point.getDistance(segments[j]._point);\n\t\t}\n\n\t\tif (!this.hasHandles() && segments.length === 4\n\t\t\t\t&& isCollinear(0, 2) && isCollinear(1, 3) && isOrthogonal(1)) {\n\t\t\ttype = Shape.Rectangle;\n\t\t\tsize = new Size(getDistance(0, 3), getDistance(0, 1));\n\t\t\ttopCenter = segments[1]._point.add(segments[2]._point).divide(2);\n\t\t} else if (segments.length === 8 && isArc(0) && isArc(2) && isArc(4)\n\t\t\t\t&& isArc(6) && isCollinear(1, 5) && isCollinear(3, 7)) {\n\t\t\ttype = Shape.Rectangle;\n\t\t\tsize = new Size(getDistance(1, 6), getDistance(0, 3));\n\t\t\tradius = size.subtract(new Size(getDistance(0, 7),\n\t\t\t\t\tgetDistance(1, 2))).divide(2);\n\t\t\ttopCenter = segments[3]._point.add(segments[4]._point).divide(2);\n\t\t} else if (segments.length === 4\n\t\t\t\t&& isArc(0) && isArc(1) && isArc(2) && isArc(3)) {\n\t\t\tif (Numerical.isZero(getDistance(0, 2) - getDistance(1, 3))) {\n\t\t\t\ttype = Shape.Circle;\n\t\t\t\tradius = getDistance(0, 2) / 2;\n\t\t\t} else {\n\t\t\t\ttype = Shape.Ellipse;\n\t\t\t\tradius = new Size(getDistance(2, 0) / 2, getDistance(3, 1) / 2);\n\t\t\t}\n\t\t\ttopCenter = segments[1]._point;\n\t\t}\n\n\t\tif (type) {\n\t\t\tvar center = this.getPosition(true),\n\t\t\t\tshape = new type({\n\t\t\t\t\tcenter: center,\n\t\t\t\t\tsize: size,\n\t\t\t\t\tradius: radius,\n\t\t\t\t\tinsert: false\n\t\t\t\t});\n\t\t\tshape.copyAttributes(this, true);\n\t\t\tshape._matrix.prepend(this._matrix);\n\t\t\tshape.rotate(topCenter.subtract(center).getAngle() + 90);\n\t\t\tif (insert === undefined || insert)\n\t\t\t\tshape.insertAbove(this);\n\t\t\treturn shape;\n\t\t}\n\t\treturn null;\n\t},\n\n\ttoPath: '#clone',\n\n\tcompare: function compare(path) {\n\t\tif (!path || path instanceof CompoundPath)\n\t\t\treturn compare.base.call(this, path);\n\t\tvar curves1 = this.getCurves(),\n\t\t\tcurves2 = path.getCurves(),\n\t\t\tlength1 = curves1.length,\n\t\t\tlength2 = curves2.length;\n\t\tif (!length1 || !length2) {\n\t\t\treturn length1 == length2;\n\t\t}\n\t\tvar v1 = curves1[0].getValues(),\n\t\t\tvalues2 = [],\n\t\t\tpos1 = 0, pos2,\n\t\t\tend1 = 0, end2;\n\t\tfor (var i = 0; i < length2; i++) {\n\t\t\tvar v2 = curves2[i].getValues();\n\t\t\tvalues2.push(v2);\n\t\t\tvar overlaps = Curve.getOverlaps(v1, v2);\n\t\t\tif (overlaps) {\n\t\t\t\tpos2 = !i && overlaps[0][0] > 0 ? length2 - 1 : i;\n\t\t\t\tend2 = overlaps[0][1];\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t\tvar abs = Math.abs,\n\t\t\tepsilon = 1e-8,\n\t\t\tv2 = values2[pos2],\n\t\t\tstart2;\n\t\twhile (v1 && v2) {\n\t\t\tvar overlaps = Curve.getOverlaps(v1, v2);\n\t\t\tif (overlaps) {\n\t\t\t\tvar t1 = overlaps[0][0];\n\t\t\t\tif (abs(t1 - end1) < epsilon) {\n\t\t\t\t\tend1 = overlaps[1][0];\n\t\t\t\t\tif (end1 === 1) {\n\t\t\t\t\t\tv1 = ++pos1 < length1 ? curves1[pos1].getValues() : null;\n\t\t\t\t\t\tend1 = 0;\n\t\t\t\t\t}\n\t\t\t\t\tvar t2 = overlaps[0][1];\n\t\t\t\t\tif (abs(t2 - end2) < epsilon) {\n\t\t\t\t\t\tif (!start2)\n\t\t\t\t\t\t\tstart2 = [pos2, t2];\n\t\t\t\t\t\tend2 = overlaps[1][1];\n\t\t\t\t\t\tif (end2 === 1) {\n\t\t\t\t\t\t\tif (++pos2 >= length2)\n\t\t\t\t\t\t\t\tpos2 = 0;\n\t\t\t\t\t\t\tv2 = values2[pos2] || curves2[pos2].getValues();\n\t\t\t\t\t\t\tend2 = 0;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (!v1) {\n\t\t\t\t\t\t\treturn start2[0] === pos2 && start2[1] === end2;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tcontinue;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tbreak;\n\t\t}\n\t\treturn false;\n\t},\n\n\t_hitTestSelf: function(point, options, viewMatrix, strokeMatrix) {\n\t\tvar that = this,\n\t\t\tstyle = this.getStyle(),\n\t\t\tsegments = this._segments,\n\t\t\tnumSegments = segments.length,\n\t\t\tclosed = this._closed,\n\t\t\ttolerancePadding = options._tolerancePadding,\n\t\t\tstrokePadding = tolerancePadding,\n\t\t\tjoin, cap, miterLimit,\n\t\t\tarea, loc, res,\n\t\t\thitStroke = options.stroke && style.hasStroke(),\n\t\t\thitFill = options.fill && style.hasFill(),\n\t\t\thitCurves = options.curves,\n\t\t\tstrokeRadius = hitStroke\n\t\t\t\t\t? style.getStrokeWidth() / 2\n\t\t\t\t\t: hitFill && options.tolerance > 0 || hitCurves\n\t\t\t\t\t\t? 0 : null;\n\t\tif (strokeRadius !== null) {\n\t\t\tif (strokeRadius > 0) {\n\t\t\t\tjoin = style.getStrokeJoin();\n\t\t\t\tcap = style.getStrokeCap();\n\t\t\t\tmiterLimit = style.getMiterLimit();\n\t\t\t\tstrokePadding = strokePadding.add(\n\t\t\t\t\tPath._getStrokePadding(strokeRadius, strokeMatrix));\n\t\t\t} else {\n\t\t\t\tjoin = cap = 'round';\n\t\t\t}\n\t\t}\n\n\t\tfunction isCloseEnough(pt, padding) {\n\t\t\treturn point.subtract(pt).divide(padding).length <= 1;\n\t\t}\n\n\t\tfunction checkSegmentPoint(seg, pt, name) {\n\t\t\tif (!options.selected || pt.isSelected()) {\n\t\t\t\tvar anchor = seg._point;\n\t\t\t\tif (pt !== anchor)\n\t\t\t\t\tpt = pt.add(anchor);\n\t\t\t\tif (isCloseEnough(pt, strokePadding)) {\n\t\t\t\t\treturn new HitResult(name, that, {\n\t\t\t\t\t\tsegment: seg,\n\t\t\t\t\t\tpoint: pt\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tfunction checkSegmentPoints(seg, ends) {\n\t\t\treturn (ends || options.segments)\n\t\t\t\t&& checkSegmentPoint(seg, seg._point, 'segment')\n\t\t\t\t|| (!ends && options.handles) && (\n\t\t\t\t\tcheckSegmentPoint(seg, seg._handleIn, 'handle-in') ||\n\t\t\t\t\tcheckSegmentPoint(seg, seg._handleOut, 'handle-out'));\n\t\t}\n\n\t\tfunction addToArea(point) {\n\t\t\tarea.add(point);\n\t\t}\n\n\t\tfunction checkSegmentStroke(segment) {\n\t\t\tvar isJoin = closed || segment._index > 0\n\t\t\t\t\t&& segment._index < numSegments - 1;\n\t\t\tif ((isJoin ? join : cap) === 'round') {\n\t\t\t\treturn isCloseEnough(segment._point, strokePadding);\n\t\t\t} else {\n\t\t\t\tarea = new Path({ internal: true, closed: true });\n\t\t\t\tif (isJoin) {\n\t\t\t\t\tif (!segment.isSmooth()) {\n\t\t\t\t\t\tPath._addBevelJoin(segment, join, strokeRadius,\n\t\t\t\t\t\t\t   miterLimit, null, strokeMatrix, addToArea, true);\n\t\t\t\t\t}\n\t\t\t\t} else if (cap === 'square') {\n\t\t\t\t\tPath._addSquareCap(segment, cap, strokeRadius, null,\n\t\t\t\t\t\t\tstrokeMatrix, addToArea, true);\n\t\t\t\t}\n\t\t\t\tif (!area.isEmpty()) {\n\t\t\t\t\tvar loc;\n\t\t\t\t\treturn area.contains(point)\n\t\t\t\t\t\t|| (loc = area.getNearestLocation(point))\n\t\t\t\t\t\t\t&& isCloseEnough(loc.getPoint(), tolerancePadding);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tif (options.ends && !options.segments && !closed) {\n\t\t\tif (res = checkSegmentPoints(segments[0], true)\n\t\t\t\t\t|| checkSegmentPoints(segments[numSegments - 1], true))\n\t\t\t\treturn res;\n\t\t} else if (options.segments || options.handles) {\n\t\t\tfor (var i = 0; i < numSegments; i++)\n\t\t\t\tif (res = checkSegmentPoints(segments[i]))\n\t\t\t\t\treturn res;\n\t\t}\n\t\tif (strokeRadius !== null) {\n\t\t\tloc = this.getNearestLocation(point);\n\t\t\tif (loc) {\n\t\t\t\tvar time = loc.getTime();\n\t\t\t\tif (time === 0 || time === 1 && numSegments > 1) {\n\t\t\t\t\tif (!checkSegmentStroke(loc.getSegment()))\n\t\t\t\t\t\tloc = null;\n\t\t\t\t} else if (!isCloseEnough(loc.getPoint(), strokePadding)) {\n\t\t\t\t\tloc = null;\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (!loc && join === 'miter' && numSegments > 1) {\n\t\t\t\tfor (var i = 0; i < numSegments; i++) {\n\t\t\t\t\tvar segment = segments[i];\n\t\t\t\t\tif (point.getDistance(segment._point)\n\t\t\t\t\t\t\t<= miterLimit * strokeRadius\n\t\t\t\t\t\t\t&& checkSegmentStroke(segment)) {\n\t\t\t\t\t\tloc = segment.getLocation();\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn !loc && hitFill && this._contains(point)\n\t\t\t\t|| loc && !hitStroke && !hitCurves\n\t\t\t\t\t? new HitResult('fill', this)\n\t\t\t\t\t: loc\n\t\t\t\t\t\t? new HitResult(hitStroke ? 'stroke' : 'curve', this, {\n\t\t\t\t\t\t\tlocation: loc,\n\t\t\t\t\t\t\tpoint: loc.getPoint()\n\t\t\t\t\t\t})\n\t\t\t\t\t\t: null;\n\t}\n\n}, Base.each(Curve._evaluateMethods,\n\tfunction(name) {\n\t\tthis[name + 'At'] = function(offset) {\n\t\t\tvar loc = this.getLocationAt(offset);\n\t\t\treturn loc && loc[name]();\n\t\t};\n\t},\n{\n\tbeans: false,\n\n\tgetLocationOf: function() {\n\t\tvar point = Point.read(arguments),\n\t\t\tcurves = this.getCurves();\n\t\tfor (var i = 0, l = curves.length; i < l; i++) {\n\t\t\tvar loc = curves[i].getLocationOf(point);\n\t\t\tif (loc)\n\t\t\t\treturn loc;\n\t\t}\n\t\treturn null;\n\t},\n\n\tgetOffsetOf: function() {\n\t\tvar loc = this.getLocationOf.apply(this, arguments);\n\t\treturn loc ? loc.getOffset() : null;\n\t},\n\n\tgetLocationAt: function(offset) {\n\t\tif (typeof offset === 'number') {\n\t\t\tvar curves = this.getCurves(),\n\t\t\t\tlength = 0;\n\t\t\tfor (var i = 0, l = curves.length; i < l; i++) {\n\t\t\t\tvar start = length,\n\t\t\t\t\tcurve = curves[i];\n\t\t\t\tlength += curve.getLength();\n\t\t\t\tif (length > offset) {\n\t\t\t\t\treturn curve.getLocationAt(offset - start);\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (curves.length > 0 && offset <= this.getLength()) {\n\t\t\t\treturn new CurveLocation(curves[curves.length - 1], 1);\n\t\t\t}\n\t\t} else if (offset && offset.getPath && offset.getPath() === this) {\n\t\t\treturn offset;\n\t\t}\n\t\treturn null;\n\t},\n\n\tgetOffsetsWithTangent: function() {\n\t\tvar tangent = Point.read(arguments);\n\t\tif (tangent.isZero()) {\n\t\t\treturn [];\n\t\t}\n\n\t\tvar offsets = [];\n\t\tvar curveStart = 0;\n\t\tvar curves = this.getCurves();\n\t\tfor (var i = 0, l = curves.length; i < l; i++) {\n\t\t\tvar curve = curves[i];\n\t\t\tvar curveTimes = curve.getTimesWithTangent(tangent);\n\t\t\tfor (var j = 0, m = curveTimes.length; j < m; j++) {\n\t\t\t\tvar offset = curveStart + curve.getOffsetAtTime(curveTimes[j]);\n\t\t\t\tif (offsets.indexOf(offset) < 0) {\n\t\t\t\t\toffsets.push(offset);\n\t\t\t\t}\n\t\t\t}\n\t\t\tcurveStart += curve.length;\n\t\t}\n\t\treturn offsets;\n\t}\n}),\nnew function() {\n\n\tfunction drawHandles(ctx, segments, matrix, size) {\n\t\tif (size <= 0) return;\n\n\t\tvar half = size / 2,\n\t\t\tminiSize = size - 2,\n\t\t\tminiHalf = half - 1,\n\t\t\tcoords = new Array(6),\n\t\t\tpX, pY;\n\n\t\tfunction drawHandle(index) {\n\t\t\tvar hX = coords[index],\n\t\t\t\thY = coords[index + 1];\n\t\t\tif (pX != hX || pY != hY) {\n\t\t\t\tctx.beginPath();\n\t\t\t\tctx.moveTo(pX, pY);\n\t\t\t\tctx.lineTo(hX, hY);\n\t\t\t\tctx.stroke();\n\t\t\t\tctx.beginPath();\n\t\t\t\tctx.arc(hX, hY, half, 0, Math.PI * 2, true);\n\t\t\t\tctx.fill();\n\t\t\t}\n\t\t}\n\n\t\tfor (var i = 0, l = segments.length; i < l; i++) {\n\t\t\tvar segment = segments[i],\n\t\t\t\tselection = segment._selection;\n\t\t\tsegment._transformCoordinates(matrix, coords);\n\t\t\tpX = coords[0];\n\t\t\tpY = coords[1];\n\t\t\tif (selection & 2)\n\t\t\t\tdrawHandle(2);\n\t\t\tif (selection & 4)\n\t\t\t\tdrawHandle(4);\n\t\t\tctx.fillRect(pX - half, pY - half, size, size);\n\t\t\tif (miniSize > 0 && !(selection & 1)) {\n\t\t\t\tvar fillStyle = ctx.fillStyle;\n\t\t\t\tctx.fillStyle = '#ffffff';\n\t\t\t\tctx.fillRect(pX - miniHalf, pY - miniHalf, miniSize, miniSize);\n\t\t\t\tctx.fillStyle = fillStyle;\n\t\t\t}\n\t\t}\n\t}\n\n\tfunction drawSegments(ctx, path, matrix) {\n\t\tvar segments = path._segments,\n\t\t\tlength = segments.length,\n\t\t\tcoords = new Array(6),\n\t\t\tfirst = true,\n\t\t\tcurX, curY,\n\t\t\tprevX, prevY,\n\t\t\tinX, inY,\n\t\t\toutX, outY;\n\n\t\tfunction drawSegment(segment) {\n\t\t\tif (matrix) {\n\t\t\t\tsegment._transformCoordinates(matrix, coords);\n\t\t\t\tcurX = coords[0];\n\t\t\t\tcurY = coords[1];\n\t\t\t} else {\n\t\t\t\tvar point = segment._point;\n\t\t\t\tcurX = point._x;\n\t\t\t\tcurY = point._y;\n\t\t\t}\n\t\t\tif (first) {\n\t\t\t\tctx.moveTo(curX, curY);\n\t\t\t\tfirst = false;\n\t\t\t} else {\n\t\t\t\tif (matrix) {\n\t\t\t\t\tinX = coords[2];\n\t\t\t\t\tinY = coords[3];\n\t\t\t\t} else {\n\t\t\t\t\tvar handle = segment._handleIn;\n\t\t\t\t\tinX = curX + handle._x;\n\t\t\t\t\tinY = curY + handle._y;\n\t\t\t\t}\n\t\t\t\tif (inX === curX && inY === curY\n\t\t\t\t\t\t&& outX === prevX && outY === prevY) {\n\t\t\t\t\tctx.lineTo(curX, curY);\n\t\t\t\t} else {\n\t\t\t\t\tctx.bezierCurveTo(outX, outY, inX, inY, curX, curY);\n\t\t\t\t}\n\t\t\t}\n\t\t\tprevX = curX;\n\t\t\tprevY = curY;\n\t\t\tif (matrix) {\n\t\t\t\toutX = coords[4];\n\t\t\t\toutY = coords[5];\n\t\t\t} else {\n\t\t\t\tvar handle = segment._handleOut;\n\t\t\t\toutX = prevX + handle._x;\n\t\t\t\toutY = prevY + handle._y;\n\t\t\t}\n\t\t}\n\n\t\tfor (var i = 0; i < length; i++)\n\t\t\tdrawSegment(segments[i]);\n\t\tif (path._closed && length > 0)\n\t\t\tdrawSegment(segments[0]);\n\t}\n\n\treturn {\n\t\t_draw: function(ctx, param, viewMatrix, strokeMatrix) {\n\t\t\tvar dontStart = param.dontStart,\n\t\t\t\tdontPaint = param.dontFinish || param.clip,\n\t\t\t\tstyle = this.getStyle(),\n\t\t\t\thasFill = style.hasFill(),\n\t\t\t\thasStroke = style.hasStroke(),\n\t\t\t\tdashArray = style.getDashArray(),\n\t\t\t\tdashLength = !paper.support.nativeDash && hasStroke\n\t\t\t\t\t\t&& dashArray && dashArray.length;\n\n\t\t\tif (!dontStart)\n\t\t\t\tctx.beginPath();\n\n\t\t\tif (hasFill || hasStroke && !dashLength || dontPaint) {\n\t\t\t\tdrawSegments(ctx, this, strokeMatrix);\n\t\t\t\tif (this._closed)\n\t\t\t\t\tctx.closePath();\n\t\t\t}\n\n\t\t\tfunction getOffset(i) {\n\t\t\t\treturn dashArray[((i % dashLength) + dashLength) % dashLength];\n\t\t\t}\n\n\t\t\tif (!dontPaint && (hasFill || hasStroke)) {\n\t\t\t\tthis._setStyles(ctx, param, viewMatrix);\n\t\t\t\tif (hasFill) {\n\t\t\t\t\tctx.fill(style.getFillRule());\n\t\t\t\t\tctx.shadowColor = 'rgba(0,0,0,0)';\n\t\t\t\t}\n\t\t\t\tif (hasStroke) {\n\t\t\t\t\tif (dashLength) {\n\t\t\t\t\t\tif (!dontStart)\n\t\t\t\t\t\t\tctx.beginPath();\n\t\t\t\t\t\tvar flattener = new PathFlattener(this, 0.25, 32, false,\n\t\t\t\t\t\t\t\tstrokeMatrix),\n\t\t\t\t\t\t\tlength = flattener.length,\n\t\t\t\t\t\t\tfrom = -style.getDashOffset(), to,\n\t\t\t\t\t\t\ti = 0;\n\t\t\t\t\t\twhile (from > 0) {\n\t\t\t\t\t\t\tfrom -= getOffset(i--) + getOffset(i--);\n\t\t\t\t\t\t}\n\t\t\t\t\t\twhile (from < length) {\n\t\t\t\t\t\t\tto = from + getOffset(i++);\n\t\t\t\t\t\t\tif (from > 0 || to > 0)\n\t\t\t\t\t\t\t\tflattener.drawPart(ctx,\n\t\t\t\t\t\t\t\t\t\tMath.max(from, 0), Math.max(to, 0));\n\t\t\t\t\t\t\tfrom = to + getOffset(i++);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tctx.stroke();\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\n\t\t_drawSelected: function(ctx, matrix) {\n\t\t\tctx.beginPath();\n\t\t\tdrawSegments(ctx, this, matrix);\n\t\t\tctx.stroke();\n\t\t\tdrawHandles(ctx, this._segments, matrix, paper.settings.handleSize);\n\t\t}\n\t};\n},\nnew function() {\n\tfunction getCurrentSegment(that) {\n\t\tvar segments = that._segments;\n\t\tif (!segments.length)\n\t\t\tthrow new Error('Use a moveTo() command first');\n\t\treturn segments[segments.length - 1];\n\t}\n\n\treturn {\n\t\tmoveTo: function() {\n\t\t\tvar segments = this._segments;\n\t\t\tif (segments.length === 1)\n\t\t\t\tthis.removeSegment(0);\n\t\t\tif (!segments.length)\n\t\t\t\tthis._add([ new Segment(Point.read(arguments)) ]);\n\t\t},\n\n\t\tmoveBy: function() {\n\t\t\tthrow new Error('moveBy() is unsupported on Path items.');\n\t\t},\n\n\t\tlineTo: function() {\n\t\t\tthis._add([ new Segment(Point.read(arguments)) ]);\n\t\t},\n\n\t\tcubicCurveTo: function() {\n\t\t\tvar args = arguments,\n\t\t\t\thandle1 = Point.read(args),\n\t\t\t\thandle2 = Point.read(args),\n\t\t\t\tto = Point.read(args),\n\t\t\t\tcurrent = getCurrentSegment(this);\n\t\t\tcurrent.setHandleOut(handle1.subtract(current._point));\n\t\t\tthis._add([ new Segment(to, handle2.subtract(to)) ]);\n\t\t},\n\n\t\tquadraticCurveTo: function() {\n\t\t\tvar args = arguments,\n\t\t\t\thandle = Point.read(args),\n\t\t\t\tto = Point.read(args),\n\t\t\t\tcurrent = getCurrentSegment(this)._point;\n\t\t\tthis.cubicCurveTo(\n\t\t\t\thandle.add(current.subtract(handle).multiply(1 / 3)),\n\t\t\t\thandle.add(to.subtract(handle).multiply(1 / 3)),\n\t\t\t\tto\n\t\t\t);\n\t\t},\n\n\t\tcurveTo: function() {\n\t\t\tvar args = arguments,\n\t\t\t\tthrough = Point.read(args),\n\t\t\t\tto = Point.read(args),\n\t\t\t\tt = Base.pick(Base.read(args), 0.5),\n\t\t\t\tt1 = 1 - t,\n\t\t\t\tcurrent = getCurrentSegment(this)._point,\n\t\t\t\thandle = through.subtract(current.multiply(t1 * t1))\n\t\t\t\t\t.subtract(to.multiply(t * t)).divide(2 * t * t1);\n\t\t\tif (handle.isNaN())\n\t\t\t\tthrow new Error(\n\t\t\t\t\t'Cannot put a curve through points with parameter = ' + t);\n\t\t\tthis.quadraticCurveTo(handle, to);\n\t\t},\n\n\t\tarcTo: function() {\n\t\t\tvar args = arguments,\n\t\t\t\tabs = Math.abs,\n\t\t\t\tsqrt = Math.sqrt,\n\t\t\t\tcurrent = getCurrentSegment(this),\n\t\t\t\tfrom = current._point,\n\t\t\t\tto = Point.read(args),\n\t\t\t\tthrough,\n\t\t\t\tpeek = Base.peek(args),\n\t\t\t\tclockwise = Base.pick(peek, true),\n\t\t\t\tcenter, extent, vector, matrix;\n\t\t\tif (typeof clockwise === 'boolean') {\n\t\t\t\tvar middle = from.add(to).divide(2),\n\t\t\t\tthrough = middle.add(middle.subtract(from).rotate(\n\t\t\t\t\t\tclockwise ? -90 : 90));\n\t\t\t} else if (Base.remain(args) <= 2) {\n\t\t\t\tthrough = to;\n\t\t\t\tto = Point.read(args);\n\t\t\t} else if (!from.equals(to)) {\n\t\t\t\tvar radius = Size.read(args),\n\t\t\t\t\tisZero = Numerical.isZero;\n\t\t\t\tif (isZero(radius.width) || isZero(radius.height))\n\t\t\t\t\treturn this.lineTo(to);\n\t\t\t\tvar rotation = Base.read(args),\n\t\t\t\t\tclockwise = !!Base.read(args),\n\t\t\t\t\tlarge = !!Base.read(args),\n\t\t\t\t\tmiddle = from.add(to).divide(2),\n\t\t\t\t\tpt = from.subtract(middle).rotate(-rotation),\n\t\t\t\t\tx = pt.x,\n\t\t\t\t\ty = pt.y,\n\t\t\t\t\trx = abs(radius.width),\n\t\t\t\t\try = abs(radius.height),\n\t\t\t\t\trxSq = rx * rx,\n\t\t\t\t\trySq = ry * ry,\n\t\t\t\t\txSq = x * x,\n\t\t\t\t\tySq = y * y;\n\t\t\t\tvar factor = sqrt(xSq / rxSq + ySq / rySq);\n\t\t\t\tif (factor > 1) {\n\t\t\t\t\trx *= factor;\n\t\t\t\t\try *= factor;\n\t\t\t\t\trxSq = rx * rx;\n\t\t\t\t\trySq = ry * ry;\n\t\t\t\t}\n\t\t\t\tfactor = (rxSq * rySq - rxSq * ySq - rySq * xSq) /\n\t\t\t\t\t\t(rxSq * ySq + rySq * xSq);\n\t\t\t\tif (abs(factor) < 1e-12)\n\t\t\t\t\tfactor = 0;\n\t\t\t\tif (factor < 0)\n\t\t\t\t\tthrow new Error(\n\t\t\t\t\t\t\t'Cannot create an arc with the given arguments');\n\t\t\t\tcenter = new Point(rx * y / ry, -ry * x / rx)\n\t\t\t\t\t\t.multiply((large === clockwise ? -1 : 1) * sqrt(factor))\n\t\t\t\t\t\t.rotate(rotation).add(middle);\n\t\t\t\tmatrix = new Matrix().translate(center).rotate(rotation)\n\t\t\t\t\t\t.scale(rx, ry);\n\t\t\t\tvector = matrix._inverseTransform(from);\n\t\t\t\textent = vector.getDirectedAngle(matrix._inverseTransform(to));\n\t\t\t\tif (!clockwise && extent > 0)\n\t\t\t\t\textent -= 360;\n\t\t\t\telse if (clockwise && extent < 0)\n\t\t\t\t\textent += 360;\n\t\t\t}\n\t\t\tif (through) {\n\t\t\t\tvar l1 = new Line(from.add(through).divide(2),\n\t\t\t\t\t\t\tthrough.subtract(from).rotate(90), true),\n\t\t\t\t\tl2 = new Line(through.add(to).divide(2),\n\t\t\t\t\t\t\tto.subtract(through).rotate(90), true),\n\t\t\t\t\tline = new Line(from, to),\n\t\t\t\t\tthroughSide = line.getSide(through);\n\t\t\t\tcenter = l1.intersect(l2, true);\n\t\t\t\tif (!center) {\n\t\t\t\t\tif (!throughSide)\n\t\t\t\t\t\treturn this.lineTo(to);\n\t\t\t\t\tthrow new Error(\n\t\t\t\t\t\t\t'Cannot create an arc with the given arguments');\n\t\t\t\t}\n\t\t\t\tvector = from.subtract(center);\n\t\t\t\textent = vector.getDirectedAngle(to.subtract(center));\n\t\t\t\tvar centerSide = line.getSide(center, true);\n\t\t\t\tif (centerSide === 0) {\n\t\t\t\t\textent = throughSide * abs(extent);\n\t\t\t\t} else if (throughSide === centerSide) {\n\t\t\t\t\textent += extent < 0 ? 360 : -360;\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (extent) {\n\t\t\t\tvar epsilon = 1e-5,\n\t\t\t\t\text = abs(extent),\n\t\t\t\t\tcount = ext >= 360\n\t\t\t\t\t\t? 4\n\t\t\t\t\t\t: Math.ceil((ext - epsilon) / 90),\n\t\t\t\t\tinc = extent / count,\n\t\t\t\t\thalf = inc * Math.PI / 360,\n\t\t\t\t\tz = 4 / 3 * Math.sin(half) / (1 + Math.cos(half)),\n\t\t\t\t\tsegments = [];\n\t\t\t\tfor (var i = 0; i <= count; i++) {\n\t\t\t\t\tvar pt = to,\n\t\t\t\t\t\tout = null;\n\t\t\t\t\tif (i < count) {\n\t\t\t\t\t\tout = vector.rotate(90).multiply(z);\n\t\t\t\t\t\tif (matrix) {\n\t\t\t\t\t\t\tpt = matrix._transformPoint(vector);\n\t\t\t\t\t\t\tout = matrix._transformPoint(vector.add(out))\n\t\t\t\t\t\t\t\t\t.subtract(pt);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tpt = center.add(vector);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tif (!i) {\n\t\t\t\t\t\tcurrent.setHandleOut(out);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tvar _in = vector.rotate(-90).multiply(z);\n\t\t\t\t\t\tif (matrix) {\n\t\t\t\t\t\t\t_in = matrix._transformPoint(vector.add(_in))\n\t\t\t\t\t\t\t\t\t.subtract(pt);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tsegments.push(new Segment(pt, _in, out));\n\t\t\t\t\t}\n\t\t\t\t\tvector = vector.rotate(inc);\n\t\t\t\t}\n\t\t\t\tthis._add(segments);\n\t\t\t}\n\t\t},\n\n\t\tlineBy: function() {\n\t\t\tvar to = Point.read(arguments),\n\t\t\t\tcurrent = getCurrentSegment(this)._point;\n\t\t\tthis.lineTo(current.add(to));\n\t\t},\n\n\t\tcurveBy: function() {\n\t\t\tvar args = arguments,\n\t\t\t\tthrough = Point.read(args),\n\t\t\t\tto = Point.read(args),\n\t\t\t\tparameter = Base.read(args),\n\t\t\t\tcurrent = getCurrentSegment(this)._point;\n\t\t\tthis.curveTo(current.add(through), current.add(to), parameter);\n\t\t},\n\n\t\tcubicCurveBy: function() {\n\t\t\tvar args = arguments,\n\t\t\t\thandle1 = Point.read(args),\n\t\t\t\thandle2 = Point.read(args),\n\t\t\t\tto = Point.read(args),\n\t\t\t\tcurrent = getCurrentSegment(this)._point;\n\t\t\tthis.cubicCurveTo(current.add(handle1), current.add(handle2),\n\t\t\t\t\tcurrent.add(to));\n\t\t},\n\n\t\tquadraticCurveBy: function() {\n\t\t\tvar args = arguments,\n\t\t\t\thandle = Point.read(args),\n\t\t\t\tto = Point.read(args),\n\t\t\t\tcurrent = getCurrentSegment(this)._point;\n\t\t\tthis.quadraticCurveTo(current.add(handle), current.add(to));\n\t\t},\n\n\t\tarcBy: function() {\n\t\t\tvar args = arguments,\n\t\t\t\tcurrent = getCurrentSegment(this)._point,\n\t\t\t\tpoint = current.add(Point.read(args)),\n\t\t\t\tclockwise = Base.pick(Base.peek(args), true);\n\t\t\tif (typeof clockwise === 'boolean') {\n\t\t\t\tthis.arcTo(point, clockwise);\n\t\t\t} else {\n\t\t\t\tthis.arcTo(point, current.add(Point.read(args)));\n\t\t\t}\n\t\t},\n\n\t\tclosePath: function(tolerance) {\n\t\t\tthis.setClosed(true);\n\t\t\tthis.join(this, tolerance);\n\t\t}\n\t};\n}, {\n\n\t_getBounds: function(matrix, options) {\n\t\tvar method = options.handle\n\t\t\t\t? 'getHandleBounds'\n\t\t\t\t: options.stroke\n\t\t\t\t? 'getStrokeBounds'\n\t\t\t\t: 'getBounds';\n\t\treturn Path[method](this._segments, this._closed, this, matrix, options);\n\t},\n\nstatics: {\n\tgetBounds: function(segments, closed, path, matrix, options, strokePadding) {\n\t\tvar first = segments[0];\n\t\tif (!first)\n\t\t\treturn new Rectangle();\n\t\tvar coords = new Array(6),\n\t\t\tprevCoords = first._transformCoordinates(matrix, new Array(6)),\n\t\t\tmin = prevCoords.slice(0, 2),\n\t\t\tmax = min.slice(),\n\t\t\troots = new Array(2);\n\n\t\tfunction processSegment(segment) {\n\t\t\tsegment._transformCoordinates(matrix, coords);\n\t\t\tfor (var i = 0; i < 2; i++) {\n\t\t\t\tCurve._addBounds(\n\t\t\t\t\tprevCoords[i],\n\t\t\t\t\tprevCoords[i + 4],\n\t\t\t\t\tcoords[i + 2],\n\t\t\t\t\tcoords[i],\n\t\t\t\t\ti, strokePadding ? strokePadding[i] : 0, min, max, roots);\n\t\t\t}\n\t\t\tvar tmp = prevCoords;\n\t\t\tprevCoords = coords;\n\t\t\tcoords = tmp;\n\t\t}\n\n\t\tfor (var i = 1, l = segments.length; i < l; i++)\n\t\t\tprocessSegment(segments[i]);\n\t\tif (closed)\n\t\t\tprocessSegment(first);\n\t\treturn new Rectangle(min[0], min[1], max[0] - min[0], max[1] - min[1]);\n\t},\n\n\tgetStrokeBounds: function(segments, closed, path, matrix, options) {\n\t\tvar style = path.getStyle(),\n\t\t\tstroke = style.hasStroke(),\n\t\t\tstrokeWidth = style.getStrokeWidth(),\n\t\t\tstrokeMatrix = stroke && path._getStrokeMatrix(matrix, options),\n\t\t\tstrokePadding = stroke && Path._getStrokePadding(strokeWidth,\n\t\t\t\tstrokeMatrix),\n\t\t\tbounds = Path.getBounds(segments, closed, path, matrix, options,\n\t\t\t\tstrokePadding);\n\t\tif (!stroke)\n\t\t\treturn bounds;\n\t\tvar strokeRadius = strokeWidth / 2,\n\t\t\tjoin = style.getStrokeJoin(),\n\t\t\tcap = style.getStrokeCap(),\n\t\t\tmiterLimit = style.getMiterLimit(),\n\t\t\tjoinBounds = new Rectangle(new Size(strokePadding));\n\n\t\tfunction addPoint(point) {\n\t\t\tbounds = bounds.include(point);\n\t\t}\n\n\t\tfunction addRound(segment) {\n\t\t\tbounds = bounds.unite(\n\t\t\t\t\tjoinBounds.setCenter(segment._point.transform(matrix)));\n\t\t}\n\n\t\tfunction addJoin(segment, join) {\n\t\t\tif (join === 'round' || segment.isSmooth()) {\n\t\t\t\taddRound(segment);\n\t\t\t} else {\n\t\t\t\tPath._addBevelJoin(segment, join, strokeRadius, miterLimit,\n\t\t\t\t\t\tmatrix, strokeMatrix, addPoint);\n\t\t\t}\n\t\t}\n\n\t\tfunction addCap(segment, cap) {\n\t\t\tif (cap === 'round') {\n\t\t\t\taddRound(segment);\n\t\t\t} else {\n\t\t\t\tPath._addSquareCap(segment, cap, strokeRadius, matrix,\n\t\t\t\t\t\tstrokeMatrix, addPoint);\n\t\t\t}\n\t\t}\n\n\t\tvar length = segments.length - (closed ? 0 : 1);\n\t\tif (length > 0) {\n\t\t\tfor (var i = 1; i < length; i++) {\n\t\t\t\taddJoin(segments[i], join);\n\t\t\t}\n\t\t\tif (closed) {\n\t\t\t\taddJoin(segments[0], join);\n\t\t\t} else {\n\t\t\t\taddCap(segments[0], cap);\n\t\t\t\taddCap(segments[segments.length - 1], cap);\n\t\t\t}\n\t\t}\n\t\treturn bounds;\n\t},\n\n\t_getStrokePadding: function(radius, matrix) {\n\t\tif (!matrix)\n\t\t\treturn [radius, radius];\n\t\tvar hor = new Point(radius, 0).transform(matrix),\n\t\t\tver = new Point(0, radius).transform(matrix),\n\t\t\tphi = hor.getAngleInRadians(),\n\t\t\ta = hor.getLength(),\n\t\t\tb = ver.getLength();\n\t\tvar sin = Math.sin(phi),\n\t\t\tcos = Math.cos(phi),\n\t\t\ttan = Math.tan(phi),\n\t\t\ttx = Math.atan2(b * tan, a),\n\t\t\tty = Math.atan2(b, tan * a);\n\t\treturn [Math.abs(a * Math.cos(tx) * cos + b * Math.sin(tx) * sin),\n\t\t\t\tMath.abs(b * Math.sin(ty) * cos + a * Math.cos(ty) * sin)];\n\t},\n\n\t_addBevelJoin: function(segment, join, radius, miterLimit, matrix,\n\t\t\tstrokeMatrix, addPoint, isArea) {\n\t\tvar curve2 = segment.getCurve(),\n\t\t\tcurve1 = curve2.getPrevious(),\n\t\t\tpoint = curve2.getPoint1().transform(matrix),\n\t\t\tnormal1 = curve1.getNormalAtTime(1).multiply(radius)\n\t\t\t\t.transform(strokeMatrix),\n\t\t\tnormal2 = curve2.getNormalAtTime(0).multiply(radius)\n\t\t\t\t.transform(strokeMatrix),\n\t\t\t\tangle = normal1.getDirectedAngle(normal2);\n\t\tif (angle < 0 || angle >= 180) {\n\t\t\tnormal1 = normal1.negate();\n\t\t\tnormal2 = normal2.negate();\n\t\t}\n\t\tif (isArea)\n\t\t\taddPoint(point);\n\t\taddPoint(point.add(normal1));\n\t\tif (join === 'miter') {\n\t\t\tvar corner = new Line(point.add(normal1),\n\t\t\t\t\tnew Point(-normal1.y, normal1.x), true\n\t\t\t\t).intersect(new Line(point.add(normal2),\n\t\t\t\t\tnew Point(-normal2.y, normal2.x), true\n\t\t\t\t), true);\n\t\t\tif (corner && point.getDistance(corner) <= miterLimit * radius) {\n\t\t\t\taddPoint(corner);\n\t\t\t}\n\t\t}\n\t\taddPoint(point.add(normal2));\n\t},\n\n\t_addSquareCap: function(segment, cap, radius, matrix, strokeMatrix,\n\t\t\taddPoint, isArea) {\n\t\tvar point = segment._point.transform(matrix),\n\t\t\tloc = segment.getLocation(),\n\t\t\tnormal = loc.getNormal()\n\t\t\t\t\t.multiply(loc.getTime() === 0 ? radius : -radius)\n\t\t\t\t\t.transform(strokeMatrix);\n\t\tif (cap === 'square') {\n\t\t\tif (isArea) {\n\t\t\t\taddPoint(point.subtract(normal));\n\t\t\t\taddPoint(point.add(normal));\n\t\t\t}\n\t\t\tpoint = point.add(normal.rotate(-90));\n\t\t}\n\t\taddPoint(point.add(normal));\n\t\taddPoint(point.subtract(normal));\n\t},\n\n\tgetHandleBounds: function(segments, closed, path, matrix, options) {\n\t\tvar style = path.getStyle(),\n\t\t\tstroke = options.stroke && style.hasStroke(),\n\t\t\tstrokePadding,\n\t\t\tjoinPadding;\n\t\tif (stroke) {\n\t\t\tvar strokeMatrix = path._getStrokeMatrix(matrix, options),\n\t\t\t\tstrokeRadius = style.getStrokeWidth() / 2,\n\t\t\t\tjoinRadius = strokeRadius;\n\t\t\tif (style.getStrokeJoin() === 'miter')\n\t\t\t\tjoinRadius = strokeRadius * style.getMiterLimit();\n\t\t\tif (style.getStrokeCap() === 'square')\n\t\t\t\tjoinRadius = Math.max(joinRadius, strokeRadius * Math.SQRT2);\n\t\t\tstrokePadding = Path._getStrokePadding(strokeRadius, strokeMatrix);\n\t\t\tjoinPadding = Path._getStrokePadding(joinRadius, strokeMatrix);\n\t\t}\n\t\tvar coords = new Array(6),\n\t\t\tx1 = Infinity,\n\t\t\tx2 = -x1,\n\t\t\ty1 = x1,\n\t\t\ty2 = x2;\n\t\tfor (var i = 0, l = segments.length; i < l; i++) {\n\t\t\tvar segment = segments[i];\n\t\t\tsegment._transformCoordinates(matrix, coords);\n\t\t\tfor (var j = 0; j < 6; j += 2) {\n\t\t\t\tvar padding = !j ? joinPadding : strokePadding,\n\t\t\t\t\tpaddingX = padding ? padding[0] : 0,\n\t\t\t\t\tpaddingY = padding ? padding[1] : 0,\n\t\t\t\t\tx = coords[j],\n\t\t\t\t\ty = coords[j + 1],\n\t\t\t\t\txn = x - paddingX,\n\t\t\t\t\txx = x + paddingX,\n\t\t\t\t\tyn = y - paddingY,\n\t\t\t\t\tyx = y + paddingY;\n\t\t\t\tif (xn < x1) x1 = xn;\n\t\t\t\tif (xx > x2) x2 = xx;\n\t\t\t\tif (yn < y1) y1 = yn;\n\t\t\t\tif (yx > y2) y2 = yx;\n\t\t\t}\n\t\t}\n\t\treturn new Rectangle(x1, y1, x2 - x1, y2 - y1);\n\t}\n}});\n\nPath.inject({ statics: new function() {\n\n\tvar kappa = 0.5522847498307936,\n\t\tellipseSegments = [\n\t\t\tnew Segment([-1, 0], [0, kappa ], [0, -kappa]),\n\t\t\tnew Segment([0, -1], [-kappa, 0], [kappa, 0 ]),\n\t\t\tnew Segment([1, 0], [0, -kappa], [0, kappa ]),\n\t\t\tnew Segment([0, 1], [kappa, 0 ], [-kappa, 0])\n\t\t];\n\n\tfunction createPath(segments, closed, args) {\n\t\tvar props = Base.getNamed(args),\n\t\t\tpath = new Path(props && (\n\t\t\t\tprops.insert == true ? Item.INSERT\n\t\t\t\t: props.insert == false ? Item.NO_INSERT\n\t\t\t\t: null\n\t\t\t));\n\t\tpath._add(segments);\n\t\tpath._closed = closed;\n\t\treturn path.set(props, Item.INSERT);\n\t}\n\n\tfunction createEllipse(center, radius, args) {\n\t\tvar segments = new Array(4);\n\t\tfor (var i = 0; i < 4; i++) {\n\t\t\tvar segment = ellipseSegments[i];\n\t\t\tsegments[i] = new Segment(\n\t\t\t\tsegment._point.multiply(radius).add(center),\n\t\t\t\tsegment._handleIn.multiply(radius),\n\t\t\t\tsegment._handleOut.multiply(radius)\n\t\t\t);\n\t\t}\n\t\treturn createPath(segments, true, args);\n\t}\n\n\treturn {\n\t\tLine: function() {\n\t\t\tvar args = arguments;\n\t\t\treturn createPath([\n\t\t\t\tnew Segment(Point.readNamed(args, 'from')),\n\t\t\t\tnew Segment(Point.readNamed(args, 'to'))\n\t\t\t], false, args);\n\t\t},\n\n\t\tCircle: function() {\n\t\t\tvar args = arguments,\n\t\t\t\tcenter = Point.readNamed(args, 'center'),\n\t\t\t\tradius = Base.readNamed(args, 'radius');\n\t\t\treturn createEllipse(center, new Size(radius), args);\n\t\t},\n\n\t\tRectangle: function() {\n\t\t\tvar args = arguments,\n\t\t\t\trect = Rectangle.readNamed(args, 'rectangle'),\n\t\t\t\tradius = Size.readNamed(args, 'radius', 0,\n\t\t\t\t\t\t{ readNull: true }),\n\t\t\t\tbl = rect.getBottomLeft(true),\n\t\t\t\ttl = rect.getTopLeft(true),\n\t\t\t\ttr = rect.getTopRight(true),\n\t\t\t\tbr = rect.getBottomRight(true),\n\t\t\t\tsegments;\n\t\t\tif (!radius || radius.isZero()) {\n\t\t\t\tsegments = [\n\t\t\t\t\tnew Segment(bl),\n\t\t\t\t\tnew Segment(tl),\n\t\t\t\t\tnew Segment(tr),\n\t\t\t\t\tnew Segment(br)\n\t\t\t\t];\n\t\t\t} else {\n\t\t\t\tradius = Size.min(radius, rect.getSize(true).divide(2));\n\t\t\t\tvar rx = radius.width,\n\t\t\t\t\try = radius.height,\n\t\t\t\t\thx = rx * kappa,\n\t\t\t\t\thy = ry * kappa;\n\t\t\t\tsegments = [\n\t\t\t\t\tnew Segment(bl.add(rx, 0), null, [-hx, 0]),\n\t\t\t\t\tnew Segment(bl.subtract(0, ry), [0, hy]),\n\t\t\t\t\tnew Segment(tl.add(0, ry), null, [0, -hy]),\n\t\t\t\t\tnew Segment(tl.add(rx, 0), [-hx, 0], null),\n\t\t\t\t\tnew Segment(tr.subtract(rx, 0), null, [hx, 0]),\n\t\t\t\t\tnew Segment(tr.add(0, ry), [0, -hy], null),\n\t\t\t\t\tnew Segment(br.subtract(0, ry), null, [0, hy]),\n\t\t\t\t\tnew Segment(br.subtract(rx, 0), [hx, 0])\n\t\t\t\t];\n\t\t\t}\n\t\t\treturn createPath(segments, true, args);\n\t\t},\n\n\t\tRoundRectangle: '#Rectangle',\n\n\t\tEllipse: function() {\n\t\t\tvar args = arguments,\n\t\t\t\tellipse = Shape._readEllipse(args);\n\t\t\treturn createEllipse(ellipse.center, ellipse.radius, args);\n\t\t},\n\n\t\tOval: '#Ellipse',\n\n\t\tArc: function() {\n\t\t\tvar args = arguments,\n\t\t\t\tfrom = Point.readNamed(args, 'from'),\n\t\t\t\tthrough = Point.readNamed(args, 'through'),\n\t\t\t\tto = Point.readNamed(args, 'to'),\n\t\t\t\tprops = Base.getNamed(args),\n\t\t\t\tpath = new Path(props && props.insert == false\n\t\t\t\t\t\t&& Item.NO_INSERT);\n\t\t\tpath.moveTo(from);\n\t\t\tpath.arcTo(through, to);\n\t\t\treturn path.set(props);\n\t\t},\n\n\t\tRegularPolygon: function() {\n\t\t\tvar args = arguments,\n\t\t\t\tcenter = Point.readNamed(args, 'center'),\n\t\t\t\tsides = Base.readNamed(args, 'sides'),\n\t\t\t\tradius = Base.readNamed(args, 'radius'),\n\t\t\t\tstep = 360 / sides,\n\t\t\t\tthree = sides % 3 === 0,\n\t\t\t\tvector = new Point(0, three ? -radius : radius),\n\t\t\t\toffset = three ? -1 : 0.5,\n\t\t\t\tsegments = new Array(sides);\n\t\t\tfor (var i = 0; i < sides; i++)\n\t\t\t\tsegments[i] = new Segment(center.add(\n\t\t\t\t\tvector.rotate((i + offset) * step)));\n\t\t\treturn createPath(segments, true, args);\n\t\t},\n\n\t\tStar: function() {\n\t\t\tvar args = arguments,\n\t\t\t\tcenter = Point.readNamed(args, 'center'),\n\t\t\t\tpoints = Base.readNamed(args, 'points') * 2,\n\t\t\t\tradius1 = Base.readNamed(args, 'radius1'),\n\t\t\t\tradius2 = Base.readNamed(args, 'radius2'),\n\t\t\t\tstep = 360 / points,\n\t\t\t\tvector = new Point(0, -1),\n\t\t\t\tsegments = new Array(points);\n\t\t\tfor (var i = 0; i < points; i++)\n\t\t\t\tsegments[i] = new Segment(center.add(vector.rotate(step * i)\n\t\t\t\t\t\t.multiply(i % 2 ? radius2 : radius1)));\n\t\t\treturn createPath(segments, true, args);\n\t\t}\n\t};\n}});\n\nvar CompoundPath = PathItem.extend({\n\t_class: 'CompoundPath',\n\t_serializeFields: {\n\t\tchildren: []\n\t},\n\tbeans: true,\n\n\tinitialize: function CompoundPath(arg) {\n\t\tthis._children = [];\n\t\tthis._namedChildren = {};\n\t\tif (!this._initialize(arg)) {\n\t\t\tif (typeof arg === 'string') {\n\t\t\t\tthis.setPathData(arg);\n\t\t\t} else {\n\t\t\t\tthis.addChildren(Array.isArray(arg) ? arg : arguments);\n\t\t\t}\n\t\t}\n\t},\n\n\tinsertChildren: function insertChildren(index, items) {\n\t\tvar list = items,\n\t\t\tfirst = list[0];\n\t\tif (first && typeof first[0] === 'number')\n\t\t\tlist = [list];\n\t\tfor (var i = items.length - 1; i >= 0; i--) {\n\t\t\tvar item = list[i];\n\t\t\tif (list === items && !(item instanceof Path))\n\t\t\t\tlist = Base.slice(list);\n\t\t\tif (Array.isArray(item)) {\n\t\t\t\tlist[i] = new Path({ segments: item, insert: false });\n\t\t\t} else if (item instanceof CompoundPath) {\n\t\t\t\tlist.splice.apply(list, [i, 1].concat(item.removeChildren()));\n\t\t\t\titem.remove();\n\t\t\t}\n\t\t}\n\t\treturn insertChildren.base.call(this, index, list);\n\t},\n\n\treduce: function reduce(options) {\n\t\tvar children = this._children;\n\t\tfor (var i = children.length - 1; i >= 0; i--) {\n\t\t\tvar path = children[i].reduce(options);\n\t\t\tif (path.isEmpty())\n\t\t\t\tpath.remove();\n\t\t}\n\t\tif (!children.length) {\n\t\t\tvar path = new Path(Item.NO_INSERT);\n\t\t\tpath.copyAttributes(this);\n\t\t\tpath.insertAbove(this);\n\t\t\tthis.remove();\n\t\t\treturn path;\n\t\t}\n\t\treturn reduce.base.call(this);\n\t},\n\n\tisClosed: function() {\n\t\tvar children = this._children;\n\t\tfor (var i = 0, l = children.length; i < l; i++) {\n\t\t\tif (!children[i]._closed)\n\t\t\t\treturn false;\n\t\t}\n\t\treturn true;\n\t},\n\n\tsetClosed: function(closed) {\n\t\tvar children = this._children;\n\t\tfor (var i = 0, l = children.length; i < l; i++) {\n\t\t\tchildren[i].setClosed(closed);\n\t\t}\n\t},\n\n\tgetFirstSegment: function() {\n\t\tvar first = this.getFirstChild();\n\t\treturn first && first.getFirstSegment();\n\t},\n\n\tgetLastSegment: function() {\n\t\tvar last = this.getLastChild();\n\t\treturn last && last.getLastSegment();\n\t},\n\n\tgetCurves: function() {\n\t\tvar children = this._children,\n\t\t\tcurves = [];\n\t\tfor (var i = 0, l = children.length; i < l; i++) {\n\t\t\tBase.push(curves, children[i].getCurves());\n\t\t}\n\t\treturn curves;\n\t},\n\n\tgetFirstCurve: function() {\n\t\tvar first = this.getFirstChild();\n\t\treturn first && first.getFirstCurve();\n\t},\n\n\tgetLastCurve: function() {\n\t\tvar last = this.getLastChild();\n\t\treturn last && last.getLastCurve();\n\t},\n\n\tgetArea: function() {\n\t\tvar children = this._children,\n\t\t\tarea = 0;\n\t\tfor (var i = 0, l = children.length; i < l; i++)\n\t\t\tarea += children[i].getArea();\n\t\treturn area;\n\t},\n\n\tgetLength: function() {\n\t\tvar children = this._children,\n\t\t\tlength = 0;\n\t\tfor (var i = 0, l = children.length; i < l; i++)\n\t\t\tlength += children[i].getLength();\n\t\treturn length;\n\t},\n\n\tgetPathData: function(_matrix, _precision) {\n\t\tvar children = this._children,\n\t\t\tpaths = [];\n\t\tfor (var i = 0, l = children.length; i < l; i++) {\n\t\t\tvar child = children[i],\n\t\t\t\tmx = child._matrix;\n\t\t\tpaths.push(child.getPathData(_matrix && !mx.isIdentity()\n\t\t\t\t\t? _matrix.appended(mx) : _matrix, _precision));\n\t\t}\n\t\treturn paths.join('');\n\t},\n\n\t_hitTestChildren: function _hitTestChildren(point, options, viewMatrix) {\n\t\treturn _hitTestChildren.base.call(this, point,\n\t\t\t\toptions.class === Path || options.type === 'path' ? options\n\t\t\t\t\t: Base.set({}, options, { fill: false }),\n\t\t\t\tviewMatrix);\n\t},\n\n\t_draw: function(ctx, param, viewMatrix, strokeMatrix) {\n\t\tvar children = this._children;\n\t\tif (!children.length)\n\t\t\treturn;\n\n\t\tparam = param.extend({ dontStart: true, dontFinish: true });\n\t\tctx.beginPath();\n\t\tfor (var i = 0, l = children.length; i < l; i++)\n\t\t\tchildren[i].draw(ctx, param, strokeMatrix);\n\n\t\tif (!param.clip) {\n\t\t\tthis._setStyles(ctx, param, viewMatrix);\n\t\t\tvar style = this._style;\n\t\t\tif (style.hasFill()) {\n\t\t\t\tctx.fill(style.getFillRule());\n\t\t\t\tctx.shadowColor = 'rgba(0,0,0,0)';\n\t\t\t}\n\t\t\tif (style.hasStroke())\n\t\t\t\tctx.stroke();\n\t\t}\n\t},\n\n\t_drawSelected: function(ctx, matrix, selectionItems) {\n\t\tvar children = this._children;\n\t\tfor (var i = 0, l = children.length; i < l; i++) {\n\t\t\tvar child = children[i],\n\t\t\t\tmx = child._matrix;\n\t\t\tif (!selectionItems[child._id]) {\n\t\t\t\tchild._drawSelected(ctx, mx.isIdentity() ? matrix\n\t\t\t\t\t\t: matrix.appended(mx));\n\t\t\t}\n\t\t}\n\t}\n},\nnew function() {\n\tfunction getCurrentPath(that, check) {\n\t\tvar children = that._children;\n\t\tif (check && !children.length)\n\t\t\tthrow new Error('Use a moveTo() command first');\n\t\treturn children[children.length - 1];\n\t}\n\n\treturn Base.each(['lineTo', 'cubicCurveTo', 'quadraticCurveTo', 'curveTo',\n\t\t\t'arcTo', 'lineBy', 'cubicCurveBy', 'quadraticCurveBy', 'curveBy',\n\t\t\t'arcBy'],\n\t\tfunction(key) {\n\t\t\tthis[key] = function() {\n\t\t\t\tvar path = getCurrentPath(this, true);\n\t\t\t\tpath[key].apply(path, arguments);\n\t\t\t};\n\t\t}, {\n\t\t\tmoveTo: function() {\n\t\t\t\tvar current = getCurrentPath(this),\n\t\t\t\t\tpath = current && current.isEmpty() ? current\n\t\t\t\t\t\t\t: new Path(Item.NO_INSERT);\n\t\t\t\tif (path !== current)\n\t\t\t\t\tthis.addChild(path);\n\t\t\t\tpath.moveTo.apply(path, arguments);\n\t\t\t},\n\n\t\t\tmoveBy: function() {\n\t\t\t\tvar current = getCurrentPath(this, true),\n\t\t\t\t\tlast = current && current.getLastSegment(),\n\t\t\t\t\tpoint = Point.read(arguments);\n\t\t\t\tthis.moveTo(last ? point.add(last._point) : point);\n\t\t\t},\n\n\t\t\tclosePath: function(tolerance) {\n\t\t\t\tgetCurrentPath(this, true).closePath(tolerance);\n\t\t\t}\n\t\t}\n\t);\n}, Base.each(['reverse', 'flatten', 'simplify', 'smooth'], function(key) {\n\tthis[key] = function(param) {\n\t\tvar children = this._children,\n\t\t\tres;\n\t\tfor (var i = 0, l = children.length; i < l; i++) {\n\t\t\tres = children[i][key](param) || res;\n\t\t}\n\t\treturn res;\n\t};\n}, {}));\n\nPathItem.inject(new function() {\n\tvar min = Math.min,\n\t\tmax = Math.max,\n\t\tabs = Math.abs,\n\t\toperators = {\n\t\t\tunite:     { '1': true, '2': true },\n\t\t\tintersect: { '2': true },\n\t\t\tsubtract:  { '1': true },\n\t\t\texclude:   { '1': true, '-1': true }\n\t\t};\n\n\tfunction getPaths(path) {\n\t\treturn path._children || [path];\n\t}\n\n\tfunction preparePath(path, resolve) {\n\t\tvar res = path\n\t\t\t.clone(false)\n\t\t\t.reduce({ simplify: true })\n\t\t\t.transform(null, true, true);\n\t\tif (resolve) {\n\t\t\tvar paths = getPaths(res);\n\t\t\tfor (var i = 0, l = paths.length; i < l; i++) {\n\t\t\t\tvar path = paths[i];\n\t\t\t\tif (!path._closed && !path.isEmpty()) {\n\t\t\t\t\tpath.closePath(1e-12);\n\t\t\t\t\tpath.getFirstSegment().setHandleIn(0, 0);\n\t\t\t\t\tpath.getLastSegment().setHandleOut(0, 0);\n\t\t\t\t}\n\t\t\t}\n\t\t\tres = res\n\t\t\t\t.resolveCrossings()\n\t\t\t\t.reorient(res.getFillRule() === 'nonzero', true);\n\t\t}\n\t\treturn res;\n\t}\n\n\tfunction createResult(paths, simplify, path1, path2, options) {\n\t\tvar result = new CompoundPath(Item.NO_INSERT);\n\t\tresult.addChildren(paths, true);\n\t\tresult = result.reduce({ simplify: simplify });\n\t\tif (!(options && options.insert == false)) {\n\t\t\tresult.insertAbove(path2 && path1.isSibling(path2)\n\t\t\t\t\t&& path1.getIndex() < path2.getIndex() ? path2 : path1);\n\t\t}\n\t\tresult.copyAttributes(path1, true);\n\t\treturn result;\n\t}\n\n\tfunction filterIntersection(inter) {\n\t\treturn inter.hasOverlap() || inter.isCrossing();\n\t}\n\n\tfunction traceBoolean(path1, path2, operation, options) {\n\t\tif (options && (options.trace == false || options.stroke) &&\n\t\t\t\t/^(subtract|intersect)$/.test(operation))\n\t\t\treturn splitBoolean(path1, path2, operation);\n\t\tvar _path1 = preparePath(path1, true),\n\t\t\t_path2 = path2 && path1 !== path2 && preparePath(path2, true),\n\t\t\toperator = operators[operation];\n\t\toperator[operation] = true;\n\t\tif (_path2 && (operator.subtract || operator.exclude)\n\t\t\t\t^ (_path2.isClockwise() ^ _path1.isClockwise()))\n\t\t\t_path2.reverse();\n\t\tvar crossings = divideLocations(CurveLocation.expand(\n\t\t\t\t_path1.getIntersections(_path2, filterIntersection))),\n\t\t\tpaths1 = getPaths(_path1),\n\t\t\tpaths2 = _path2 && getPaths(_path2),\n\t\t\tsegments = [],\n\t\t\tcurves = [],\n\t\t\tpaths;\n\n\t\tfunction collectPaths(paths) {\n\t\t\tfor (var i = 0, l = paths.length; i < l; i++) {\n\t\t\t\tvar path = paths[i];\n\t\t\t\tBase.push(segments, path._segments);\n\t\t\t\tBase.push(curves, path.getCurves());\n\t\t\t\tpath._overlapsOnly = true;\n\t\t\t}\n\t\t}\n\n\t\tfunction getCurves(indices) {\n\t\t\tvar list = [];\n\t\t\tfor (var i = 0, l = indices && indices.length; i < l; i++) {\n\t\t\t\tlist.push(curves[indices[i]]);\n\t\t\t}\n\t\t\treturn list;\n\t\t}\n\n\t\tif (crossings.length) {\n\t\t\tcollectPaths(paths1);\n\t\t\tif (paths2)\n\t\t\t\tcollectPaths(paths2);\n\n\t\t\tvar curvesValues = new Array(curves.length);\n\t\t\tfor (var i = 0, l = curves.length; i < l; i++) {\n\t\t\t\tcurvesValues[i] = curves[i].getValues();\n\t\t\t}\n\t\t\tvar curveCollisions = CollisionDetection.findCurveBoundsCollisions(\n\t\t\t\t\tcurvesValues, curvesValues, 0, true);\n\t\t\tvar curveCollisionsMap = {};\n\t\t\tfor (var i = 0; i < curves.length; i++) {\n\t\t\t\tvar curve = curves[i],\n\t\t\t\t\tid = curve._path._id,\n\t\t\t\t\tmap = curveCollisionsMap[id] = curveCollisionsMap[id] || {};\n\t\t\t\tmap[curve.getIndex()] = {\n\t\t\t\t\thor: getCurves(curveCollisions[i].hor),\n\t\t\t\t\tver: getCurves(curveCollisions[i].ver)\n\t\t\t\t};\n\t\t\t}\n\n\t\t\tfor (var i = 0, l = crossings.length; i < l; i++) {\n\t\t\t\tpropagateWinding(crossings[i]._segment, _path1, _path2,\n\t\t\t\t\t\tcurveCollisionsMap, operator);\n\t\t\t}\n\t\t\tfor (var i = 0, l = segments.length; i < l; i++) {\n\t\t\t\tvar segment = segments[i],\n\t\t\t\t\tinter = segment._intersection;\n\t\t\t\tif (!segment._winding) {\n\t\t\t\t\tpropagateWinding(segment, _path1, _path2,\n\t\t\t\t\t\t\tcurveCollisionsMap, operator);\n\t\t\t\t}\n\t\t\t\tif (!(inter && inter._overlap))\n\t\t\t\t\tsegment._path._overlapsOnly = false;\n\t\t\t}\n\t\t\tpaths = tracePaths(segments, operator);\n\t\t} else {\n\t\t\tpaths = reorientPaths(\n\t\t\t\t\tpaths2 ? paths1.concat(paths2) : paths1.slice(),\n\t\t\t\t\tfunction(w) {\n\t\t\t\t\t\treturn !!operator[w];\n\t\t\t\t\t});\n\t\t}\n\t\treturn createResult(paths, true, path1, path2, options);\n\t}\n\n\tfunction splitBoolean(path1, path2, operation) {\n\t\tvar _path1 = preparePath(path1),\n\t\t\t_path2 = preparePath(path2),\n\t\t\tcrossings = _path1.getIntersections(_path2, filterIntersection),\n\t\t\tsubtract = operation === 'subtract',\n\t\t\tdivide = operation === 'divide',\n\t\t\tadded = {},\n\t\t\tpaths = [];\n\n\t\tfunction addPath(path) {\n\t\t\tif (!added[path._id] && (divide ||\n\t\t\t\t\t_path2.contains(path.getPointAt(path.getLength() / 2))\n\t\t\t\t\t\t^ subtract)) {\n\t\t\t\tpaths.unshift(path);\n\t\t\t\treturn added[path._id] = true;\n\t\t\t}\n\t\t}\n\n\t\tfor (var i = crossings.length - 1; i >= 0; i--) {\n\t\t\tvar path = crossings[i].split();\n\t\t\tif (path) {\n\t\t\t\tif (addPath(path))\n\t\t\t\t\tpath.getFirstSegment().setHandleIn(0, 0);\n\t\t\t\t_path1.getLastSegment().setHandleOut(0, 0);\n\t\t\t}\n\t\t}\n\t\taddPath(_path1);\n\t\treturn createResult(paths, false, path1, path2);\n\t}\n\n\tfunction linkIntersections(from, to) {\n\t\tvar prev = from;\n\t\twhile (prev) {\n\t\t\tif (prev === to)\n\t\t\t\treturn;\n\t\t\tprev = prev._previous;\n\t\t}\n\t\twhile (from._next && from._next !== to)\n\t\t\tfrom = from._next;\n\t\tif (!from._next) {\n\t\t\twhile (to._previous)\n\t\t\t\tto = to._previous;\n\t\t\tfrom._next = to;\n\t\t\tto._previous = from;\n\t\t}\n\t}\n\n\tfunction clearCurveHandles(curves) {\n\t\tfor (var i = curves.length - 1; i >= 0; i--)\n\t\t\tcurves[i].clearHandles();\n\t}\n\n\tfunction reorientPaths(paths, isInside, clockwise) {\n\t\tvar length = paths && paths.length;\n\t\tif (length) {\n\t\t\tvar lookup = Base.each(paths, function (path, i) {\n\t\t\t\t\tthis[path._id] = {\n\t\t\t\t\t\tcontainer: null,\n\t\t\t\t\t\twinding: path.isClockwise() ? 1 : -1,\n\t\t\t\t\t\tindex: i\n\t\t\t\t\t};\n\t\t\t\t}, {}),\n\t\t\t\tsorted = paths.slice().sort(function (a, b) {\n\t\t\t\t\treturn abs(b.getArea()) - abs(a.getArea());\n\t\t\t\t}),\n\t\t\t\tfirst = sorted[0];\n\t\t\tvar collisions = CollisionDetection.findItemBoundsCollisions(sorted,\n\t\t\t\t\tnull, Numerical.GEOMETRIC_EPSILON);\n\t\t\tif (clockwise == null)\n\t\t\t\tclockwise = first.isClockwise();\n\t\t\tfor (var i = 0; i < length; i++) {\n\t\t\t\tvar path1 = sorted[i],\n\t\t\t\t\tentry1 = lookup[path1._id],\n\t\t\t\t\tcontainerWinding = 0,\n\t\t\t\t\tindices = collisions[i];\n\t\t\t\tif (indices) {\n\t\t\t\t\tvar point = null;\n\t\t\t\t\tfor (var j = indices.length - 1; j >= 0; j--) {\n\t\t\t\t\t\tif (indices[j] < i) {\n\t\t\t\t\t\t\tpoint = point || path1.getInteriorPoint();\n\t\t\t\t\t\t\tvar path2 = sorted[indices[j]];\n\t\t\t\t\t\t\tif (path2.contains(point)) {\n\t\t\t\t\t\t\t\tvar entry2 = lookup[path2._id];\n\t\t\t\t\t\t\t\tcontainerWinding = entry2.winding;\n\t\t\t\t\t\t\t\tentry1.winding += containerWinding;\n\t\t\t\t\t\t\t\tentry1.container = entry2.exclude\n\t\t\t\t\t\t\t\t\t? entry2.container : path2;\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif (isInside(entry1.winding) === isInside(containerWinding)) {\n\t\t\t\t\tentry1.exclude = true;\n\t\t\t\t\tpaths[entry1.index] = null;\n\t\t\t\t} else {\n\t\t\t\t\tvar container = entry1.container;\n\t\t\t\t\tpath1.setClockwise(\n\t\t\t\t\t\t\tcontainer ? !container.isClockwise() : clockwise);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn paths;\n\t}\n\n\tfunction divideLocations(locations, include, clearLater) {\n\t\tvar results = include && [],\n\t\t\ttMin = 1e-8,\n\t\t\ttMax = 1 - tMin,\n\t\t\tclearHandles = false,\n\t\t\tclearCurves = clearLater || [],\n\t\t\tclearLookup = clearLater && {},\n\t\t\trenormalizeLocs,\n\t\t\tprevCurve,\n\t\t\tprevTime;\n\n\t\tfunction getId(curve) {\n\t\t\treturn curve._path._id + '.' + curve._segment1._index;\n\t\t}\n\n\t\tfor (var i = (clearLater && clearLater.length) - 1; i >= 0; i--) {\n\t\t\tvar curve = clearLater[i];\n\t\t\tif (curve._path)\n\t\t\t\tclearLookup[getId(curve)] = true;\n\t\t}\n\n\t\tfor (var i = locations.length - 1; i >= 0; i--) {\n\t\t\tvar loc = locations[i],\n\t\t\t\ttime = loc._time,\n\t\t\t\torigTime = time,\n\t\t\t\texclude = include && !include(loc),\n\t\t\t\tcurve = loc._curve,\n\t\t\t\tsegment;\n\t\t\tif (curve) {\n\t\t\t\tif (curve !== prevCurve) {\n\t\t\t\t\tclearHandles = !curve.hasHandles()\n\t\t\t\t\t\t\t|| clearLookup && clearLookup[getId(curve)];\n\t\t\t\t\trenormalizeLocs = [];\n\t\t\t\t\tprevTime = null;\n\t\t\t\t\tprevCurve = curve;\n\t\t\t\t} else if (prevTime >= tMin) {\n\t\t\t\t\ttime /= prevTime;\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (exclude) {\n\t\t\t\tif (renormalizeLocs)\n\t\t\t\t\trenormalizeLocs.push(loc);\n\t\t\t\tcontinue;\n\t\t\t} else if (include) {\n\t\t\t\tresults.unshift(loc);\n\t\t\t}\n\t\t\tprevTime = origTime;\n\t\t\tif (time < tMin) {\n\t\t\t\tsegment = curve._segment1;\n\t\t\t} else if (time > tMax) {\n\t\t\t\tsegment = curve._segment2;\n\t\t\t} else {\n\t\t\t\tvar newCurve = curve.divideAtTime(time, true);\n\t\t\t\tif (clearHandles)\n\t\t\t\t\tclearCurves.push(curve, newCurve);\n\t\t\t\tsegment = newCurve._segment1;\n\t\t\t\tfor (var j = renormalizeLocs.length - 1; j >= 0; j--) {\n\t\t\t\t\tvar l = renormalizeLocs[j];\n\t\t\t\t\tl._time = (l._time - time) / (1 - time);\n\t\t\t\t}\n\t\t\t}\n\t\t\tloc._setSegment(segment);\n\t\t\tvar inter = segment._intersection,\n\t\t\t\tdest = loc._intersection;\n\t\t\tif (inter) {\n\t\t\t\tlinkIntersections(inter, dest);\n\t\t\t\tvar other = inter;\n\t\t\t\twhile (other) {\n\t\t\t\t\tlinkIntersections(other._intersection, inter);\n\t\t\t\t\tother = other._next;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tsegment._intersection = dest;\n\t\t\t}\n\t\t}\n\t\tif (!clearLater)\n\t\t\tclearCurveHandles(clearCurves);\n\t\treturn results || locations;\n\t}\n\n\tfunction getWinding(point, curves, dir, closed, dontFlip) {\n\t\tvar curvesList = Array.isArray(curves)\n\t\t\t? curves\n\t\t\t: curves[dir ? 'hor' : 'ver'];\n\t\tvar ia = dir ? 1 : 0,\n\t\t\tio = ia ^ 1,\n\t\t\tpv = [point.x, point.y],\n\t\t\tpa = pv[ia],\n\t\t\tpo = pv[io],\n\t\t\twindingEpsilon = 1e-9,\n\t\t\tqualityEpsilon = 1e-6,\n\t\t\tpaL = pa - windingEpsilon,\n\t\t\tpaR = pa + windingEpsilon,\n\t\t\twindingL = 0,\n\t\t\twindingR = 0,\n\t\t\tpathWindingL = 0,\n\t\t\tpathWindingR = 0,\n\t\t\tonPath = false,\n\t\t\tonAnyPath = false,\n\t\t\tquality = 1,\n\t\t\troots = [],\n\t\t\tvPrev,\n\t\t\tvClose;\n\n\t\tfunction addWinding(v) {\n\t\t\tvar o0 = v[io + 0],\n\t\t\t\to3 = v[io + 6];\n\t\t\tif (po < min(o0, o3) || po > max(o0, o3)) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tvar a0 = v[ia + 0],\n\t\t\t\ta1 = v[ia + 2],\n\t\t\t\ta2 = v[ia + 4],\n\t\t\t\ta3 = v[ia + 6];\n\t\t\tif (o0 === o3) {\n\t\t\t\tif (a0 < paR && a3 > paL || a3 < paR && a0 > paL) {\n\t\t\t\t\tonPath = true;\n\t\t\t\t}\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tvar t =   po === o0 ? 0\n\t\t\t\t\t: po === o3 ? 1\n\t\t\t\t\t: paL > max(a0, a1, a2, a3) || paR < min(a0, a1, a2, a3)\n\t\t\t\t\t? 1\n\t\t\t\t\t: Curve.solveCubic(v, io, po, roots, 0, 1) > 0\n\t\t\t\t\t\t? roots[0]\n\t\t\t\t\t\t: 1,\n\t\t\t\ta =   t === 0 ? a0\n\t\t\t\t\t: t === 1 ? a3\n\t\t\t\t\t: Curve.getPoint(v, t)[dir ? 'y' : 'x'],\n\t\t\t\twinding = o0 > o3 ? 1 : -1,\n\t\t\t\twindingPrev = vPrev[io] > vPrev[io + 6] ? 1 : -1,\n\t\t\t\ta3Prev = vPrev[ia + 6];\n\t\t\tif (po !== o0) {\n\t\t\t\tif (a < paL) {\n\t\t\t\t\tpathWindingL += winding;\n\t\t\t\t} else if (a > paR) {\n\t\t\t\t\tpathWindingR += winding;\n\t\t\t\t} else {\n\t\t\t\t\tonPath = true;\n\t\t\t\t}\n\t\t\t\tif (a > pa - qualityEpsilon && a < pa + qualityEpsilon)\n\t\t\t\t\tquality /= 2;\n\t\t\t} else {\n\t\t\t\tif (winding !== windingPrev) {\n\t\t\t\t\tif (a0 < paL) {\n\t\t\t\t\t\tpathWindingL += winding;\n\t\t\t\t\t} else if (a0 > paR) {\n\t\t\t\t\t\tpathWindingR += winding;\n\t\t\t\t\t}\n\t\t\t\t} else if (a0 != a3Prev) {\n\t\t\t\t\tif (a3Prev < paR && a > paR) {\n\t\t\t\t\t\tpathWindingR += winding;\n\t\t\t\t\t\tonPath = true;\n\t\t\t\t\t} else if (a3Prev > paL && a < paL) {\n\t\t\t\t\t\tpathWindingL += winding;\n\t\t\t\t\t\tonPath = true;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tquality /= 4;\n\t\t\t}\n\t\t\tvPrev = v;\n\t\t\treturn !dontFlip && a > paL && a < paR\n\t\t\t\t\t&& Curve.getTangent(v, t)[dir ? 'x' : 'y'] === 0\n\t\t\t\t\t&& getWinding(point, curves, !dir, closed, true);\n\t\t}\n\n\t\tfunction handleCurve(v) {\n\t\t\tvar o0 = v[io + 0],\n\t\t\t\to1 = v[io + 2],\n\t\t\t\to2 = v[io + 4],\n\t\t\t\to3 = v[io + 6];\n\t\t\tif (po <= max(o0, o1, o2, o3) && po >= min(o0, o1, o2, o3)) {\n\t\t\t\tvar a0 = v[ia + 0],\n\t\t\t\t\ta1 = v[ia + 2],\n\t\t\t\t\ta2 = v[ia + 4],\n\t\t\t\t\ta3 = v[ia + 6],\n\t\t\t\t\tmonoCurves = paL > max(a0, a1, a2, a3) ||\n\t\t\t\t\t\t\t\t paR < min(a0, a1, a2, a3)\n\t\t\t\t\t\t\t? [v] : Curve.getMonoCurves(v, dir),\n\t\t\t\t\tres;\n\t\t\t\tfor (var i = 0, l = monoCurves.length; i < l; i++) {\n\t\t\t\t\tif (res = addWinding(monoCurves[i]))\n\t\t\t\t\t\treturn res;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tfor (var i = 0, l = curvesList.length; i < l; i++) {\n\t\t\tvar curve = curvesList[i],\n\t\t\t\tpath = curve._path,\n\t\t\t\tv = curve.getValues(),\n\t\t\t\tres;\n\t\t\tif (!i || curvesList[i - 1]._path !== path) {\n\t\t\t\tvPrev = null;\n\t\t\t\tif (!path._closed) {\n\t\t\t\t\tvClose = Curve.getValues(\n\t\t\t\t\t\t\tpath.getLastCurve().getSegment2(),\n\t\t\t\t\t\t\tcurve.getSegment1(),\n\t\t\t\t\t\t\tnull, !closed);\n\t\t\t\t\tif (vClose[io] !== vClose[io + 6]) {\n\t\t\t\t\t\tvPrev = vClose;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif (!vPrev) {\n\t\t\t\t\tvPrev = v;\n\t\t\t\t\tvar prev = path.getLastCurve();\n\t\t\t\t\twhile (prev && prev !== curve) {\n\t\t\t\t\t\tvar v2 = prev.getValues();\n\t\t\t\t\t\tif (v2[io] !== v2[io + 6]) {\n\t\t\t\t\t\t\tvPrev = v2;\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tprev = prev.getPrevious();\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (res = handleCurve(v))\n\t\t\t\treturn res;\n\n\t\t\tif (i + 1 === l || curvesList[i + 1]._path !== path) {\n\t\t\t\tif (vClose && (res = handleCurve(vClose)))\n\t\t\t\t\treturn res;\n\t\t\t\tif (onPath && !pathWindingL && !pathWindingR) {\n\t\t\t\t\tpathWindingL = pathWindingR = path.isClockwise(closed) ^ dir\n\t\t\t\t\t\t\t? 1 : -1;\n\t\t\t\t}\n\t\t\t\twindingL += pathWindingL;\n\t\t\t\twindingR += pathWindingR;\n\t\t\t\tpathWindingL = pathWindingR = 0;\n\t\t\t\tif (onPath) {\n\t\t\t\t\tonAnyPath = true;\n\t\t\t\t\tonPath = false;\n\t\t\t\t}\n\t\t\t\tvClose = null;\n\t\t\t}\n\t\t}\n\t\twindingL = abs(windingL);\n\t\twindingR = abs(windingR);\n\t\treturn {\n\t\t\twinding: max(windingL, windingR),\n\t\t\twindingL: windingL,\n\t\t\twindingR: windingR,\n\t\t\tquality: quality,\n\t\t\tonPath: onAnyPath\n\t\t};\n\t}\n\n\tfunction propagateWinding(segment, path1, path2, curveCollisionsMap,\n\t\t\toperator) {\n\t\tvar chain = [],\n\t\t\tstart = segment,\n\t\t\ttotalLength = 0,\n\t\t\twinding;\n\t\tdo {\n\t\t\tvar curve = segment.getCurve();\n\t\t\tif (curve) {\n\t\t\t\tvar length = curve.getLength();\n\t\t\t\tchain.push({ segment: segment, curve: curve, length: length });\n\t\t\t\ttotalLength += length;\n\t\t\t}\n\t\t\tsegment = segment.getNext();\n\t\t} while (segment && !segment._intersection && segment !== start);\n\t\tvar offsets = [0.5, 0.25, 0.75],\n\t\t\twinding = { winding: 0, quality: -1 },\n\t\t\ttMin = 1e-3,\n\t\t\ttMax = 1 - tMin;\n\t\tfor (var i = 0; i < offsets.length && winding.quality < 0.5; i++) {\n\t\t\tvar length = totalLength * offsets[i];\n\t\t\tfor (var j = 0, l = chain.length; j < l; j++) {\n\t\t\t\tvar entry = chain[j],\n\t\t\t\t\tcurveLength = entry.length;\n\t\t\t\tif (length <= curveLength) {\n\t\t\t\t\tvar curve = entry.curve,\n\t\t\t\t\t\tpath = curve._path,\n\t\t\t\t\t\tparent = path._parent,\n\t\t\t\t\t\toperand = parent instanceof CompoundPath ? parent : path,\n\t\t\t\t\t\tt = Numerical.clamp(curve.getTimeAt(length), tMin, tMax),\n\t\t\t\t\t\tpt = curve.getPointAtTime(t),\n\t\t\t\t\t\tdir = abs(curve.getTangentAtTime(t).y) < Math.SQRT1_2;\n\t\t\t\t\tvar wind = null;\n\t\t\t\t\tif (operator.subtract && path2) {\n\t\t\t\t\t\tvar otherPath = operand === path1 ? path2 : path1,\n\t\t\t\t\t\t\tpathWinding = otherPath._getWinding(pt, dir, true);\n\t\t\t\t\t\tif (operand === path1 && pathWinding.winding ||\n\t\t\t\t\t\t\toperand === path2 && !pathWinding.winding) {\n\t\t\t\t\t\t\tif (pathWinding.quality < 1) {\n\t\t\t\t\t\t\t\tcontinue;\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\twind = { winding: 0, quality: 1 };\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\twind =  wind || getWinding(\n\t\t\t\t\t\t\tpt, curveCollisionsMap[path._id][curve.getIndex()],\n\t\t\t\t\t\t\tdir, true);\n\t\t\t\t\tif (wind.quality > winding.quality)\n\t\t\t\t\t\twinding = wind;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\tlength -= curveLength;\n\t\t\t}\n\t\t}\n\t\tfor (var j = chain.length - 1; j >= 0; j--) {\n\t\t\tchain[j].segment._winding = winding;\n\t\t}\n\t}\n\n\tfunction tracePaths(segments, operator) {\n\t\tvar paths = [],\n\t\t\tstarts;\n\n\t\tfunction isValid(seg) {\n\t\t\tvar winding;\n\t\t\treturn !!(seg && !seg._visited && (!operator\n\t\t\t\t\t|| operator[(winding = seg._winding || {}).winding]\n\t\t\t\t\t\t&& !(operator.unite && winding.winding === 2\n\t\t\t\t\t\t\t&& winding.windingL && winding.windingR)));\n\t\t}\n\n\t\tfunction isStart(seg) {\n\t\t\tif (seg) {\n\t\t\t\tfor (var i = 0, l = starts.length; i < l; i++) {\n\t\t\t\t\tif (seg === starts[i])\n\t\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn false;\n\t\t}\n\n\t\tfunction visitPath(path) {\n\t\t\tvar segments = path._segments;\n\t\t\tfor (var i = 0, l = segments.length; i < l; i++) {\n\t\t\t\tsegments[i]._visited = true;\n\t\t\t}\n\t\t}\n\n\t\tfunction getCrossingSegments(segment, collectStarts) {\n\t\t\tvar inter = segment._intersection,\n\t\t\t\tstart = inter,\n\t\t\t\tcrossings = [];\n\t\t\tif (collectStarts)\n\t\t\t\tstarts = [segment];\n\n\t\t\tfunction collect(inter, end) {\n\t\t\t\twhile (inter && inter !== end) {\n\t\t\t\t\tvar other = inter._segment,\n\t\t\t\t\t\tpath = other && other._path;\n\t\t\t\t\tif (path) {\n\t\t\t\t\t\tvar next = other.getNext() || path.getFirstSegment(),\n\t\t\t\t\t\t\tnextInter = next._intersection;\n\t\t\t\t\t\tif (other !== segment && (isStart(other)\n\t\t\t\t\t\t\t|| isStart(next)\n\t\t\t\t\t\t\t|| next && (isValid(other) && (isValid(next)\n\t\t\t\t\t\t\t\t|| nextInter && isValid(nextInter._segment))))\n\t\t\t\t\t\t) {\n\t\t\t\t\t\t\tcrossings.push(other);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (collectStarts)\n\t\t\t\t\t\t\tstarts.push(other);\n\t\t\t\t\t}\n\t\t\t\t\tinter = inter._next;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (inter) {\n\t\t\t\tcollect(inter);\n\t\t\t\twhile (inter && inter._previous)\n\t\t\t\t\tinter = inter._previous;\n\t\t\t\tcollect(inter, start);\n\t\t\t}\n\t\t\treturn crossings;\n\t\t}\n\n\t\tsegments.sort(function(seg1, seg2) {\n\t\t\tvar inter1 = seg1._intersection,\n\t\t\t\tinter2 = seg2._intersection,\n\t\t\t\tover1 = !!(inter1 && inter1._overlap),\n\t\t\t\tover2 = !!(inter2 && inter2._overlap),\n\t\t\t\tpath1 = seg1._path,\n\t\t\t\tpath2 = seg2._path;\n\t\t\treturn over1 ^ over2\n\t\t\t\t\t? over1 ? 1 : -1\n\t\t\t\t\t: !inter1 ^ !inter2\n\t\t\t\t\t\t? inter1 ? 1 : -1\n\t\t\t\t\t\t: path1 !== path2\n\t\t\t\t\t\t\t? path1._id - path2._id\n\t\t\t\t\t\t\t: seg1._index - seg2._index;\n\t\t});\n\n\t\tfor (var i = 0, l = segments.length; i < l; i++) {\n\t\t\tvar seg = segments[i],\n\t\t\t\tvalid = isValid(seg),\n\t\t\t\tpath = null,\n\t\t\t\tfinished = false,\n\t\t\t\tclosed = true,\n\t\t\t\tbranches = [],\n\t\t\t\tbranch,\n\t\t\t\tvisited,\n\t\t\t\thandleIn;\n\t\t\tif (valid && seg._path._overlapsOnly) {\n\t\t\t\tvar path1 = seg._path,\n\t\t\t\t\tpath2 = seg._intersection._segment._path;\n\t\t\t\tif (path1.compare(path2)) {\n\t\t\t\t\tif (path1.getArea())\n\t\t\t\t\t\tpaths.push(path1.clone(false));\n\t\t\t\t\tvisitPath(path1);\n\t\t\t\t\tvisitPath(path2);\n\t\t\t\t\tvalid = false;\n\t\t\t\t}\n\t\t\t}\n\t\t\twhile (valid) {\n\t\t\t\tvar first = !path,\n\t\t\t\t\tcrossings = getCrossingSegments(seg, first),\n\t\t\t\t\tother = crossings.shift(),\n\t\t\t\t\tfinished = !first && (isStart(seg) || isStart(other)),\n\t\t\t\t\tcross = !finished && other;\n\t\t\t\tif (first) {\n\t\t\t\t\tpath = new Path(Item.NO_INSERT);\n\t\t\t\t\tbranch = null;\n\t\t\t\t}\n\t\t\t\tif (finished) {\n\t\t\t\t\tif (seg.isFirst() || seg.isLast())\n\t\t\t\t\t\tclosed = seg._path._closed;\n\t\t\t\t\tseg._visited = true;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\tif (cross && branch) {\n\t\t\t\t\tbranches.push(branch);\n\t\t\t\t\tbranch = null;\n\t\t\t\t}\n\t\t\t\tif (!branch) {\n\t\t\t\t\tif (cross)\n\t\t\t\t\t\tcrossings.push(seg);\n\t\t\t\t\tbranch = {\n\t\t\t\t\t\tstart: path._segments.length,\n\t\t\t\t\t\tcrossings: crossings,\n\t\t\t\t\t\tvisited: visited = [],\n\t\t\t\t\t\thandleIn: handleIn\n\t\t\t\t\t};\n\t\t\t\t}\n\t\t\t\tif (cross)\n\t\t\t\t\tseg = other;\n\t\t\t\tif (!isValid(seg)) {\n\t\t\t\t\tpath.removeSegments(branch.start);\n\t\t\t\t\tfor (var j = 0, k = visited.length; j < k; j++) {\n\t\t\t\t\t\tvisited[j]._visited = false;\n\t\t\t\t\t}\n\t\t\t\t\tvisited.length = 0;\n\t\t\t\t\tdo {\n\t\t\t\t\t\tseg = branch && branch.crossings.shift();\n\t\t\t\t\t\tif (!seg || !seg._path) {\n\t\t\t\t\t\t\tseg = null;\n\t\t\t\t\t\t\tbranch = branches.pop();\n\t\t\t\t\t\t\tif (branch) {\n\t\t\t\t\t\t\t\tvisited = branch.visited;\n\t\t\t\t\t\t\t\thandleIn = branch.handleIn;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t} while (branch && !isValid(seg));\n\t\t\t\t\tif (!seg)\n\t\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\tvar next = seg.getNext();\n\t\t\t\tpath.add(new Segment(seg._point, handleIn,\n\t\t\t\t\t\tnext && seg._handleOut));\n\t\t\t\tseg._visited = true;\n\t\t\t\tvisited.push(seg);\n\t\t\t\tseg = next || seg._path.getFirstSegment();\n\t\t\t\thandleIn = next && next._handleIn;\n\t\t\t}\n\t\t\tif (finished) {\n\t\t\t\tif (closed) {\n\t\t\t\t\tpath.getFirstSegment().setHandleIn(handleIn);\n\t\t\t\t\tpath.setClosed(closed);\n\t\t\t\t}\n\t\t\t\tif (path.getArea() !== 0) {\n\t\t\t\t\tpaths.push(path);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn paths;\n\t}\n\n\treturn {\n\t\t_getWinding: function(point, dir, closed) {\n\t\t\treturn getWinding(point, this.getCurves(), dir, closed);\n\t\t},\n\n\t\tunite: function(path, options) {\n\t\t\treturn traceBoolean(this, path, 'unite', options);\n\t\t},\n\n\t\tintersect: function(path, options) {\n\t\t\treturn traceBoolean(this, path, 'intersect', options);\n\t\t},\n\n\t\tsubtract: function(path, options) {\n\t\t\treturn traceBoolean(this, path, 'subtract', options);\n\t\t},\n\n\t\texclude: function(path, options) {\n\t\t\treturn traceBoolean(this, path, 'exclude', options);\n\t\t},\n\n\t\tdivide: function(path, options) {\n\t\t\treturn options && (options.trace == false || options.stroke)\n\t\t\t\t\t? splitBoolean(this, path, 'divide')\n\t\t\t\t\t: createResult([\n\t\t\t\t\t\tthis.subtract(path, options),\n\t\t\t\t\t\tthis.intersect(path, options)\n\t\t\t\t\t], true, this, path, options);\n\t\t},\n\n\t\tresolveCrossings: function() {\n\t\t\tvar children = this._children,\n\t\t\t\tpaths = children || [this];\n\n\t\t\tfunction hasOverlap(seg, path) {\n\t\t\t\tvar inter = seg && seg._intersection;\n\t\t\t\treturn inter && inter._overlap && inter._path === path;\n\t\t\t}\n\n\t\t\tvar hasOverlaps = false,\n\t\t\t\thasCrossings = false,\n\t\t\t\tintersections = this.getIntersections(null, function(inter) {\n\t\t\t\t\treturn inter.hasOverlap() && (hasOverlaps = true) ||\n\t\t\t\t\t\t\tinter.isCrossing() && (hasCrossings = true);\n\t\t\t\t}),\n\t\t\t\tclearCurves = hasOverlaps && hasCrossings && [];\n\t\t\tintersections = CurveLocation.expand(intersections);\n\t\t\tif (hasOverlaps) {\n\t\t\t\tvar overlaps = divideLocations(intersections, function(inter) {\n\t\t\t\t\treturn inter.hasOverlap();\n\t\t\t\t}, clearCurves);\n\t\t\t\tfor (var i = overlaps.length - 1; i >= 0; i--) {\n\t\t\t\t\tvar overlap = overlaps[i],\n\t\t\t\t\t\tpath = overlap._path,\n\t\t\t\t\t\tseg = overlap._segment,\n\t\t\t\t\t\tprev = seg.getPrevious(),\n\t\t\t\t\t\tnext = seg.getNext();\n\t\t\t\t\tif (hasOverlap(prev, path) && hasOverlap(next, path)) {\n\t\t\t\t\t\tseg.remove();\n\t\t\t\t\t\tprev._handleOut._set(0, 0);\n\t\t\t\t\t\tnext._handleIn._set(0, 0);\n\t\t\t\t\t\tif (prev !== seg && !prev.getCurve().hasLength()) {\n\t\t\t\t\t\t\tnext._handleIn.set(prev._handleIn);\n\t\t\t\t\t\t\tprev.remove();\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (hasCrossings) {\n\t\t\t\tdivideLocations(intersections, hasOverlaps && function(inter) {\n\t\t\t\t\tvar curve1 = inter.getCurve(),\n\t\t\t\t\t\tseg1 = inter.getSegment(),\n\t\t\t\t\t\tother = inter._intersection,\n\t\t\t\t\t\tcurve2 = other._curve,\n\t\t\t\t\t\tseg2 = other._segment;\n\t\t\t\t\tif (curve1 && curve2 && curve1._path && curve2._path)\n\t\t\t\t\t\treturn true;\n\t\t\t\t\tif (seg1)\n\t\t\t\t\t\tseg1._intersection = null;\n\t\t\t\t\tif (seg2)\n\t\t\t\t\t\tseg2._intersection = null;\n\t\t\t\t}, clearCurves);\n\t\t\t\tif (clearCurves)\n\t\t\t\t\tclearCurveHandles(clearCurves);\n\t\t\t\tpaths = tracePaths(Base.each(paths, function(path) {\n\t\t\t\t\tBase.push(this, path._segments);\n\t\t\t\t}, []));\n\t\t\t}\n\t\t\tvar length = paths.length,\n\t\t\t\titem;\n\t\t\tif (length > 1 && children) {\n\t\t\t\tif (paths !== children)\n\t\t\t\t\tthis.setChildren(paths);\n\t\t\t\titem = this;\n\t\t\t} else if (length === 1 && !children) {\n\t\t\t\tif (paths[0] !== this)\n\t\t\t\t\tthis.setSegments(paths[0].removeSegments());\n\t\t\t\titem = this;\n\t\t\t}\n\t\t\tif (!item) {\n\t\t\t\titem = new CompoundPath(Item.NO_INSERT);\n\t\t\t\titem.addChildren(paths);\n\t\t\t\titem = item.reduce();\n\t\t\t\titem.copyAttributes(this);\n\t\t\t\tthis.replaceWith(item);\n\t\t\t}\n\t\t\treturn item;\n\t\t},\n\n\t\treorient: function(nonZero, clockwise) {\n\t\t\tvar children = this._children;\n\t\t\tif (children && children.length) {\n\t\t\t\tthis.setChildren(reorientPaths(this.removeChildren(),\n\t\t\t\t\t\tfunction(w) {\n\t\t\t\t\t\t\treturn !!(nonZero ? w : w & 1);\n\t\t\t\t\t\t},\n\t\t\t\t\t\tclockwise));\n\t\t\t} else if (clockwise !== undefined) {\n\t\t\t\tthis.setClockwise(clockwise);\n\t\t\t}\n\t\t\treturn this;\n\t\t},\n\n\t\tgetInteriorPoint: function() {\n\t\t\tvar bounds = this.getBounds(),\n\t\t\t\tpoint = bounds.getCenter(true);\n\t\t\tif (!this.contains(point)) {\n\t\t\t\tvar curves = this.getCurves(),\n\t\t\t\t\ty = point.y,\n\t\t\t\t\tintercepts = [],\n\t\t\t\t\troots = [];\n\t\t\t\tfor (var i = 0, l = curves.length; i < l; i++) {\n\t\t\t\t\tvar v = curves[i].getValues(),\n\t\t\t\t\t\to0 = v[1],\n\t\t\t\t\t\to1 = v[3],\n\t\t\t\t\t\to2 = v[5],\n\t\t\t\t\t\to3 = v[7];\n\t\t\t\t\tif (y >= min(o0, o1, o2, o3) && y <= max(o0, o1, o2, o3)) {\n\t\t\t\t\t\tvar monoCurves = Curve.getMonoCurves(v);\n\t\t\t\t\t\tfor (var j = 0, m = monoCurves.length; j < m; j++) {\n\t\t\t\t\t\t\tvar mv = monoCurves[j],\n\t\t\t\t\t\t\t\tmo0 = mv[1],\n\t\t\t\t\t\t\t\tmo3 = mv[7];\n\t\t\t\t\t\t\tif ((mo0 !== mo3) &&\n\t\t\t\t\t\t\t\t(y >= mo0 && y <= mo3 || y >= mo3 && y <= mo0)){\n\t\t\t\t\t\t\t\tvar x = y === mo0 ? mv[0]\n\t\t\t\t\t\t\t\t\t: y === mo3 ? mv[6]\n\t\t\t\t\t\t\t\t\t: Curve.solveCubic(mv, 1, y, roots, 0, 1)\n\t\t\t\t\t\t\t\t\t\t=== 1\n\t\t\t\t\t\t\t\t\t\t? Curve.getPoint(mv, roots[0]).x\n\t\t\t\t\t\t\t\t\t\t: (mv[0] + mv[6]) / 2;\n\t\t\t\t\t\t\t\tintercepts.push(x);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif (intercepts.length > 1) {\n\t\t\t\t\tintercepts.sort(function(a, b) { return a - b; });\n\t\t\t\t\tpoint.x = (intercepts[0] + intercepts[1]) / 2;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn point;\n\t\t}\n\t};\n});\n\nvar PathFlattener = Base.extend({\n\t_class: 'PathFlattener',\n\n\tinitialize: function(path, flatness, maxRecursion, ignoreStraight, matrix) {\n\t\tvar curves = [],\n\t\t\tparts = [],\n\t\t\tlength = 0,\n\t\t\tminSpan = 1 / (maxRecursion || 32),\n\t\t\tsegments = path._segments,\n\t\t\tsegment1 = segments[0],\n\t\t\tsegment2;\n\n\t\tfunction addCurve(segment1, segment2) {\n\t\t\tvar curve = Curve.getValues(segment1, segment2, matrix);\n\t\t\tcurves.push(curve);\n\t\t\tcomputeParts(curve, segment1._index, 0, 1);\n\t\t}\n\n\t\tfunction computeParts(curve, index, t1, t2) {\n\t\t\tif ((t2 - t1) > minSpan\n\t\t\t\t\t&& !(ignoreStraight && Curve.isStraight(curve))\n\t\t\t\t\t&& !Curve.isFlatEnough(curve, flatness || 0.25)) {\n\t\t\t\tvar halves = Curve.subdivide(curve, 0.5),\n\t\t\t\t\ttMid = (t1 + t2) / 2;\n\t\t\t\tcomputeParts(halves[0], index, t1, tMid);\n\t\t\t\tcomputeParts(halves[1], index, tMid, t2);\n\t\t\t} else {\n\t\t\t\tvar dx = curve[6] - curve[0],\n\t\t\t\t\tdy = curve[7] - curve[1],\n\t\t\t\t\tdist = Math.sqrt(dx * dx + dy * dy);\n\t\t\t\tif (dist > 0) {\n\t\t\t\t\tlength += dist;\n\t\t\t\t\tparts.push({\n\t\t\t\t\t\toffset: length,\n\t\t\t\t\t\tcurve: curve,\n\t\t\t\t\t\tindex: index,\n\t\t\t\t\t\ttime: t2,\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tfor (var i = 1, l = segments.length; i < l; i++) {\n\t\t\tsegment2 = segments[i];\n\t\t\taddCurve(segment1, segment2);\n\t\t\tsegment1 = segment2;\n\t\t}\n\t\tif (path._closed)\n\t\t\taddCurve(segment2 || segment1, segments[0]);\n\t\tthis.curves = curves;\n\t\tthis.parts = parts;\n\t\tthis.length = length;\n\t\tthis.index = 0;\n\t},\n\n\t_get: function(offset) {\n\t\tvar parts = this.parts,\n\t\t\tlength = parts.length,\n\t\t\tstart,\n\t\t\ti, j = this.index;\n\t\tfor (;;) {\n\t\t\ti = j;\n\t\t\tif (!j || parts[--j].offset < offset)\n\t\t\t\tbreak;\n\t\t}\n\t\tfor (; i < length; i++) {\n\t\t\tvar part = parts[i];\n\t\t\tif (part.offset >= offset) {\n\t\t\t\tthis.index = i;\n\t\t\t\tvar prev = parts[i - 1],\n\t\t\t\t\tprevTime = prev && prev.index === part.index ? prev.time : 0,\n\t\t\t\t\tprevOffset = prev ? prev.offset : 0;\n\t\t\t\treturn {\n\t\t\t\t\tindex: part.index,\n\t\t\t\t\ttime: prevTime + (part.time - prevTime)\n\t\t\t\t\t\t* (offset - prevOffset) / (part.offset - prevOffset)\n\t\t\t\t};\n\t\t\t}\n\t\t}\n\t\treturn {\n\t\t\tindex: parts[length - 1].index,\n\t\t\ttime: 1\n\t\t};\n\t},\n\n\tdrawPart: function(ctx, from, to) {\n\t\tvar start = this._get(from),\n\t\t\tend = this._get(to);\n\t\tfor (var i = start.index, l = end.index; i <= l; i++) {\n\t\t\tvar curve = Curve.getPart(this.curves[i],\n\t\t\t\t\ti === start.index ? start.time : 0,\n\t\t\t\t\ti === end.index ? end.time : 1);\n\t\t\tif (i === start.index)\n\t\t\t\tctx.moveTo(curve[0], curve[1]);\n\t\t\tctx.bezierCurveTo.apply(ctx, curve.slice(2));\n\t\t}\n\t}\n}, Base.each(Curve._evaluateMethods,\n\tfunction(name) {\n\t\tthis[name + 'At'] = function(offset) {\n\t\t\tvar param = this._get(offset);\n\t\t\treturn Curve[name](this.curves[param.index], param.time);\n\t\t};\n\t}, {})\n);\n\nvar PathFitter = Base.extend({\n\tinitialize: function(path) {\n\t\tvar points = this.points = [],\n\t\t\tsegments = path._segments,\n\t\t\tclosed = path._closed;\n\t\tfor (var i = 0, prev, l = segments.length; i < l; i++) {\n\t\t\tvar point = segments[i].point;\n\t\t\tif (!prev || !prev.equals(point)) {\n\t\t\t\tpoints.push(prev = point.clone());\n\t\t\t}\n\t\t}\n\t\tif (closed) {\n\t\t\tpoints.unshift(points[points.length - 1]);\n\t\t\tpoints.push(points[1]);\n\t\t}\n\t\tthis.closed = closed;\n\t},\n\n\tfit: function(error) {\n\t\tvar points = this.points,\n\t\t\tlength = points.length,\n\t\t\tsegments = null;\n\t\tif (length > 0) {\n\t\t\tsegments = [new Segment(points[0])];\n\t\t\tif (length > 1) {\n\t\t\t\tthis.fitCubic(segments, error, 0, length - 1,\n\t\t\t\t\t\tpoints[1].subtract(points[0]),\n\t\t\t\t\t\tpoints[length - 2].subtract(points[length - 1]));\n\t\t\t\tif (this.closed) {\n\t\t\t\t\tsegments.shift();\n\t\t\t\t\tsegments.pop();\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn segments;\n\t},\n\n\tfitCubic: function(segments, error, first, last, tan1, tan2) {\n\t\tvar points = this.points;\n\t\tif (last - first === 1) {\n\t\t\tvar pt1 = points[first],\n\t\t\t\tpt2 = points[last],\n\t\t\t\tdist = pt1.getDistance(pt2) / 3;\n\t\t\tthis.addCurve(segments, [pt1, pt1.add(tan1.normalize(dist)),\n\t\t\t\t\tpt2.add(tan2.normalize(dist)), pt2]);\n\t\t\treturn;\n\t\t}\n\t\tvar uPrime = this.chordLengthParameterize(first, last),\n\t\t\tmaxError = Math.max(error, error * error),\n\t\t\tsplit,\n\t\t\tparametersInOrder = true;\n\t\tfor (var i = 0; i <= 4; i++) {\n\t\t\tvar curve = this.generateBezier(first, last, uPrime, tan1, tan2);\n\t\t\tvar max = this.findMaxError(first, last, curve, uPrime);\n\t\t\tif (max.error < error && parametersInOrder) {\n\t\t\t\tthis.addCurve(segments, curve);\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tsplit = max.index;\n\t\t\tif (max.error >= maxError)\n\t\t\t\tbreak;\n\t\t\tparametersInOrder = this.reparameterize(first, last, uPrime, curve);\n\t\t\tmaxError = max.error;\n\t\t}\n\t\tvar tanCenter = points[split - 1].subtract(points[split + 1]);\n\t\tthis.fitCubic(segments, error, first, split, tan1, tanCenter);\n\t\tthis.fitCubic(segments, error, split, last, tanCenter.negate(), tan2);\n\t},\n\n\taddCurve: function(segments, curve) {\n\t\tvar prev = segments[segments.length - 1];\n\t\tprev.setHandleOut(curve[1].subtract(curve[0]));\n\t\tsegments.push(new Segment(curve[3], curve[2].subtract(curve[3])));\n\t},\n\n\tgenerateBezier: function(first, last, uPrime, tan1, tan2) {\n\t\tvar epsilon = 1e-12,\n\t\t\tabs = Math.abs,\n\t\t\tpoints = this.points,\n\t\t\tpt1 = points[first],\n\t\t\tpt2 = points[last],\n\t\t\tC = [[0, 0], [0, 0]],\n\t\t\tX = [0, 0];\n\n\t\tfor (var i = 0, l = last - first + 1; i < l; i++) {\n\t\t\tvar u = uPrime[i],\n\t\t\t\tt = 1 - u,\n\t\t\t\tb = 3 * u * t,\n\t\t\t\tb0 = t * t * t,\n\t\t\t\tb1 = b * t,\n\t\t\t\tb2 = b * u,\n\t\t\t\tb3 = u * u * u,\n\t\t\t\ta1 = tan1.normalize(b1),\n\t\t\t\ta2 = tan2.normalize(b2),\n\t\t\t\ttmp = points[first + i]\n\t\t\t\t\t.subtract(pt1.multiply(b0 + b1))\n\t\t\t\t\t.subtract(pt2.multiply(b2 + b3));\n\t\t\tC[0][0] += a1.dot(a1);\n\t\t\tC[0][1] += a1.dot(a2);\n\t\t\tC[1][0] = C[0][1];\n\t\t\tC[1][1] += a2.dot(a2);\n\t\t\tX[0] += a1.dot(tmp);\n\t\t\tX[1] += a2.dot(tmp);\n\t\t}\n\n\t\tvar detC0C1 = C[0][0] * C[1][1] - C[1][0] * C[0][1],\n\t\t\talpha1,\n\t\t\talpha2;\n\t\tif (abs(detC0C1) > epsilon) {\n\t\t\tvar detC0X = C[0][0] * X[1]    - C[1][0] * X[0],\n\t\t\t\tdetXC1 = X[0]    * C[1][1] - X[1]    * C[0][1];\n\t\t\talpha1 = detXC1 / detC0C1;\n\t\t\talpha2 = detC0X / detC0C1;\n\t\t} else {\n\t\t\tvar c0 = C[0][0] + C[0][1],\n\t\t\t\tc1 = C[1][0] + C[1][1];\n\t\t\talpha1 = alpha2 = abs(c0) > epsilon ? X[0] / c0\n\t\t\t\t\t\t\t: abs(c1) > epsilon ? X[1] / c1\n\t\t\t\t\t\t\t: 0;\n\t\t}\n\n\t\tvar segLength = pt2.getDistance(pt1),\n\t\t\teps = epsilon * segLength,\n\t\t\thandle1,\n\t\t\thandle2;\n\t\tif (alpha1 < eps || alpha2 < eps) {\n\t\t\talpha1 = alpha2 = segLength / 3;\n\t\t} else {\n\t\t\tvar line = pt2.subtract(pt1);\n\t\t\thandle1 = tan1.normalize(alpha1);\n\t\t\thandle2 = tan2.normalize(alpha2);\n\t\t\tif (handle1.dot(line) - handle2.dot(line) > segLength * segLength) {\n\t\t\t\talpha1 = alpha2 = segLength / 3;\n\t\t\t\thandle1 = handle2 = null;\n\t\t\t}\n\t\t}\n\n\t\treturn [pt1,\n\t\t\t\tpt1.add(handle1 || tan1.normalize(alpha1)),\n\t\t\t\tpt2.add(handle2 || tan2.normalize(alpha2)),\n\t\t\t\tpt2];\n\t},\n\n\treparameterize: function(first, last, u, curve) {\n\t\tfor (var i = first; i <= last; i++) {\n\t\t\tu[i - first] = this.findRoot(curve, this.points[i], u[i - first]);\n\t\t}\n\t\tfor (var i = 1, l = u.length; i < l; i++) {\n\t\t\tif (u[i] <= u[i - 1])\n\t\t\t\treturn false;\n\t\t}\n\t\treturn true;\n\t},\n\n\tfindRoot: function(curve, point, u) {\n\t\tvar curve1 = [],\n\t\t\tcurve2 = [];\n\t\tfor (var i = 0; i <= 2; i++) {\n\t\t\tcurve1[i] = curve[i + 1].subtract(curve[i]).multiply(3);\n\t\t}\n\t\tfor (var i = 0; i <= 1; i++) {\n\t\t\tcurve2[i] = curve1[i + 1].subtract(curve1[i]).multiply(2);\n\t\t}\n\t\tvar pt = this.evaluate(3, curve, u),\n\t\t\tpt1 = this.evaluate(2, curve1, u),\n\t\t\tpt2 = this.evaluate(1, curve2, u),\n\t\t\tdiff = pt.subtract(point),\n\t\t\tdf = pt1.dot(pt1) + diff.dot(pt2);\n\t\treturn Numerical.isMachineZero(df) ? u : u - diff.dot(pt1) / df;\n\t},\n\n\tevaluate: function(degree, curve, t) {\n\t\tvar tmp = curve.slice();\n\t\tfor (var i = 1; i <= degree; i++) {\n\t\t\tfor (var j = 0; j <= degree - i; j++) {\n\t\t\t\ttmp[j] = tmp[j].multiply(1 - t).add(tmp[j + 1].multiply(t));\n\t\t\t}\n\t\t}\n\t\treturn tmp[0];\n\t},\n\n\tchordLengthParameterize: function(first, last) {\n\t\tvar u = [0];\n\t\tfor (var i = first + 1; i <= last; i++) {\n\t\t\tu[i - first] = u[i - first - 1]\n\t\t\t\t\t+ this.points[i].getDistance(this.points[i - 1]);\n\t\t}\n\t\tfor (var i = 1, m = last - first; i <= m; i++) {\n\t\t\tu[i] /= u[m];\n\t\t}\n\t\treturn u;\n\t},\n\n\tfindMaxError: function(first, last, curve, u) {\n\t\tvar index = Math.floor((last - first + 1) / 2),\n\t\t\tmaxDist = 0;\n\t\tfor (var i = first + 1; i < last; i++) {\n\t\t\tvar P = this.evaluate(3, curve, u[i - first]);\n\t\t\tvar v = P.subtract(this.points[i]);\n\t\t\tvar dist = v.x * v.x + v.y * v.y;\n\t\t\tif (dist >= maxDist) {\n\t\t\t\tmaxDist = dist;\n\t\t\t\tindex = i;\n\t\t\t}\n\t\t}\n\t\treturn {\n\t\t\terror: maxDist,\n\t\t\tindex: index\n\t\t};\n\t}\n});\n\nvar TextItem = Item.extend({\n\t_class: 'TextItem',\n\t_applyMatrix: false,\n\t_canApplyMatrix: false,\n\t_serializeFields: {\n\t\tcontent: null\n\t},\n\t_boundsOptions: { stroke: false, handle: false },\n\n\tinitialize: function TextItem(arg) {\n\t\tthis._content = '';\n\t\tthis._lines = [];\n\t\tvar hasProps = arg && Base.isPlainObject(arg)\n\t\t\t\t&& arg.x === undefined && arg.y === undefined;\n\t\tthis._initialize(hasProps && arg, !hasProps && Point.read(arguments));\n\t},\n\n\t_equals: function(item) {\n\t\treturn this._content === item._content;\n\t},\n\n\tcopyContent: function(source) {\n\t\tthis.setContent(source._content);\n\t},\n\n\tgetContent: function() {\n\t\treturn this._content;\n\t},\n\n\tsetContent: function(content) {\n\t\tthis._content = '' + content;\n\t\tthis._lines = this._content.split(/\\r\\n|\\n|\\r/mg);\n\t\tthis._changed(521);\n\t},\n\n\tisEmpty: function() {\n\t\treturn !this._content;\n\t},\n\n\tgetCharacterStyle: '#getStyle',\n\tsetCharacterStyle: '#setStyle',\n\n\tgetParagraphStyle: '#getStyle',\n\tsetParagraphStyle: '#setStyle'\n});\n\nvar PointText = TextItem.extend({\n\t_class: 'PointText',\n\n\tinitialize: function PointText() {\n\t\tTextItem.apply(this, arguments);\n\t},\n\n\tgetPoint: function() {\n\t\tvar point = this._matrix.getTranslation();\n\t\treturn new LinkedPoint(point.x, point.y, this, 'setPoint');\n\t},\n\n\tsetPoint: function() {\n\t\tvar point = Point.read(arguments);\n\t\tthis.translate(point.subtract(this._matrix.getTranslation()));\n\t},\n\n\t_draw: function(ctx, param, viewMatrix) {\n\t\tif (!this._content)\n\t\t\treturn;\n\t\tthis._setStyles(ctx, param, viewMatrix);\n\t\tvar lines = this._lines,\n\t\t\tstyle = this._style,\n\t\t\thasFill = style.hasFill(),\n\t\t\thasStroke = style.hasStroke(),\n\t\t\tleading = style.getLeading(),\n\t\t\tshadowColor = ctx.shadowColor;\n\t\tctx.font = style.getFontStyle();\n\t\tctx.textAlign = style.getJustification();\n\t\tfor (var i = 0, l = lines.length; i < l; i++) {\n\t\t\tctx.shadowColor = shadowColor;\n\t\t\tvar line = lines[i];\n\t\t\tif (hasFill) {\n\t\t\t\tctx.fillText(line, 0, 0);\n\t\t\t\tctx.shadowColor = 'rgba(0,0,0,0)';\n\t\t\t}\n\t\t\tif (hasStroke)\n\t\t\t\tctx.strokeText(line, 0, 0);\n\t\t\tctx.translate(0, leading);\n\t\t}\n\t},\n\n\t_getBounds: function(matrix, options) {\n\t\tvar style = this._style,\n\t\t\tlines = this._lines,\n\t\t\tnumLines = lines.length,\n\t\t\tjustification = style.getJustification(),\n\t\t\tleading = style.getLeading(),\n\t\t\twidth = this.getView().getTextWidth(style.getFontStyle(), lines),\n\t\t\tx = 0;\n\t\tif (justification !== 'left')\n\t\t\tx -= width / (justification === 'center' ? 2: 1);\n\t\tvar rect = new Rectangle(x,\n\t\t\t\t\tnumLines ? - 0.75 * leading : 0,\n\t\t\t\t\twidth, numLines * leading);\n\t\treturn matrix ? matrix._transformBounds(rect, rect) : rect;\n\t}\n});\n\nvar Color = Base.extend(new function() {\n\tvar types = {\n\t\tgray: ['gray'],\n\t\trgb: ['red', 'green', 'blue'],\n\t\thsb: ['hue', 'saturation', 'brightness'],\n\t\thsl: ['hue', 'saturation', 'lightness'],\n\t\tgradient: ['gradient', 'origin', 'destination', 'highlight']\n\t};\n\n\tvar componentParsers = {},\n\t\tnamedColors = {\n\t\t\ttransparent: [0, 0, 0, 0]\n\t\t},\n\t\tcolorCtx;\n\n\tfunction fromCSS(string) {\n\t\tvar match = string.match(\n\t\t\t\t/^#([\\da-f]{2})([\\da-f]{2})([\\da-f]{2})([\\da-f]{2})?$/i\n\t\t\t) || string.match(\n\t\t\t\t/^#([\\da-f])([\\da-f])([\\da-f])([\\da-f])?$/i\n\t\t\t),\n\t\t\ttype = 'rgb',\n\t\t\tcomponents;\n\t\tif (match) {\n\t\t\tvar amount = match[4] ? 4 : 3;\n\t\t\tcomponents = new Array(amount);\n\t\t\tfor (var i = 0; i < amount; i++) {\n\t\t\t\tvar value = match[i + 1];\n\t\t\t\tcomponents[i] = parseInt(value.length == 1\n\t\t\t\t\t\t? value + value : value, 16) / 255;\n\t\t\t}\n\t\t} else if (match = string.match(/^(rgb|hsl)a?\\((.*)\\)$/)) {\n\t\t\ttype = match[1];\n\t\t\tcomponents = match[2].trim().split(/[,\\s]+/g);\n\t\t\tvar isHSL = type === 'hsl';\n\t\t\tfor (var i = 0, l = Math.min(components.length, 4); i < l; i++) {\n\t\t\t\tvar component = components[i];\n\t\t\t\tvar value = parseFloat(component);\n\t\t\t\tif (isHSL) {\n\t\t\t\t\tif (i === 0) {\n\t\t\t\t\t\tvar unit = component.match(/([a-z]*)$/)[1];\n\t\t\t\t\t\tvalue *= ({\n\t\t\t\t\t\t\tturn: 360,\n\t\t\t\t\t\t\trad: 180 / Math.PI,\n\t\t\t\t\t\t\tgrad: 0.9\n\t\t\t\t\t\t}[unit] || 1);\n\t\t\t\t\t} else if (i < 3) {\n\t\t\t\t\t\tvalue /= 100;\n\t\t\t\t\t}\n\t\t\t\t} else if (i < 3) {\n\t\t\t\t\tvalue /= /%$/.test(component) ? 100 : 255;\n\t\t\t\t}\n\t\t\t\tcomponents[i] = value;\n\t\t\t}\n\t\t} else {\n\t\t\tvar color = namedColors[string];\n\t\t\tif (!color) {\n\t\t\t\tif (window) {\n\t\t\t\t\tif (!colorCtx) {\n\t\t\t\t\t\tcolorCtx = CanvasProvider.getContext(1, 1, {\n\t\t\t\t\t\t\twillReadFrequently: true\n\t\t\t\t\t\t});\n\t\t\t\t\t\tcolorCtx.globalCompositeOperation = 'copy';\n\t\t\t\t\t}\n\t\t\t\t\tcolorCtx.fillStyle = 'rgba(0,0,0,0)';\n\t\t\t\t\tcolorCtx.fillStyle = string;\n\t\t\t\t\tcolorCtx.fillRect(0, 0, 1, 1);\n\t\t\t\t\tvar data = colorCtx.getImageData(0, 0, 1, 1).data;\n\t\t\t\t\tcolor = namedColors[string] = [\n\t\t\t\t\t\tdata[0] / 255,\n\t\t\t\t\t\tdata[1] / 255,\n\t\t\t\t\t\tdata[2] / 255\n\t\t\t\t\t];\n\t\t\t\t} else {\n\t\t\t\t\tcolor = [0, 0, 0];\n\t\t\t\t}\n\t\t\t}\n\t\t\tcomponents = color.slice();\n\t\t}\n\t\treturn [type, components];\n\t}\n\n\tvar hsbIndices = [\n\t\t[0, 3, 1],\n\t\t[2, 0, 1],\n\t\t[1, 0, 3],\n\t\t[1, 2, 0],\n\t\t[3, 1, 0],\n\t\t[0, 1, 2]\n\t];\n\n\tvar converters = {\n\t\t'rgb-hsb': function(r, g, b) {\n\t\t\tvar max = Math.max(r, g, b),\n\t\t\t\tmin = Math.min(r, g, b),\n\t\t\t\tdelta = max - min,\n\t\t\t\th = delta === 0 ? 0\n\t\t\t\t\t:   ( max == r ? (g - b) / delta + (g < b ? 6 : 0)\n\t\t\t\t\t\t: max == g ? (b - r) / delta + 2\n\t\t\t\t\t\t:            (r - g) / delta + 4) * 60;\n\t\t\treturn [h, max === 0 ? 0 : delta / max, max];\n\t\t},\n\n\t\t'hsb-rgb': function(h, s, b) {\n\t\t\th = (((h / 60) % 6) + 6) % 6;\n\t\t\tvar i = Math.floor(h),\n\t\t\t\tf = h - i,\n\t\t\t\ti = hsbIndices[i],\n\t\t\t\tv = [\n\t\t\t\t\tb,\n\t\t\t\t\tb * (1 - s),\n\t\t\t\t\tb * (1 - s * f),\n\t\t\t\t\tb * (1 - s * (1 - f))\n\t\t\t\t];\n\t\t\treturn [v[i[0]], v[i[1]], v[i[2]]];\n\t\t},\n\n\t\t'rgb-hsl': function(r, g, b) {\n\t\t\tvar max = Math.max(r, g, b),\n\t\t\t\tmin = Math.min(r, g, b),\n\t\t\t\tdelta = max - min,\n\t\t\t\tachromatic = delta === 0,\n\t\t\t\th = achromatic ? 0\n\t\t\t\t\t:   ( max == r ? (g - b) / delta + (g < b ? 6 : 0)\n\t\t\t\t\t\t: max == g ? (b - r) / delta + 2\n\t\t\t\t\t\t:            (r - g) / delta + 4) * 60,\n\t\t\t\tl = (max + min) / 2,\n\t\t\t\ts = achromatic ? 0 : l < 0.5\n\t\t\t\t\t\t? delta / (max + min)\n\t\t\t\t\t\t: delta / (2 - max - min);\n\t\t\treturn [h, s, l];\n\t\t},\n\n\t\t'hsl-rgb': function(h, s, l) {\n\t\t\th = (((h / 360) % 1) + 1) % 1;\n\t\t\tif (s === 0)\n\t\t\t\treturn [l, l, l];\n\t\t\tvar t3s = [ h + 1 / 3, h, h - 1 / 3 ],\n\t\t\t\tt2 = l < 0.5 ? l * (1 + s) : l + s - l * s,\n\t\t\t\tt1 = 2 * l - t2,\n\t\t\t\tc = [];\n\t\t\tfor (var i = 0; i < 3; i++) {\n\t\t\t\tvar t3 = t3s[i];\n\t\t\t\tif (t3 < 0) t3 += 1;\n\t\t\t\tif (t3 > 1) t3 -= 1;\n\t\t\t\tc[i] = 6 * t3 < 1\n\t\t\t\t\t? t1 + (t2 - t1) * 6 * t3\n\t\t\t\t\t: 2 * t3 < 1\n\t\t\t\t\t\t? t2\n\t\t\t\t\t\t: 3 * t3 < 2\n\t\t\t\t\t\t\t? t1 + (t2 - t1) * ((2 / 3) - t3) * 6\n\t\t\t\t\t\t\t: t1;\n\t\t\t}\n\t\t\treturn c;\n\t\t},\n\n\t\t'rgb-gray': function(r, g, b) {\n\t\t\treturn [r * 0.2989 + g * 0.587 + b * 0.114];\n\t\t},\n\n\t\t'gray-rgb': function(g) {\n\t\t\treturn [g, g, g];\n\t\t},\n\n\t\t'gray-hsb': function(g) {\n\t\t\treturn [0, 0, g];\n\t\t},\n\n\t\t'gray-hsl': function(g) {\n\t\t\treturn [0, 0, g];\n\t\t},\n\n\t\t'gradient-rgb': function() {\n\t\t\treturn [];\n\t\t},\n\n\t\t'rgb-gradient': function() {\n\t\t\treturn [];\n\t\t}\n\n\t};\n\n\treturn Base.each(types, function(properties, type) {\n\t\tcomponentParsers[type] = [];\n\t\tBase.each(properties, function(name, index) {\n\t\t\tvar part = Base.capitalize(name),\n\t\t\t\thasOverlap = /^(hue|saturation)$/.test(name),\n\t\t\t\tparser = componentParsers[type][index] = type === 'gradient'\n\t\t\t\t\t? name === 'gradient'\n\t\t\t\t\t\t? function(value) {\n\t\t\t\t\t\t\tvar current = this._components[0];\n\t\t\t\t\t\t\tvalue = Gradient.read(\n\t\t\t\t\t\t\t\tArray.isArray(value)\n\t\t\t\t\t\t\t\t\t? value\n\t\t\t\t\t\t\t\t\t: arguments, 0, { readNull: true }\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\tif (current !== value) {\n\t\t\t\t\t\t\t\tif (current)\n\t\t\t\t\t\t\t\t\tcurrent._removeOwner(this);\n\t\t\t\t\t\t\t\tif (value)\n\t\t\t\t\t\t\t\t\tvalue._addOwner(this);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\treturn value;\n\t\t\t\t\t\t}\n\t\t\t\t\t\t: function() {\n\t\t\t\t\t\t\treturn Point.read(arguments, 0, {\n\t\t\t\t\t\t\t\t\treadNull: name === 'highlight',\n\t\t\t\t\t\t\t\t\tclone: true\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\t\t\t\t\t: function(value) {\n\t\t\t\t\t\treturn value == null || isNaN(value) ? 0 : +value;\n\t\t\t\t\t};\n\t\t\tthis['get' + part] = function() {\n\t\t\t\treturn this._type === type\n\t\t\t\t\t|| hasOverlap && /^hs[bl]$/.test(this._type)\n\t\t\t\t\t\t? this._components[index]\n\t\t\t\t\t\t: this._convert(type)[index];\n\t\t\t};\n\n\t\t\tthis['set' + part] = function(value) {\n\t\t\t\tif (this._type !== type\n\t\t\t\t\t\t&& !(hasOverlap && /^hs[bl]$/.test(this._type))) {\n\t\t\t\t\tthis._components = this._convert(type);\n\t\t\t\t\tthis._properties = types[type];\n\t\t\t\t\tthis._type = type;\n\t\t\t\t}\n\t\t\t\tthis._components[index] = parser.call(this, value);\n\t\t\t\tthis._changed();\n\t\t\t};\n\t\t}, this);\n\t}, {\n\t\t_class: 'Color',\n\t\t_readIndex: true,\n\n\t\tinitialize: function Color(arg) {\n\t\t\tvar args = arguments,\n\t\t\t\treading = this.__read,\n\t\t\t\tread = 0,\n\t\t\t\ttype,\n\t\t\t\tcomponents,\n\t\t\t\talpha,\n\t\t\t\tvalues;\n\t\t\tif (Array.isArray(arg)) {\n\t\t\t\targs = arg;\n\t\t\t\targ = args[0];\n\t\t\t}\n\t\t\tvar argType = arg != null && typeof arg;\n\t\t\tif (argType === 'string' && arg in types) {\n\t\t\t\ttype = arg;\n\t\t\t\targ = args[1];\n\t\t\t\tif (Array.isArray(arg)) {\n\t\t\t\t\tcomponents = arg;\n\t\t\t\t\talpha = args[2];\n\t\t\t\t} else {\n\t\t\t\t\tif (reading)\n\t\t\t\t\t\tread = 1;\n\t\t\t\t\targs = Base.slice(args, 1);\n\t\t\t\t\targType = typeof arg;\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (!components) {\n\t\t\t\tvalues = argType === 'number'\n\t\t\t\t\t\t? args\n\t\t\t\t\t\t: argType === 'object' && arg.length != null\n\t\t\t\t\t\t\t? arg\n\t\t\t\t\t\t\t: null;\n\t\t\t\tif (values) {\n\t\t\t\t\tif (!type)\n\t\t\t\t\t\ttype = values.length >= 3\n\t\t\t\t\t\t\t\t? 'rgb'\n\t\t\t\t\t\t\t\t: 'gray';\n\t\t\t\t\tvar length = types[type].length;\n\t\t\t\t\talpha = values[length];\n\t\t\t\t\tif (reading) {\n\t\t\t\t\t\tread += values === arguments\n\t\t\t\t\t\t\t? length + (alpha != null ? 1 : 0)\n\t\t\t\t\t\t\t: 1;\n\t\t\t\t\t}\n\t\t\t\t\tif (values.length > length)\n\t\t\t\t\t\tvalues = Base.slice(values, 0, length);\n\t\t\t\t} else if (argType === 'string') {\n\t\t\t\t\tvar converted = fromCSS(arg);\n\t\t\t\t\ttype = converted[0];\n\t\t\t\t\tcomponents = converted[1];\n\t\t\t\t\tif (components.length === 4) {\n\t\t\t\t\t\talpha = components[3];\n\t\t\t\t\t\tcomponents.length--;\n\t\t\t\t\t}\n\t\t\t\t} else if (argType === 'object') {\n\t\t\t\t\tif (arg.constructor === Color) {\n\t\t\t\t\t\ttype = arg._type;\n\t\t\t\t\t\tcomponents = arg._components.slice();\n\t\t\t\t\t\talpha = arg._alpha;\n\t\t\t\t\t\tif (type === 'gradient') {\n\t\t\t\t\t\t\tfor (var i = 1, l = components.length; i < l; i++) {\n\t\t\t\t\t\t\t\tvar point = components[i];\n\t\t\t\t\t\t\t\tif (point)\n\t\t\t\t\t\t\t\t\tcomponents[i] = point.clone();\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t} else if (arg.constructor === Gradient) {\n\t\t\t\t\t\ttype = 'gradient';\n\t\t\t\t\t\tvalues = args;\n\t\t\t\t\t} else {\n\t\t\t\t\t\ttype = 'hue' in arg\n\t\t\t\t\t\t\t? 'lightness' in arg\n\t\t\t\t\t\t\t\t? 'hsl'\n\t\t\t\t\t\t\t\t: 'hsb'\n\t\t\t\t\t\t\t: 'gradient' in arg || 'stops' in arg\n\t\t\t\t\t\t\t\t\t|| 'radial' in arg\n\t\t\t\t\t\t\t\t? 'gradient'\n\t\t\t\t\t\t\t\t: 'gray' in arg\n\t\t\t\t\t\t\t\t\t? 'gray'\n\t\t\t\t\t\t\t\t\t: 'rgb';\n\t\t\t\t\t\tvar properties = types[type],\n\t\t\t\t\t\t\tparsers = componentParsers[type];\n\t\t\t\t\t\tthis._components = components = [];\n\t\t\t\t\t\tfor (var i = 0, l = properties.length; i < l; i++) {\n\t\t\t\t\t\t\tvar value = arg[properties[i]];\n\t\t\t\t\t\t\tif (value == null && !i && type === 'gradient'\n\t\t\t\t\t\t\t\t\t&& 'stops' in arg) {\n\t\t\t\t\t\t\t\tvalue = {\n\t\t\t\t\t\t\t\t\tstops: arg.stops,\n\t\t\t\t\t\t\t\t\tradial: arg.radial\n\t\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tvalue = parsers[i].call(this, value);\n\t\t\t\t\t\t\tif (value != null)\n\t\t\t\t\t\t\t\tcomponents[i] = value;\n\t\t\t\t\t\t}\n\t\t\t\t\t\talpha = arg.alpha;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif (reading && type)\n\t\t\t\t\tread = 1;\n\t\t\t}\n\t\t\tthis._type = type || 'rgb';\n\t\t\tif (!components) {\n\t\t\t\tthis._components = components = [];\n\t\t\t\tvar parsers = componentParsers[this._type];\n\t\t\t\tfor (var i = 0, l = parsers.length; i < l; i++) {\n\t\t\t\t\tvar value = parsers[i].call(this, values && values[i]);\n\t\t\t\t\tif (value != null)\n\t\t\t\t\t\tcomponents[i] = value;\n\t\t\t\t}\n\t\t\t}\n\t\t\tthis._components = components;\n\t\t\tthis._properties = types[this._type];\n\t\t\tthis._alpha = alpha;\n\t\t\tif (reading)\n\t\t\t\tthis.__read = read;\n\t\t\treturn this;\n\t\t},\n\n\t\tset: '#initialize',\n\n\t\t_serialize: function(options, dictionary) {\n\t\t\tvar components = this.getComponents();\n\t\t\treturn Base.serialize(\n\t\t\t\t\t/^(gray|rgb)$/.test(this._type)\n\t\t\t\t\t\t? components\n\t\t\t\t\t\t: [this._type].concat(components),\n\t\t\t\t\toptions, true, dictionary);\n\t\t},\n\n\t\t_changed: function() {\n\t\t\tthis._canvasStyle = null;\n\t\t\tif (this._owner) {\n\t\t\t\tif (this._setter) {\n\t\t\t\t\tthis._owner[this._setter](this);\n\t\t\t\t} else {\n\t\t\t\t\tthis._owner._changed(129);\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\n\t\t_convert: function(type) {\n\t\t\tvar converter;\n\t\t\treturn this._type === type\n\t\t\t\t\t? this._components.slice()\n\t\t\t\t\t: (converter = converters[this._type + '-' + type])\n\t\t\t\t\t\t? converter.apply(this, this._components)\n\t\t\t\t\t\t: converters['rgb-' + type].apply(this,\n\t\t\t\t\t\t\tconverters[this._type + '-rgb'].apply(this,\n\t\t\t\t\t\t\t\tthis._components));\n\t\t},\n\n\t\tconvert: function(type) {\n\t\t\treturn new Color(type, this._convert(type), this._alpha);\n\t\t},\n\n\t\tgetType: function() {\n\t\t\treturn this._type;\n\t\t},\n\n\t\tsetType: function(type) {\n\t\t\tthis._components = this._convert(type);\n\t\t\tthis._properties = types[type];\n\t\t\tthis._type = type;\n\t\t},\n\n\t\tgetComponents: function() {\n\t\t\tvar components = this._components.slice();\n\t\t\tif (this._alpha != null)\n\t\t\t\tcomponents.push(this._alpha);\n\t\t\treturn components;\n\t\t},\n\n\t\tgetAlpha: function() {\n\t\t\treturn this._alpha != null ? this._alpha : 1;\n\t\t},\n\n\t\tsetAlpha: function(alpha) {\n\t\t\tthis._alpha = alpha == null ? null : Math.min(Math.max(alpha, 0), 1);\n\t\t\tthis._changed();\n\t\t},\n\n\t\thasAlpha: function() {\n\t\t\treturn this._alpha != null;\n\t\t},\n\n\t\tequals: function(color) {\n\t\t\tvar col = Base.isPlainValue(color, true)\n\t\t\t\t\t? Color.read(arguments)\n\t\t\t\t\t: color;\n\t\t\treturn col === this || col && this._class === col._class\n\t\t\t\t\t&& this._type === col._type\n\t\t\t\t\t&& this.getAlpha() === col.getAlpha()\n\t\t\t\t\t&& Base.equals(this._components, col._components)\n\t\t\t\t\t|| false;\n\t\t},\n\n\t\ttoString: function() {\n\t\t\tvar properties = this._properties,\n\t\t\t\tparts = [],\n\t\t\t\tisGradient = this._type === 'gradient',\n\t\t\t\tf = Formatter.instance;\n\t\t\tfor (var i = 0, l = properties.length; i < l; i++) {\n\t\t\t\tvar value = this._components[i];\n\t\t\t\tif (value != null)\n\t\t\t\t\tparts.push(properties[i] + ': '\n\t\t\t\t\t\t\t+ (isGradient ? value : f.number(value)));\n\t\t\t}\n\t\t\tif (this._alpha != null)\n\t\t\t\tparts.push('alpha: ' + f.number(this._alpha));\n\t\t\treturn '{ ' + parts.join(', ') + ' }';\n\t\t},\n\n\t\ttoCSS: function(hex) {\n\t\t\tvar components = this._convert('rgb'),\n\t\t\t\talpha = hex || this._alpha == null ? 1 : this._alpha;\n\t\t\tfunction convert(val) {\n\t\t\t\treturn Math.round((val < 0 ? 0 : val > 1 ? 1 : val) * 255);\n\t\t\t}\n\t\t\tcomponents = [\n\t\t\t\tconvert(components[0]),\n\t\t\t\tconvert(components[1]),\n\t\t\t\tconvert(components[2])\n\t\t\t];\n\t\t\tif (alpha < 1)\n\t\t\t\tcomponents.push(alpha < 0 ? 0 : alpha);\n\t\t\treturn hex\n\t\t\t\t\t? '#' + ((1 << 24) + (components[0] << 16)\n\t\t\t\t\t\t+ (components[1] << 8)\n\t\t\t\t\t\t+ components[2]).toString(16).slice(1)\n\t\t\t\t\t: (components.length == 4 ? 'rgba(' : 'rgb(')\n\t\t\t\t\t\t+ components.join(',') + ')';\n\t\t},\n\n\t\ttoCanvasStyle: function(ctx, matrix) {\n\t\t\tif (this._canvasStyle)\n\t\t\t\treturn this._canvasStyle;\n\t\t\tif (this._type !== 'gradient')\n\t\t\t\treturn this._canvasStyle = this.toCSS();\n\t\t\tvar components = this._components,\n\t\t\t\tgradient = components[0],\n\t\t\t\tstops = gradient._stops,\n\t\t\t\torigin = components[1],\n\t\t\t\tdestination = components[2],\n\t\t\t\thighlight = components[3],\n\t\t\t\tinverse = matrix && matrix.inverted(),\n\t\t\t\tcanvasGradient;\n\t\t\tif (inverse) {\n\t\t\t\torigin = inverse._transformPoint(origin);\n\t\t\t\tdestination = inverse._transformPoint(destination);\n\t\t\t\tif (highlight)\n\t\t\t\t\thighlight = inverse._transformPoint(highlight);\n\t\t\t}\n\t\t\tif (gradient._radial) {\n\t\t\t\tvar radius = destination.getDistance(origin);\n\t\t\t\tif (highlight) {\n\t\t\t\t\tvar vector = highlight.subtract(origin);\n\t\t\t\t\tif (vector.getLength() > radius)\n\t\t\t\t\t\thighlight = origin.add(vector.normalize(radius - 0.1));\n\t\t\t\t}\n\t\t\t\tvar start = highlight || origin;\n\t\t\t\tcanvasGradient = ctx.createRadialGradient(start.x, start.y,\n\t\t\t\t\t\t0, origin.x, origin.y, radius);\n\t\t\t} else {\n\t\t\t\tcanvasGradient = ctx.createLinearGradient(origin.x, origin.y,\n\t\t\t\t\t\tdestination.x, destination.y);\n\t\t\t}\n\t\t\tfor (var i = 0, l = stops.length; i < l; i++) {\n\t\t\t\tvar stop = stops[i],\n\t\t\t\t\toffset = stop._offset;\n\t\t\t\tcanvasGradient.addColorStop(\n\t\t\t\t\t\toffset == null ? i / (l - 1) : offset,\n\t\t\t\t\t\tstop._color.toCanvasStyle());\n\t\t\t}\n\t\t\treturn this._canvasStyle = canvasGradient;\n\t\t},\n\n\t\ttransform: function(matrix) {\n\t\t\tif (this._type === 'gradient') {\n\t\t\t\tvar components = this._components;\n\t\t\t\tfor (var i = 1, l = components.length; i < l; i++) {\n\t\t\t\t\tvar point = components[i];\n\t\t\t\t\tmatrix._transformPoint(point, point, true);\n\t\t\t\t}\n\t\t\t\tthis._changed();\n\t\t\t}\n\t\t},\n\n\t\tstatics: {\n\t\t\t_types: types,\n\n\t\t\trandom: function() {\n\t\t\t\tvar random = Math.random;\n\t\t\t\treturn new Color(random(), random(), random());\n\t\t\t},\n\n\t\t\t_setOwner: function(color, owner, setter) {\n\t\t\t\tif (color) {\n\t\t\t\t\tif (color._owner && owner && color._owner !== owner) {\n\t\t\t\t\t\tcolor = color.clone();\n\t\t\t\t\t}\n\t\t\t\t\tif (!color._owner ^ !owner) {\n\t\t\t\t\t\tcolor._owner = owner || null;\n\t\t\t\t\t\tcolor._setter = setter || null;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\treturn color;\n\t\t\t}\n\t\t}\n\t});\n},\nnew function() {\n\tvar operators = {\n\t\tadd: function(a, b) {\n\t\t\treturn a + b;\n\t\t},\n\n\t\tsubtract: function(a, b) {\n\t\t\treturn a - b;\n\t\t},\n\n\t\tmultiply: function(a, b) {\n\t\t\treturn a * b;\n\t\t},\n\n\t\tdivide: function(a, b) {\n\t\t\treturn a / b;\n\t\t}\n\t};\n\n\treturn Base.each(operators, function(operator, name) {\n\t\tthis[name] = function(color) {\n\t\t\tcolor = Color.read(arguments);\n\t\t\tvar type = this._type,\n\t\t\t\tcomponents1 = this._components,\n\t\t\t\tcomponents2 = color._convert(type);\n\t\t\tfor (var i = 0, l = components1.length; i < l; i++)\n\t\t\t\tcomponents2[i] = operator(components1[i], components2[i]);\n\t\t\treturn new Color(type, components2,\n\t\t\t\t\tthis._alpha != null\n\t\t\t\t\t\t\t? operator(this._alpha, color.getAlpha())\n\t\t\t\t\t\t\t: null);\n\t\t};\n\t}, {\n\t});\n});\n\nvar Gradient = Base.extend({\n\t_class: 'Gradient',\n\n\tinitialize: function Gradient(stops, radial) {\n\t\tthis._id = UID.get();\n\t\tif (stops && Base.isPlainObject(stops)) {\n\t\t\tthis.set(stops);\n\t\t\tstops = radial = null;\n\t\t}\n\t\tif (this._stops == null) {\n\t\t\tthis.setStops(stops || ['white', 'black']);\n\t\t}\n\t\tif (this._radial == null) {\n\t\t\tthis.setRadial(typeof radial === 'string' && radial === 'radial'\n\t\t\t\t\t|| radial || false);\n\t\t}\n\t},\n\n\t_serialize: function(options, dictionary) {\n\t\treturn dictionary.add(this, function() {\n\t\t\treturn Base.serialize([this._stops, this._radial],\n\t\t\t\t\toptions, true, dictionary);\n\t\t});\n\t},\n\n\t_changed: function() {\n\t\tfor (var i = 0, l = this._owners && this._owners.length; i < l; i++) {\n\t\t\tthis._owners[i]._changed();\n\t\t}\n\t},\n\n\t_addOwner: function(color) {\n\t\tif (!this._owners)\n\t\t\tthis._owners = [];\n\t\tthis._owners.push(color);\n\t},\n\n\t_removeOwner: function(color) {\n\t\tvar index = this._owners ? this._owners.indexOf(color) : -1;\n\t\tif (index != -1) {\n\t\t\tthis._owners.splice(index, 1);\n\t\t\tif (!this._owners.length)\n\t\t\t\tthis._owners = undefined;\n\t\t}\n\t},\n\n\tclone: function() {\n\t\tvar stops = [];\n\t\tfor (var i = 0, l = this._stops.length; i < l; i++) {\n\t\t\tstops[i] = this._stops[i].clone();\n\t\t}\n\t\treturn new Gradient(stops, this._radial);\n\t},\n\n\tgetStops: function() {\n\t\treturn this._stops;\n\t},\n\n\tsetStops: function(stops) {\n\t\tif (stops.length < 2) {\n\t\t\tthrow new Error(\n\t\t\t\t\t'Gradient stop list needs to contain at least two stops.');\n\t\t}\n\t\tvar _stops = this._stops;\n\t\tif (_stops) {\n\t\t\tfor (var i = 0, l = _stops.length; i < l; i++)\n\t\t\t\t_stops[i]._owner = undefined;\n\t\t}\n\t\t_stops = this._stops = GradientStop.readList(stops, 0, { clone: true });\n\t\tfor (var i = 0, l = _stops.length; i < l; i++)\n\t\t\t_stops[i]._owner = this;\n\t\tthis._changed();\n\t},\n\n\tgetRadial: function() {\n\t\treturn this._radial;\n\t},\n\n\tsetRadial: function(radial) {\n\t\tthis._radial = radial;\n\t\tthis._changed();\n\t},\n\n\tequals: function(gradient) {\n\t\tif (gradient === this)\n\t\t\treturn true;\n\t\tif (gradient && this._class === gradient._class) {\n\t\t\tvar stops1 = this._stops,\n\t\t\t\tstops2 = gradient._stops,\n\t\t\t\tlength = stops1.length;\n\t\t\tif (length === stops2.length) {\n\t\t\t\tfor (var i = 0; i < length; i++) {\n\t\t\t\t\tif (!stops1[i].equals(stops2[i]))\n\t\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\t\treturn false;\n\t}\n});\n\nvar GradientStop = Base.extend({\n\t_class: 'GradientStop',\n\n\tinitialize: function GradientStop(arg0, arg1) {\n\t\tvar color = arg0,\n\t\t\toffset = arg1;\n\t\tif (typeof arg0 === 'object' && arg1 === undefined) {\n\t\t\tif (Array.isArray(arg0) && typeof arg0[0] !== 'number') {\n\t\t\t\tcolor = arg0[0];\n\t\t\t\toffset = arg0[1];\n\t\t\t} else if ('color' in arg0 || 'offset' in arg0\n\t\t\t\t\t|| 'rampPoint' in arg0) {\n\t\t\t\tcolor = arg0.color;\n\t\t\t\toffset = arg0.offset || arg0.rampPoint || 0;\n\t\t\t}\n\t\t}\n\t\tthis.setColor(color);\n\t\tthis.setOffset(offset);\n\t},\n\n\tclone: function() {\n\t\treturn new GradientStop(this._color.clone(), this._offset);\n\t},\n\n\t_serialize: function(options, dictionary) {\n\t\tvar color = this._color,\n\t\t\toffset = this._offset;\n\t\treturn Base.serialize(offset == null ? [color] : [color, offset],\n\t\t\t\toptions, true, dictionary);\n\t},\n\n\t_changed: function() {\n\t\tif (this._owner)\n\t\t\tthis._owner._changed(129);\n\t},\n\n\tgetOffset: function() {\n\t\treturn this._offset;\n\t},\n\n\tsetOffset: function(offset) {\n\t\tthis._offset = offset;\n\t\tthis._changed();\n\t},\n\n\tgetRampPoint: '#getOffset',\n\tsetRampPoint: '#setOffset',\n\n\tgetColor: function() {\n\t\treturn this._color;\n\t},\n\n\tsetColor: function() {\n\t\tColor._setOwner(this._color, null);\n\t\tthis._color = Color._setOwner(Color.read(arguments, 0), this,\n\t\t\t\t'setColor');\n\t\tthis._changed();\n\t},\n\n\tequals: function(stop) {\n\t\treturn stop === this || stop && this._class === stop._class\n\t\t\t\t&& this._color.equals(stop._color)\n\t\t\t\t&& this._offset == stop._offset\n\t\t\t\t|| false;\n\t}\n});\n\nvar Style = Base.extend(new function() {\n\tvar itemDefaults = {\n\t\tfillColor: null,\n\t\tfillRule: 'nonzero',\n\t\tstrokeColor: null,\n\t\tstrokeWidth: 1,\n\t\tstrokeCap: 'butt',\n\t\tstrokeJoin: 'miter',\n\t\tstrokeScaling: true,\n\t\tmiterLimit: 10,\n\t\tdashOffset: 0,\n\t\tdashArray: [],\n\t\tshadowColor: null,\n\t\tshadowBlur: 0,\n\t\tshadowOffset: new Point(),\n\t\tselectedColor: null\n\t},\n\tgroupDefaults = Base.set({}, itemDefaults, {\n\t\tfontFamily: 'sans-serif',\n\t\tfontWeight: 'normal',\n\t\tfontSize: 12,\n\t\tleading: null,\n\t\tjustification: 'left'\n\t}),\n\ttextDefaults = Base.set({}, groupDefaults, {\n\t\tfillColor: new Color()\n\t}),\n\tflags = {\n\t\tstrokeWidth: 193,\n\t\tstrokeCap: 193,\n\t\tstrokeJoin: 193,\n\t\tstrokeScaling: 201,\n\t\tmiterLimit: 193,\n\t\tfontFamily: 9,\n\t\tfontWeight: 9,\n\t\tfontSize: 9,\n\t\tfont: 9,\n\t\tleading: 9,\n\t\tjustification: 9\n\t},\n\titem = {\n\t\tbeans: true\n\t},\n\tfields = {\n\t\t_class: 'Style',\n\t\tbeans: true,\n\n\t\tinitialize: function Style(style, _owner, _project) {\n\t\t\tthis._values = {};\n\t\t\tthis._owner = _owner;\n\t\t\tthis._project = _owner && _owner._project || _project\n\t\t\t\t\t|| paper.project;\n\t\t\tthis._defaults = !_owner || _owner instanceof Group ? groupDefaults\n\t\t\t\t\t: _owner instanceof TextItem ? textDefaults\n\t\t\t\t\t: itemDefaults;\n\t\t\tif (style)\n\t\t\t\tthis.set(style);\n\t\t}\n\t};\n\n\tBase.each(groupDefaults, function(value, key) {\n\t\tvar isColor = /Color$/.test(key),\n\t\t\tisPoint = key === 'shadowOffset',\n\t\t\tpart = Base.capitalize(key),\n\t\t\tflag = flags[key],\n\t\t\tset = 'set' + part,\n\t\t\tget = 'get' + part;\n\n\t\tfields[set] = function(value) {\n\t\t\tvar owner = this._owner,\n\t\t\t\tchildren = owner && owner._children,\n\t\t\t\tapplyToChildren = children && children.length > 0\n\t\t\t\t\t&& !(owner instanceof CompoundPath);\n\t\t\tif (applyToChildren) {\n\t\t\t\tfor (var i = 0, l = children.length; i < l; i++)\n\t\t\t\t\tchildren[i]._style[set](value);\n\t\t\t}\n\t\t\tif ((key === 'selectedColor' || !applyToChildren)\n\t\t\t\t\t&& key in this._defaults) {\n\t\t\t\tvar old = this._values[key];\n\t\t\t\tif (old !== value) {\n\t\t\t\t\tif (isColor) {\n\t\t\t\t\t\tif (old) {\n\t\t\t\t\t\t\tColor._setOwner(old, null);\n\t\t\t\t\t\t\told._canvasStyle = null;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (value && value.constructor === Color) {\n\t\t\t\t\t\t\tvalue = Color._setOwner(value, owner,\n\t\t\t\t\t\t\t\t\tapplyToChildren && set);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tthis._values[key] = value;\n\t\t\t\t\tif (owner)\n\t\t\t\t\t\towner._changed(flag || 129);\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\n\t\tfields[get] = function(_dontMerge) {\n\t\t\tvar owner = this._owner,\n\t\t\t\tchildren = owner && owner._children,\n\t\t\t\tapplyToChildren = children && children.length > 0\n\t\t\t\t\t&& !(owner instanceof CompoundPath),\n\t\t\t\tvalue;\n\t\t\tif (applyToChildren && !_dontMerge) {\n\t\t\t\tfor (var i = 0, l = children.length; i < l; i++) {\n\t\t\t\t\tvar childValue = children[i]._style[get]();\n\t\t\t\t\tif (!i) {\n\t\t\t\t\t\tvalue = childValue;\n\t\t\t\t\t} else if (!Base.equals(value, childValue)) {\n\t\t\t\t\t\treturn undefined;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} else if (key in this._defaults) {\n\t\t\t\tvar value = this._values[key];\n\t\t\t\tif (value === undefined) {\n\t\t\t\t\tvalue = this._defaults[key];\n\t\t\t\t\tif (value && value.clone) {\n\t\t\t\t\t\tvalue = value.clone();\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tvar ctor = isColor ? Color : isPoint ? Point : null;\n\t\t\t\t\tif (ctor && !(value && value.constructor === ctor)) {\n\t\t\t\t\t\tthis._values[key] = value = ctor.read([value], 0,\n\t\t\t\t\t\t\t\t{ readNull: true, clone: true });\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (value && isColor) {\n\t\t\t\tvalue = Color._setOwner(value, owner, applyToChildren && set);\n\t\t\t}\n\t\t\treturn value;\n\t\t};\n\n\t\titem[get] = function(_dontMerge) {\n\t\t\treturn this._style[get](_dontMerge);\n\t\t};\n\n\t\titem[set] = function(value) {\n\t\t\tthis._style[set](value);\n\t\t};\n\t});\n\n\tBase.each({\n\t\tFont: 'FontFamily',\n\t\tWindingRule: 'FillRule'\n\t}, function(value, key) {\n\t\tvar get = 'get' + key,\n\t\t\tset = 'set' + key;\n\t\tfields[get] = item[get] = '#get' + value;\n\t\tfields[set] = item[set] = '#set' + value;\n\t});\n\n\tItem.inject(item);\n\treturn fields;\n}, {\n\tset: function(style) {\n\t\tvar isStyle = style instanceof Style,\n\t\t\tvalues = isStyle ? style._values : style;\n\t\tif (values) {\n\t\t\tfor (var key in values) {\n\t\t\t\tif (key in this._defaults) {\n\t\t\t\t\tvar value = values[key];\n\t\t\t\t\tthis[key] = value && isStyle && value.clone\n\t\t\t\t\t\t\t? value.clone() : value;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t},\n\n\tequals: function(style) {\n\t\tfunction compare(style1, style2, secondary) {\n\t\t\tvar values1 = style1._values,\n\t\t\t\tvalues2 = style2._values,\n\t\t\t\tdefaults2 = style2._defaults;\n\t\t\tfor (var key in values1) {\n\t\t\t\tvar value1 = values1[key],\n\t\t\t\t\tvalue2 = values2[key];\n\t\t\t\tif (!(secondary && key in values2) && !Base.equals(value1,\n\t\t\t\t\t\tvalue2 === undefined ? defaults2[key] : value2))\n\t\t\t\t\treturn false;\n\t\t\t}\n\t\t\treturn true;\n\t\t}\n\n\t\treturn style === this || style && this._class === style._class\n\t\t\t\t&& compare(this, style)\n\t\t\t\t&& compare(style, this, true)\n\t\t\t\t|| false;\n\t},\n\n\t_dispose: function() {\n\t\tvar color;\n\t\tcolor = this.getFillColor();\n\t\tif (color) color._canvasStyle = null;\n\t\tcolor = this.getStrokeColor();\n\t\tif (color) color._canvasStyle = null;\n\t\tcolor = this.getShadowColor();\n\t\tif (color) color._canvasStyle = null;\n\t},\n\n\thasFill: function() {\n\t\tvar color = this.getFillColor();\n\t\treturn !!color && color.alpha > 0;\n\t},\n\n\thasStroke: function() {\n\t\tvar color = this.getStrokeColor();\n\t\treturn !!color && color.alpha > 0 && this.getStrokeWidth() > 0;\n\t},\n\n\thasShadow: function() {\n\t\tvar color = this.getShadowColor();\n\t\treturn !!color && color.alpha > 0 && (this.getShadowBlur() > 0\n\t\t\t\t|| !this.getShadowOffset().isZero());\n\t},\n\n\tgetView: function() {\n\t\treturn this._project._view;\n\t},\n\n\tgetFontStyle: function() {\n\t\tvar fontSize = this.getFontSize();\n\t\treturn this.getFontWeight()\n\t\t\t\t+ ' ' + fontSize + (/[a-z]/i.test(fontSize + '') ? ' ' : 'px ')\n\t\t\t\t+ this.getFontFamily();\n\t},\n\n\tgetFont: '#getFontFamily',\n\tsetFont: '#setFontFamily',\n\n\tgetLeading: function getLeading() {\n\t\tvar leading = getLeading.base.call(this),\n\t\t\tfontSize = this.getFontSize();\n\t\tif (/pt|em|%|px/.test(fontSize))\n\t\t\tfontSize = this.getView().getPixelSize(fontSize);\n\t\treturn leading != null ? leading : fontSize * 1.2;\n\t}\n\n});\n\nvar DomElement = new function() {\n\tfunction handlePrefix(el, name, set, value) {\n\t\tvar prefixes = ['', 'webkit', 'moz', 'Moz', 'ms', 'o'],\n\t\t\tsuffix = name[0].toUpperCase() + name.substring(1);\n\t\tfor (var i = 0; i < 6; i++) {\n\t\t\tvar prefix = prefixes[i],\n\t\t\t\tkey = prefix ? prefix + suffix : name;\n\t\t\tif (key in el) {\n\t\t\t\tif (set) {\n\t\t\t\t\tel[key] = value;\n\t\t\t\t} else {\n\t\t\t\t\treturn el[key];\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t}\n\n\treturn {\n\t\tgetStyles: function(el) {\n\t\t\tvar doc = el && el.nodeType !== 9 ? el.ownerDocument : el,\n\t\t\t\tview = doc && doc.defaultView;\n\t\t\treturn view && view.getComputedStyle(el, '');\n\t\t},\n\n\t\tgetBounds: function(el, viewport) {\n\t\t\tvar doc = el.ownerDocument,\n\t\t\t\tbody = doc.body,\n\t\t\t\thtml = doc.documentElement,\n\t\t\t\trect;\n\t\t\ttry {\n\t\t\t\trect = el.getBoundingClientRect();\n\t\t\t} catch (e) {\n\t\t\t\trect = { left: 0, top: 0, width: 0, height: 0 };\n\t\t\t}\n\t\t\tvar x = rect.left - (html.clientLeft || body.clientLeft || 0),\n\t\t\t\ty = rect.top - (html.clientTop || body.clientTop || 0);\n\t\t\tif (!viewport) {\n\t\t\t\tvar view = doc.defaultView;\n\t\t\t\tx += view.pageXOffset || html.scrollLeft || body.scrollLeft;\n\t\t\t\ty += view.pageYOffset || html.scrollTop || body.scrollTop;\n\t\t\t}\n\t\t\treturn new Rectangle(x, y, rect.width, rect.height);\n\t\t},\n\n\t\tgetViewportBounds: function(el) {\n\t\t\tvar doc = el.ownerDocument,\n\t\t\t\tview = doc.defaultView,\n\t\t\t\thtml = doc.documentElement;\n\t\t\treturn new Rectangle(0, 0,\n\t\t\t\tview.innerWidth || html.clientWidth,\n\t\t\t\tview.innerHeight || html.clientHeight\n\t\t\t);\n\t\t},\n\n\t\tgetOffset: function(el, viewport) {\n\t\t\treturn DomElement.getBounds(el, viewport).getPoint();\n\t\t},\n\n\t\tgetSize: function(el) {\n\t\t\treturn DomElement.getBounds(el, true).getSize();\n\t\t},\n\n\t\tisInvisible: function(el) {\n\t\t\treturn DomElement.getSize(el).equals(new Size(0, 0));\n\t\t},\n\n\t\tisInView: function(el) {\n\t\t\treturn !DomElement.isInvisible(el)\n\t\t\t\t\t&& DomElement.getViewportBounds(el).intersects(\n\t\t\t\t\t\tDomElement.getBounds(el, true));\n\t\t},\n\n\t\tisInserted: function(el) {\n\t\t\treturn document.body.contains(el);\n\t\t},\n\n\t\tgetPrefixed: function(el, name) {\n\t\t\treturn el && handlePrefix(el, name);\n\t\t},\n\n\t\tsetPrefixed: function(el, name, value) {\n\t\t\tif (typeof name === 'object') {\n\t\t\t\tfor (var key in name)\n\t\t\t\t\thandlePrefix(el, key, true, name[key]);\n\t\t\t} else {\n\t\t\t\thandlePrefix(el, name, true, value);\n\t\t\t}\n\t\t}\n\t};\n};\n\nvar DomEvent = {\n\tadd: function(el, events) {\n\t\tif (el) {\n\t\t\tfor (var type in events) {\n\t\t\t\tvar func = events[type],\n\t\t\t\t\tparts = type.split(/[\\s,]+/g);\n\t\t\t\tfor (var i = 0, l = parts.length; i < l; i++) {\n\t\t\t\t\tvar name = parts[i];\n\t\t\t\t\tvar options = (\n\t\t\t\t\t\tel === document\n\t\t\t\t\t\t&& (name === 'touchstart' || name === 'touchmove')\n\t\t\t\t\t) ? { passive: false } : false;\n\t\t\t\t\tel.addEventListener(name, func, options);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t},\n\n\tremove: function(el, events) {\n\t\tif (el) {\n\t\t\tfor (var type in events) {\n\t\t\t\tvar func = events[type],\n\t\t\t\t\tparts = type.split(/[\\s,]+/g);\n\t\t\t\tfor (var i = 0, l = parts.length; i < l; i++)\n\t\t\t\t\tel.removeEventListener(parts[i], func, false);\n\t\t\t}\n\t\t}\n\t},\n\n\tgetPoint: function(event) {\n\t\tvar pos = event.targetTouches\n\t\t\t\t? event.targetTouches.length\n\t\t\t\t\t? event.targetTouches[0]\n\t\t\t\t\t: event.changedTouches[0]\n\t\t\t\t: event;\n\t\treturn new Point(\n\t\t\tpos.pageX || pos.clientX + document.documentElement.scrollLeft,\n\t\t\tpos.pageY || pos.clientY + document.documentElement.scrollTop\n\t\t);\n\t},\n\n\tgetTarget: function(event) {\n\t\treturn event.target || event.srcElement;\n\t},\n\n\tgetRelatedTarget: function(event) {\n\t\treturn event.relatedTarget || event.toElement;\n\t},\n\n\tgetOffset: function(event, target) {\n\t\treturn DomEvent.getPoint(event).subtract(DomElement.getOffset(\n\t\t\t\ttarget || DomEvent.getTarget(event)));\n\t}\n};\n\nDomEvent.requestAnimationFrame = new function() {\n\tvar nativeRequest = DomElement.getPrefixed(window, 'requestAnimationFrame'),\n\t\trequested = false,\n\t\tcallbacks = [],\n\t\ttimer;\n\n\tfunction handleCallbacks() {\n\t\tvar functions = callbacks;\n\t\tcallbacks = [];\n\t\tfor (var i = 0, l = functions.length; i < l; i++)\n\t\t\tfunctions[i]();\n\t\trequested = nativeRequest && callbacks.length;\n\t\tif (requested)\n\t\t\tnativeRequest(handleCallbacks);\n\t}\n\n\treturn function(callback) {\n\t\tcallbacks.push(callback);\n\t\tif (nativeRequest) {\n\t\t\tif (!requested) {\n\t\t\t\tnativeRequest(handleCallbacks);\n\t\t\t\trequested = true;\n\t\t\t}\n\t\t} else if (!timer) {\n\t\t\ttimer = setInterval(handleCallbacks, 1000 / 60);\n\t\t}\n\t};\n};\n\nvar View = Base.extend(Emitter, {\n\t_class: 'View',\n\n\tinitialize: function View(project, element) {\n\n\t\tfunction getSize(name) {\n\t\t\treturn element[name] || parseInt(element.getAttribute(name), 10);\n\t\t}\n\n\t\tfunction getCanvasSize() {\n\t\t\tvar size = DomElement.getSize(element);\n\t\t\treturn size.isNaN() || size.isZero()\n\t\t\t\t\t? new Size(getSize('width'), getSize('height'))\n\t\t\t\t\t: size;\n\t\t}\n\n\t\tvar size;\n\t\tif (window && element) {\n\t\t\tthis._id = element.getAttribute('id');\n\t\t\tif (this._id == null)\n\t\t\t\telement.setAttribute('id', this._id = 'paper-view-' + View._id++);\n\t\t\tDomEvent.add(element, this._viewEvents);\n\t\t\tvar none = 'none';\n\t\t\tDomElement.setPrefixed(element.style, {\n\t\t\t\tuserDrag: none,\n\t\t\t\tuserSelect: none,\n\t\t\t\ttouchCallout: none,\n\t\t\t\tcontentZooming: none,\n\t\t\t\ttapHighlightColor: 'rgba(0,0,0,0)'\n\t\t\t});\n\n\t\t\tif (PaperScope.hasAttribute(element, 'resize')) {\n\t\t\t\tvar that = this;\n\t\t\t\tDomEvent.add(window, this._windowEvents = {\n\t\t\t\t\tresize: function() {\n\t\t\t\t\t\tthat.setViewSize(getCanvasSize());\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\n\t\t\tsize = getCanvasSize();\n\n\t\t\tif (PaperScope.hasAttribute(element, 'stats')\n\t\t\t\t\t&& typeof Stats !== 'undefined') {\n\t\t\t\tthis._stats = new Stats();\n\t\t\t\tvar stats = this._stats.domElement,\n\t\t\t\t\tstyle = stats.style,\n\t\t\t\t\toffset = DomElement.getOffset(element);\n\t\t\t\tstyle.position = 'absolute';\n\t\t\t\tstyle.left = offset.x + 'px';\n\t\t\t\tstyle.top = offset.y + 'px';\n\t\t\t\tdocument.body.appendChild(stats);\n\t\t\t}\n\t\t} else {\n\t\t\tsize = new Size(element);\n\t\t\telement = null;\n\t\t}\n\t\tthis._project = project;\n\t\tthis._scope = project._scope;\n\t\tthis._element = element;\n\t\tif (!this._pixelRatio)\n\t\t\tthis._pixelRatio = window && window.devicePixelRatio || 1;\n\t\tthis._setElementSize(size.width, size.height);\n\t\tthis._viewSize = size;\n\t\tView._views.push(this);\n\t\tView._viewsById[this._id] = this;\n\t\t(this._matrix = new Matrix())._owner = this;\n\t\tif (!View._focused)\n\t\t\tView._focused = this;\n\t\tthis._frameItems = {};\n\t\tthis._frameItemCount = 0;\n\t\tthis._itemEvents = { native: {}, virtual: {} };\n\t\tthis._autoUpdate = !paper.agent.node;\n\t\tthis._needsUpdate = false;\n\t},\n\n\tremove: function() {\n\t\tif (!this._project)\n\t\t\treturn false;\n\t\tif (View._focused === this)\n\t\t\tView._focused = null;\n\t\tView._views.splice(View._views.indexOf(this), 1);\n\t\tdelete View._viewsById[this._id];\n\t\tvar project = this._project;\n\t\tif (project._view === this)\n\t\t\tproject._view = null;\n\t\tDomEvent.remove(this._element, this._viewEvents);\n\t\tDomEvent.remove(window, this._windowEvents);\n\t\tthis._element = this._project = null;\n\t\tthis.off('frame');\n\t\tthis._animate = false;\n\t\tthis._frameItems = {};\n\t\treturn true;\n\t},\n\n\t_events: Base.each(\n\t\tItem._itemHandlers.concat(['onResize', 'onKeyDown', 'onKeyUp']),\n\t\tfunction(name) {\n\t\t\tthis[name] = {};\n\t\t}, {\n\t\t\tonFrame: {\n\t\t\t\tinstall: function() {\n\t\t\t\t\tthis.play();\n\t\t\t\t},\n\n\t\t\t\tuninstall: function() {\n\t\t\t\t\tthis.pause();\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t),\n\n\t_animate: false,\n\t_time: 0,\n\t_count: 0,\n\n\tgetAutoUpdate: function() {\n\t\treturn this._autoUpdate;\n\t},\n\n\tsetAutoUpdate: function(autoUpdate) {\n\t\tthis._autoUpdate = autoUpdate;\n\t\tif (autoUpdate)\n\t\t\tthis.requestUpdate();\n\t},\n\n\tupdate: function() {\n\t},\n\n\tdraw: function() {\n\t\tthis.update();\n\t},\n\n\trequestUpdate: function() {\n\t\tif (!this._requested) {\n\t\t\tvar that = this;\n\t\t\tDomEvent.requestAnimationFrame(function() {\n\t\t\t\tthat._requested = false;\n\t\t\t\tif (that._animate) {\n\t\t\t\t\tthat.requestUpdate();\n\t\t\t\t\tvar element = that._element;\n\t\t\t\t\tif ((!DomElement.getPrefixed(document, 'hidden')\n\t\t\t\t\t\t\t|| PaperScope.getAttribute(element, 'keepalive')\n\t\t\t\t\t\t\t\t=== 'true') && DomElement.isInView(element)) {\n\t\t\t\t\t\tthat._handleFrame();\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif (that._autoUpdate)\n\t\t\t\t\tthat.update();\n\t\t\t});\n\t\t\tthis._requested = true;\n\t\t}\n\t},\n\n\tplay: function() {\n\t\tthis._animate = true;\n\t\tthis.requestUpdate();\n\t},\n\n\tpause: function() {\n\t\tthis._animate = false;\n\t},\n\n\t_handleFrame: function() {\n\t\tpaper = this._scope;\n\t\tvar now = Date.now() / 1000,\n\t\t\tdelta = this._last ? now - this._last : 0;\n\t\tthis._last = now;\n\t\tthis.emit('frame', new Base({\n\t\t\tdelta: delta,\n\t\t\ttime: this._time += delta,\n\t\t\tcount: this._count++\n\t\t}));\n\t\tif (this._stats)\n\t\t\tthis._stats.update();\n\t},\n\n\t_animateItem: function(item, animate) {\n\t\tvar items = this._frameItems;\n\t\tif (animate) {\n\t\t\titems[item._id] = {\n\t\t\t\titem: item,\n\t\t\t\ttime: 0,\n\t\t\t\tcount: 0\n\t\t\t};\n\t\t\tif (++this._frameItemCount === 1)\n\t\t\t\tthis.on('frame', this._handleFrameItems);\n\t\t} else {\n\t\t\tdelete items[item._id];\n\t\t\tif (--this._frameItemCount === 0) {\n\t\t\t\tthis.off('frame', this._handleFrameItems);\n\t\t\t}\n\t\t}\n\t},\n\n\t_handleFrameItems: function(event) {\n\t\tfor (var i in this._frameItems) {\n\t\t\tvar entry = this._frameItems[i];\n\t\t\tentry.item.emit('frame', new Base(event, {\n\t\t\t\ttime: entry.time += event.delta,\n\t\t\t\tcount: entry.count++\n\t\t\t}));\n\t\t}\n\t},\n\n\t_changed: function() {\n\t\tthis._project._changed(4097);\n\t\tthis._bounds = this._decomposed = undefined;\n\t},\n\n\tgetElement: function() {\n\t\treturn this._element;\n\t},\n\n\tgetPixelRatio: function() {\n\t\treturn this._pixelRatio;\n\t},\n\n\tgetResolution: function() {\n\t\treturn this._pixelRatio * 72;\n\t},\n\n\tgetViewSize: function() {\n\t\tvar size = this._viewSize;\n\t\treturn new LinkedSize(size.width, size.height, this, 'setViewSize');\n\t},\n\n\tsetViewSize: function() {\n\t\tvar size = Size.read(arguments),\n\t\t\tdelta = size.subtract(this._viewSize);\n\t\tif (delta.isZero())\n\t\t\treturn;\n\t\tthis._setElementSize(size.width, size.height);\n\t\tthis._viewSize.set(size);\n\t\tthis._changed();\n\t\tthis.emit('resize', { size: size, delta: delta });\n\t\tif (this._autoUpdate) {\n\t\t\tthis.update();\n\t\t}\n\t},\n\n\t_setElementSize: function(width, height) {\n\t\tvar element = this._element;\n\t\tif (element) {\n\t\t\tif (element.width !== width)\n\t\t\t\telement.width = width;\n\t\t\tif (element.height !== height)\n\t\t\t\telement.height = height;\n\t\t}\n\t},\n\n\tgetBounds: function() {\n\t\tif (!this._bounds)\n\t\t\tthis._bounds = this._matrix.inverted()._transformBounds(\n\t\t\t\t\tnew Rectangle(new Point(), this._viewSize));\n\t\treturn this._bounds;\n\t},\n\n\tgetSize: function() {\n\t\treturn this.getBounds().getSize();\n\t},\n\n\tisVisible: function() {\n\t\treturn DomElement.isInView(this._element);\n\t},\n\n\tisInserted: function() {\n\t\treturn DomElement.isInserted(this._element);\n\t},\n\n\tgetPixelSize: function(size) {\n\t\tvar element = this._element,\n\t\t\tpixels;\n\t\tif (element) {\n\t\t\tvar parent = element.parentNode,\n\t\t\t\ttemp = document.createElement('div');\n\t\t\ttemp.style.fontSize = size;\n\t\t\tparent.appendChild(temp);\n\t\t\tpixels = parseFloat(DomElement.getStyles(temp).fontSize);\n\t\t\tparent.removeChild(temp);\n\t\t} else {\n\t\t\tpixels = parseFloat(pixels);\n\t\t}\n\t\treturn pixels;\n\t},\n\n\tgetTextWidth: function(font, lines) {\n\t\treturn 0;\n\t}\n}, Base.each(['rotate', 'scale', 'shear', 'skew'], function(key) {\n\tvar rotate = key === 'rotate';\n\tthis[key] = function() {\n\t\tvar args = arguments,\n\t\t\tvalue = (rotate ? Base : Point).read(args),\n\t\t\tcenter = Point.read(args, 0, { readNull: true });\n\t\treturn this.transform(new Matrix()[key](value,\n\t\t\t\tcenter || this.getCenter(true)));\n\t};\n}, {\n\t_decompose: function() {\n\t\treturn this._decomposed || (this._decomposed = this._matrix.decompose());\n\t},\n\n\ttranslate: function() {\n\t\tvar mx = new Matrix();\n\t\treturn this.transform(mx.translate.apply(mx, arguments));\n\t},\n\n\tgetCenter: function() {\n\t\treturn this.getBounds().getCenter();\n\t},\n\n\tsetCenter: function() {\n\t\tvar center = Point.read(arguments);\n\t\tthis.translate(this.getCenter().subtract(center));\n\t},\n\n\tgetZoom: function() {\n\t\tvar scaling = this._decompose().scaling;\n\t\treturn (scaling.x + scaling.y) / 2;\n\t},\n\n\tsetZoom: function(zoom) {\n\t\tthis.transform(new Matrix().scale(zoom / this.getZoom(),\n\t\t\tthis.getCenter()));\n\t},\n\n\tgetRotation: function() {\n\t\treturn this._decompose().rotation;\n\t},\n\n\tsetRotation: function(rotation) {\n\t\tvar current = this.getRotation();\n\t\tif (current != null && rotation != null) {\n\t\t\tthis.rotate(rotation - current);\n\t\t}\n\t},\n\n\tgetScaling: function() {\n\t\tvar scaling = this._decompose().scaling;\n\t\treturn new LinkedPoint(scaling.x, scaling.y, this, 'setScaling');\n\t},\n\n\tsetScaling: function() {\n\t\tvar current = this.getScaling(),\n\t\t\tscaling = Point.read(arguments, 0, { clone: true, readNull: true });\n\t\tif (current && scaling) {\n\t\t\tthis.scale(scaling.x / current.x, scaling.y / current.y);\n\t\t}\n\t},\n\n\tgetMatrix: function() {\n\t\treturn this._matrix;\n\t},\n\n\tsetMatrix: function() {\n\t\tvar matrix = this._matrix;\n\t\tmatrix.set.apply(matrix, arguments);\n\t},\n\n\ttransform: function(matrix) {\n\t\tthis._matrix.append(matrix);\n\t},\n\n\tscrollBy: function() {\n\t\tthis.translate(Point.read(arguments).negate());\n\t}\n}), {\n\n\tprojectToView: function() {\n\t\treturn this._matrix._transformPoint(Point.read(arguments));\n\t},\n\n\tviewToProject: function() {\n\t\treturn this._matrix._inverseTransform(Point.read(arguments));\n\t},\n\n\tgetEventPoint: function(event) {\n\t\treturn this.viewToProject(DomEvent.getOffset(event, this._element));\n\t},\n\n}, {\n\tstatics: {\n\t\t_views: [],\n\t\t_viewsById: {},\n\t\t_id: 0,\n\n\t\tcreate: function(project, element) {\n\t\t\tif (document && typeof element === 'string')\n\t\t\t\telement = document.getElementById(element);\n\t\t\tvar ctor = window ? CanvasView : View;\n\t\t\treturn new ctor(project, element);\n\t\t}\n\t}\n},\nnew function() {\n\tif (!window)\n\t\treturn;\n\tvar prevFocus,\n\t\ttempFocus,\n\t\tdragging = false,\n\t\tmouseDown = false;\n\n\tfunction getView(event) {\n\t\tvar target = DomEvent.getTarget(event);\n\t\treturn target.getAttribute && View._viewsById[\n\t\t\t\ttarget.getAttribute('id')];\n\t}\n\n\tfunction updateFocus() {\n\t\tvar view = View._focused;\n\t\tif (!view || !view.isVisible()) {\n\t\t\tfor (var i = 0, l = View._views.length; i < l; i++) {\n\t\t\t\tif ((view = View._views[i]).isVisible()) {\n\t\t\t\t\tView._focused = tempFocus = view;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\tfunction handleMouseMove(view, event, point) {\n\t\tview._handleMouseEvent('mousemove', event, point);\n\t}\n\n\tvar navigator = window.navigator,\n\t\tmousedown, mousemove, mouseup;\n\tif (navigator.pointerEnabled || navigator.msPointerEnabled) {\n\t\tmousedown = 'pointerdown MSPointerDown';\n\t\tmousemove = 'pointermove MSPointerMove';\n\t\tmouseup = 'pointerup pointercancel MSPointerUp MSPointerCancel';\n\t} else {\n\t\tmousedown = 'touchstart';\n\t\tmousemove = 'touchmove';\n\t\tmouseup = 'touchend touchcancel';\n\t\tif (!('ontouchstart' in window && navigator.userAgent.match(\n\t\t\t\t/mobile|tablet|ip(ad|hone|od)|android|silk/i))) {\n\t\t\tmousedown += ' mousedown';\n\t\t\tmousemove += ' mousemove';\n\t\t\tmouseup += ' mouseup';\n\t\t}\n\t}\n\n\tvar viewEvents = {},\n\t\tdocEvents = {\n\t\t\tmouseout: function(event) {\n\t\t\t\tvar view = View._focused,\n\t\t\t\t\ttarget = DomEvent.getRelatedTarget(event);\n\t\t\t\tif (view && (!target || target.nodeName === 'HTML')) {\n\t\t\t\t\tvar offset = DomEvent.getOffset(event, view._element),\n\t\t\t\t\t\tx = offset.x,\n\t\t\t\t\t\tabs = Math.abs,\n\t\t\t\t\t\tax = abs(x),\n\t\t\t\t\t\tmax = 1 << 25,\n\t\t\t\t\t\tdiff = ax - max;\n\t\t\t\t\toffset.x = abs(diff) < ax ? diff * (x < 0 ? -1 : 1) : x;\n\t\t\t\t\thandleMouseMove(view, event, view.viewToProject(offset));\n\t\t\t\t}\n\t\t\t},\n\n\t\t\tscroll: updateFocus\n\t\t};\n\n\tviewEvents[mousedown] = function(event) {\n\t\tvar view = View._focused = getView(event);\n\t\tif (!dragging) {\n\t\t\tdragging = true;\n\t\t\tview._handleMouseEvent('mousedown', event);\n\t\t}\n\t};\n\n\tdocEvents[mousemove] = function(event) {\n\t\tvar view = View._focused;\n\t\tif (!mouseDown) {\n\t\t\tvar target = getView(event);\n\t\t\tif (target) {\n\t\t\t\tif (view !== target) {\n\t\t\t\t\tif (view)\n\t\t\t\t\t\thandleMouseMove(view, event);\n\t\t\t\t\tif (!prevFocus)\n\t\t\t\t\t\tprevFocus = view;\n\t\t\t\t\tview = View._focused = tempFocus = target;\n\t\t\t\t}\n\t\t\t} else if (tempFocus && tempFocus === view) {\n\t\t\t\tif (prevFocus && !prevFocus.isInserted())\n\t\t\t\t\tprevFocus = null;\n\t\t\t\tview = View._focused = prevFocus;\n\t\t\t\tprevFocus = null;\n\t\t\t\tupdateFocus();\n\t\t\t}\n\t\t}\n\t\tif (view)\n\t\t\thandleMouseMove(view, event);\n\t};\n\n\tdocEvents[mousedown] = function() {\n\t\tmouseDown = true;\n\t};\n\n\tdocEvents[mouseup] = function(event) {\n\t\tvar view = View._focused;\n\t\tif (view && dragging)\n\t\t\tview._handleMouseEvent('mouseup', event);\n\t\tmouseDown = dragging = false;\n\t};\n\n\tDomEvent.add(document, docEvents);\n\n\tDomEvent.add(window, {\n\t\tload: updateFocus\n\t});\n\n\tvar called = false,\n\t\tprevented = false,\n\t\tfallbacks = {\n\t\t\tdoubleclick: 'click',\n\t\t\tmousedrag: 'mousemove'\n\t\t},\n\t\twasInView = false,\n\t\toverView,\n\t\tdownPoint,\n\t\tlastPoint,\n\t\tdownItem,\n\t\toverItem,\n\t\tdragItem,\n\t\tclickItem,\n\t\tclickTime,\n\t\tdblClick;\n\n\tfunction emitMouseEvent(obj, target, type, event, point, prevPoint,\n\t\t\tstopItem) {\n\t\tvar stopped = false,\n\t\t\tmouseEvent;\n\n\t\tfunction emit(obj, type) {\n\t\t\tif (obj.responds(type)) {\n\t\t\t\tif (!mouseEvent) {\n\t\t\t\t\tmouseEvent = new MouseEvent(type, event, point,\n\t\t\t\t\t\t\ttarget || obj,\n\t\t\t\t\t\t\tprevPoint ? point.subtract(prevPoint) : null);\n\t\t\t\t}\n\t\t\t\tif (obj.emit(type, mouseEvent)) {\n\t\t\t\t\tcalled = true;\n\t\t\t\t\tif (mouseEvent.prevented)\n\t\t\t\t\t\tprevented = true;\n\t\t\t\t\tif (mouseEvent.stopped)\n\t\t\t\t\t\treturn stopped = true;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tvar fallback = fallbacks[type];\n\t\t\t\tif (fallback)\n\t\t\t\t\treturn emit(obj, fallback);\n\t\t\t}\n\t\t}\n\n\t\twhile (obj && obj !== stopItem) {\n\t\t\tif (emit(obj, type))\n\t\t\t\tbreak;\n\t\t\tobj = obj._parent;\n\t\t}\n\t\treturn stopped;\n\t}\n\n\tfunction emitMouseEvents(view, hitItem, type, event, point, prevPoint) {\n\t\tview._project.removeOn(type);\n\t\tprevented = called = false;\n\t\treturn (dragItem && emitMouseEvent(dragItem, null, type, event,\n\t\t\t\t\tpoint, prevPoint)\n\t\t\t|| hitItem && hitItem !== dragItem\n\t\t\t\t&& !hitItem.isDescendant(dragItem)\n\t\t\t\t&& emitMouseEvent(hitItem, null, type === 'mousedrag' ?\n\t\t\t\t\t'mousemove' : type, event, point, prevPoint, dragItem)\n\t\t\t|| emitMouseEvent(view, dragItem || hitItem || view, type, event,\n\t\t\t\t\tpoint, prevPoint));\n\t}\n\n\tvar itemEventsMap = {\n\t\tmousedown: {\n\t\t\tmousedown: 1,\n\t\t\tmousedrag: 1,\n\t\t\tclick: 1,\n\t\t\tdoubleclick: 1\n\t\t},\n\t\tmouseup: {\n\t\t\tmouseup: 1,\n\t\t\tmousedrag: 1,\n\t\t\tclick: 1,\n\t\t\tdoubleclick: 1\n\t\t},\n\t\tmousemove: {\n\t\t\tmousedrag: 1,\n\t\t\tmousemove: 1,\n\t\t\tmouseenter: 1,\n\t\t\tmouseleave: 1\n\t\t}\n\t};\n\n\treturn {\n\t\t_viewEvents: viewEvents,\n\n\t\t_handleMouseEvent: function(type, event, point) {\n\t\t\tvar itemEvents = this._itemEvents,\n\t\t\t\thitItems = itemEvents.native[type],\n\t\t\t\tnativeMove = type === 'mousemove',\n\t\t\t\ttool = this._scope.tool,\n\t\t\t\tview = this;\n\n\t\t\tfunction responds(type) {\n\t\t\t\treturn itemEvents.virtual[type] || view.responds(type)\n\t\t\t\t\t\t|| tool && tool.responds(type);\n\t\t\t}\n\n\t\t\tif (nativeMove && dragging && responds('mousedrag'))\n\t\t\t\ttype = 'mousedrag';\n\t\t\tif (!point)\n\t\t\t\tpoint = this.getEventPoint(event);\n\n\t\t\tvar inView = this.getBounds().contains(point),\n\t\t\t\thit = hitItems && inView && view._project.hitTest(point, {\n\t\t\t\t\ttolerance: 0,\n\t\t\t\t\tfill: true,\n\t\t\t\t\tstroke: true\n\t\t\t\t}),\n\t\t\t\thitItem = hit && hit.item || null,\n\t\t\t\thandle = false,\n\t\t\t\tmouse = {};\n\t\t\tmouse[type.substr(5)] = true;\n\n\t\t\tif (hitItems && hitItem !== overItem) {\n\t\t\t\tif (overItem) {\n\t\t\t\t\temitMouseEvent(overItem, null, 'mouseleave', event, point);\n\t\t\t\t}\n\t\t\t\tif (hitItem) {\n\t\t\t\t\temitMouseEvent(hitItem, null, 'mouseenter', event, point);\n\t\t\t\t}\n\t\t\t\toverItem = hitItem;\n\t\t\t}\n\t\t\tif (wasInView ^ inView) {\n\t\t\t\temitMouseEvent(this, null, inView ? 'mouseenter' : 'mouseleave',\n\t\t\t\t\t\tevent, point);\n\t\t\t\toverView = inView ? this : null;\n\t\t\t\thandle = true;\n\t\t\t}\n\t\t\tif ((inView || mouse.drag) && !point.equals(lastPoint)) {\n\t\t\t\temitMouseEvents(this, hitItem, nativeMove ? type : 'mousemove',\n\t\t\t\t\t\tevent, point, lastPoint);\n\t\t\t\thandle = true;\n\t\t\t}\n\t\t\twasInView = inView;\n\t\t\tif (mouse.down && inView || mouse.up && downPoint) {\n\t\t\t\temitMouseEvents(this, hitItem, type, event, point, downPoint);\n\t\t\t\tif (mouse.down) {\n\t\t\t\t\tdblClick = hitItem === clickItem\n\t\t\t\t\t\t&& (Date.now() - clickTime < 300);\n\t\t\t\t\tdownItem = clickItem = hitItem;\n\t\t\t\t\tif (!prevented && hitItem) {\n\t\t\t\t\t\tvar item = hitItem;\n\t\t\t\t\t\twhile (item && !item.responds('mousedrag'))\n\t\t\t\t\t\t\titem = item._parent;\n\t\t\t\t\t\tif (item)\n\t\t\t\t\t\t\tdragItem = hitItem;\n\t\t\t\t\t}\n\t\t\t\t\tdownPoint = point;\n\t\t\t\t} else if (mouse.up) {\n\t\t\t\t\tif (!prevented && hitItem === downItem) {\n\t\t\t\t\t\tclickTime = Date.now();\n\t\t\t\t\t\temitMouseEvents(this, hitItem, dblClick ? 'doubleclick'\n\t\t\t\t\t\t\t\t: 'click', event, point, downPoint);\n\t\t\t\t\t\tdblClick = false;\n\t\t\t\t\t}\n\t\t\t\t\tdownItem = dragItem = null;\n\t\t\t\t}\n\t\t\t\twasInView = false;\n\t\t\t\thandle = true;\n\t\t\t}\n\t\t\tlastPoint = point;\n\t\t\tif (handle && tool) {\n\t\t\t\tcalled = tool._handleMouseEvent(type, event, point, mouse)\n\t\t\t\t\t|| called;\n\t\t\t}\n\n\t\t\tif (\n\t\t\t\tevent.cancelable !== false\n\t\t\t\t&& (called && !mouse.move || mouse.down && responds('mouseup'))\n\t\t\t) {\n\t\t\t\tevent.preventDefault();\n\t\t\t}\n\t\t},\n\n\t\t_handleKeyEvent: function(type, event, key, character) {\n\t\t\tvar scope = this._scope,\n\t\t\t\ttool = scope.tool,\n\t\t\t\tkeyEvent;\n\n\t\t\tfunction emit(obj) {\n\t\t\t\tif (obj.responds(type)) {\n\t\t\t\t\tpaper = scope;\n\t\t\t\t\tobj.emit(type, keyEvent = keyEvent\n\t\t\t\t\t\t\t|| new KeyEvent(type, event, key, character));\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (this.isVisible()) {\n\t\t\t\temit(this);\n\t\t\t\tif (tool && tool.responds(type))\n\t\t\t\t\temit(tool);\n\t\t\t}\n\t\t},\n\n\t\t_countItemEvent: function(type, sign) {\n\t\t\tvar itemEvents = this._itemEvents,\n\t\t\t\tnative = itemEvents.native,\n\t\t\t\tvirtual = itemEvents.virtual;\n\t\t\tfor (var key in itemEventsMap) {\n\t\t\t\tnative[key] = (native[key] || 0)\n\t\t\t\t\t\t+ (itemEventsMap[key][type] || 0) * sign;\n\t\t\t}\n\t\t\tvirtual[type] = (virtual[type] || 0) + sign;\n\t\t},\n\n\t\tstatics: {\n\t\t\tupdateFocus: updateFocus,\n\n\t\t\t_resetState: function() {\n\t\t\t\tdragging = mouseDown = called = wasInView = false;\n\t\t\t\tprevFocus = tempFocus = overView = downPoint = lastPoint =\n\t\t\t\t\tdownItem = overItem = dragItem = clickItem = clickTime =\n\t\t\t\t\tdblClick = null;\n\t\t\t}\n\t\t}\n\t};\n});\n\nvar CanvasView = View.extend({\n\t_class: 'CanvasView',\n\n\tinitialize: function CanvasView(project, canvas) {\n\t\tif (!(canvas instanceof window.HTMLCanvasElement)) {\n\t\t\tvar size = Size.read(arguments, 1);\n\t\t\tif (size.isZero())\n\t\t\t\tthrow new Error(\n\t\t\t\t\t\t'Cannot create CanvasView with the provided argument: '\n\t\t\t\t\t\t+ Base.slice(arguments, 1));\n\t\t\tcanvas = CanvasProvider.getCanvas(size);\n\t\t}\n\t\tvar ctx = this._context = canvas.getContext('2d');\n\t\tctx.save();\n\t\tthis._pixelRatio = 1;\n\t\tif (!/^off|false$/.test(PaperScope.getAttribute(canvas, 'hidpi'))) {\n\t\t\tvar deviceRatio = window.devicePixelRatio || 1,\n\t\t\t\tbackingStoreRatio = DomElement.getPrefixed(ctx,\n\t\t\t\t\t\t'backingStorePixelRatio') || 1;\n\t\t\tthis._pixelRatio = deviceRatio / backingStoreRatio;\n\t\t}\n\t\tView.call(this, project, canvas);\n\t\tthis._needsUpdate = true;\n\t},\n\n\tremove: function remove() {\n\t\tthis._context.restore();\n\t\treturn remove.base.call(this);\n\t},\n\n\t_setElementSize: function _setElementSize(width, height) {\n\t\tvar pixelRatio = this._pixelRatio;\n\t\t_setElementSize.base.call(this, width * pixelRatio, height * pixelRatio);\n\t\tif (pixelRatio !== 1) {\n\t\t\tvar element = this._element,\n\t\t\t\tctx = this._context;\n\t\t\tif (!PaperScope.hasAttribute(element, 'resize')) {\n\t\t\t\tvar style = element.style;\n\t\t\t\tstyle.width = width + 'px';\n\t\t\t\tstyle.height = height + 'px';\n\t\t\t}\n\t\t\tctx.restore();\n\t\t\tctx.save();\n\t\t\tctx.scale(pixelRatio, pixelRatio);\n\t\t}\n\t},\n\n\tgetContext: function() {\n\t\treturn this._context;\n\t},\n\n\tgetPixelSize: function getPixelSize(size) {\n\t\tvar agent = paper.agent,\n\t\t\tpixels;\n\t\tif (agent && agent.firefox) {\n\t\t\tpixels = getPixelSize.base.call(this, size);\n\t\t} else {\n\t\t\tvar ctx = this._context,\n\t\t\t\tprevFont = ctx.font;\n\t\t\tctx.font = size + ' serif';\n\t\t\tpixels = parseFloat(ctx.font);\n\t\t\tctx.font = prevFont;\n\t\t}\n\t\treturn pixels;\n\t},\n\n\tgetTextWidth: function(font, lines) {\n\t\tvar ctx = this._context,\n\t\t\tprevFont = ctx.font,\n\t\t\twidth = 0;\n\t\tctx.font = font;\n\t\tfor (var i = 0, l = lines.length; i < l; i++)\n\t\t\twidth = Math.max(width, ctx.measureText(lines[i]).width);\n\t\tctx.font = prevFont;\n\t\treturn width;\n\t},\n\n\tupdate: function() {\n\t\tif (!this._needsUpdate)\n\t\t\treturn false;\n\t\tvar project = this._project,\n\t\t\tctx = this._context,\n\t\t\tsize = this._viewSize;\n\t\tctx.clearRect(0, 0, size.width + 1, size.height + 1);\n\t\tif (project)\n\t\t\tproject.draw(ctx, this._matrix, this._pixelRatio);\n\t\tthis._needsUpdate = false;\n\t\treturn true;\n\t}\n});\n\nvar Event = Base.extend({\n\t_class: 'Event',\n\n\tinitialize: function Event(event) {\n\t\tthis.event = event;\n\t\tthis.type = event && event.type;\n\t},\n\n\tprevented: false,\n\tstopped: false,\n\n\tpreventDefault: function() {\n\t\tthis.prevented = true;\n\t\tthis.event.preventDefault();\n\t},\n\n\tstopPropagation: function() {\n\t\tthis.stopped = true;\n\t\tthis.event.stopPropagation();\n\t},\n\n\tstop: function() {\n\t\tthis.stopPropagation();\n\t\tthis.preventDefault();\n\t},\n\n\tgetTimeStamp: function() {\n\t\treturn this.event.timeStamp;\n\t},\n\n\tgetModifiers: function() {\n\t\treturn Key.modifiers;\n\t}\n});\n\nvar KeyEvent = Event.extend({\n\t_class: 'KeyEvent',\n\n\tinitialize: function KeyEvent(type, event, key, character) {\n\t\tthis.type = type;\n\t\tthis.event = event;\n\t\tthis.key = key;\n\t\tthis.character = character;\n\t},\n\n\ttoString: function() {\n\t\treturn \"{ type: '\" + this.type\n\t\t\t\t+ \"', key: '\" + this.key\n\t\t\t\t+ \"', character: '\" + this.character\n\t\t\t\t+ \"', modifiers: \" + this.getModifiers()\n\t\t\t\t+ \" }\";\n\t}\n});\n\nvar Key = new function() {\n\tvar keyLookup = {\n\t\t\t'\\t': 'tab',\n\t\t\t' ': 'space',\n\t\t\t'\\b': 'backspace',\n\t\t\t'\\x7f': 'delete',\n\t\t\t'Spacebar': 'space',\n\t\t\t'Del': 'delete',\n\t\t\t'Win': 'meta',\n\t\t\t'Esc': 'escape'\n\t\t},\n\n\t\tcharLookup = {\n\t\t\t'tab': '\\t',\n\t\t\t'space': ' ',\n\t\t\t'enter': '\\r'\n\t\t},\n\n\t\tkeyMap = {},\n\t\tcharMap = {},\n\t\tmetaFixMap,\n\t\tdownKey,\n\n\t\tmodifiers = new Base({\n\t\t\tshift: false,\n\t\t\tcontrol: false,\n\t\t\talt: false,\n\t\t\tmeta: false,\n\t\t\tcapsLock: false,\n\t\t\tspace: false\n\t\t}).inject({\n\t\t\toption: {\n\t\t\t\tget: function() {\n\t\t\t\t\treturn this.alt;\n\t\t\t\t}\n\t\t\t},\n\n\t\t\tcommand: {\n\t\t\t\tget: function() {\n\t\t\t\t\tvar agent = paper && paper.agent;\n\t\t\t\t\treturn agent && agent.mac ? this.meta : this.control;\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\n\tfunction getKey(event) {\n\t\tvar key = event.key || event.keyIdentifier;\n\t\tkey = /^U\\+/.test(key)\n\t\t\t\t? String.fromCharCode(parseInt(key.substr(2), 16))\n\t\t\t\t: /^Arrow[A-Z]/.test(key) ? key.substr(5)\n\t\t\t\t: key === 'Unidentified'  || key === undefined\n\t\t\t\t\t? String.fromCharCode(event.keyCode)\n\t\t\t\t\t: key;\n\t\treturn keyLookup[key] ||\n\t\t\t\t(key.length > 1 ? Base.hyphenate(key) : key.toLowerCase());\n\t}\n\n\tfunction handleKey(down, key, character, event) {\n\t\tvar type = down ? 'keydown' : 'keyup',\n\t\t\tview = View._focused,\n\t\t\tname;\n\t\tkeyMap[key] = down;\n\t\tif (down) {\n\t\t\tcharMap[key] = character;\n\t\t} else {\n\t\t\tdelete charMap[key];\n\t\t}\n\t\tif (key.length > 1 && (name = Base.camelize(key)) in modifiers) {\n\t\t\tmodifiers[name] = down;\n\t\t\tvar agent = paper && paper.agent;\n\t\t\tif (name === 'meta' && agent && agent.mac) {\n\t\t\t\tif (down) {\n\t\t\t\t\tmetaFixMap = {};\n\t\t\t\t} else {\n\t\t\t\t\tfor (var k in metaFixMap) {\n\t\t\t\t\t\tif (k in charMap)\n\t\t\t\t\t\t\thandleKey(false, k, metaFixMap[k], event);\n\t\t\t\t\t}\n\t\t\t\t\tmetaFixMap = null;\n\t\t\t\t}\n\t\t\t}\n\t\t} else if (down && metaFixMap) {\n\t\t\tmetaFixMap[key] = character;\n\t\t}\n\t\tif (view) {\n\t\t\tview._handleKeyEvent(down ? 'keydown' : 'keyup', event, key,\n\t\t\t\t\tcharacter);\n\t\t}\n\t}\n\n\tDomEvent.add(document, {\n\t\tkeydown: function(event) {\n\t\t\tvar key = getKey(event),\n\t\t\t\tagent = paper && paper.agent;\n\t\t\tif (key.length > 1 || agent && (agent.chrome && (event.altKey\n\t\t\t\t\t\t|| agent.mac && event.metaKey\n\t\t\t\t\t\t|| !agent.mac && event.ctrlKey))) {\n\t\t\t\thandleKey(true, key,\n\t\t\t\t\t\tcharLookup[key] || (key.length > 1 ? '' : key), event);\n\t\t\t} else {\n\t\t\t\tdownKey = key;\n\t\t\t}\n\t\t},\n\n\t\tkeypress: function(event) {\n\t\t\tif (downKey) {\n\t\t\t\tvar key = getKey(event),\n\t\t\t\t\tcode = event.charCode,\n\t\t\t\t\tcharacter = code >= 32 ? String.fromCharCode(code)\n\t\t\t\t\t\t: key.length > 1 ? '' : key;\n\t\t\t\tif (key !== downKey) {\n\t\t\t\t\tkey = character.toLowerCase();\n\t\t\t\t}\n\t\t\t\thandleKey(true, key, character, event);\n\t\t\t\tdownKey = null;\n\t\t\t}\n\t\t},\n\n\t\tkeyup: function(event) {\n\t\t\tvar key = getKey(event);\n\t\t\tif (key in charMap)\n\t\t\t\thandleKey(false, key, charMap[key], event);\n\t\t}\n\t});\n\n\tDomEvent.add(window, {\n\t\tblur: function(event) {\n\t\t\tfor (var key in charMap)\n\t\t\t\thandleKey(false, key, charMap[key], event);\n\t\t}\n\t});\n\n\treturn {\n\t\tmodifiers: modifiers,\n\n\t\tisDown: function(key) {\n\t\t\treturn !!keyMap[key];\n\t\t}\n\t};\n};\n\nvar MouseEvent = Event.extend({\n\t_class: 'MouseEvent',\n\n\tinitialize: function MouseEvent(type, event, point, target, delta) {\n\t\tthis.type = type;\n\t\tthis.event = event;\n\t\tthis.point = point;\n\t\tthis.target = target;\n\t\tthis.delta = delta;\n\t},\n\n\ttoString: function() {\n\t\treturn \"{ type: '\" + this.type\n\t\t\t\t+ \"', point: \" + this.point\n\t\t\t\t+ ', target: ' + this.target\n\t\t\t\t+ (this.delta ? ', delta: ' + this.delta : '')\n\t\t\t\t+ ', modifiers: ' + this.getModifiers()\n\t\t\t\t+ ' }';\n\t}\n});\n\nvar ToolEvent = Event.extend({\n\t_class: 'ToolEvent',\n\t_item: null,\n\n\tinitialize: function ToolEvent(tool, type, event) {\n\t\tthis.tool = tool;\n\t\tthis.type = type;\n\t\tthis.event = event;\n\t},\n\n\t_choosePoint: function(point, toolPoint) {\n\t\treturn point ? point : toolPoint ? toolPoint.clone() : null;\n\t},\n\n\tgetPoint: function() {\n\t\treturn this._choosePoint(this._point, this.tool._point);\n\t},\n\n\tsetPoint: function(point) {\n\t\tthis._point = point;\n\t},\n\n\tgetLastPoint: function() {\n\t\treturn this._choosePoint(this._lastPoint, this.tool._lastPoint);\n\t},\n\n\tsetLastPoint: function(lastPoint) {\n\t\tthis._lastPoint = lastPoint;\n\t},\n\n\tgetDownPoint: function() {\n\t\treturn this._choosePoint(this._downPoint, this.tool._downPoint);\n\t},\n\n\tsetDownPoint: function(downPoint) {\n\t\tthis._downPoint = downPoint;\n\t},\n\n\tgetMiddlePoint: function() {\n\t\tif (!this._middlePoint && this.tool._lastPoint) {\n\t\t\treturn this.tool._point.add(this.tool._lastPoint).divide(2);\n\t\t}\n\t\treturn this._middlePoint;\n\t},\n\n\tsetMiddlePoint: function(middlePoint) {\n\t\tthis._middlePoint = middlePoint;\n\t},\n\n\tgetDelta: function() {\n\t\treturn !this._delta && this.tool._lastPoint\n\t\t\t\t? this.tool._point.subtract(this.tool._lastPoint)\n\t\t\t\t: this._delta;\n\t},\n\n\tsetDelta: function(delta) {\n\t\tthis._delta = delta;\n\t},\n\n\tgetCount: function() {\n\t\treturn this.tool[/^mouse(down|up)$/.test(this.type)\n\t\t\t\t? '_downCount' : '_moveCount'];\n\t},\n\n\tsetCount: function(count) {\n\t\tthis.tool[/^mouse(down|up)$/.test(this.type) ? 'downCount' : 'count']\n\t\t\t= count;\n\t},\n\n\tgetItem: function() {\n\t\tif (!this._item) {\n\t\t\tvar result = this.tool._scope.project.hitTest(this.getPoint());\n\t\t\tif (result) {\n\t\t\t\tvar item = result.item,\n\t\t\t\t\tparent = item._parent;\n\t\t\t\twhile (/^(Group|CompoundPath)$/.test(parent._class)) {\n\t\t\t\t\titem = parent;\n\t\t\t\t\tparent = parent._parent;\n\t\t\t\t}\n\t\t\t\tthis._item = item;\n\t\t\t}\n\t\t}\n\t\treturn this._item;\n\t},\n\n\tsetItem: function(item) {\n\t\tthis._item = item;\n\t},\n\n\ttoString: function() {\n\t\treturn '{ type: ' + this.type\n\t\t\t\t+ ', point: ' + this.getPoint()\n\t\t\t\t+ ', count: ' + this.getCount()\n\t\t\t\t+ ', modifiers: ' + this.getModifiers()\n\t\t\t\t+ ' }';\n\t}\n});\n\nvar Tool = PaperScopeItem.extend({\n\t_class: 'Tool',\n\t_list: 'tools',\n\t_reference: 'tool',\n\t_events: ['onMouseDown', 'onMouseUp', 'onMouseDrag', 'onMouseMove',\n\t\t\t'onActivate', 'onDeactivate', 'onEditOptions', 'onKeyDown',\n\t\t\t'onKeyUp'],\n\n\tinitialize: function Tool(props) {\n\t\tPaperScopeItem.call(this);\n\t\tthis._moveCount = -1;\n\t\tthis._downCount = -1;\n\t\tthis.set(props);\n\t},\n\n\tgetMinDistance: function() {\n\t\treturn this._minDistance;\n\t},\n\n\tsetMinDistance: function(minDistance) {\n\t\tthis._minDistance = minDistance;\n\t\tif (minDistance != null && this._maxDistance != null\n\t\t\t\t&& minDistance > this._maxDistance) {\n\t\t\tthis._maxDistance = minDistance;\n\t\t}\n\t},\n\n\tgetMaxDistance: function() {\n\t\treturn this._maxDistance;\n\t},\n\n\tsetMaxDistance: function(maxDistance) {\n\t\tthis._maxDistance = maxDistance;\n\t\tif (this._minDistance != null && maxDistance != null\n\t\t\t\t&& maxDistance < this._minDistance) {\n\t\t\tthis._minDistance = maxDistance;\n\t\t}\n\t},\n\n\tgetFixedDistance: function() {\n\t\treturn this._minDistance == this._maxDistance\n\t\t\t? this._minDistance : null;\n\t},\n\n\tsetFixedDistance: function(distance) {\n\t\tthis._minDistance = this._maxDistance = distance;\n\t},\n\n\t_handleMouseEvent: function(type, event, point, mouse) {\n\t\tpaper = this._scope;\n\t\tif (mouse.drag && !this.responds(type))\n\t\t\ttype = 'mousemove';\n\t\tvar move = mouse.move || mouse.drag,\n\t\t\tresponds = this.responds(type),\n\t\t\tcalled = false,\n\t\t\ttool = this;\n\t\tfunction update(minDistance, maxDistance) {\n\t\t\tvar pt = point,\n\t\t\t\ttoolPoint = move ? tool._point : (tool._downPoint || pt);\n\t\t\tif (move) {\n\t\t\t\tif (tool._moveCount >= 0 && pt.equals(toolPoint)) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t\tif (toolPoint && (minDistance != null || maxDistance != null)) {\n\t\t\t\t\tvar vector = pt.subtract(toolPoint),\n\t\t\t\t\t\tdistance = vector.getLength();\n\t\t\t\t\tif (distance < (minDistance || 0))\n\t\t\t\t\t\treturn false;\n\t\t\t\t\tif (maxDistance) {\n\t\t\t\t\t\tpt = toolPoint.add(vector.normalize(\n\t\t\t\t\t\t\t\tMath.min(distance, maxDistance)));\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\ttool._moveCount++;\n\t\t\t}\n\t\t\ttool._point = pt;\n\t\t\ttool._lastPoint = toolPoint || pt;\n\t\t\tif (mouse.down) {\n\t\t\t\ttool._moveCount = -1;\n\t\t\t\ttool._downPoint = pt;\n\t\t\t\ttool._downCount++;\n\t\t\t}\n\t\t\treturn true;\n\t\t}\n\n\t\tfunction emit() {\n\t\t\tif (responds) {\n\t\t\t\tcalled = tool.emit(type, new ToolEvent(tool, type, event))\n\t\t\t\t\t\t|| called;\n\t\t\t}\n\t\t}\n\n\t\tif (mouse.down) {\n\t\t\tupdate();\n\t\t\temit();\n\t\t} else if (mouse.up) {\n\t\t\tupdate(null, this._maxDistance);\n\t\t\temit();\n\t\t} else if (responds) {\n\t\t\twhile (update(this._minDistance, this._maxDistance))\n\t\t\t\temit();\n\t\t}\n\t\treturn called;\n\t}\n\n});\n\nvar Tween = Base.extend(Emitter, {\n\t_class: 'Tween',\n\n\tstatics: {\n\t\teasings: new Base({\n\t\t\tlinear: function(t) {\n\t\t\t\treturn t;\n\t\t\t},\n\n\t\t\teaseInQuad: function(t) {\n\t\t\t\treturn t * t;\n\t\t\t},\n\n\t\t\teaseOutQuad: function(t) {\n\t\t\t\treturn t * (2 - t);\n\t\t\t},\n\n\t\t\teaseInOutQuad: function(t) {\n\t\t\t\treturn t < 0.5\n\t\t\t\t\t? 2 * t * t\n\t\t\t\t\t: -1 + 2 * (2 - t) * t;\n\t\t\t},\n\n\t\t\teaseInCubic: function(t) {\n\t\t\t\treturn t * t * t;\n\t\t\t},\n\n\t\t\teaseOutCubic: function(t) {\n\t\t\t\treturn --t * t * t + 1;\n\t\t\t},\n\n\t\t\teaseInOutCubic: function(t) {\n\t\t\t\treturn t < 0.5\n\t\t\t\t\t? 4 * t * t * t\n\t\t\t\t\t: (t - 1) * (2 * t - 2) * (2 * t - 2) + 1;\n\t\t\t},\n\n\t\t\teaseInQuart: function(t) {\n\t\t\t\treturn t * t * t * t;\n\t\t\t},\n\n\t\t\teaseOutQuart: function(t) {\n\t\t\t\treturn 1 - (--t) * t * t * t;\n\t\t\t},\n\n\t\t\teaseInOutQuart: function(t) {\n\t\t\t\treturn t < 0.5\n\t\t\t\t\t? 8 * t * t * t * t\n\t\t\t\t\t: 1 - 8 * (--t) * t * t * t;\n\t\t\t},\n\n\t\t\teaseInQuint: function(t) {\n\t\t\t\treturn t * t * t * t * t;\n\t\t\t},\n\n\t\t\teaseOutQuint: function(t) {\n\t\t\t\treturn 1 + --t * t * t * t * t;\n\t\t\t},\n\n\t\t\teaseInOutQuint: function(t) {\n\t\t\t\treturn t < 0.5\n\t\t\t\t\t? 16 * t * t * t * t * t\n\t\t\t\t\t: 1 + 16 * (--t) * t * t * t * t;\n\t\t\t}\n\t\t})\n\t},\n\n\tinitialize: function Tween(object, from, to, duration, easing, start) {\n\t\tthis.object = object;\n\t\tvar type = typeof easing;\n\t\tvar isFunction = type === 'function';\n\t\tthis.type = isFunction\n\t\t\t? type\n\t\t\t: type === 'string'\n\t\t\t\t? easing\n\t\t\t\t: 'linear';\n\t\tthis.easing = isFunction ? easing : Tween.easings[this.type];\n\t\tthis.duration = duration;\n\t\tthis.running = false;\n\n\t\tthis._then = null;\n\t\tthis._startTime = null;\n\t\tvar state = from || to;\n\t\tthis._keys = state ? Object.keys(state) : [];\n\t\tthis._parsedKeys = this._parseKeys(this._keys);\n\t\tthis._from = state && this._getState(from);\n\t\tthis._to = state && this._getState(to);\n\t\tif (start !== false) {\n\t\t\tthis.start();\n\t\t}\n\t},\n\n\tthen: function(then) {\n\t\tthis._then = then;\n\t\treturn this;\n\t},\n\n\tstart: function() {\n\t\tthis._startTime = null;\n\t\tthis.running = true;\n\t\treturn this;\n\t},\n\n\tstop: function() {\n\t\tthis.running = false;\n\t\treturn this;\n\t},\n\n\tupdate: function(progress) {\n\t\tif (this.running) {\n\t\t\tif (progress >= 1) {\n\t\t\t\tprogress = 1;\n\t\t\t\tthis.running = false;\n\t\t\t}\n\n\t\t\tvar factor = this.easing(progress),\n\t\t\t\tkeys = this._keys,\n\t\t\t\tgetValue = function(value) {\n\t\t\t\t\treturn typeof value === 'function'\n\t\t\t\t\t\t? value(factor, progress)\n\t\t\t\t\t\t: value;\n\t\t\t\t};\n\t\t\tfor (var i = 0, l = keys && keys.length; i < l; i++) {\n\t\t\t\tvar key = keys[i],\n\t\t\t\t\tfrom = getValue(this._from[key]),\n\t\t\t\t\tto = getValue(this._to[key]),\n\t\t\t\t\tvalue = (from && to && from.__add && to.__add)\n\t\t\t\t\t\t? to.__subtract(from).__multiply(factor).__add(from)\n\t\t\t\t\t\t: ((to - from) * factor) + from;\n\t\t\t\tthis._setProperty(this._parsedKeys[key], value);\n\t\t\t}\n\n\t\t\tif (this.responds('update')) {\n\t\t\t\tthis.emit('update', new Base({\n\t\t\t\t\tprogress: progress,\n\t\t\t\t\tfactor: factor\n\t\t\t\t}));\n\t\t\t}\n\t\t\tif (!this.running && this._then) {\n\t\t\t\tthis._then(this.object);\n\t\t\t}\n\t\t}\n\t\treturn this;\n\t},\n\n\t_events: {\n\t\tonUpdate: {}\n\t},\n\n\t_handleFrame: function(time) {\n\t\tvar startTime = this._startTime,\n\t\t\tprogress = startTime\n\t\t\t\t? (time - startTime) / this.duration\n\t\t\t\t: 0;\n\t\tif (!startTime) {\n\t\t\tthis._startTime = time;\n\t\t}\n\t\tthis.update(progress);\n\t},\n\n\t_getState: function(state) {\n\t\tvar keys = this._keys,\n\t\t\tresult = {};\n\t\tfor (var i = 0, l = keys.length; i < l; i++) {\n\t\t\tvar key = keys[i],\n\t\t\t\tpath = this._parsedKeys[key],\n\t\t\t\tcurrent = this._getProperty(path),\n\t\t\t\tvalue;\n\t\t\tif (state) {\n\t\t\t\tvar resolved = this._resolveValue(current, state[key]);\n\t\t\t\tthis._setProperty(path, resolved);\n\t\t\t\tvalue = this._getProperty(path);\n\t\t\t\tvalue = value && value.clone ? value.clone() : value;\n\t\t\t\tthis._setProperty(path, current);\n\t\t\t} else {\n\t\t\t\tvalue = current && current.clone ? current.clone() : current;\n\t\t\t}\n\t\t\tresult[key] = value;\n\t\t}\n\t\treturn result;\n\t},\n\n\t_resolveValue: function(current, value) {\n\t\tif (value) {\n\t\t\tif (Array.isArray(value) && value.length === 2) {\n\t\t\t\tvar operator = value[0];\n\t\t\t\treturn (\n\t\t\t\t\toperator &&\n\t\t\t\t\toperator.match &&\n\t\t\t\t\toperator.match(/^[+\\-\\*\\/]=/)\n\t\t\t\t)\n\t\t\t\t\t? this._calculate(current, operator[0], value[1])\n\t\t\t\t\t: value;\n\t\t\t} else if (typeof value === 'string') {\n\t\t\t\tvar match = value.match(/^[+\\-*/]=(.*)/);\n\t\t\t\tif (match) {\n\t\t\t\t\tvar parsed = JSON.parse(match[1].replace(\n\t\t\t\t\t\t/(['\"])?([a-zA-Z0-9_]+)(['\"])?:/g,\n\t\t\t\t\t\t'\"$2\": '\n\t\t\t\t\t));\n\t\t\t\t\treturn this._calculate(current, value[0], parsed);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn value;\n\t},\n\n\t_calculate: function(left, operator, right) {\n\t\treturn paper.PaperScript.calculateBinary(left, operator, right);\n\t},\n\n\t_parseKeys: function(keys) {\n\t\tvar parsed = {};\n\t\tfor (var i = 0, l = keys.length; i < l; i++) {\n\t\t\tvar key = keys[i],\n\t\t\t\tpath = key\n\t\t\t\t\t.replace(/\\.([^.]*)/g, '/$1')\n\t\t\t\t\t.replace(/\\[['\"]?([^'\"\\]]*)['\"]?\\]/g, '/$1');\n\t\t\tparsed[key] = path.split('/');\n\t\t}\n\t\treturn parsed;\n\t},\n\n\t_getProperty: function(path, offset) {\n\t\tvar obj = this.object;\n\t\tfor (var i = 0, l = path.length - (offset || 0); i < l && obj; i++) {\n\t\t\tobj = obj[path[i]];\n\t\t}\n\t\treturn obj;\n\t},\n\n\t_setProperty: function(path, value) {\n\t\tvar dest = this._getProperty(path, 1);\n\t\tif (dest) {\n\t\t\tdest[path[path.length - 1]] = value;\n\t\t}\n\t}\n});\n\nvar Http = {\n\trequest: function(options) {\n\t\tvar xhr = new self.XMLHttpRequest();\n\t\txhr.open((options.method || 'get').toUpperCase(), options.url,\n\t\t\t\tBase.pick(options.async, true));\n\t\tif (options.mimeType)\n\t\t\txhr.overrideMimeType(options.mimeType);\n\t\txhr.onload = function() {\n\t\t\tvar status = xhr.status;\n\t\t\tif (status === 0 || status === 200) {\n\t\t\t\tif (options.onLoad) {\n\t\t\t\t\toptions.onLoad.call(xhr, xhr.responseText);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\txhr.onerror();\n\t\t\t}\n\t\t};\n\t\txhr.onerror = function() {\n\t\t\tvar status = xhr.status,\n\t\t\t\tmessage = 'Could not load \"' + options.url + '\" (Status: '\n\t\t\t\t\t\t+ status + ')';\n\t\t\tif (options.onError) {\n\t\t\t\toptions.onError(message, status);\n\t\t\t} else {\n\t\t\t\tthrow new Error(message);\n\t\t\t}\n\t\t};\n\t\treturn xhr.send(null);\n\t}\n};\n\nvar CanvasProvider = Base.exports.CanvasProvider = {\n\tcanvases: [],\n\n\tgetCanvas: function(width, height, options) {\n\t\tif (!window)\n\t\t\treturn null;\n\t\tvar canvas,\n\t\t\tclear = true;\n\t\tif (typeof width === 'object') {\n\t\t\theight = width.height;\n\t\t\twidth = width.width;\n\t\t}\n\t\tif (this.canvases.length) {\n\t\t\tcanvas = this.canvases.pop();\n\t\t} else {\n\t\t\tcanvas = document.createElement('canvas');\n\t\t\tclear = false;\n\t\t}\n\t\tvar ctx = canvas.getContext('2d', options || {});\n\t\tif (!ctx) {\n\t\t\tthrow new Error('Canvas ' + canvas +\n\t\t\t\t\t' is unable to provide a 2D context.');\n\t\t}\n\t\tif (canvas.width === width && canvas.height === height) {\n\t\t\tif (clear)\n\t\t\t\tctx.clearRect(0, 0, width + 1, height + 1);\n\t\t} else {\n\t\t\tcanvas.width = width;\n\t\t\tcanvas.height = height;\n\t\t}\n\t\tctx.save();\n\t\treturn canvas;\n\t},\n\n\tgetContext: function(width, height, options) {\n\t\tvar canvas = this.getCanvas(width, height, options);\n\t\treturn canvas ? canvas.getContext('2d', options || {}) : null;\n\t},\n\n\trelease: function(obj) {\n\t\tvar canvas = obj && obj.canvas ? obj.canvas : obj;\n\t\tif (canvas && canvas.getContext) {\n\t\t\tcanvas.getContext('2d').restore();\n\t\t\tthis.canvases.push(canvas);\n\t\t}\n\t}\n};\n\nvar BlendMode = new function() {\n\tvar min = Math.min,\n\t\tmax = Math.max,\n\t\tabs = Math.abs,\n\t\tsr, sg, sb, sa,\n\t\tbr, bg, bb, ba,\n\t\tdr, dg, db;\n\n\tfunction getLum(r, g, b) {\n\t\treturn 0.2989 * r + 0.587 * g + 0.114 * b;\n\t}\n\n\tfunction setLum(r, g, b, l) {\n\t\tvar d = l - getLum(r, g, b);\n\t\tdr = r + d;\n\t\tdg = g + d;\n\t\tdb = b + d;\n\t\tvar l = getLum(dr, dg, db),\n\t\t\tmn = min(dr, dg, db),\n\t\t\tmx = max(dr, dg, db);\n\t\tif (mn < 0) {\n\t\t\tvar lmn = l - mn;\n\t\t\tdr = l + (dr - l) * l / lmn;\n\t\t\tdg = l + (dg - l) * l / lmn;\n\t\t\tdb = l + (db - l) * l / lmn;\n\t\t}\n\t\tif (mx > 255) {\n\t\t\tvar ln = 255 - l,\n\t\t\t\tmxl = mx - l;\n\t\t\tdr = l + (dr - l) * ln / mxl;\n\t\t\tdg = l + (dg - l) * ln / mxl;\n\t\t\tdb = l + (db - l) * ln / mxl;\n\t\t}\n\t}\n\n\tfunction getSat(r, g, b) {\n\t\treturn max(r, g, b) - min(r, g, b);\n\t}\n\n\tfunction setSat(r, g, b, s) {\n\t\tvar col = [r, g, b],\n\t\t\tmx = max(r, g, b),\n\t\t\tmn = min(r, g, b),\n\t\t\tmd;\n\t\tmn = mn === r ? 0 : mn === g ? 1 : 2;\n\t\tmx = mx === r ? 0 : mx === g ? 1 : 2;\n\t\tmd = min(mn, mx) === 0 ? max(mn, mx) === 1 ? 2 : 1 : 0;\n\t\tif (col[mx] > col[mn]) {\n\t\t\tcol[md] = (col[md] - col[mn]) * s / (col[mx] - col[mn]);\n\t\t\tcol[mx] = s;\n\t\t} else {\n\t\t\tcol[md] = col[mx] = 0;\n\t\t}\n\t\tcol[mn] = 0;\n\t\tdr = col[0];\n\t\tdg = col[1];\n\t\tdb = col[2];\n\t}\n\n\tvar modes = {\n\t\tmultiply: function() {\n\t\t\tdr = br * sr / 255;\n\t\t\tdg = bg * sg / 255;\n\t\t\tdb = bb * sb / 255;\n\t\t},\n\n\t\tscreen: function() {\n\t\t\tdr = br + sr - (br * sr / 255);\n\t\t\tdg = bg + sg - (bg * sg / 255);\n\t\t\tdb = bb + sb - (bb * sb / 255);\n\t\t},\n\n\t\toverlay: function() {\n\t\t\tdr = br < 128 ? 2 * br * sr / 255 : 255 - 2 * (255 - br) * (255 - sr) / 255;\n\t\t\tdg = bg < 128 ? 2 * bg * sg / 255 : 255 - 2 * (255 - bg) * (255 - sg) / 255;\n\t\t\tdb = bb < 128 ? 2 * bb * sb / 255 : 255 - 2 * (255 - bb) * (255 - sb) / 255;\n\t\t},\n\n\t\t'soft-light': function() {\n\t\t\tvar t = sr * br / 255;\n\t\t\tdr = t + br * (255 - (255 - br) * (255 - sr) / 255 - t) / 255;\n\t\t\tt = sg * bg / 255;\n\t\t\tdg = t + bg * (255 - (255 - bg) * (255 - sg) / 255 - t) / 255;\n\t\t\tt = sb * bb / 255;\n\t\t\tdb = t + bb * (255 - (255 - bb) * (255 - sb) / 255 - t) / 255;\n\t\t},\n\n\t\t'hard-light': function() {\n\t\t\tdr = sr < 128 ? 2 * sr * br / 255 : 255 - 2 * (255 - sr) * (255 - br) / 255;\n\t\t\tdg = sg < 128 ? 2 * sg * bg / 255 : 255 - 2 * (255 - sg) * (255 - bg) / 255;\n\t\t\tdb = sb < 128 ? 2 * sb * bb / 255 : 255 - 2 * (255 - sb) * (255 - bb) / 255;\n\t\t},\n\n\t\t'color-dodge': function() {\n\t\t\tdr = br === 0 ? 0 : sr === 255 ? 255 : min(255, 255 * br / (255 - sr));\n\t\t\tdg = bg === 0 ? 0 : sg === 255 ? 255 : min(255, 255 * bg / (255 - sg));\n\t\t\tdb = bb === 0 ? 0 : sb === 255 ? 255 : min(255, 255 * bb / (255 - sb));\n\t\t},\n\n\t\t'color-burn': function() {\n\t\t\tdr = br === 255 ? 255 : sr === 0 ? 0 : max(0, 255 - (255 - br) * 255 / sr);\n\t\t\tdg = bg === 255 ? 255 : sg === 0 ? 0 : max(0, 255 - (255 - bg) * 255 / sg);\n\t\t\tdb = bb === 255 ? 255 : sb === 0 ? 0 : max(0, 255 - (255 - bb) * 255 / sb);\n\t\t},\n\n\t\tdarken: function() {\n\t\t\tdr = br < sr ? br : sr;\n\t\t\tdg = bg < sg ? bg : sg;\n\t\t\tdb = bb < sb ? bb : sb;\n\t\t},\n\n\t\tlighten: function() {\n\t\t\tdr = br > sr ? br : sr;\n\t\t\tdg = bg > sg ? bg : sg;\n\t\t\tdb = bb > sb ? bb : sb;\n\t\t},\n\n\t\tdifference: function() {\n\t\t\tdr = br - sr;\n\t\t\tif (dr < 0)\n\t\t\t\tdr = -dr;\n\t\t\tdg = bg - sg;\n\t\t\tif (dg < 0)\n\t\t\t\tdg = -dg;\n\t\t\tdb = bb - sb;\n\t\t\tif (db < 0)\n\t\t\t\tdb = -db;\n\t\t},\n\n\t\texclusion: function() {\n\t\t\tdr = br + sr * (255 - br - br) / 255;\n\t\t\tdg = bg + sg * (255 - bg - bg) / 255;\n\t\t\tdb = bb + sb * (255 - bb - bb) / 255;\n\t\t},\n\n\t\thue: function() {\n\t\t\tsetSat(sr, sg, sb, getSat(br, bg, bb));\n\t\t\tsetLum(dr, dg, db, getLum(br, bg, bb));\n\t\t},\n\n\t\tsaturation: function() {\n\t\t\tsetSat(br, bg, bb, getSat(sr, sg, sb));\n\t\t\tsetLum(dr, dg, db, getLum(br, bg, bb));\n\t\t},\n\n\t\tluminosity: function() {\n\t\t\tsetLum(br, bg, bb, getLum(sr, sg, sb));\n\t\t},\n\n\t\tcolor: function() {\n\t\t\tsetLum(sr, sg, sb, getLum(br, bg, bb));\n\t\t},\n\n\t\tadd: function() {\n\t\t\tdr = min(br + sr, 255);\n\t\t\tdg = min(bg + sg, 255);\n\t\t\tdb = min(bb + sb, 255);\n\t\t},\n\n\t\tsubtract: function() {\n\t\t\tdr = max(br - sr, 0);\n\t\t\tdg = max(bg - sg, 0);\n\t\t\tdb = max(bb - sb, 0);\n\t\t},\n\n\t\taverage: function() {\n\t\t\tdr = (br + sr) / 2;\n\t\t\tdg = (bg + sg) / 2;\n\t\t\tdb = (bb + sb) / 2;\n\t\t},\n\n\t\tnegation: function() {\n\t\t\tdr = 255 - abs(255 - sr - br);\n\t\t\tdg = 255 - abs(255 - sg - bg);\n\t\t\tdb = 255 - abs(255 - sb - bb);\n\t\t}\n\t};\n\n\tvar nativeModes = this.nativeModes = Base.each([\n\t\t'source-over', 'source-in', 'source-out', 'source-atop',\n\t\t'destination-over', 'destination-in', 'destination-out',\n\t\t'destination-atop', 'lighter', 'darker', 'copy', 'xor'\n\t], function(mode) {\n\t\tthis[mode] = true;\n\t}, {});\n\n\tvar ctx = CanvasProvider.getContext(1, 1, { willReadFrequently: true });\n\tif (ctx) {\n\t\tBase.each(modes, function(func, mode) {\n\t\t\tvar darken = mode === 'darken',\n\t\t\t\tok = false;\n\t\t\tctx.save();\n\t\t\ttry {\n\t\t\t\tctx.fillStyle = darken ? '#300' : '#a00';\n\t\t\t\tctx.fillRect(0, 0, 1, 1);\n\t\t\t\tctx.globalCompositeOperation = mode;\n\t\t\t\tif (ctx.globalCompositeOperation === mode) {\n\t\t\t\t\tctx.fillStyle = darken ? '#a00' : '#300';\n\t\t\t\t\tctx.fillRect(0, 0, 1, 1);\n\t\t\t\t\tok = ctx.getImageData(0, 0, 1, 1).data[0] !== darken\n\t\t\t\t\t\t\t? 170 : 51;\n\t\t\t\t}\n\t\t\t} catch (e) {}\n\t\t\tctx.restore();\n\t\t\tnativeModes[mode] = ok;\n\t\t});\n\t\tCanvasProvider.release(ctx);\n\t}\n\n\tthis.process = function(mode, srcContext, dstContext, alpha, offset) {\n\t\tvar srcCanvas = srcContext.canvas,\n\t\t\tnormal = mode === 'normal';\n\t\tif (normal || nativeModes[mode]) {\n\t\t\tdstContext.save();\n\t\t\tdstContext.setTransform(1, 0, 0, 1, 0, 0);\n\t\t\tdstContext.globalAlpha = alpha;\n\t\t\tif (!normal)\n\t\t\t\tdstContext.globalCompositeOperation = mode;\n\t\t\tdstContext.drawImage(srcCanvas, offset.x, offset.y);\n\t\t\tdstContext.restore();\n\t\t} else {\n\t\t\tvar process = modes[mode];\n\t\t\tif (!process)\n\t\t\t\treturn;\n\t\t\tvar dstData = dstContext.getImageData(offset.x, offset.y,\n\t\t\t\t\tsrcCanvas.width, srcCanvas.height),\n\t\t\t\tdst = dstData.data,\n\t\t\t\tsrc = srcContext.getImageData(0, 0,\n\t\t\t\t\tsrcCanvas.width, srcCanvas.height).data;\n\t\t\tfor (var i = 0, l = dst.length; i < l; i += 4) {\n\t\t\t\tsr = src[i];\n\t\t\t\tbr = dst[i];\n\t\t\t\tsg = src[i + 1];\n\t\t\t\tbg = dst[i + 1];\n\t\t\t\tsb = src[i + 2];\n\t\t\t\tbb = dst[i + 2];\n\t\t\t\tsa = src[i + 3];\n\t\t\t\tba = dst[i + 3];\n\t\t\t\tprocess();\n\t\t\t\tvar a1 = sa * alpha / 255,\n\t\t\t\t\ta2 = 1 - a1;\n\t\t\t\tdst[i] = a1 * dr + a2 * br;\n\t\t\t\tdst[i + 1] = a1 * dg + a2 * bg;\n\t\t\t\tdst[i + 2] = a1 * db + a2 * bb;\n\t\t\t\tdst[i + 3] = sa * alpha + a2 * ba;\n\t\t\t}\n\t\t\tdstContext.putImageData(dstData, offset.x, offset.y);\n\t\t}\n\t};\n};\n\nvar SvgElement = new function() {\n\tvar svg = 'http://www.w3.org/2000/svg',\n\t\txmlns = 'http://www.w3.org/2000/xmlns',\n\t\txlink = 'http://www.w3.org/1999/xlink',\n\t\tattributeNamespace = {\n\t\t\thref: xlink,\n\t\t\txlink: xmlns,\n\t\t\txmlns: xmlns + '/',\n\t\t\t'xmlns:xlink': xmlns + '/'\n\t\t};\n\n\tfunction create(tag, attributes, formatter) {\n\t\treturn set(document.createElementNS(svg, tag), attributes, formatter);\n\t}\n\n\tfunction get(node, name) {\n\t\tvar namespace = attributeNamespace[name],\n\t\t\tvalue = namespace\n\t\t\t\t? node.getAttributeNS(namespace, name)\n\t\t\t\t: node.getAttribute(name);\n\t\treturn value === 'null' ? null : value;\n\t}\n\n\tfunction set(node, attributes, formatter) {\n\t\tfor (var name in attributes) {\n\t\t\tvar value = attributes[name],\n\t\t\t\tnamespace = attributeNamespace[name];\n\t\t\tif (typeof value === 'number' && formatter)\n\t\t\t\tvalue = formatter.number(value);\n\t\t\tif (namespace) {\n\t\t\t\tnode.setAttributeNS(namespace, name, value);\n\t\t\t} else {\n\t\t\t\tnode.setAttribute(name, value);\n\t\t\t}\n\t\t}\n\t\treturn node;\n\t}\n\n\treturn {\n\t\tsvg: svg,\n\t\txmlns: xmlns,\n\t\txlink: xlink,\n\n\t\tcreate: create,\n\t\tget: get,\n\t\tset: set\n\t};\n};\n\nvar SvgStyles = Base.each({\n\tfillColor: ['fill', 'color'],\n\tfillRule: ['fill-rule', 'string'],\n\tstrokeColor: ['stroke', 'color'],\n\tstrokeWidth: ['stroke-width', 'number'],\n\tstrokeCap: ['stroke-linecap', 'string'],\n\tstrokeJoin: ['stroke-linejoin', 'string'],\n\tstrokeScaling: ['vector-effect', 'lookup', {\n\t\ttrue: 'none',\n\t\tfalse: 'non-scaling-stroke'\n\t}, function(item, value) {\n\t\treturn !value\n\t\t\t\t&& (item instanceof PathItem\n\t\t\t\t\t|| item instanceof Shape\n\t\t\t\t\t|| item instanceof TextItem);\n\t}],\n\tmiterLimit: ['stroke-miterlimit', 'number'],\n\tdashArray: ['stroke-dasharray', 'array'],\n\tdashOffset: ['stroke-dashoffset', 'number'],\n\tfontFamily: ['font-family', 'string'],\n\tfontWeight: ['font-weight', 'string'],\n\tfontSize: ['font-size', 'number'],\n\tjustification: ['text-anchor', 'lookup', {\n\t\tleft: 'start',\n\t\tcenter: 'middle',\n\t\tright: 'end'\n\t}],\n\topacity: ['opacity', 'number'],\n\tblendMode: ['mix-blend-mode', 'style']\n}, function(entry, key) {\n\tvar part = Base.capitalize(key),\n\t\tlookup = entry[2];\n\tthis[key] = {\n\t\ttype: entry[1],\n\t\tproperty: key,\n\t\tattribute: entry[0],\n\t\ttoSVG: lookup,\n\t\tfromSVG: lookup && Base.each(lookup, function(value, name) {\n\t\t\tthis[value] = name;\n\t\t}, {}),\n\t\texportFilter: entry[3],\n\t\tget: 'get' + part,\n\t\tset: 'set' + part\n\t};\n}, {});\n\nnew function() {\n\tvar formatter;\n\n\tfunction getTransform(matrix, coordinates, center) {\n\t\tvar attrs = new Base(),\n\t\t\ttrans = matrix.getTranslation();\n\t\tif (coordinates) {\n\t\t\tvar point;\n\t\t\tif (matrix.isInvertible()) {\n\t\t\t\tmatrix = matrix._shiftless();\n\t\t\t\tpoint = matrix._inverseTransform(trans);\n\t\t\t\ttrans = null;\n\t\t\t} else {\n\t\t\t\tpoint = new Point();\n\t\t\t}\n\t\t\tattrs[center ? 'cx' : 'x'] = point.x;\n\t\t\tattrs[center ? 'cy' : 'y'] = point.y;\n\t\t}\n\t\tif (!matrix.isIdentity()) {\n\t\t\tvar decomposed = matrix.decompose();\n\t\t\tif (decomposed) {\n\t\t\t\tvar parts = [],\n\t\t\t\t\tangle = decomposed.rotation,\n\t\t\t\t\tscale = decomposed.scaling,\n\t\t\t\t\tskew = decomposed.skewing;\n\t\t\t\tif (trans && !trans.isZero())\n\t\t\t\t\tparts.push('translate(' + formatter.point(trans) + ')');\n\t\t\t\tif (angle)\n\t\t\t\t\tparts.push('rotate(' + formatter.number(angle) + ')');\n\t\t\t\tif (!Numerical.isZero(scale.x - 1)\n\t\t\t\t\t\t|| !Numerical.isZero(scale.y - 1))\n\t\t\t\t\tparts.push('scale(' + formatter.point(scale) +')');\n\t\t\t\tif (skew.x)\n\t\t\t\t\tparts.push('skewX(' + formatter.number(skew.x) + ')');\n\t\t\t\tif (skew.y)\n\t\t\t\t\tparts.push('skewY(' + formatter.number(skew.y) + ')');\n\t\t\t\tattrs.transform = parts.join(' ');\n\t\t\t} else {\n\t\t\t\tattrs.transform = 'matrix(' + matrix.getValues().join(',') + ')';\n\t\t\t}\n\t\t}\n\t\treturn attrs;\n\t}\n\n\tfunction exportGroup(item, options) {\n\t\tvar attrs = getTransform(item._matrix),\n\t\t\tchildren = item._children;\n\t\tvar node = SvgElement.create('g', attrs, formatter);\n\t\tfor (var i = 0, l = children.length; i < l; i++) {\n\t\t\tvar child = children[i];\n\t\t\tvar childNode = exportSVG(child, options);\n\t\t\tif (childNode) {\n\t\t\t\tif (child.isClipMask()) {\n\t\t\t\t\tvar clip = SvgElement.create('clipPath');\n\t\t\t\t\tclip.appendChild(childNode);\n\t\t\t\t\tsetDefinition(child, clip, 'clip');\n\t\t\t\t\tSvgElement.set(node, {\n\t\t\t\t\t\t'clip-path': 'url(#' + clip.id + ')'\n\t\t\t\t\t});\n\t\t\t\t} else {\n\t\t\t\t\tnode.appendChild(childNode);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn node;\n\t}\n\n\tfunction exportRaster(item, options) {\n\t\tvar attrs = getTransform(item._matrix, true),\n\t\t\tsize = item.getSize(),\n\t\t\timage = item.getImage();\n\t\tattrs.x -= size.width / 2;\n\t\tattrs.y -= size.height / 2;\n\t\tattrs.width = size.width;\n\t\tattrs.height = size.height;\n\t\tattrs.href = options.embedImages == false && image && image.src\n\t\t\t\t|| item.toDataURL();\n\t\treturn SvgElement.create('image', attrs, formatter);\n\t}\n\n\tfunction exportPath(item, options) {\n\t\tvar matchShapes = options.matchShapes;\n\t\tif (matchShapes) {\n\t\t\tvar shape = item.toShape(false);\n\t\t\tif (shape)\n\t\t\t\treturn exportShape(shape, options);\n\t\t}\n\t\tvar segments = item._segments,\n\t\t\tlength = segments.length,\n\t\t\ttype,\n\t\t\tattrs = getTransform(item._matrix);\n\t\tif (matchShapes && length >= 2 && !item.hasHandles()) {\n\t\t\tif (length > 2) {\n\t\t\t\ttype = item._closed ? 'polygon' : 'polyline';\n\t\t\t\tvar parts = [];\n\t\t\t\tfor (var i = 0; i < length; i++) {\n\t\t\t\t\tparts.push(formatter.point(segments[i]._point));\n\t\t\t\t}\n\t\t\t\tattrs.points = parts.join(' ');\n\t\t\t} else {\n\t\t\t\ttype = 'line';\n\t\t\t\tvar start = segments[0]._point,\n\t\t\t\t\tend = segments[1]._point;\n\t\t\t\tattrs.set({\n\t\t\t\t\tx1: start.x,\n\t\t\t\t\ty1: start.y,\n\t\t\t\t\tx2: end.x,\n\t\t\t\t\ty2: end.y\n\t\t\t\t});\n\t\t\t}\n\t\t} else {\n\t\t\ttype = 'path';\n\t\t\tattrs.d = item.getPathData(null, options.precision);\n\t\t}\n\t\treturn SvgElement.create(type, attrs, formatter);\n\t}\n\n\tfunction exportShape(item) {\n\t\tvar type = item._type,\n\t\t\tradius = item._radius,\n\t\t\tattrs = getTransform(item._matrix, true, type !== 'rectangle');\n\t\tif (type === 'rectangle') {\n\t\t\ttype = 'rect';\n\t\t\tvar size = item._size,\n\t\t\t\twidth = size.width,\n\t\t\t\theight = size.height;\n\t\t\tattrs.x -= width / 2;\n\t\t\tattrs.y -= height / 2;\n\t\t\tattrs.width = width;\n\t\t\tattrs.height = height;\n\t\t\tif (radius.isZero())\n\t\t\t\tradius = null;\n\t\t}\n\t\tif (radius) {\n\t\t\tif (type === 'circle') {\n\t\t\t\tattrs.r = radius;\n\t\t\t} else {\n\t\t\t\tattrs.rx = radius.width;\n\t\t\t\tattrs.ry = radius.height;\n\t\t\t}\n\t\t}\n\t\treturn SvgElement.create(type, attrs, formatter);\n\t}\n\n\tfunction exportCompoundPath(item, options) {\n\t\tvar attrs = getTransform(item._matrix);\n\t\tvar data = item.getPathData(null, options.precision);\n\t\tif (data)\n\t\t\tattrs.d = data;\n\t\treturn SvgElement.create('path', attrs, formatter);\n\t}\n\n\tfunction exportSymbolItem(item, options) {\n\t\tvar attrs = getTransform(item._matrix, true),\n\t\t\tdefinition = item._definition,\n\t\t\tnode = getDefinition(definition, 'symbol'),\n\t\t\tdefinitionItem = definition._item,\n\t\t\tbounds = definitionItem.getStrokeBounds();\n\t\tif (!node) {\n\t\t\tnode = SvgElement.create('symbol', {\n\t\t\t\tviewBox: formatter.rectangle(bounds)\n\t\t\t});\n\t\t\tnode.appendChild(exportSVG(definitionItem, options));\n\t\t\tsetDefinition(definition, node, 'symbol');\n\t\t}\n\t\tattrs.href = '#' + node.id;\n\t\tattrs.x += bounds.x;\n\t\tattrs.y += bounds.y;\n\t\tattrs.width = bounds.width;\n\t\tattrs.height = bounds.height;\n\t\tattrs.overflow = 'visible';\n\t\treturn SvgElement.create('use', attrs, formatter);\n\t}\n\n\tfunction exportGradient(color) {\n\t\tvar gradientNode = getDefinition(color, 'color');\n\t\tif (!gradientNode) {\n\t\t\tvar gradient = color.getGradient(),\n\t\t\t\tradial = gradient._radial,\n\t\t\t\torigin = color.getOrigin(),\n\t\t\t\tdestination = color.getDestination(),\n\t\t\t\tattrs;\n\t\t\tif (radial) {\n\t\t\t\tattrs = {\n\t\t\t\t\tcx: origin.x,\n\t\t\t\t\tcy: origin.y,\n\t\t\t\t\tr: origin.getDistance(destination)\n\t\t\t\t};\n\t\t\t\tvar highlight = color.getHighlight();\n\t\t\t\tif (highlight) {\n\t\t\t\t\tattrs.fx = highlight.x;\n\t\t\t\t\tattrs.fy = highlight.y;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tattrs = {\n\t\t\t\t\tx1: origin.x,\n\t\t\t\t\ty1: origin.y,\n\t\t\t\t\tx2: destination.x,\n\t\t\t\t\ty2: destination.y\n\t\t\t\t};\n\t\t\t}\n\t\t\tattrs.gradientUnits = 'userSpaceOnUse';\n\t\t\tgradientNode = SvgElement.create((radial ? 'radial' : 'linear')\n\t\t\t\t\t+ 'Gradient', attrs, formatter);\n\t\t\tvar stops = gradient._stops;\n\t\t\tfor (var i = 0, l = stops.length; i < l; i++) {\n\t\t\t\tvar stop = stops[i],\n\t\t\t\t\tstopColor = stop._color,\n\t\t\t\t\talpha = stopColor.getAlpha(),\n\t\t\t\t\toffset = stop._offset;\n\t\t\t\tattrs = {\n\t\t\t\t\toffset: offset == null ? i / (l - 1) : offset\n\t\t\t\t};\n\t\t\t\tif (stopColor)\n\t\t\t\t\tattrs['stop-color'] = stopColor.toCSS(true);\n\t\t\t\tif (alpha < 1)\n\t\t\t\t\tattrs['stop-opacity'] = alpha;\n\t\t\t\tgradientNode.appendChild(\n\t\t\t\t\t\tSvgElement.create('stop', attrs, formatter));\n\t\t\t}\n\t\t\tsetDefinition(color, gradientNode, 'color');\n\t\t}\n\t\treturn 'url(#' + gradientNode.id + ')';\n\t}\n\n\tfunction exportText(item) {\n\t\tvar node = SvgElement.create('text', getTransform(item._matrix, true),\n\t\t\t\tformatter);\n\t\tnode.textContent = item._content;\n\t\treturn node;\n\t}\n\n\tvar exporters = {\n\t\tGroup: exportGroup,\n\t\tLayer: exportGroup,\n\t\tRaster: exportRaster,\n\t\tPath: exportPath,\n\t\tShape: exportShape,\n\t\tCompoundPath: exportCompoundPath,\n\t\tSymbolItem: exportSymbolItem,\n\t\tPointText: exportText\n\t};\n\n\tfunction applyStyle(item, node, options, isRoot) {\n\t\tvar attrs = {},\n\t\t\tparent = !isRoot && item.getParent(),\n\t\t\tstyle = [];\n\n\t\tif (item._name != null)\n\t\t\tattrs.id = item._name;\n\n\t\tBase.each(SvgStyles, function(entry) {\n\t\t\tvar get = entry.get,\n\t\t\t\ttype = entry.type,\n\t\t\t\tvalue = item[get]();\n\t\t\tif (entry.exportFilter\n\t\t\t\t\t? entry.exportFilter(item, value)\n\t\t\t\t\t: options.reduceAttributes == false\n\t\t\t\t\t\t|| !parent || !Base.equals(parent[get](), value)) {\n\t\t\t\tif (type === 'color' && value != null) {\n\t\t\t\t\tvar alpha = value.getAlpha();\n\t\t\t\t\tif (alpha < 1)\n\t\t\t\t\t\tattrs[entry.attribute + '-opacity'] = alpha;\n\t\t\t\t}\n\t\t\t\tif (type === 'style') {\n\t\t\t\t\tstyle.push(entry.attribute + ': ' + value);\n\t\t\t\t} else {\n\t\t\t\t\tattrs[entry.attribute] = value == null ? 'none'\n\t\t\t\t\t\t\t: type === 'color' ? value.gradient\n\t\t\t\t\t\t\t\t? exportGradient(value, item)\n\t\t\t\t\t\t\t\t: value.toCSS(true)\n\t\t\t\t\t\t\t: type === 'array' ? value.join(',')\n\t\t\t\t\t\t\t: type === 'lookup' ? entry.toSVG[value]\n\t\t\t\t\t\t\t: value;\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\n\t\tif (style.length)\n\t\t\tattrs.style = style.join(';');\n\n\t\tif (attrs.opacity === 1)\n\t\t\tdelete attrs.opacity;\n\n\t\tif (!item._visible)\n\t\t\tattrs.visibility = 'hidden';\n\n\t\treturn SvgElement.set(node, attrs, formatter);\n\t}\n\n\tvar definitions;\n\tfunction getDefinition(item, type) {\n\t\tif (!definitions)\n\t\t\tdefinitions = { ids: {}, svgs: {} };\n\t\treturn item && definitions.svgs[type + '-'\n\t\t\t\t+ (item._id || item.__id || (item.__id = UID.get('svg')))];\n\t}\n\n\tfunction setDefinition(item, node, type) {\n\t\tif (!definitions)\n\t\t\tgetDefinition();\n\t\tvar typeId = definitions.ids[type] = (definitions.ids[type] || 0) + 1;\n\t\tnode.id = type + '-' + typeId;\n\t\tdefinitions.svgs[type + '-' + (item._id || item.__id)] = node;\n\t}\n\n\tfunction exportDefinitions(node, options) {\n\t\tvar svg = node,\n\t\t\tdefs = null;\n\t\tif (definitions) {\n\t\t\tsvg = node.nodeName.toLowerCase() === 'svg' && node;\n\t\t\tfor (var i in definitions.svgs) {\n\t\t\t\tif (!defs) {\n\t\t\t\t\tif (!svg) {\n\t\t\t\t\t\tsvg = SvgElement.create('svg');\n\t\t\t\t\t\tsvg.appendChild(node);\n\t\t\t\t\t}\n\t\t\t\t\tdefs = svg.insertBefore(SvgElement.create('defs'),\n\t\t\t\t\t\t\tsvg.firstChild);\n\t\t\t\t}\n\t\t\t\tdefs.appendChild(definitions.svgs[i]);\n\t\t\t}\n\t\t\tdefinitions = null;\n\t\t}\n\t\treturn options.asString\n\t\t\t\t? new self.XMLSerializer().serializeToString(svg)\n\t\t\t\t: svg;\n\t}\n\n\tfunction exportSVG(item, options, isRoot) {\n\t\tvar exporter = exporters[item._class],\n\t\t\tnode = exporter && exporter(item, options);\n\t\tif (node) {\n\t\t\tvar onExport = options.onExport;\n\t\t\tif (onExport)\n\t\t\t\tnode = onExport(item, node, options) || node;\n\t\t\tvar data = JSON.stringify(item._data);\n\t\t\tif (data && data !== '{}' && data !== 'null')\n\t\t\t\tnode.setAttribute('data-paper-data', data);\n\t\t}\n\t\treturn node && applyStyle(item, node, options, isRoot);\n\t}\n\n\tfunction setOptions(options) {\n\t\tif (!options)\n\t\t\toptions = {};\n\t\tformatter = new Formatter(options.precision);\n\t\treturn options;\n\t}\n\n\tItem.inject({\n\t\texportSVG: function(options) {\n\t\t\toptions = setOptions(options);\n\t\t\treturn exportDefinitions(exportSVG(this, options, true), options);\n\t\t}\n\t});\n\n\tProject.inject({\n\t\texportSVG: function(options) {\n\t\t\toptions = setOptions(options);\n\t\t\tvar children = this._children,\n\t\t\t\tview = this.getView(),\n\t\t\t\tbounds = Base.pick(options.bounds, 'view'),\n\t\t\t\tmx = options.matrix || bounds === 'view' && view._matrix,\n\t\t\t\tmatrix = mx && Matrix.read([mx]),\n\t\t\t\trect = bounds === 'view'\n\t\t\t\t\t? new Rectangle([0, 0], view.getViewSize())\n\t\t\t\t\t: bounds === 'content'\n\t\t\t\t\t\t? Item._getBounds(children, matrix, { stroke: true })\n\t\t\t\t\t\t\t.rect\n\t\t\t\t\t\t: Rectangle.read([bounds], 0, { readNull: true }),\n\t\t\t\tattrs = {\n\t\t\t\t\tversion: '1.1',\n\t\t\t\t\txmlns: SvgElement.svg,\n\t\t\t\t\t'xmlns:xlink': SvgElement.xlink,\n\t\t\t\t};\n\t\t\tif (rect) {\n\t\t\t\tattrs.width = rect.width;\n\t\t\t\tattrs.height = rect.height;\n\t\t\t\tif (rect.x || rect.x === 0 || rect.y || rect.y === 0)\n\t\t\t\t\tattrs.viewBox = formatter.rectangle(rect);\n\t\t\t}\n\t\t\tvar node = SvgElement.create('svg', attrs, formatter),\n\t\t\t\tparent = node;\n\t\t\tif (matrix && !matrix.isIdentity()) {\n\t\t\t\tparent = node.appendChild(SvgElement.create('g',\n\t\t\t\t\t\tgetTransform(matrix), formatter));\n\t\t\t}\n\t\t\tfor (var i = 0, l = children.length; i < l; i++) {\n\t\t\t\tparent.appendChild(exportSVG(children[i], options, true));\n\t\t\t}\n\t\t\treturn exportDefinitions(node, options);\n\t\t}\n\t});\n};\n\nnew function() {\n\n\tvar definitions = {},\n\t\trootSize;\n\n\tfunction getValue(node, name, isString, allowNull, allowPercent,\n\t\t\tdefaultValue) {\n\t\tvar value = SvgElement.get(node, name) || defaultValue,\n\t\t\tres = value == null\n\t\t\t\t? allowNull\n\t\t\t\t\t? null\n\t\t\t\t\t: isString ? '' : 0\n\t\t\t\t: isString\n\t\t\t\t\t? value\n\t\t\t\t\t: parseFloat(value);\n\t\treturn /%\\s*$/.test(value)\n\t\t\t? (res / 100) * (allowPercent ? 1\n\t\t\t\t: rootSize[/x|^width/.test(name) ? 'width' : 'height'])\n\t\t\t: res;\n\t}\n\n\tfunction getPoint(node, x, y, allowNull, allowPercent, defaultX, defaultY) {\n\t\tx = getValue(node, x || 'x', false, allowNull, allowPercent, defaultX);\n\t\ty = getValue(node, y || 'y', false, allowNull, allowPercent, defaultY);\n\t\treturn allowNull && (x == null || y == null) ? null\n\t\t\t\t: new Point(x, y);\n\t}\n\n\tfunction getSize(node, w, h, allowNull, allowPercent) {\n\t\tw = getValue(node, w || 'width', false, allowNull, allowPercent);\n\t\th = getValue(node, h || 'height', false, allowNull, allowPercent);\n\t\treturn allowNull && (w == null || h == null) ? null\n\t\t\t\t: new Size(w, h);\n\t}\n\n\tfunction convertValue(value, type, lookup) {\n\t\treturn value === 'none' ? null\n\t\t\t\t: type === 'number' ? parseFloat(value)\n\t\t\t\t: type === 'array' ?\n\t\t\t\t\tvalue ? value.split(/[\\s,]+/g).map(parseFloat) : []\n\t\t\t\t: type === 'color' ? getDefinition(value) || value\n\t\t\t\t: type === 'lookup' ? lookup[value]\n\t\t\t\t: value;\n\t}\n\n\tfunction importGroup(node, type, options, isRoot) {\n\t\tvar nodes = node.childNodes,\n\t\t\tisClip = type === 'clippath',\n\t\t\tisDefs = type === 'defs',\n\t\t\titem = new Group(),\n\t\t\tproject = item._project,\n\t\t\tcurrentStyle = project._currentStyle,\n\t\t\tchildren = [];\n\t\tif (!isClip && !isDefs) {\n\t\t\titem = applyAttributes(item, node, isRoot);\n\t\t\tproject._currentStyle = item._style.clone();\n\t\t}\n\t\tif (isRoot) {\n\t\t\tvar defs = node.querySelectorAll('defs');\n\t\t\tfor (var i = 0, l = defs.length; i < l; i++) {\n\t\t\t\timportNode(defs[i], options, false);\n\t\t\t}\n\t\t}\n\t\tfor (var i = 0, l = nodes.length; i < l; i++) {\n\t\t\tvar childNode = nodes[i],\n\t\t\t\tchild;\n\t\t\tif (childNode.nodeType === 1\n\t\t\t\t\t&& !/^defs$/i.test(childNode.nodeName)\n\t\t\t\t\t&& (child = importNode(childNode, options, false))\n\t\t\t\t\t&& !(child instanceof SymbolDefinition))\n\t\t\t\tchildren.push(child);\n\t\t}\n\t\titem.addChildren(children);\n\t\tif (isClip)\n\t\t\titem = applyAttributes(item.reduce(), node, isRoot);\n\t\tproject._currentStyle = currentStyle;\n\t\tif (isClip || isDefs) {\n\t\t\titem.remove();\n\t\t\titem = null;\n\t\t}\n\t\treturn item;\n\t}\n\n\tfunction importPoly(node, type) {\n\t\tvar coords = node.getAttribute('points').match(\n\t\t\t\t\t/[+-]?(?:\\d*\\.\\d+|\\d+\\.?)(?:[eE][+-]?\\d+)?/g),\n\t\t\tpoints = [];\n\t\tfor (var i = 0, l = coords.length; i < l; i += 2)\n\t\t\tpoints.push(new Point(\n\t\t\t\t\tparseFloat(coords[i]),\n\t\t\t\t\tparseFloat(coords[i + 1])));\n\t\tvar path = new Path(points);\n\t\tif (type === 'polygon')\n\t\t\tpath.closePath();\n\t\treturn path;\n\t}\n\n\tfunction importPath(node) {\n\t\treturn PathItem.create(node.getAttribute('d'));\n\t}\n\n\tfunction importGradient(node, type) {\n\t\tvar id = (getValue(node, 'href', true) || '').substring(1),\n\t\t\tradial = type === 'radialgradient',\n\t\t\tgradient;\n\t\tif (id) {\n\t\t\tgradient = definitions[id].getGradient();\n\t\t\tif (gradient._radial ^ radial) {\n\t\t\t\tgradient = gradient.clone();\n\t\t\t\tgradient._radial = radial;\n\t\t\t}\n\t\t} else {\n\t\t\tvar nodes = node.childNodes,\n\t\t\t\tstops = [];\n\t\t\tfor (var i = 0, l = nodes.length; i < l; i++) {\n\t\t\t\tvar child = nodes[i];\n\t\t\t\tif (child.nodeType === 1)\n\t\t\t\t\tstops.push(applyAttributes(new GradientStop(), child));\n\t\t\t}\n\t\t\tgradient = new Gradient(stops, radial);\n\t\t}\n\t\tvar origin, destination, highlight,\n\t\t\tscaleToBounds = getValue(node, 'gradientUnits', true) !==\n\t\t\t\t'userSpaceOnUse';\n\t\tif (radial) {\n\t\t\torigin = getPoint(node, 'cx', 'cy', false, scaleToBounds,\n\t\t\t\t'50%', '50%');\n\t\t\tdestination = origin.add(\n\t\t\t\tgetValue(node, 'r', false, false, scaleToBounds, '50%'), 0);\n\t\t\thighlight = getPoint(node, 'fx', 'fy', true, scaleToBounds);\n\t\t} else {\n\t\t\torigin = getPoint(node, 'x1', 'y1', false, scaleToBounds,\n\t\t\t\t'0%', '0%');\n\t\t\tdestination = getPoint(node, 'x2', 'y2', false, scaleToBounds,\n\t\t\t\t'100%', '0%');\n\t\t}\n\t\tvar color = applyAttributes(\n\t\t\t\tnew Color(gradient, origin, destination, highlight), node);\n\t\tcolor._scaleToBounds = scaleToBounds;\n\t\treturn null;\n\t}\n\n\tvar importers = {\n\t\t'#document': function (node, type, options, isRoot) {\n\t\t\tvar nodes = node.childNodes;\n\t\t\tfor (var i = 0, l = nodes.length; i < l; i++) {\n\t\t\t\tvar child = nodes[i];\n\t\t\t\tif (child.nodeType === 1)\n\t\t\t\t\treturn importNode(child, options, isRoot);\n\t\t\t}\n\t\t},\n\t\tg: importGroup,\n\t\tsvg: importGroup,\n\t\tclippath: importGroup,\n\t\tpolygon: importPoly,\n\t\tpolyline: importPoly,\n\t\tpath: importPath,\n\t\tlineargradient: importGradient,\n\t\tradialgradient: importGradient,\n\n\t\timage: function (node) {\n\t\t\tvar raster = new Raster(getValue(node, 'href', true));\n\t\t\traster.on('load', function() {\n\t\t\t\tvar size = getSize(node);\n\t\t\t\tthis.setSize(size);\n\t\t\t\tvar center = getPoint(node).add(size.divide(2));\n\t\t\t\tthis._matrix.append(new Matrix().translate(center));\n\t\t\t});\n\t\t\treturn raster;\n\t\t},\n\n\t\tsymbol: function(node, type, options, isRoot) {\n\t\t\treturn new SymbolDefinition(\n\t\t\t\t\timportGroup(node, type, options, isRoot), true);\n\t\t},\n\n\t\tdefs: importGroup,\n\n\t\tuse: function(node) {\n\t\t\tvar id = (getValue(node, 'href', true) || '').substring(1),\n\t\t\t\tdefinition = definitions[id],\n\t\t\t\tpoint = getPoint(node);\n\t\t\treturn definition\n\t\t\t\t\t? definition instanceof SymbolDefinition\n\t\t\t\t\t\t? definition.place(point)\n\t\t\t\t\t\t: definition.clone().translate(point)\n\t\t\t\t\t: null;\n\t\t},\n\n\t\tcircle: function(node) {\n\t\t\treturn new Shape.Circle(\n\t\t\t\t\tgetPoint(node, 'cx', 'cy'),\n\t\t\t\t\tgetValue(node, 'r'));\n\t\t},\n\n\t\tellipse: function(node) {\n\t\t\treturn new Shape.Ellipse({\n\t\t\t\tcenter: getPoint(node, 'cx', 'cy'),\n\t\t\t\tradius: getSize(node, 'rx', 'ry')\n\t\t\t});\n\t\t},\n\n\t\trect: function(node) {\n\t\t\treturn new Shape.Rectangle(new Rectangle(\n\t\t\t\t\t\tgetPoint(node),\n\t\t\t\t\t\tgetSize(node)\n\t\t\t\t\t), getSize(node, 'rx', 'ry'));\n\t\t\t},\n\n\t\tline: function(node) {\n\t\t\treturn new Path.Line(\n\t\t\t\t\tgetPoint(node, 'x1', 'y1'),\n\t\t\t\t\tgetPoint(node, 'x2', 'y2'));\n\t\t},\n\n\t\ttext: function(node) {\n\t\t\tvar text = new PointText(getPoint(node).add(\n\t\t\t\t\tgetPoint(node, 'dx', 'dy')));\n\t\t\ttext.setContent(node.textContent.trim() || '');\n\t\t\treturn text;\n\t\t},\n\n\t\tswitch: importGroup\n\t};\n\n\tfunction applyTransform(item, value, name, node) {\n\t\tif (item.transform) {\n\t\t\tvar transforms = (node.getAttribute(name) || '').split(/\\)\\s*/g),\n\t\t\t\tmatrix = new Matrix();\n\t\t\tfor (var i = 0, l = transforms.length; i < l; i++) {\n\t\t\t\tvar transform = transforms[i];\n\t\t\t\tif (!transform)\n\t\t\t\t\tbreak;\n\t\t\t\tvar parts = transform.split(/\\(\\s*/),\n\t\t\t\t\tcommand = parts[0].trim(),\n\t\t\t\t\tv = parts[1].split(/[\\s,]+/g);\n\t\t\t\tfor (var j = 0, m = v.length; j < m; j++)\n\t\t\t\t\tv[j] = parseFloat(v[j]);\n\t\t\t\tswitch (command) {\n\t\t\t\tcase 'matrix':\n\t\t\t\t\tmatrix.append(\n\t\t\t\t\t\t\tnew Matrix(v[0], v[1], v[2], v[3], v[4], v[5]));\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'rotate':\n\t\t\t\t\tmatrix.rotate(v[0], v[1] || 0, v[2] || 0);\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'translate':\n\t\t\t\t\tmatrix.translate(v[0], v[1] || 0);\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'scale':\n\t\t\t\t\tmatrix.scale(v);\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'skewX':\n\t\t\t\t\tmatrix.skew(v[0], 0);\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'skewY':\n\t\t\t\t\tmatrix.skew(0, v[0]);\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t\titem.transform(matrix);\n\t\t}\n\t}\n\n\tfunction applyOpacity(item, value, name) {\n\t\tvar key = name === 'fill-opacity' ? 'getFillColor' : 'getStrokeColor',\n\t\t\tcolor = item[key] && item[key]();\n\t\tif (color)\n\t\t\tcolor.setAlpha(parseFloat(value));\n\t}\n\n\tvar attributes = Base.set(Base.each(SvgStyles, function(entry) {\n\t\tthis[entry.attribute] = function(item, value) {\n\t\t\tif (item[entry.set]) {\n\t\t\t\titem[entry.set](convertValue(value, entry.type, entry.fromSVG));\n\t\t\t\tif (entry.type === 'color') {\n\t\t\t\t\tvar color = item[entry.get]();\n\t\t\t\t\tif (color) {\n\t\t\t\t\t\tif (color._scaleToBounds) {\n\t\t\t\t\t\t\tvar bounds = item.getBounds();\n\t\t\t\t\t\t\tcolor.transform(new Matrix()\n\t\t\t\t\t\t\t\t.translate(bounds.getPoint())\n\t\t\t\t\t\t\t\t.scale(bounds.getSize()));\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\t}, {}), {\n\t\tid: function(item, value) {\n\t\t\tdefinitions[value] = item;\n\t\t\tif (item.setName)\n\t\t\t\titem.setName(value);\n\t\t},\n\n\t\t'clip-path': function(item, value) {\n\t\t\tvar clip = getDefinition(value);\n\t\t\tif (clip) {\n\t\t\t\tclip = clip.clone();\n\t\t\t\tclip.setClipMask(true);\n\t\t\t\tif (item instanceof Group) {\n\t\t\t\t\titem.insertChild(0, clip);\n\t\t\t\t} else {\n\t\t\t\t\treturn new Group(clip, item);\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\n\t\tgradientTransform: applyTransform,\n\t\ttransform: applyTransform,\n\n\t\t'fill-opacity': applyOpacity,\n\t\t'stroke-opacity': applyOpacity,\n\n\t\tvisibility: function(item, value) {\n\t\t\tif (item.setVisible)\n\t\t\t\titem.setVisible(value === 'visible');\n\t\t},\n\n\t\tdisplay: function(item, value) {\n\t\t\tif (item.setVisible)\n\t\t\t\titem.setVisible(value !== null);\n\t\t},\n\n\t\t'stop-color': function(item, value) {\n\t\t\tif (item.setColor)\n\t\t\t\titem.setColor(value);\n\t\t},\n\n\t\t'stop-opacity': function(item, value) {\n\t\t\tif (item._color)\n\t\t\t\titem._color.setAlpha(parseFloat(value));\n\t\t},\n\n\t\toffset: function(item, value) {\n\t\t\tif (item.setOffset) {\n\t\t\t\tvar percent = value.match(/(.*)%$/);\n\t\t\t\titem.setOffset(percent ? percent[1] / 100 : parseFloat(value));\n\t\t\t}\n\t\t},\n\n\t\tviewBox: function(item, value, name, node, styles) {\n\t\t\tvar rect = new Rectangle(convertValue(value, 'array')),\n\t\t\t\tsize = getSize(node, null, null, true),\n\t\t\t\tgroup,\n\t\t\t\tmatrix;\n\t\t\tif (item instanceof Group) {\n\t\t\t\tvar scale = size ? size.divide(rect.getSize()) : 1,\n\t\t\t\tmatrix = new Matrix().scale(scale)\n\t\t\t\t\t\t.translate(rect.getPoint().negate());\n\t\t\t\tgroup = item;\n\t\t\t} else if (item instanceof SymbolDefinition) {\n\t\t\t\tif (size)\n\t\t\t\t\trect.setSize(size);\n\t\t\t\tgroup = item._item;\n\t\t\t}\n\t\t\tif (group)  {\n\t\t\t\tif (getAttribute(node, 'overflow', styles) !== 'visible') {\n\t\t\t\t\tvar clip = new Shape.Rectangle(rect);\n\t\t\t\t\tclip.setClipMask(true);\n\t\t\t\t\tgroup.addChild(clip);\n\t\t\t\t}\n\t\t\t\tif (matrix)\n\t\t\t\t\tgroup.transform(matrix);\n\t\t\t}\n\t\t}\n\t});\n\n\tfunction getAttribute(node, name, styles) {\n\t\tvar attr = node.attributes[name],\n\t\t\tvalue = attr && attr.value;\n\t\tif (!value && node.style) {\n\t\t\tvar style = Base.camelize(name);\n\t\t\tvalue = node.style[style];\n\t\t\tif (!value && styles.node[style] !== styles.parent[style])\n\t\t\t\tvalue = styles.node[style];\n\t\t}\n\t\treturn !value ? undefined\n\t\t\t\t: value === 'none' ? null\n\t\t\t\t: value;\n\t}\n\n\tfunction applyAttributes(item, node, isRoot) {\n\t\tvar parent = node.parentNode,\n\t\t\tstyles = {\n\t\t\t\tnode: DomElement.getStyles(node) || {},\n\t\t\t\tparent: !isRoot && !/^defs$/i.test(parent.tagName)\n\t\t\t\t\t\t&& DomElement.getStyles(parent) || {}\n\t\t\t};\n\t\tBase.each(attributes, function(apply, name) {\n\t\t\tvar value = getAttribute(node, name, styles);\n\t\t\titem = value !== undefined\n\t\t\t\t\t&& apply(item, value, name, node, styles) || item;\n\t\t});\n\t\treturn item;\n\t}\n\n\tfunction getDefinition(value) {\n\t\tvar match = value && value.match(/\\((?:[\"'#]*)([^\"')]+)/),\n\t\t\tname = match && match[1],\n\t\t\tres = name && definitions[window\n\t\t\t\t\t? name.replace(window.location.href.split('#')[0] + '#', '')\n\t\t\t\t\t: name];\n\t\tif (res && res._scaleToBounds) {\n\t\t\tres = res.clone();\n\t\t\tres._scaleToBounds = true;\n\t\t}\n\t\treturn res;\n\t}\n\n\tfunction importNode(node, options, isRoot) {\n\t\tvar type = node.nodeName.toLowerCase(),\n\t\t\tisElement = type !== '#document',\n\t\t\tbody = document.body,\n\t\t\tcontainer,\n\t\t\tparent,\n\t\t\tnext;\n\t\tif (isRoot && isElement) {\n\t\t\trootSize = paper.getView().getSize();\n\t\t\trootSize = getSize(node, null, null, true) || rootSize;\n\t\t\tcontainer = SvgElement.create('svg', {\n\t\t\t\tstyle: 'stroke-width: 1px; stroke-miterlimit: 10'\n\t\t\t});\n\t\t\tparent = node.parentNode;\n\t\t\tnext = node.nextSibling;\n\t\t\tcontainer.appendChild(node);\n\t\t\tbody.appendChild(container);\n\t\t}\n\t\tvar settings = paper.settings,\n\t\t\tapplyMatrix = settings.applyMatrix,\n\t\t\tinsertItems = settings.insertItems;\n\t\tsettings.applyMatrix = false;\n\t\tsettings.insertItems = false;\n\t\tvar importer = importers[type],\n\t\t\titem = importer && importer(node, type, options, isRoot) || null;\n\t\tsettings.insertItems = insertItems;\n\t\tsettings.applyMatrix = applyMatrix;\n\t\tif (item) {\n\t\t\tif (isElement && !(item instanceof Group))\n\t\t\t\titem = applyAttributes(item, node, isRoot);\n\t\t\tvar onImport = options.onImport,\n\t\t\t\tdata = isElement && node.getAttribute('data-paper-data');\n\t\t\tif (onImport)\n\t\t\t\titem = onImport(node, item, options) || item;\n\t\t\tif (options.expandShapes && item instanceof Shape) {\n\t\t\t\titem.remove();\n\t\t\t\titem = item.toPath();\n\t\t\t}\n\t\t\tif (data)\n\t\t\t\titem._data = JSON.parse(data);\n\t\t}\n\t\tif (container) {\n\t\t\tbody.removeChild(container);\n\t\t\tif (parent) {\n\t\t\t\tif (next) {\n\t\t\t\t\tparent.insertBefore(node, next);\n\t\t\t\t} else {\n\t\t\t\t\tparent.appendChild(node);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tif (isRoot) {\n\t\t\tdefinitions = {};\n\t\t\tif (item && Base.pick(options.applyMatrix, applyMatrix))\n\t\t\t\titem.matrix.apply(true, true);\n\t\t}\n\t\treturn item;\n\t}\n\n\tfunction importSVG(source, options, owner) {\n\t\tif (!source)\n\t\t\treturn null;\n\t\toptions = typeof options === 'function' ? { onLoad: options }\n\t\t\t\t: options || {};\n\t\tvar scope = paper,\n\t\t\titem = null;\n\n\t\tfunction onLoad(svg) {\n\t\t\ttry {\n\t\t\t\tvar node = typeof svg === 'object'\n\t\t\t\t\t? svg\n\t\t\t\t\t: new self.DOMParser().parseFromString(\n\t\t\t\t\t\tsvg.trim(),\n\t\t\t\t\t\t'image/svg+xml'\n\t\t\t\t\t);\n\t\t\t\tif (!node.nodeName) {\n\t\t\t\t\tnode = null;\n\t\t\t\t\tthrow new Error('Unsupported SVG source: ' + source);\n\t\t\t\t}\n\t\t\t\tpaper = scope;\n\t\t\t\titem = importNode(node, options, true);\n\t\t\t\tif (!options || options.insert !== false) {\n\t\t\t\t\towner._insertItem(undefined, item);\n\t\t\t\t}\n\t\t\t\tvar onLoad = options.onLoad;\n\t\t\t\tif (onLoad)\n\t\t\t\t\tonLoad(item, svg);\n\t\t\t} catch (e) {\n\t\t\t\tonError(e);\n\t\t\t}\n\t\t}\n\n\t\tfunction onError(message, status) {\n\t\t\tvar onError = options.onError;\n\t\t\tif (onError) {\n\t\t\t\tonError(message, status);\n\t\t\t} else {\n\t\t\t\tthrow new Error(message);\n\t\t\t}\n\t\t}\n\n\t\tif (typeof source === 'string' && !/^[\\s\\S]*</.test(source)) {\n\t\t\tvar node = document.getElementById(source);\n\t\t\tif (node) {\n\t\t\t\tonLoad(node);\n\t\t\t} else {\n\t\t\t\tHttp.request({\n\t\t\t\t\turl: source,\n\t\t\t\t\tasync: true,\n\t\t\t\t\tonLoad: onLoad,\n\t\t\t\t\tonError: onError\n\t\t\t\t});\n\t\t\t}\n\t\t} else if (typeof File !== 'undefined' && source instanceof File) {\n\t\t\tvar reader = new FileReader();\n\t\t\treader.onload = function() {\n\t\t\t\tonLoad(reader.result);\n\t\t\t};\n\t\t\treader.onerror = function() {\n\t\t\t\tonError(reader.error);\n\t\t\t};\n\t\t\treturn reader.readAsText(source);\n\t\t} else {\n\t\t\tonLoad(source);\n\t\t}\n\n\t\treturn item;\n\t}\n\n\tItem.inject({\n\t\timportSVG: function(node, options) {\n\t\t\treturn importSVG(node, options, this);\n\t\t}\n\t});\n\n\tProject.inject({\n\t\timportSVG: function(node, options) {\n\t\t\tthis.activate();\n\t\t\treturn importSVG(node, options, this);\n\t\t}\n\t});\n};\n\nBase.exports.PaperScript = function() {\n\tvar global = this,\n\t\tacorn = global.acorn;\n\tif (!acorn && typeof require !== 'undefined') {\n\t\ttry { acorn = require('acorn'); } catch(e) {}\n\t}\n\tif (!acorn) {\n\t\tvar exports, module;\n\t\tacorn = exports = module = {};\n\n(function(root, mod) {\n  if (typeof exports == \"object\" && typeof module == \"object\") return mod(exports);\n  if (typeof define == \"function\" && define.amd) return define([\"exports\"], mod);\n  mod(root.acorn || (root.acorn = {}));\n})(this, function(exports) {\n  \"use strict\";\n\n  exports.version = \"0.5.0\";\n\n  var options, input, inputLen, sourceFile;\n\n  exports.parse = function(inpt, opts) {\n\tinput = String(inpt); inputLen = input.length;\n\tsetOptions(opts);\n\tinitTokenState();\n\treturn parseTopLevel(options.program);\n  };\n\n  var defaultOptions = exports.defaultOptions = {\n\tecmaVersion: 5,\n\tstrictSemicolons: false,\n\tallowTrailingCommas: true,\n\tforbidReserved: false,\n\tallowReturnOutsideFunction: false,\n\tlocations: false,\n\tonComment: null,\n\tranges: false,\n\tprogram: null,\n\tsourceFile: null,\n\tdirectSourceFile: null\n  };\n\n  function setOptions(opts) {\n\toptions = opts || {};\n\tfor (var opt in defaultOptions) if (!Object.prototype.hasOwnProperty.call(options, opt))\n\t  options[opt] = defaultOptions[opt];\n\tsourceFile = options.sourceFile || null;\n  }\n\n  var getLineInfo = exports.getLineInfo = function(input, offset) {\n\tfor (var line = 1, cur = 0;;) {\n\t  lineBreak.lastIndex = cur;\n\t  var match = lineBreak.exec(input);\n\t  if (match && match.index < offset) {\n\t\t++line;\n\t\tcur = match.index + match[0].length;\n\t  } else break;\n\t}\n\treturn {line: line, column: offset - cur};\n  };\n\n  exports.tokenize = function(inpt, opts) {\n\tinput = String(inpt); inputLen = input.length;\n\tsetOptions(opts);\n\tinitTokenState();\n\n\tvar t = {};\n\tfunction getToken(forceRegexp) {\n\t  lastEnd = tokEnd;\n\t  readToken(forceRegexp);\n\t  t.start = tokStart; t.end = tokEnd;\n\t  t.startLoc = tokStartLoc; t.endLoc = tokEndLoc;\n\t  t.type = tokType; t.value = tokVal;\n\t  return t;\n\t}\n\tgetToken.jumpTo = function(pos, reAllowed) {\n\t  tokPos = pos;\n\t  if (options.locations) {\n\t\ttokCurLine = 1;\n\t\ttokLineStart = lineBreak.lastIndex = 0;\n\t\tvar match;\n\t\twhile ((match = lineBreak.exec(input)) && match.index < pos) {\n\t\t  ++tokCurLine;\n\t\t  tokLineStart = match.index + match[0].length;\n\t\t}\n\t  }\n\t  tokRegexpAllowed = reAllowed;\n\t  skipSpace();\n\t};\n\treturn getToken;\n  };\n\n  var tokPos;\n\n  var tokStart, tokEnd;\n\n  var tokStartLoc, tokEndLoc;\n\n  var tokType, tokVal;\n\n  var tokRegexpAllowed;\n\n  var tokCurLine, tokLineStart;\n\n  var lastStart, lastEnd, lastEndLoc;\n\n  var inFunction, labels, strict;\n\n  function raise(pos, message) {\n\tvar loc = getLineInfo(input, pos);\n\tmessage += \" (\" + loc.line + \":\" + loc.column + \")\";\n\tvar err = new SyntaxError(message);\n\terr.pos = pos; err.loc = loc; err.raisedAt = tokPos;\n\tthrow err;\n  }\n\n  var empty = [];\n\n  var _num = {type: \"num\"}, _regexp = {type: \"regexp\"}, _string = {type: \"string\"};\n  var _name = {type: \"name\"}, _eof = {type: \"eof\"};\n\n  var _break = {keyword: \"break\"}, _case = {keyword: \"case\", beforeExpr: true}, _catch = {keyword: \"catch\"};\n  var _continue = {keyword: \"continue\"}, _debugger = {keyword: \"debugger\"}, _default = {keyword: \"default\"};\n  var _do = {keyword: \"do\", isLoop: true}, _else = {keyword: \"else\", beforeExpr: true};\n  var _finally = {keyword: \"finally\"}, _for = {keyword: \"for\", isLoop: true}, _function = {keyword: \"function\"};\n  var _if = {keyword: \"if\"}, _return = {keyword: \"return\", beforeExpr: true}, _switch = {keyword: \"switch\"};\n  var _throw = {keyword: \"throw\", beforeExpr: true}, _try = {keyword: \"try\"}, _var = {keyword: \"var\"};\n  var _while = {keyword: \"while\", isLoop: true}, _with = {keyword: \"with\"}, _new = {keyword: \"new\", beforeExpr: true};\n  var _this = {keyword: \"this\"};\n\n  var _null = {keyword: \"null\", atomValue: null}, _true = {keyword: \"true\", atomValue: true};\n  var _false = {keyword: \"false\", atomValue: false};\n\n  var _in = {keyword: \"in\", binop: 7, beforeExpr: true};\n\n  var keywordTypes = {\"break\": _break, \"case\": _case, \"catch\": _catch,\n\t\t\t\t\t  \"continue\": _continue, \"debugger\": _debugger, \"default\": _default,\n\t\t\t\t\t  \"do\": _do, \"else\": _else, \"finally\": _finally, \"for\": _for,\n\t\t\t\t\t  \"function\": _function, \"if\": _if, \"return\": _return, \"switch\": _switch,\n\t\t\t\t\t  \"throw\": _throw, \"try\": _try, \"var\": _var, \"while\": _while, \"with\": _with,\n\t\t\t\t\t  \"null\": _null, \"true\": _true, \"false\": _false, \"new\": _new, \"in\": _in,\n\t\t\t\t\t  \"instanceof\": {keyword: \"instanceof\", binop: 7, beforeExpr: true}, \"this\": _this,\n\t\t\t\t\t  \"typeof\": {keyword: \"typeof\", prefix: true, beforeExpr: true},\n\t\t\t\t\t  \"void\": {keyword: \"void\", prefix: true, beforeExpr: true},\n\t\t\t\t\t  \"delete\": {keyword: \"delete\", prefix: true, beforeExpr: true}};\n\n  var _bracketL = {type: \"[\", beforeExpr: true}, _bracketR = {type: \"]\"}, _braceL = {type: \"{\", beforeExpr: true};\n  var _braceR = {type: \"}\"}, _parenL = {type: \"(\", beforeExpr: true}, _parenR = {type: \")\"};\n  var _comma = {type: \",\", beforeExpr: true}, _semi = {type: \";\", beforeExpr: true};\n  var _colon = {type: \":\", beforeExpr: true}, _dot = {type: \".\"}, _question = {type: \"?\", beforeExpr: true};\n\n  var _slash = {binop: 10, beforeExpr: true}, _eq = {isAssign: true, beforeExpr: true};\n  var _assign = {isAssign: true, beforeExpr: true};\n  var _incDec = {postfix: true, prefix: true, isUpdate: true}, _prefix = {prefix: true, beforeExpr: true};\n  var _logicalOR = {binop: 1, beforeExpr: true};\n  var _logicalAND = {binop: 2, beforeExpr: true};\n  var _bitwiseOR = {binop: 3, beforeExpr: true};\n  var _bitwiseXOR = {binop: 4, beforeExpr: true};\n  var _bitwiseAND = {binop: 5, beforeExpr: true};\n  var _equality = {binop: 6, beforeExpr: true};\n  var _relational = {binop: 7, beforeExpr: true};\n  var _bitShift = {binop: 8, beforeExpr: true};\n  var _plusMin = {binop: 9, prefix: true, beforeExpr: true};\n  var _multiplyModulo = {binop: 10, beforeExpr: true};\n\n  exports.tokTypes = {bracketL: _bracketL, bracketR: _bracketR, braceL: _braceL, braceR: _braceR,\n\t\t\t\t\t  parenL: _parenL, parenR: _parenR, comma: _comma, semi: _semi, colon: _colon,\n\t\t\t\t\t  dot: _dot, question: _question, slash: _slash, eq: _eq, name: _name, eof: _eof,\n\t\t\t\t\t  num: _num, regexp: _regexp, string: _string};\n  for (var kw in keywordTypes) exports.tokTypes[\"_\" + kw] = keywordTypes[kw];\n\n  function makePredicate(words) {\n\twords = words.split(\" \");\n\tvar f = \"\", cats = [];\n\tout: for (var i = 0; i < words.length; ++i) {\n\t  for (var j = 0; j < cats.length; ++j)\n\t\tif (cats[j][0].length == words[i].length) {\n\t\t  cats[j].push(words[i]);\n\t\t  continue out;\n\t\t}\n\t  cats.push([words[i]]);\n\t}\n\tfunction compareTo(arr) {\n\t  if (arr.length == 1) return f += \"return str === \" + JSON.stringify(arr[0]) + \";\";\n\t  f += \"switch(str){\";\n\t  for (var i = 0; i < arr.length; ++i) f += \"case \" + JSON.stringify(arr[i]) + \":\";\n\t  f += \"return true}return false;\";\n\t}\n\n\tif (cats.length > 3) {\n\t  cats.sort(function(a, b) {return b.length - a.length;});\n\t  f += \"switch(str.length){\";\n\t  for (var i = 0; i < cats.length; ++i) {\n\t\tvar cat = cats[i];\n\t\tf += \"case \" + cat[0].length + \":\";\n\t\tcompareTo(cat);\n\t  }\n\t  f += \"}\";\n\n\t} else {\n\t  compareTo(words);\n\t}\n\treturn new Function(\"str\", f);\n  }\n\n  var isReservedWord3 = makePredicate(\"abstract boolean byte char class double enum export extends final float goto implements import int interface long native package private protected public short static super synchronized throws transient volatile\");\n\n  var isReservedWord5 = makePredicate(\"class enum extends super const export import\");\n\n  var isStrictReservedWord = makePredicate(\"implements interface let package private protected public static yield\");\n\n  var isStrictBadIdWord = makePredicate(\"eval arguments\");\n\n  var isKeyword = makePredicate(\"break case catch continue debugger default do else finally for function if return switch throw try var while with null true false instanceof typeof void delete new in this\");\n\n  var nonASCIIwhitespace = /[\\u1680\\u180e\\u2000-\\u200a\\u202f\\u205f\\u3000\\ufeff]/;\n  var nonASCIIidentifierStartChars = \"\\xaa\\xb5\\xba\\xc0-\\xd6\\xd8-\\xf6\\xf8-\\u02c1\\u02c6-\\u02d1\\u02e0-\\u02e4\\u02ec\\u02ee\\u0370-\\u0374\\u0376\\u0377\\u037a-\\u037d\\u0386\\u0388-\\u038a\\u038c\\u038e-\\u03a1\\u03a3-\\u03f5\\u03f7-\\u0481\\u048a-\\u0527\\u0531-\\u0556\\u0559\\u0561-\\u0587\\u05d0-\\u05ea\\u05f0-\\u05f2\\u0620-\\u064a\\u066e\\u066f\\u0671-\\u06d3\\u06d5\\u06e5\\u06e6\\u06ee\\u06ef\\u06fa-\\u06fc\\u06ff\\u0710\\u0712-\\u072f\\u074d-\\u07a5\\u07b1\\u07ca-\\u07ea\\u07f4\\u07f5\\u07fa\\u0800-\\u0815\\u081a\\u0824\\u0828\\u0840-\\u0858\\u08a0\\u08a2-\\u08ac\\u0904-\\u0939\\u093d\\u0950\\u0958-\\u0961\\u0971-\\u0977\\u0979-\\u097f\\u0985-\\u098c\\u098f\\u0990\\u0993-\\u09a8\\u09aa-\\u09b0\\u09b2\\u09b6-\\u09b9\\u09bd\\u09ce\\u09dc\\u09dd\\u09df-\\u09e1\\u09f0\\u09f1\\u0a05-\\u0a0a\\u0a0f\\u0a10\\u0a13-\\u0a28\\u0a2a-\\u0a30\\u0a32\\u0a33\\u0a35\\u0a36\\u0a38\\u0a39\\u0a59-\\u0a5c\\u0a5e\\u0a72-\\u0a74\\u0a85-\\u0a8d\\u0a8f-\\u0a91\\u0a93-\\u0aa8\\u0aaa-\\u0ab0\\u0ab2\\u0ab3\\u0ab5-\\u0ab9\\u0abd\\u0ad0\\u0ae0\\u0ae1\\u0b05-\\u0b0c\\u0b0f\\u0b10\\u0b13-\\u0b28\\u0b2a-\\u0b30\\u0b32\\u0b33\\u0b35-\\u0b39\\u0b3d\\u0b5c\\u0b5d\\u0b5f-\\u0b61\\u0b71\\u0b83\\u0b85-\\u0b8a\\u0b8e-\\u0b90\\u0b92-\\u0b95\\u0b99\\u0b9a\\u0b9c\\u0b9e\\u0b9f\\u0ba3\\u0ba4\\u0ba8-\\u0baa\\u0bae-\\u0bb9\\u0bd0\\u0c05-\\u0c0c\\u0c0e-\\u0c10\\u0c12-\\u0c28\\u0c2a-\\u0c33\\u0c35-\\u0c39\\u0c3d\\u0c58\\u0c59\\u0c60\\u0c61\\u0c85-\\u0c8c\\u0c8e-\\u0c90\\u0c92-\\u0ca8\\u0caa-\\u0cb3\\u0cb5-\\u0cb9\\u0cbd\\u0cde\\u0ce0\\u0ce1\\u0cf1\\u0cf2\\u0d05-\\u0d0c\\u0d0e-\\u0d10\\u0d12-\\u0d3a\\u0d3d\\u0d4e\\u0d60\\u0d61\\u0d7a-\\u0d7f\\u0d85-\\u0d96\\u0d9a-\\u0db1\\u0db3-\\u0dbb\\u0dbd\\u0dc0-\\u0dc6\\u0e01-\\u0e30\\u0e32\\u0e33\\u0e40-\\u0e46\\u0e81\\u0e82\\u0e84\\u0e87\\u0e88\\u0e8a\\u0e8d\\u0e94-\\u0e97\\u0e99-\\u0e9f\\u0ea1-\\u0ea3\\u0ea5\\u0ea7\\u0eaa\\u0eab\\u0ead-\\u0eb0\\u0eb2\\u0eb3\\u0ebd\\u0ec0-\\u0ec4\\u0ec6\\u0edc-\\u0edf\\u0f00\\u0f40-\\u0f47\\u0f49-\\u0f6c\\u0f88-\\u0f8c\\u1000-\\u102a\\u103f\\u1050-\\u1055\\u105a-\\u105d\\u1061\\u1065\\u1066\\u106e-\\u1070\\u1075-\\u1081\\u108e\\u10a0-\\u10c5\\u10c7\\u10cd\\u10d0-\\u10fa\\u10fc-\\u1248\\u124a-\\u124d\\u1250-\\u1256\\u1258\\u125a-\\u125d\\u1260-\\u1288\\u128a-\\u128d\\u1290-\\u12b0\\u12b2-\\u12b5\\u12b8-\\u12be\\u12c0\\u12c2-\\u12c5\\u12c8-\\u12d6\\u12d8-\\u1310\\u1312-\\u1315\\u1318-\\u135a\\u1380-\\u138f\\u13a0-\\u13f4\\u1401-\\u166c\\u166f-\\u167f\\u1681-\\u169a\\u16a0-\\u16ea\\u16ee-\\u16f0\\u1700-\\u170c\\u170e-\\u1711\\u1720-\\u1731\\u1740-\\u1751\\u1760-\\u176c\\u176e-\\u1770\\u1780-\\u17b3\\u17d7\\u17dc\\u1820-\\u1877\\u1880-\\u18a8\\u18aa\\u18b0-\\u18f5\\u1900-\\u191c\\u1950-\\u196d\\u1970-\\u1974\\u1980-\\u19ab\\u19c1-\\u19c7\\u1a00-\\u1a16\\u1a20-\\u1a54\\u1aa7\\u1b05-\\u1b33\\u1b45-\\u1b4b\\u1b83-\\u1ba0\\u1bae\\u1baf\\u1bba-\\u1be5\\u1c00-\\u1c23\\u1c4d-\\u1c4f\\u1c5a-\\u1c7d\\u1ce9-\\u1cec\\u1cee-\\u1cf1\\u1cf5\\u1cf6\\u1d00-\\u1dbf\\u1e00-\\u1f15\\u1f18-\\u1f1d\\u1f20-\\u1f45\\u1f48-\\u1f4d\\u1f50-\\u1f57\\u1f59\\u1f5b\\u1f5d\\u1f5f-\\u1f7d\\u1f80-\\u1fb4\\u1fb6-\\u1fbc\\u1fbe\\u1fc2-\\u1fc4\\u1fc6-\\u1fcc\\u1fd0-\\u1fd3\\u1fd6-\\u1fdb\\u1fe0-\\u1fec\\u1ff2-\\u1ff4\\u1ff6-\\u1ffc\\u2071\\u207f\\u2090-\\u209c\\u2102\\u2107\\u210a-\\u2113\\u2115\\u2119-\\u211d\\u2124\\u2126\\u2128\\u212a-\\u212d\\u212f-\\u2139\\u213c-\\u213f\\u2145-\\u2149\\u214e\\u2160-\\u2188\\u2c00-\\u2c2e\\u2c30-\\u2c5e\\u2c60-\\u2ce4\\u2ceb-\\u2cee\\u2cf2\\u2cf3\\u2d00-\\u2d25\\u2d27\\u2d2d\\u2d30-\\u2d67\\u2d6f\\u2d80-\\u2d96\\u2da0-\\u2da6\\u2da8-\\u2dae\\u2db0-\\u2db6\\u2db8-\\u2dbe\\u2dc0-\\u2dc6\\u2dc8-\\u2dce\\u2dd0-\\u2dd6\\u2dd8-\\u2dde\\u2e2f\\u3005-\\u3007\\u3021-\\u3029\\u3031-\\u3035\\u3038-\\u303c\\u3041-\\u3096\\u309d-\\u309f\\u30a1-\\u30fa\\u30fc-\\u30ff\\u3105-\\u312d\\u3131-\\u318e\\u31a0-\\u31ba\\u31f0-\\u31ff\\u3400-\\u4db5\\u4e00-\\u9fcc\\ua000-\\ua48c\\ua4d0-\\ua4fd\\ua500-\\ua60c\\ua610-\\ua61f\\ua62a\\ua62b\\ua640-\\ua66e\\ua67f-\\ua697\\ua6a0-\\ua6ef\\ua717-\\ua71f\\ua722-\\ua788\\ua78b-\\ua78e\\ua790-\\ua793\\ua7a0-\\ua7aa\\ua7f8-\\ua801\\ua803-\\ua805\\ua807-\\ua80a\\ua80c-\\ua822\\ua840-\\ua873\\ua882-\\ua8b3\\ua8f2-\\ua8f7\\ua8fb\\ua90a-\\ua925\\ua930-\\ua946\\ua960-\\ua97c\\ua984-\\ua9b2\\ua9cf\\uaa00-\\uaa28\\uaa40-\\uaa42\\uaa44-\\uaa4b\\uaa60-\\uaa76\\uaa7a\\uaa80-\\uaaaf\\uaab1\\uaab5\\uaab6\\uaab9-\\uaabd\\uaac0\\uaac2\\uaadb-\\uaadd\\uaae0-\\uaaea\\uaaf2-\\uaaf4\\uab01-\\uab06\\uab09-\\uab0e\\uab11-\\uab16\\uab20-\\uab26\\uab28-\\uab2e\\uabc0-\\uabe2\\uac00-\\ud7a3\\ud7b0-\\ud7c6\\ud7cb-\\ud7fb\\uf900-\\ufa6d\\ufa70-\\ufad9\\ufb00-\\ufb06\\ufb13-\\ufb17\\ufb1d\\ufb1f-\\ufb28\\ufb2a-\\ufb36\\ufb38-\\ufb3c\\ufb3e\\ufb40\\ufb41\\ufb43\\ufb44\\ufb46-\\ufbb1\\ufbd3-\\ufd3d\\ufd50-\\ufd8f\\ufd92-\\ufdc7\\ufdf0-\\ufdfb\\ufe70-\\ufe74\\ufe76-\\ufefc\\uff21-\\uff3a\\uff41-\\uff5a\\uff66-\\uffbe\\uffc2-\\uffc7\\uffca-\\uffcf\\uffd2-\\uffd7\\uffda-\\uffdc\";\n  var nonASCIIidentifierChars = \"\\u0300-\\u036f\\u0483-\\u0487\\u0591-\\u05bd\\u05bf\\u05c1\\u05c2\\u05c4\\u05c5\\u05c7\\u0610-\\u061a\\u0620-\\u0649\\u0672-\\u06d3\\u06e7-\\u06e8\\u06fb-\\u06fc\\u0730-\\u074a\\u0800-\\u0814\\u081b-\\u0823\\u0825-\\u0827\\u0829-\\u082d\\u0840-\\u0857\\u08e4-\\u08fe\\u0900-\\u0903\\u093a-\\u093c\\u093e-\\u094f\\u0951-\\u0957\\u0962-\\u0963\\u0966-\\u096f\\u0981-\\u0983\\u09bc\\u09be-\\u09c4\\u09c7\\u09c8\\u09d7\\u09df-\\u09e0\\u0a01-\\u0a03\\u0a3c\\u0a3e-\\u0a42\\u0a47\\u0a48\\u0a4b-\\u0a4d\\u0a51\\u0a66-\\u0a71\\u0a75\\u0a81-\\u0a83\\u0abc\\u0abe-\\u0ac5\\u0ac7-\\u0ac9\\u0acb-\\u0acd\\u0ae2-\\u0ae3\\u0ae6-\\u0aef\\u0b01-\\u0b03\\u0b3c\\u0b3e-\\u0b44\\u0b47\\u0b48\\u0b4b-\\u0b4d\\u0b56\\u0b57\\u0b5f-\\u0b60\\u0b66-\\u0b6f\\u0b82\\u0bbe-\\u0bc2\\u0bc6-\\u0bc8\\u0bca-\\u0bcd\\u0bd7\\u0be6-\\u0bef\\u0c01-\\u0c03\\u0c46-\\u0c48\\u0c4a-\\u0c4d\\u0c55\\u0c56\\u0c62-\\u0c63\\u0c66-\\u0c6f\\u0c82\\u0c83\\u0cbc\\u0cbe-\\u0cc4\\u0cc6-\\u0cc8\\u0cca-\\u0ccd\\u0cd5\\u0cd6\\u0ce2-\\u0ce3\\u0ce6-\\u0cef\\u0d02\\u0d03\\u0d46-\\u0d48\\u0d57\\u0d62-\\u0d63\\u0d66-\\u0d6f\\u0d82\\u0d83\\u0dca\\u0dcf-\\u0dd4\\u0dd6\\u0dd8-\\u0ddf\\u0df2\\u0df3\\u0e34-\\u0e3a\\u0e40-\\u0e45\\u0e50-\\u0e59\\u0eb4-\\u0eb9\\u0ec8-\\u0ecd\\u0ed0-\\u0ed9\\u0f18\\u0f19\\u0f20-\\u0f29\\u0f35\\u0f37\\u0f39\\u0f41-\\u0f47\\u0f71-\\u0f84\\u0f86-\\u0f87\\u0f8d-\\u0f97\\u0f99-\\u0fbc\\u0fc6\\u1000-\\u1029\\u1040-\\u1049\\u1067-\\u106d\\u1071-\\u1074\\u1082-\\u108d\\u108f-\\u109d\\u135d-\\u135f\\u170e-\\u1710\\u1720-\\u1730\\u1740-\\u1750\\u1772\\u1773\\u1780-\\u17b2\\u17dd\\u17e0-\\u17e9\\u180b-\\u180d\\u1810-\\u1819\\u1920-\\u192b\\u1930-\\u193b\\u1951-\\u196d\\u19b0-\\u19c0\\u19c8-\\u19c9\\u19d0-\\u19d9\\u1a00-\\u1a15\\u1a20-\\u1a53\\u1a60-\\u1a7c\\u1a7f-\\u1a89\\u1a90-\\u1a99\\u1b46-\\u1b4b\\u1b50-\\u1b59\\u1b6b-\\u1b73\\u1bb0-\\u1bb9\\u1be6-\\u1bf3\\u1c00-\\u1c22\\u1c40-\\u1c49\\u1c5b-\\u1c7d\\u1cd0-\\u1cd2\\u1d00-\\u1dbe\\u1e01-\\u1f15\\u200c\\u200d\\u203f\\u2040\\u2054\\u20d0-\\u20dc\\u20e1\\u20e5-\\u20f0\\u2d81-\\u2d96\\u2de0-\\u2dff\\u3021-\\u3028\\u3099\\u309a\\ua640-\\ua66d\\ua674-\\ua67d\\ua69f\\ua6f0-\\ua6f1\\ua7f8-\\ua800\\ua806\\ua80b\\ua823-\\ua827\\ua880-\\ua881\\ua8b4-\\ua8c4\\ua8d0-\\ua8d9\\ua8f3-\\ua8f7\\ua900-\\ua909\\ua926-\\ua92d\\ua930-\\ua945\\ua980-\\ua983\\ua9b3-\\ua9c0\\uaa00-\\uaa27\\uaa40-\\uaa41\\uaa4c-\\uaa4d\\uaa50-\\uaa59\\uaa7b\\uaae0-\\uaae9\\uaaf2-\\uaaf3\\uabc0-\\uabe1\\uabec\\uabed\\uabf0-\\uabf9\\ufb20-\\ufb28\\ufe00-\\ufe0f\\ufe20-\\ufe26\\ufe33\\ufe34\\ufe4d-\\ufe4f\\uff10-\\uff19\\uff3f\";\n  var nonASCIIidentifierStart = new RegExp(\"[\" + nonASCIIidentifierStartChars + \"]\");\n  var nonASCIIidentifier = new RegExp(\"[\" + nonASCIIidentifierStartChars + nonASCIIidentifierChars + \"]\");\n\n  var newline = /[\\n\\r\\u2028\\u2029]/;\n\n  var lineBreak = /\\r\\n|[\\n\\r\\u2028\\u2029]/g;\n\n  var isIdentifierStart = exports.isIdentifierStart = function(code) {\n\tif (code < 65) return code === 36;\n\tif (code < 91) return true;\n\tif (code < 97) return code === 95;\n\tif (code < 123)return true;\n\treturn code >= 0xaa && nonASCIIidentifierStart.test(String.fromCharCode(code));\n  };\n\n  var isIdentifierChar = exports.isIdentifierChar = function(code) {\n\tif (code < 48) return code === 36;\n\tif (code < 58) return true;\n\tif (code < 65) return false;\n\tif (code < 91) return true;\n\tif (code < 97) return code === 95;\n\tif (code < 123)return true;\n\treturn code >= 0xaa && nonASCIIidentifier.test(String.fromCharCode(code));\n  };\n\n  function line_loc_t() {\n\tthis.line = tokCurLine;\n\tthis.column = tokPos - tokLineStart;\n  }\n\n  function initTokenState() {\n\ttokCurLine = 1;\n\ttokPos = tokLineStart = 0;\n\ttokRegexpAllowed = true;\n\tskipSpace();\n  }\n\n  function finishToken(type, val) {\n\ttokEnd = tokPos;\n\tif (options.locations) tokEndLoc = new line_loc_t;\n\ttokType = type;\n\tskipSpace();\n\ttokVal = val;\n\ttokRegexpAllowed = type.beforeExpr;\n  }\n\n  function skipBlockComment() {\n\tvar startLoc = options.onComment && options.locations && new line_loc_t;\n\tvar start = tokPos, end = input.indexOf(\"*/\", tokPos += 2);\n\tif (end === -1) raise(tokPos - 2, \"Unterminated comment\");\n\ttokPos = end + 2;\n\tif (options.locations) {\n\t  lineBreak.lastIndex = start;\n\t  var match;\n\t  while ((match = lineBreak.exec(input)) && match.index < tokPos) {\n\t\t++tokCurLine;\n\t\ttokLineStart = match.index + match[0].length;\n\t  }\n\t}\n\tif (options.onComment)\n\t  options.onComment(true, input.slice(start + 2, end), start, tokPos,\n\t\t\t\t\t\tstartLoc, options.locations && new line_loc_t);\n  }\n\n  function skipLineComment() {\n\tvar start = tokPos;\n\tvar startLoc = options.onComment && options.locations && new line_loc_t;\n\tvar ch = input.charCodeAt(tokPos+=2);\n\twhile (tokPos < inputLen && ch !== 10 && ch !== 13 && ch !== 8232 && ch !== 8233) {\n\t  ++tokPos;\n\t  ch = input.charCodeAt(tokPos);\n\t}\n\tif (options.onComment)\n\t  options.onComment(false, input.slice(start + 2, tokPos), start, tokPos,\n\t\t\t\t\t\tstartLoc, options.locations && new line_loc_t);\n  }\n\n  function skipSpace() {\n\twhile (tokPos < inputLen) {\n\t  var ch = input.charCodeAt(tokPos);\n\t  if (ch === 32) {\n\t\t++tokPos;\n\t  } else if (ch === 13) {\n\t\t++tokPos;\n\t\tvar next = input.charCodeAt(tokPos);\n\t\tif (next === 10) {\n\t\t  ++tokPos;\n\t\t}\n\t\tif (options.locations) {\n\t\t  ++tokCurLine;\n\t\t  tokLineStart = tokPos;\n\t\t}\n\t  } else if (ch === 10 || ch === 8232 || ch === 8233) {\n\t\t++tokPos;\n\t\tif (options.locations) {\n\t\t  ++tokCurLine;\n\t\t  tokLineStart = tokPos;\n\t\t}\n\t  } else if (ch > 8 && ch < 14) {\n\t\t++tokPos;\n\t  } else if (ch === 47) {\n\t\tvar next = input.charCodeAt(tokPos + 1);\n\t\tif (next === 42) {\n\t\t  skipBlockComment();\n\t\t} else if (next === 47) {\n\t\t  skipLineComment();\n\t\t} else break;\n\t  } else if (ch === 160) {\n\t\t++tokPos;\n\t  } else if (ch >= 5760 && nonASCIIwhitespace.test(String.fromCharCode(ch))) {\n\t\t++tokPos;\n\t  } else {\n\t\tbreak;\n\t  }\n\t}\n  }\n\n  function readToken_dot() {\n\tvar next = input.charCodeAt(tokPos + 1);\n\tif (next >= 48 && next <= 57) return readNumber(true);\n\t++tokPos;\n\treturn finishToken(_dot);\n  }\n\n  function readToken_slash() {\n\tvar next = input.charCodeAt(tokPos + 1);\n\tif (tokRegexpAllowed) {++tokPos; return readRegexp();}\n\tif (next === 61) return finishOp(_assign, 2);\n\treturn finishOp(_slash, 1);\n  }\n\n  function readToken_mult_modulo() {\n\tvar next = input.charCodeAt(tokPos + 1);\n\tif (next === 61) return finishOp(_assign, 2);\n\treturn finishOp(_multiplyModulo, 1);\n  }\n\n  function readToken_pipe_amp(code) {\n\tvar next = input.charCodeAt(tokPos + 1);\n\tif (next === code) return finishOp(code === 124 ? _logicalOR : _logicalAND, 2);\n\tif (next === 61) return finishOp(_assign, 2);\n\treturn finishOp(code === 124 ? _bitwiseOR : _bitwiseAND, 1);\n  }\n\n  function readToken_caret() {\n\tvar next = input.charCodeAt(tokPos + 1);\n\tif (next === 61) return finishOp(_assign, 2);\n\treturn finishOp(_bitwiseXOR, 1);\n  }\n\n  function readToken_plus_min(code) {\n\tvar next = input.charCodeAt(tokPos + 1);\n\tif (next === code) {\n\t  if (next == 45 && input.charCodeAt(tokPos + 2) == 62 &&\n\t\t  newline.test(input.slice(lastEnd, tokPos))) {\n\t\ttokPos += 3;\n\t\tskipLineComment();\n\t\tskipSpace();\n\t\treturn readToken();\n\t  }\n\t  return finishOp(_incDec, 2);\n\t}\n\tif (next === 61) return finishOp(_assign, 2);\n\treturn finishOp(_plusMin, 1);\n  }\n\n  function readToken_lt_gt(code) {\n\tvar next = input.charCodeAt(tokPos + 1);\n\tvar size = 1;\n\tif (next === code) {\n\t  size = code === 62 && input.charCodeAt(tokPos + 2) === 62 ? 3 : 2;\n\t  if (input.charCodeAt(tokPos + size) === 61) return finishOp(_assign, size + 1);\n\t  return finishOp(_bitShift, size);\n\t}\n\tif (next == 33 && code == 60 && input.charCodeAt(tokPos + 2) == 45 &&\n\t\tinput.charCodeAt(tokPos + 3) == 45) {\n\t  tokPos += 4;\n\t  skipLineComment();\n\t  skipSpace();\n\t  return readToken();\n\t}\n\tif (next === 61)\n\t  size = input.charCodeAt(tokPos + 2) === 61 ? 3 : 2;\n\treturn finishOp(_relational, size);\n  }\n\n  function readToken_eq_excl(code) {\n\tvar next = input.charCodeAt(tokPos + 1);\n\tif (next === 61) return finishOp(_equality, input.charCodeAt(tokPos + 2) === 61 ? 3 : 2);\n\treturn finishOp(code === 61 ? _eq : _prefix, 1);\n  }\n\n  function getTokenFromCode(code) {\n\tswitch(code) {\n\tcase 46:\n\t  return readToken_dot();\n\n\tcase 40: ++tokPos; return finishToken(_parenL);\n\tcase 41: ++tokPos; return finishToken(_parenR);\n\tcase 59: ++tokPos; return finishToken(_semi);\n\tcase 44: ++tokPos; return finishToken(_comma);\n\tcase 91: ++tokPos; return finishToken(_bracketL);\n\tcase 93: ++tokPos; return finishToken(_bracketR);\n\tcase 123: ++tokPos; return finishToken(_braceL);\n\tcase 125: ++tokPos; return finishToken(_braceR);\n\tcase 58: ++tokPos; return finishToken(_colon);\n\tcase 63: ++tokPos; return finishToken(_question);\n\n\tcase 48:\n\t  var next = input.charCodeAt(tokPos + 1);\n\t  if (next === 120 || next === 88) return readHexNumber();\n\tcase 49: case 50: case 51: case 52: case 53: case 54: case 55: case 56: case 57:\n\t  return readNumber(false);\n\n\tcase 34: case 39:\n\t  return readString(code);\n\n\tcase 47:\n\t  return readToken_slash(code);\n\n\tcase 37: case 42:\n\t  return readToken_mult_modulo();\n\n\tcase 124: case 38:\n\t  return readToken_pipe_amp(code);\n\n\tcase 94:\n\t  return readToken_caret();\n\n\tcase 43: case 45:\n\t  return readToken_plus_min(code);\n\n\tcase 60: case 62:\n\t  return readToken_lt_gt(code);\n\n\tcase 61: case 33:\n\t  return readToken_eq_excl(code);\n\n\tcase 126:\n\t  return finishOp(_prefix, 1);\n\t}\n\n\treturn false;\n  }\n\n  function readToken(forceRegexp) {\n\tif (!forceRegexp) tokStart = tokPos;\n\telse tokPos = tokStart + 1;\n\tif (options.locations) tokStartLoc = new line_loc_t;\n\tif (forceRegexp) return readRegexp();\n\tif (tokPos >= inputLen) return finishToken(_eof);\n\n\tvar code = input.charCodeAt(tokPos);\n\tif (isIdentifierStart(code) || code === 92 ) return readWord();\n\n\tvar tok = getTokenFromCode(code);\n\n\tif (tok === false) {\n\t  var ch = String.fromCharCode(code);\n\t  if (ch === \"\\\\\" || nonASCIIidentifierStart.test(ch)) return readWord();\n\t  raise(tokPos, \"Unexpected character '\" + ch + \"'\");\n\t}\n\treturn tok;\n  }\n\n  function finishOp(type, size) {\n\tvar str = input.slice(tokPos, tokPos + size);\n\ttokPos += size;\n\tfinishToken(type, str);\n  }\n\n  function readRegexp() {\n\tvar content = \"\", escaped, inClass, start = tokPos;\n\tfor (;;) {\n\t  if (tokPos >= inputLen) raise(start, \"Unterminated regular expression\");\n\t  var ch = input.charAt(tokPos);\n\t  if (newline.test(ch)) raise(start, \"Unterminated regular expression\");\n\t  if (!escaped) {\n\t\tif (ch === \"[\") inClass = true;\n\t\telse if (ch === \"]\" && inClass) inClass = false;\n\t\telse if (ch === \"/\" && !inClass) break;\n\t\tescaped = ch === \"\\\\\";\n\t  } else escaped = false;\n\t  ++tokPos;\n\t}\n\tvar content = input.slice(start, tokPos);\n\t++tokPos;\n\tvar mods = readWord1();\n\tif (mods && !/^[gmsiy]*$/.test(mods)) raise(start, \"Invalid regexp flag\");\n\ttry {\n\t  var value = new RegExp(content, mods);\n\t} catch (e) {\n\t  if (e instanceof SyntaxError) raise(start, e.message);\n\t  raise(e);\n\t}\n\treturn finishToken(_regexp, value);\n  }\n\n  function readInt(radix, len) {\n\tvar start = tokPos, total = 0;\n\tfor (var i = 0, e = len == null ? Infinity : len; i < e; ++i) {\n\t  var code = input.charCodeAt(tokPos), val;\n\t  if (code >= 97) val = code - 97 + 10;\n\t  else if (code >= 65) val = code - 65 + 10;\n\t  else if (code >= 48 && code <= 57) val = code - 48;\n\t  else val = Infinity;\n\t  if (val >= radix) break;\n\t  ++tokPos;\n\t  total = total * radix + val;\n\t}\n\tif (tokPos === start || len != null && tokPos - start !== len) return null;\n\n\treturn total;\n  }\n\n  function readHexNumber() {\n\ttokPos += 2;\n\tvar val = readInt(16);\n\tif (val == null) raise(tokStart + 2, \"Expected hexadecimal number\");\n\tif (isIdentifierStart(input.charCodeAt(tokPos))) raise(tokPos, \"Identifier directly after number\");\n\treturn finishToken(_num, val);\n  }\n\n  function readNumber(startsWithDot) {\n\tvar start = tokPos, isFloat = false, octal = input.charCodeAt(tokPos) === 48;\n\tif (!startsWithDot && readInt(10) === null) raise(start, \"Invalid number\");\n\tif (input.charCodeAt(tokPos) === 46) {\n\t  ++tokPos;\n\t  readInt(10);\n\t  isFloat = true;\n\t}\n\tvar next = input.charCodeAt(tokPos);\n\tif (next === 69 || next === 101) {\n\t  next = input.charCodeAt(++tokPos);\n\t  if (next === 43 || next === 45) ++tokPos;\n\t  if (readInt(10) === null) raise(start, \"Invalid number\");\n\t  isFloat = true;\n\t}\n\tif (isIdentifierStart(input.charCodeAt(tokPos))) raise(tokPos, \"Identifier directly after number\");\n\n\tvar str = input.slice(start, tokPos), val;\n\tif (isFloat) val = parseFloat(str);\n\telse if (!octal || str.length === 1) val = parseInt(str, 10);\n\telse if (/[89]/.test(str) || strict) raise(start, \"Invalid number\");\n\telse val = parseInt(str, 8);\n\treturn finishToken(_num, val);\n  }\n\n  function readString(quote) {\n\ttokPos++;\n\tvar out = \"\";\n\tfor (;;) {\n\t  if (tokPos >= inputLen) raise(tokStart, \"Unterminated string constant\");\n\t  var ch = input.charCodeAt(tokPos);\n\t  if (ch === quote) {\n\t\t++tokPos;\n\t\treturn finishToken(_string, out);\n\t  }\n\t  if (ch === 92) {\n\t\tch = input.charCodeAt(++tokPos);\n\t\tvar octal = /^[0-7]+/.exec(input.slice(tokPos, tokPos + 3));\n\t\tif (octal) octal = octal[0];\n\t\twhile (octal && parseInt(octal, 8) > 255) octal = octal.slice(0, -1);\n\t\tif (octal === \"0\") octal = null;\n\t\t++tokPos;\n\t\tif (octal) {\n\t\t  if (strict) raise(tokPos - 2, \"Octal literal in strict mode\");\n\t\t  out += String.fromCharCode(parseInt(octal, 8));\n\t\t  tokPos += octal.length - 1;\n\t\t} else {\n\t\t  switch (ch) {\n\t\t  case 110: out += \"\\n\"; break;\n\t\t  case 114: out += \"\\r\"; break;\n\t\t  case 120: out += String.fromCharCode(readHexChar(2)); break;\n\t\t  case 117: out += String.fromCharCode(readHexChar(4)); break;\n\t\t  case 85: out += String.fromCharCode(readHexChar(8)); break;\n\t\t  case 116: out += \"\\t\"; break;\n\t\t  case 98: out += \"\\b\"; break;\n\t\t  case 118: out += \"\\u000b\"; break;\n\t\t  case 102: out += \"\\f\"; break;\n\t\t  case 48: out += \"\\0\"; break;\n\t\t  case 13: if (input.charCodeAt(tokPos) === 10) ++tokPos;\n\t\t  case 10:\n\t\t\tif (options.locations) { tokLineStart = tokPos; ++tokCurLine; }\n\t\t\tbreak;\n\t\t  default: out += String.fromCharCode(ch); break;\n\t\t  }\n\t\t}\n\t  } else {\n\t\tif (ch === 13 || ch === 10 || ch === 8232 || ch === 8233) raise(tokStart, \"Unterminated string constant\");\n\t\tout += String.fromCharCode(ch);\n\t\t++tokPos;\n\t  }\n\t}\n  }\n\n  function readHexChar(len) {\n\tvar n = readInt(16, len);\n\tif (n === null) raise(tokStart, \"Bad character escape sequence\");\n\treturn n;\n  }\n\n  var containsEsc;\n\n  function readWord1() {\n\tcontainsEsc = false;\n\tvar word, first = true, start = tokPos;\n\tfor (;;) {\n\t  var ch = input.charCodeAt(tokPos);\n\t  if (isIdentifierChar(ch)) {\n\t\tif (containsEsc) word += input.charAt(tokPos);\n\t\t++tokPos;\n\t  } else if (ch === 92) {\n\t\tif (!containsEsc) word = input.slice(start, tokPos);\n\t\tcontainsEsc = true;\n\t\tif (input.charCodeAt(++tokPos) != 117)\n\t\t  raise(tokPos, \"Expecting Unicode escape sequence \\\\uXXXX\");\n\t\t++tokPos;\n\t\tvar esc = readHexChar(4);\n\t\tvar escStr = String.fromCharCode(esc);\n\t\tif (!escStr) raise(tokPos - 1, \"Invalid Unicode escape\");\n\t\tif (!(first ? isIdentifierStart(esc) : isIdentifierChar(esc)))\n\t\t  raise(tokPos - 4, \"Invalid Unicode escape\");\n\t\tword += escStr;\n\t  } else {\n\t\tbreak;\n\t  }\n\t  first = false;\n\t}\n\treturn containsEsc ? word : input.slice(start, tokPos);\n  }\n\n  function readWord() {\n\tvar word = readWord1();\n\tvar type = _name;\n\tif (!containsEsc && isKeyword(word))\n\t  type = keywordTypes[word];\n\treturn finishToken(type, word);\n  }\n\n  function next() {\n\tlastStart = tokStart;\n\tlastEnd = tokEnd;\n\tlastEndLoc = tokEndLoc;\n\treadToken();\n  }\n\n  function setStrict(strct) {\n\tstrict = strct;\n\ttokPos = tokStart;\n\tif (options.locations) {\n\t  while (tokPos < tokLineStart) {\n\t\ttokLineStart = input.lastIndexOf(\"\\n\", tokLineStart - 2) + 1;\n\t\t--tokCurLine;\n\t  }\n\t}\n\tskipSpace();\n\treadToken();\n  }\n\n  function node_t() {\n\tthis.type = null;\n\tthis.start = tokStart;\n\tthis.end = null;\n  }\n\n  function node_loc_t() {\n\tthis.start = tokStartLoc;\n\tthis.end = null;\n\tif (sourceFile !== null) this.source = sourceFile;\n  }\n\n  function startNode() {\n\tvar node = new node_t();\n\tif (options.locations)\n\t  node.loc = new node_loc_t();\n\tif (options.directSourceFile)\n\t  node.sourceFile = options.directSourceFile;\n\tif (options.ranges)\n\t  node.range = [tokStart, 0];\n\treturn node;\n  }\n\n  function startNodeFrom(other) {\n\tvar node = new node_t();\n\tnode.start = other.start;\n\tif (options.locations) {\n\t  node.loc = new node_loc_t();\n\t  node.loc.start = other.loc.start;\n\t}\n\tif (options.ranges)\n\t  node.range = [other.range[0], 0];\n\n\treturn node;\n  }\n\n  function finishNode(node, type) {\n\tnode.type = type;\n\tnode.end = lastEnd;\n\tif (options.locations)\n\t  node.loc.end = lastEndLoc;\n\tif (options.ranges)\n\t  node.range[1] = lastEnd;\n\treturn node;\n  }\n\n  function isUseStrict(stmt) {\n\treturn options.ecmaVersion >= 5 && stmt.type === \"ExpressionStatement\" &&\n\t  stmt.expression.type === \"Literal\" && stmt.expression.value === \"use strict\";\n  }\n\n  function eat(type) {\n\tif (tokType === type) {\n\t  next();\n\t  return true;\n\t}\n  }\n\n  function canInsertSemicolon() {\n\treturn !options.strictSemicolons &&\n\t  (tokType === _eof || tokType === _braceR || newline.test(input.slice(lastEnd, tokStart)));\n  }\n\n  function semicolon() {\n\tif (!eat(_semi) && !canInsertSemicolon()) unexpected();\n  }\n\n  function expect(type) {\n\tif (tokType === type) next();\n\telse unexpected();\n  }\n\n  function unexpected() {\n\traise(tokStart, \"Unexpected token\");\n  }\n\n  function checkLVal(expr) {\n\tif (expr.type !== \"Identifier\" && expr.type !== \"MemberExpression\")\n\t  raise(expr.start, \"Assigning to rvalue\");\n\tif (strict && expr.type === \"Identifier\" && isStrictBadIdWord(expr.name))\n\t  raise(expr.start, \"Assigning to \" + expr.name + \" in strict mode\");\n  }\n\n  function parseTopLevel(program) {\n\tlastStart = lastEnd = tokPos;\n\tif (options.locations) lastEndLoc = new line_loc_t;\n\tinFunction = strict = null;\n\tlabels = [];\n\treadToken();\n\n\tvar node = program || startNode(), first = true;\n\tif (!program) node.body = [];\n\twhile (tokType !== _eof) {\n\t  var stmt = parseStatement();\n\t  node.body.push(stmt);\n\t  if (first && isUseStrict(stmt)) setStrict(true);\n\t  first = false;\n\t}\n\treturn finishNode(node, \"Program\");\n  }\n\n  var loopLabel = {kind: \"loop\"}, switchLabel = {kind: \"switch\"};\n\n  function parseStatement() {\n\tif (tokType === _slash || tokType === _assign && tokVal == \"/=\")\n\t  readToken(true);\n\n\tvar starttype = tokType, node = startNode();\n\n\tswitch (starttype) {\n\tcase _break: case _continue:\n\t  next();\n\t  var isBreak = starttype === _break;\n\t  if (eat(_semi) || canInsertSemicolon()) node.label = null;\n\t  else if (tokType !== _name) unexpected();\n\t  else {\n\t\tnode.label = parseIdent();\n\t\tsemicolon();\n\t  }\n\n\t  for (var i = 0; i < labels.length; ++i) {\n\t\tvar lab = labels[i];\n\t\tif (node.label == null || lab.name === node.label.name) {\n\t\t  if (lab.kind != null && (isBreak || lab.kind === \"loop\")) break;\n\t\t  if (node.label && isBreak) break;\n\t\t}\n\t  }\n\t  if (i === labels.length) raise(node.start, \"Unsyntactic \" + starttype.keyword);\n\t  return finishNode(node, isBreak ? \"BreakStatement\" : \"ContinueStatement\");\n\n\tcase _debugger:\n\t  next();\n\t  semicolon();\n\t  return finishNode(node, \"DebuggerStatement\");\n\n\tcase _do:\n\t  next();\n\t  labels.push(loopLabel);\n\t  node.body = parseStatement();\n\t  labels.pop();\n\t  expect(_while);\n\t  node.test = parseParenExpression();\n\t  semicolon();\n\t  return finishNode(node, \"DoWhileStatement\");\n\n\tcase _for:\n\t  next();\n\t  labels.push(loopLabel);\n\t  expect(_parenL);\n\t  if (tokType === _semi) return parseFor(node, null);\n\t  if (tokType === _var) {\n\t\tvar init = startNode();\n\t\tnext();\n\t\tparseVar(init, true);\n\t\tfinishNode(init, \"VariableDeclaration\");\n\t\tif (init.declarations.length === 1 && eat(_in))\n\t\t  return parseForIn(node, init);\n\t\treturn parseFor(node, init);\n\t  }\n\t  var init = parseExpression(false, true);\n\t  if (eat(_in)) {checkLVal(init); return parseForIn(node, init);}\n\t  return parseFor(node, init);\n\n\tcase _function:\n\t  next();\n\t  return parseFunction(node, true);\n\n\tcase _if:\n\t  next();\n\t  node.test = parseParenExpression();\n\t  node.consequent = parseStatement();\n\t  node.alternate = eat(_else) ? parseStatement() : null;\n\t  return finishNode(node, \"IfStatement\");\n\n\tcase _return:\n\t  if (!inFunction && !options.allowReturnOutsideFunction)\n\t\traise(tokStart, \"'return' outside of function\");\n\t  next();\n\n\t  if (eat(_semi) || canInsertSemicolon()) node.argument = null;\n\t  else { node.argument = parseExpression(); semicolon(); }\n\t  return finishNode(node, \"ReturnStatement\");\n\n\tcase _switch:\n\t  next();\n\t  node.discriminant = parseParenExpression();\n\t  node.cases = [];\n\t  expect(_braceL);\n\t  labels.push(switchLabel);\n\n\t  for (var cur, sawDefault; tokType != _braceR;) {\n\t\tif (tokType === _case || tokType === _default) {\n\t\t  var isCase = tokType === _case;\n\t\t  if (cur) finishNode(cur, \"SwitchCase\");\n\t\t  node.cases.push(cur = startNode());\n\t\t  cur.consequent = [];\n\t\t  next();\n\t\t  if (isCase) cur.test = parseExpression();\n\t\t  else {\n\t\t\tif (sawDefault) raise(lastStart, \"Multiple default clauses\"); sawDefault = true;\n\t\t\tcur.test = null;\n\t\t  }\n\t\t  expect(_colon);\n\t\t} else {\n\t\t  if (!cur) unexpected();\n\t\t  cur.consequent.push(parseStatement());\n\t\t}\n\t  }\n\t  if (cur) finishNode(cur, \"SwitchCase\");\n\t  next();\n\t  labels.pop();\n\t  return finishNode(node, \"SwitchStatement\");\n\n\tcase _throw:\n\t  next();\n\t  if (newline.test(input.slice(lastEnd, tokStart)))\n\t\traise(lastEnd, \"Illegal newline after throw\");\n\t  node.argument = parseExpression();\n\t  semicolon();\n\t  return finishNode(node, \"ThrowStatement\");\n\n\tcase _try:\n\t  next();\n\t  node.block = parseBlock();\n\t  node.handler = null;\n\t  if (tokType === _catch) {\n\t\tvar clause = startNode();\n\t\tnext();\n\t\texpect(_parenL);\n\t\tclause.param = parseIdent();\n\t\tif (strict && isStrictBadIdWord(clause.param.name))\n\t\t  raise(clause.param.start, \"Binding \" + clause.param.name + \" in strict mode\");\n\t\texpect(_parenR);\n\t\tclause.guard = null;\n\t\tclause.body = parseBlock();\n\t\tnode.handler = finishNode(clause, \"CatchClause\");\n\t  }\n\t  node.guardedHandlers = empty;\n\t  node.finalizer = eat(_finally) ? parseBlock() : null;\n\t  if (!node.handler && !node.finalizer)\n\t\traise(node.start, \"Missing catch or finally clause\");\n\t  return finishNode(node, \"TryStatement\");\n\n\tcase _var:\n\t  next();\n\t  parseVar(node);\n\t  semicolon();\n\t  return finishNode(node, \"VariableDeclaration\");\n\n\tcase _while:\n\t  next();\n\t  node.test = parseParenExpression();\n\t  labels.push(loopLabel);\n\t  node.body = parseStatement();\n\t  labels.pop();\n\t  return finishNode(node, \"WhileStatement\");\n\n\tcase _with:\n\t  if (strict) raise(tokStart, \"'with' in strict mode\");\n\t  next();\n\t  node.object = parseParenExpression();\n\t  node.body = parseStatement();\n\t  return finishNode(node, \"WithStatement\");\n\n\tcase _braceL:\n\t  return parseBlock();\n\n\tcase _semi:\n\t  next();\n\t  return finishNode(node, \"EmptyStatement\");\n\n\tdefault:\n\t  var maybeName = tokVal, expr = parseExpression();\n\t  if (starttype === _name && expr.type === \"Identifier\" && eat(_colon)) {\n\t\tfor (var i = 0; i < labels.length; ++i)\n\t\t  if (labels[i].name === maybeName) raise(expr.start, \"Label '\" + maybeName + \"' is already declared\");\n\t\tvar kind = tokType.isLoop ? \"loop\" : tokType === _switch ? \"switch\" : null;\n\t\tlabels.push({name: maybeName, kind: kind});\n\t\tnode.body = parseStatement();\n\t\tlabels.pop();\n\t\tnode.label = expr;\n\t\treturn finishNode(node, \"LabeledStatement\");\n\t  } else {\n\t\tnode.expression = expr;\n\t\tsemicolon();\n\t\treturn finishNode(node, \"ExpressionStatement\");\n\t  }\n\t}\n  }\n\n  function parseParenExpression() {\n\texpect(_parenL);\n\tvar val = parseExpression();\n\texpect(_parenR);\n\treturn val;\n  }\n\n  function parseBlock(allowStrict) {\n\tvar node = startNode(), first = true, strict = false, oldStrict;\n\tnode.body = [];\n\texpect(_braceL);\n\twhile (!eat(_braceR)) {\n\t  var stmt = parseStatement();\n\t  node.body.push(stmt);\n\t  if (first && allowStrict && isUseStrict(stmt)) {\n\t\toldStrict = strict;\n\t\tsetStrict(strict = true);\n\t  }\n\t  first = false;\n\t}\n\tif (strict && !oldStrict) setStrict(false);\n\treturn finishNode(node, \"BlockStatement\");\n  }\n\n  function parseFor(node, init) {\n\tnode.init = init;\n\texpect(_semi);\n\tnode.test = tokType === _semi ? null : parseExpression();\n\texpect(_semi);\n\tnode.update = tokType === _parenR ? null : parseExpression();\n\texpect(_parenR);\n\tnode.body = parseStatement();\n\tlabels.pop();\n\treturn finishNode(node, \"ForStatement\");\n  }\n\n  function parseForIn(node, init) {\n\tnode.left = init;\n\tnode.right = parseExpression();\n\texpect(_parenR);\n\tnode.body = parseStatement();\n\tlabels.pop();\n\treturn finishNode(node, \"ForInStatement\");\n  }\n\n  function parseVar(node, noIn) {\n\tnode.declarations = [];\n\tnode.kind = \"var\";\n\tfor (;;) {\n\t  var decl = startNode();\n\t  decl.id = parseIdent();\n\t  if (strict && isStrictBadIdWord(decl.id.name))\n\t\traise(decl.id.start, \"Binding \" + decl.id.name + \" in strict mode\");\n\t  decl.init = eat(_eq) ? parseExpression(true, noIn) : null;\n\t  node.declarations.push(finishNode(decl, \"VariableDeclarator\"));\n\t  if (!eat(_comma)) break;\n\t}\n\treturn node;\n  }\n\n  function parseExpression(noComma, noIn) {\n\tvar expr = parseMaybeAssign(noIn);\n\tif (!noComma && tokType === _comma) {\n\t  var node = startNodeFrom(expr);\n\t  node.expressions = [expr];\n\t  while (eat(_comma)) node.expressions.push(parseMaybeAssign(noIn));\n\t  return finishNode(node, \"SequenceExpression\");\n\t}\n\treturn expr;\n  }\n\n  function parseMaybeAssign(noIn) {\n\tvar left = parseMaybeConditional(noIn);\n\tif (tokType.isAssign) {\n\t  var node = startNodeFrom(left);\n\t  node.operator = tokVal;\n\t  node.left = left;\n\t  next();\n\t  node.right = parseMaybeAssign(noIn);\n\t  checkLVal(left);\n\t  return finishNode(node, \"AssignmentExpression\");\n\t}\n\treturn left;\n  }\n\n  function parseMaybeConditional(noIn) {\n\tvar expr = parseExprOps(noIn);\n\tif (eat(_question)) {\n\t  var node = startNodeFrom(expr);\n\t  node.test = expr;\n\t  node.consequent = parseExpression(true);\n\t  expect(_colon);\n\t  node.alternate = parseExpression(true, noIn);\n\t  return finishNode(node, \"ConditionalExpression\");\n\t}\n\treturn expr;\n  }\n\n  function parseExprOps(noIn) {\n\treturn parseExprOp(parseMaybeUnary(), -1, noIn);\n  }\n\n  function parseExprOp(left, minPrec, noIn) {\n\tvar prec = tokType.binop;\n\tif (prec != null && (!noIn || tokType !== _in)) {\n\t  if (prec > minPrec) {\n\t\tvar node = startNodeFrom(left);\n\t\tnode.left = left;\n\t\tnode.operator = tokVal;\n\t\tvar op = tokType;\n\t\tnext();\n\t\tnode.right = parseExprOp(parseMaybeUnary(), prec, noIn);\n\t\tvar exprNode = finishNode(node, (op === _logicalOR || op === _logicalAND) ? \"LogicalExpression\" : \"BinaryExpression\");\n\t\treturn parseExprOp(exprNode, minPrec, noIn);\n\t  }\n\t}\n\treturn left;\n  }\n\n  function parseMaybeUnary() {\n\tif (tokType.prefix) {\n\t  var node = startNode(), update = tokType.isUpdate;\n\t  node.operator = tokVal;\n\t  node.prefix = true;\n\t  tokRegexpAllowed = true;\n\t  next();\n\t  node.argument = parseMaybeUnary();\n\t  if (update) checkLVal(node.argument);\n\t  else if (strict && node.operator === \"delete\" &&\n\t\t\t   node.argument.type === \"Identifier\")\n\t\traise(node.start, \"Deleting local variable in strict mode\");\n\t  return finishNode(node, update ? \"UpdateExpression\" : \"UnaryExpression\");\n\t}\n\tvar expr = parseExprSubscripts();\n\twhile (tokType.postfix && !canInsertSemicolon()) {\n\t  var node = startNodeFrom(expr);\n\t  node.operator = tokVal;\n\t  node.prefix = false;\n\t  node.argument = expr;\n\t  checkLVal(expr);\n\t  next();\n\t  expr = finishNode(node, \"UpdateExpression\");\n\t}\n\treturn expr;\n  }\n\n  function parseExprSubscripts() {\n\treturn parseSubscripts(parseExprAtom());\n  }\n\n  function parseSubscripts(base, noCalls) {\n\tif (eat(_dot)) {\n\t  var node = startNodeFrom(base);\n\t  node.object = base;\n\t  node.property = parseIdent(true);\n\t  node.computed = false;\n\t  return parseSubscripts(finishNode(node, \"MemberExpression\"), noCalls);\n\t} else if (eat(_bracketL)) {\n\t  var node = startNodeFrom(base);\n\t  node.object = base;\n\t  node.property = parseExpression();\n\t  node.computed = true;\n\t  expect(_bracketR);\n\t  return parseSubscripts(finishNode(node, \"MemberExpression\"), noCalls);\n\t} else if (!noCalls && eat(_parenL)) {\n\t  var node = startNodeFrom(base);\n\t  node.callee = base;\n\t  node.arguments = parseExprList(_parenR, false);\n\t  return parseSubscripts(finishNode(node, \"CallExpression\"), noCalls);\n\t} else return base;\n  }\n\n  function parseExprAtom() {\n\tswitch (tokType) {\n\tcase _this:\n\t  var node = startNode();\n\t  next();\n\t  return finishNode(node, \"ThisExpression\");\n\tcase _name:\n\t  return parseIdent();\n\tcase _num: case _string: case _regexp:\n\t  var node = startNode();\n\t  node.value = tokVal;\n\t  node.raw = input.slice(tokStart, tokEnd);\n\t  next();\n\t  return finishNode(node, \"Literal\");\n\n\tcase _null: case _true: case _false:\n\t  var node = startNode();\n\t  node.value = tokType.atomValue;\n\t  node.raw = tokType.keyword;\n\t  next();\n\t  return finishNode(node, \"Literal\");\n\n\tcase _parenL:\n\t  var tokStartLoc1 = tokStartLoc, tokStart1 = tokStart;\n\t  next();\n\t  var val = parseExpression();\n\t  val.start = tokStart1;\n\t  val.end = tokEnd;\n\t  if (options.locations) {\n\t\tval.loc.start = tokStartLoc1;\n\t\tval.loc.end = tokEndLoc;\n\t  }\n\t  if (options.ranges)\n\t\tval.range = [tokStart1, tokEnd];\n\t  expect(_parenR);\n\t  return val;\n\n\tcase _bracketL:\n\t  var node = startNode();\n\t  next();\n\t  node.elements = parseExprList(_bracketR, true, true);\n\t  return finishNode(node, \"ArrayExpression\");\n\n\tcase _braceL:\n\t  return parseObj();\n\n\tcase _function:\n\t  var node = startNode();\n\t  next();\n\t  return parseFunction(node, false);\n\n\tcase _new:\n\t  return parseNew();\n\n\tdefault:\n\t  unexpected();\n\t}\n  }\n\n  function parseNew() {\n\tvar node = startNode();\n\tnext();\n\tnode.callee = parseSubscripts(parseExprAtom(), true);\n\tif (eat(_parenL)) node.arguments = parseExprList(_parenR, false);\n\telse node.arguments = empty;\n\treturn finishNode(node, \"NewExpression\");\n  }\n\n  function parseObj() {\n\tvar node = startNode(), first = true, sawGetSet = false;\n\tnode.properties = [];\n\tnext();\n\twhile (!eat(_braceR)) {\n\t  if (!first) {\n\t\texpect(_comma);\n\t\tif (options.allowTrailingCommas && eat(_braceR)) break;\n\t  } else first = false;\n\n\t  var prop = {key: parsePropertyName()}, isGetSet = false, kind;\n\t  if (eat(_colon)) {\n\t\tprop.value = parseExpression(true);\n\t\tkind = prop.kind = \"init\";\n\t  } else if (options.ecmaVersion >= 5 && prop.key.type === \"Identifier\" &&\n\t\t\t\t (prop.key.name === \"get\" || prop.key.name === \"set\")) {\n\t\tisGetSet = sawGetSet = true;\n\t\tkind = prop.kind = prop.key.name;\n\t\tprop.key = parsePropertyName();\n\t\tif (tokType !== _parenL) unexpected();\n\t\tprop.value = parseFunction(startNode(), false);\n\t  } else unexpected();\n\n\t  if (prop.key.type === \"Identifier\" && (strict || sawGetSet)) {\n\t\tfor (var i = 0; i < node.properties.length; ++i) {\n\t\t  var other = node.properties[i];\n\t\t  if (other.key.name === prop.key.name) {\n\t\t\tvar conflict = kind == other.kind || isGetSet && other.kind === \"init\" ||\n\t\t\t  kind === \"init\" && (other.kind === \"get\" || other.kind === \"set\");\n\t\t\tif (conflict && !strict && kind === \"init\" && other.kind === \"init\") conflict = false;\n\t\t\tif (conflict) raise(prop.key.start, \"Redefinition of property\");\n\t\t  }\n\t\t}\n\t  }\n\t  node.properties.push(prop);\n\t}\n\treturn finishNode(node, \"ObjectExpression\");\n  }\n\n  function parsePropertyName() {\n\tif (tokType === _num || tokType === _string) return parseExprAtom();\n\treturn parseIdent(true);\n  }\n\n  function parseFunction(node, isStatement) {\n\tif (tokType === _name) node.id = parseIdent();\n\telse if (isStatement) unexpected();\n\telse node.id = null;\n\tnode.params = [];\n\tvar first = true;\n\texpect(_parenL);\n\twhile (!eat(_parenR)) {\n\t  if (!first) expect(_comma); else first = false;\n\t  node.params.push(parseIdent());\n\t}\n\n\tvar oldInFunc = inFunction, oldLabels = labels;\n\tinFunction = true; labels = [];\n\tnode.body = parseBlock(true);\n\tinFunction = oldInFunc; labels = oldLabels;\n\n\tif (strict || node.body.body.length && isUseStrict(node.body.body[0])) {\n\t  for (var i = node.id ? -1 : 0; i < node.params.length; ++i) {\n\t\tvar id = i < 0 ? node.id : node.params[i];\n\t\tif (isStrictReservedWord(id.name) || isStrictBadIdWord(id.name))\n\t\t  raise(id.start, \"Defining '\" + id.name + \"' in strict mode\");\n\t\tif (i >= 0) for (var j = 0; j < i; ++j) if (id.name === node.params[j].name)\n\t\t  raise(id.start, \"Argument name clash in strict mode\");\n\t  }\n\t}\n\n\treturn finishNode(node, isStatement ? \"FunctionDeclaration\" : \"FunctionExpression\");\n  }\n\n  function parseExprList(close, allowTrailingComma, allowEmpty) {\n\tvar elts = [], first = true;\n\twhile (!eat(close)) {\n\t  if (!first) {\n\t\texpect(_comma);\n\t\tif (allowTrailingComma && options.allowTrailingCommas && eat(close)) break;\n\t  } else first = false;\n\n\t  if (allowEmpty && tokType === _comma) elts.push(null);\n\t  else elts.push(parseExpression(true));\n\t}\n\treturn elts;\n  }\n\n  function parseIdent(liberal) {\n\tvar node = startNode();\n\tif (liberal && options.forbidReserved == \"everywhere\") liberal = false;\n\tif (tokType === _name) {\n\t  if (!liberal &&\n\t\t  (options.forbidReserved &&\n\t\t   (options.ecmaVersion === 3 ? isReservedWord3 : isReservedWord5)(tokVal) ||\n\t\t   strict && isStrictReservedWord(tokVal)) &&\n\t\t  input.slice(tokStart, tokEnd).indexOf(\"\\\\\") == -1)\n\t\traise(tokStart, \"The keyword '\" + tokVal + \"' is reserved\");\n\t  node.name = tokVal;\n\t} else if (liberal && tokType.keyword) {\n\t  node.name = tokType.keyword;\n\t} else {\n\t  unexpected();\n\t}\n\ttokRegexpAllowed = false;\n\tnext();\n\treturn finishNode(node, \"Identifier\");\n  }\n\n});\n\n\t\tif (!acorn.version)\n\t\t\tacorn = null;\n\t}\n\n\tfunction parse(code, options) {\n\t\treturn (global.acorn || acorn).parse(code, options);\n\t}\n\n\tvar binaryOperators = {\n\t\t'+': '__add',\n\t\t'-': '__subtract',\n\t\t'*': '__multiply',\n\t\t'/': '__divide',\n\t\t'%': '__modulo',\n\t\t'==': '__equals',\n\t\t'!=': '__equals'\n\t};\n\n\tvar unaryOperators = {\n\t\t'-': '__negate',\n\t\t'+': '__self'\n\t};\n\n\tvar fields = Base.each(\n\t\t['add', 'subtract', 'multiply', 'divide', 'modulo', 'equals', 'negate'],\n\t\tfunction(name) {\n\t\t\tthis['__' + name] = '#' + name;\n\t\t},\n\t\t{\n\t\t\t__self: function() {\n\t\t\t\treturn this;\n\t\t\t}\n\t\t}\n\t);\n\tPoint.inject(fields);\n\tSize.inject(fields);\n\tColor.inject(fields);\n\n\tfunction __$__(left, operator, right) {\n\t\tvar handler = binaryOperators[operator];\n\t\tif (left && left[handler]) {\n\t\t\tvar res = left[handler](right);\n\t\t\treturn operator === '!=' ? !res : res;\n\t\t}\n\t\tswitch (operator) {\n\t\tcase '+': return left + right;\n\t\tcase '-': return left - right;\n\t\tcase '*': return left * right;\n\t\tcase '/': return left / right;\n\t\tcase '%': return left % right;\n\t\tcase '==': return left == right;\n\t\tcase '!=': return left != right;\n\t\t}\n\t}\n\n\tfunction $__(operator, value) {\n\t\tvar handler = unaryOperators[operator];\n\t\tif (value && value[handler])\n\t\t\treturn value[handler]();\n\t\tswitch (operator) {\n\t\tcase '+': return +value;\n\t\tcase '-': return -value;\n\t\t}\n\t}\n\n\tfunction compile(code, options) {\n\t\tif (!code)\n\t\t\treturn '';\n\t\toptions = options || {};\n\n\t\tvar insertions = [];\n\n\t\tfunction getOffset(offset) {\n\t\t\tfor (var i = 0, l = insertions.length; i < l; i++) {\n\t\t\t\tvar insertion = insertions[i];\n\t\t\t\tif (insertion[0] >= offset)\n\t\t\t\t\tbreak;\n\t\t\t\toffset += insertion[1];\n\t\t\t}\n\t\t\treturn offset;\n\t\t}\n\n\t\tfunction getCode(node) {\n\t\t\treturn code.substring(getOffset(node.range[0]),\n\t\t\t\t\tgetOffset(node.range[1]));\n\t\t}\n\n\t\tfunction getBetween(left, right) {\n\t\t\treturn code.substring(getOffset(left.range[1]),\n\t\t\t\t\tgetOffset(right.range[0]));\n\t\t}\n\n\t\tfunction replaceCode(node, str) {\n\t\t\tvar start = getOffset(node.range[0]),\n\t\t\t\tend = getOffset(node.range[1]),\n\t\t\t\tinsert = 0;\n\t\t\tfor (var i = insertions.length - 1; i >= 0; i--) {\n\t\t\t\tif (start > insertions[i][0]) {\n\t\t\t\t\tinsert = i + 1;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t\tinsertions.splice(insert, 0, [start, str.length - end + start]);\n\t\t\tcode = code.substring(0, start) + str + code.substring(end);\n\t\t}\n\n\t\tfunction handleOverloading(node, parent) {\n\t\t\tswitch (node.type) {\n\t\t\tcase 'UnaryExpression':\n\t\t\t\tif (node.operator in unaryOperators\n\t\t\t\t\t\t&& node.argument.type !== 'Literal') {\n\t\t\t\t\tvar arg = getCode(node.argument);\n\t\t\t\t\treplaceCode(node, '$__(\"' + node.operator + '\", '\n\t\t\t\t\t\t\t+ arg + ')');\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase 'BinaryExpression':\n\t\t\t\tif (node.operator in binaryOperators\n\t\t\t\t\t\t&& node.left.type !== 'Literal') {\n\t\t\t\t\tvar left = getCode(node.left),\n\t\t\t\t\t\tright = getCode(node.right),\n\t\t\t\t\t\tbetween = getBetween(node.left, node.right),\n\t\t\t\t\t\toperator = node.operator;\n\t\t\t\t\treplaceCode(node, '__$__(' + left + ','\n\t\t\t\t\t\t\t+ between.replace(new RegExp('\\\\' + operator),\n\t\t\t\t\t\t\t\t'\"' + operator + '\"')\n\t\t\t\t\t\t\t+ ', ' + right + ')');\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase 'UpdateExpression':\n\t\t\tcase 'AssignmentExpression':\n\t\t\t\tvar parentType = parent && parent.type;\n\t\t\t\tif (!(\n\t\t\t\t\t\tparentType === 'ForStatement'\n\t\t\t\t\t\t|| parentType === 'BinaryExpression'\n\t\t\t\t\t\t\t&& /^[=!<>]/.test(parent.operator)\n\t\t\t\t\t\t|| parentType === 'MemberExpression' && parent.computed\n\t\t\t\t)) {\n\t\t\t\t\tif (node.type === 'UpdateExpression') {\n\t\t\t\t\t\tvar arg = getCode(node.argument),\n\t\t\t\t\t\t\texp = '__$__(' + arg + ', \"' + node.operator[0]\n\t\t\t\t\t\t\t\t\t+ '\", 1)',\n\t\t\t\t\t\t\tstr = arg + ' = ' + exp;\n\t\t\t\t\t\tif (node.prefix) {\n\t\t\t\t\t\t\tstr = '(' + str + ')';\n\t\t\t\t\t\t} else if (\n\t\t\t\t\t\t\tparentType === 'AssignmentExpression' ||\n\t\t\t\t\t\t\tparentType === 'VariableDeclarator' ||\n\t\t\t\t\t\t\tparentType === 'BinaryExpression'\n\t\t\t\t\t\t) {\n\t\t\t\t\t\t\tif (getCode(parent.left || parent.id) === arg)\n\t\t\t\t\t\t\t\tstr = exp;\n\t\t\t\t\t\t\tstr = arg + '; ' + str;\n\t\t\t\t\t\t}\n\t\t\t\t\t\treplaceCode(node, str);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tif (/^.=$/.test(node.operator)\n\t\t\t\t\t\t\t\t&& node.left.type !== 'Literal') {\n\t\t\t\t\t\t\tvar left = getCode(node.left),\n\t\t\t\t\t\t\t\tright = getCode(node.right),\n\t\t\t\t\t\t\t\texp = left + ' = __$__(' + left + ', \"'\n\t\t\t\t\t\t\t\t\t+ node.operator[0] + '\", ' + right + ')';\n\t\t\t\t\t\t\treplaceCode(node, /^\\(.*\\)$/.test(getCode(node))\n\t\t\t\t\t\t\t\t\t? '(' + exp + ')' : exp);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\n\t\tfunction handleExports(node) {\n\t\t\tswitch (node.type) {\n\t\t\tcase 'ExportDefaultDeclaration':\n\t\t\t\treplaceCode({\n\t\t\t\t\trange: [node.start, node.declaration.start]\n\t\t\t\t}, 'module.exports = ');\n\t\t\t\tbreak;\n\t\t\tcase 'ExportNamedDeclaration':\n\t\t\t\tvar declaration = node.declaration;\n\t\t\t\tvar specifiers = node.specifiers;\n\t\t\t\tif (declaration) {\n\t\t\t\t\tvar declarations = declaration.declarations;\n\t\t\t\t\tif (declarations) {\n\t\t\t\t\t\tdeclarations.forEach(function(dec) {\n\t\t\t\t\t\t\treplaceCode(dec, 'module.exports.' + getCode(dec));\n\t\t\t\t\t\t});\n\t\t\t\t\t\treplaceCode({\n\t\t\t\t\t\t\trange: [\n\t\t\t\t\t\t\t\tnode.start,\n\t\t\t\t\t\t\t\tdeclaration.start + declaration.kind.length\n\t\t\t\t\t\t\t]\n\t\t\t\t\t\t}, '');\n\t\t\t\t\t}\n\t\t\t\t} else if (specifiers) {\n\t\t\t\t\tvar exports = specifiers.map(function(specifier) {\n\t\t\t\t\t\tvar name = getCode(specifier);\n\t\t\t\t\t\treturn 'module.exports.' + name + ' = ' + name + '; ';\n\t\t\t\t\t}).join('');\n\t\t\t\t\tif (exports) {\n\t\t\t\t\t\treplaceCode(node, exports);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\n\t\tfunction walkAST(node, parent, paperFeatures) {\n\t\t\tif (node) {\n\t\t\t\tfor (var key in node) {\n\t\t\t\t\tif (key !== 'range' && key !== 'loc') {\n\t\t\t\t\t\tvar value = node[key];\n\t\t\t\t\t\tif (Array.isArray(value)) {\n\t\t\t\t\t\t\tfor (var i = 0, l = value.length; i < l; i++) {\n\t\t\t\t\t\t\t\twalkAST(value[i], node, paperFeatures);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} else if (value && typeof value === 'object') {\n\t\t\t\t\t\t\twalkAST(value, node, paperFeatures);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif (paperFeatures.operatorOverloading !== false) {\n\t\t\t\t\thandleOverloading(node, parent);\n\t\t\t\t}\n\t\t\t\tif (paperFeatures.moduleExports !== false) {\n\t\t\t\t\thandleExports(node);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tfunction encodeVLQ(value) {\n\t\t\tvar res = '',\n\t\t\t\tbase64 = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/';\n\t\t\tvalue = (Math.abs(value) << 1) + (value < 0 ? 1 : 0);\n\t\t\twhile (value || !res) {\n\t\t\t\tvar next = value & (32 - 1);\n\t\t\t\tvalue >>= 5;\n\t\t\t\tif (value)\n\t\t\t\t\tnext |= 32;\n\t\t\t\tres += base64[next];\n\t\t\t}\n\t\t\treturn res;\n\t\t}\n\n\t\tvar url = options.url || '',\n\t\t\tsourceMaps = options.sourceMaps,\n\t\t\tpaperFeatures = options.paperFeatures || {},\n\t\t\tsource = options.source || code,\n\t\t\toffset = options.offset || 0,\n\t\t\tagent = paper.agent,\n\t\t\tversion = agent.versionNumber,\n\t\t\toffsetCode = false,\n\t\t\tlineBreaks = /\\r\\n|\\n|\\r/mg,\n\t\t\tmap;\n\t\tif (sourceMaps && (agent.chrome && version >= 30\n\t\t\t\t|| agent.webkit && version >= 537.76\n\t\t\t\t|| agent.firefox && version >= 23\n\t\t\t\t|| agent.node)) {\n\t\t\tif (agent.node) {\n\t\t\t\toffset -= 2;\n\t\t\t} else if (window && url && !window.location.href.indexOf(url)) {\n\t\t\t\tvar html = document.getElementsByTagName('html')[0].innerHTML;\n\t\t\t\toffset = html.substr(0, html.indexOf(code) + 1).match(\n\t\t\t\t\t\tlineBreaks).length + 1;\n\t\t\t}\n\t\t\toffsetCode = offset > 0 && !(\n\t\t\t\t\tagent.chrome && version >= 36 ||\n\t\t\t\t\tagent.safari && version >= 600 ||\n\t\t\t\t\tagent.firefox && version >= 40 ||\n\t\t\t\t\tagent.node);\n\t\t\tvar mappings = ['AA' + encodeVLQ(offsetCode ? 0 : offset) + 'A'];\n\t\t\tmappings.length = (code.match(lineBreaks) || []).length + 1\n\t\t\t\t\t+ (offsetCode ? offset : 0);\n\t\t\tmap = {\n\t\t\t\tversion: 3,\n\t\t\t\tfile: url,\n\t\t\t\tnames:[],\n\t\t\t\tmappings: mappings.join(';AACA'),\n\t\t\t\tsourceRoot: '',\n\t\t\t\tsources: [url],\n\t\t\t\tsourcesContent: [source]\n\t\t\t};\n\t\t}\n\t\tif (\n\t\t\tpaperFeatures.operatorOverloading !== false ||\n\t\t\tpaperFeatures.moduleExports !== false\n\t\t) {\n\t\t\twalkAST(parse(code, {\n\t\t\t\tranges: true,\n\t\t\t\tpreserveParens: true,\n\t\t\t\tsourceType: 'module'\n\t\t\t}), null, paperFeatures);\n\t\t}\n\t\tif (map) {\n\t\t\tif (offsetCode) {\n\t\t\t\tcode = new Array(offset + 1).join('\\n') + code;\n\t\t\t}\n\t\t\tif (/^(inline|both)$/.test(sourceMaps)) {\n\t\t\t\tcode += \"\\n//# sourceMappingURL=data:application/json;base64,\"\n\t\t\t\t\t\t+ self.btoa(unescape(encodeURIComponent(\n\t\t\t\t\t\t\tJSON.stringify(map))));\n\t\t\t}\n\t\t\tcode += \"\\n//# sourceURL=\" + (url || 'paperscript');\n\t\t}\n\t\treturn {\n\t\t\turl: url,\n\t\t\tsource: source,\n\t\t\tcode: code,\n\t\t\tmap: map\n\t\t};\n\t}\n\n\tfunction execute(code, scope, options) {\n\t\tpaper = scope;\n\t\tvar view = scope.getView(),\n\t\t\ttool = /\\btool\\.\\w+|\\s+on(?:Key|Mouse)(?:Up|Down|Move|Drag)\\b/\n\t\t\t\t\t.test(code) && !/\\bnew\\s+Tool\\b/.test(code)\n\t\t\t\t\t\t? new Tool() : null,\n\t\t\ttoolHandlers = tool ? tool._events : [],\n\t\t\thandlers = ['onFrame', 'onResize'].concat(toolHandlers),\n\t\t\tparams = [],\n\t\t\targs = [],\n\t\t\tfunc,\n\t\t\tcompiled = typeof code === 'object' ? code : compile(code, options);\n\t\tcode = compiled.code;\n\t\tfunction expose(scope, hidden) {\n\t\t\tfor (var key in scope) {\n\t\t\t\tif ((hidden || !/^_/.test(key)) && new RegExp('([\\\\b\\\\s\\\\W]|^)'\n\t\t\t\t\t\t+ key.replace(/\\$/g, '\\\\$') + '\\\\b').test(code)) {\n\t\t\t\t\tparams.push(key);\n\t\t\t\t\targs.push(scope[key]);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\texpose({ __$__: __$__, $__: $__, paper: scope, tool: tool },\n\t\t\t\ttrue);\n\t\texpose(scope);\n\t\tcode = 'var module = { exports: {} }; ' + code;\n\t\tvar exports = Base.each(handlers, function(key) {\n\t\t\tif (new RegExp('\\\\s+' + key + '\\\\b').test(code)) {\n\t\t\t\tparams.push(key);\n\t\t\t\tthis.push('module.exports.' + key + ' = ' + key + ';');\n\t\t\t}\n\t\t}, []).join('\\n');\n\t\tif (exports) {\n\t\t\tcode += '\\n' + exports;\n\t\t}\n\t\tcode += '\\nreturn module.exports;';\n\t\tvar agent = paper.agent;\n\t\tif (document && (agent.chrome\n\t\t\t\t|| agent.firefox && agent.versionNumber < 40)) {\n\t\t\tvar script = document.createElement('script'),\n\t\t\t\thead = document.head || document.getElementsByTagName('head')[0];\n\t\t\tif (agent.firefox)\n\t\t\t\tcode = '\\n' + code;\n\t\t\tscript.appendChild(document.createTextNode(\n\t\t\t\t'document.__paperscript__ = function(' + params + ') {' +\n\t\t\t\t\tcode +\n\t\t\t\t'\\n}'\n\t\t\t));\n\t\t\thead.appendChild(script);\n\t\t\tfunc = document.__paperscript__;\n\t\t\tdelete document.__paperscript__;\n\t\t\thead.removeChild(script);\n\t\t} else {\n\t\t\tfunc = Function(params, code);\n\t\t}\n\t\tvar exports = func && func.apply(scope, args);\n\t\tvar obj = exports || {};\n\t\tBase.each(toolHandlers, function(key) {\n\t\t\tvar value = obj[key];\n\t\t\tif (value)\n\t\t\t\ttool[key] = value;\n\t\t});\n\t\tif (view) {\n\t\t\tif (obj.onResize)\n\t\t\t\tview.setOnResize(obj.onResize);\n\t\t\tview.emit('resize', {\n\t\t\t\tsize: view.size,\n\t\t\t\tdelta: new Point()\n\t\t\t});\n\t\t\tif (obj.onFrame)\n\t\t\t\tview.setOnFrame(obj.onFrame);\n\t\t\tview.requestUpdate();\n\t\t}\n\t\treturn exports;\n\t}\n\n\tfunction loadScript(script) {\n\t\tif (/^text\\/(?:x-|)paperscript$/.test(script.type)\n\t\t\t\t&& PaperScope.getAttribute(script, 'ignore') !== 'true') {\n\t\t\tvar canvasId = PaperScope.getAttribute(script, 'canvas'),\n\t\t\t\tcanvas = document.getElementById(canvasId),\n\t\t\t\tsrc = script.src || script.getAttribute('data-src'),\n\t\t\t\tasync = PaperScope.hasAttribute(script, 'async'),\n\t\t\t\tscopeAttribute = 'data-paper-scope';\n\t\t\tif (!canvas)\n\t\t\t\tthrow new Error('Unable to find canvas with id \"'\n\t\t\t\t\t\t+ canvasId + '\"');\n\t\t\tvar scope = PaperScope.get(canvas.getAttribute(scopeAttribute))\n\t\t\t\t\t\t|| new PaperScope().setup(canvas);\n\t\t\tcanvas.setAttribute(scopeAttribute, scope._id);\n\t\t\tif (src) {\n\t\t\t\tHttp.request({\n\t\t\t\t\turl: src,\n\t\t\t\t\tasync: async,\n\t\t\t\t\tmimeType: 'text/plain',\n\t\t\t\t\tonLoad: function(code) {\n\t\t\t\t\t\texecute(code, scope, src);\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\texecute(script.innerHTML, scope, script.baseURI);\n\t\t\t}\n\t\t\tscript.setAttribute('data-paper-ignore', 'true');\n\t\t\treturn scope;\n\t\t}\n\t}\n\n\tfunction loadAll() {\n\t\tBase.each(document && document.getElementsByTagName('script'),\n\t\t\t\tloadScript);\n\t}\n\n\tfunction load(script) {\n\t\treturn script ? loadScript(script) : loadAll();\n\t}\n\n\tif (window) {\n\t\tif (document.readyState === 'complete') {\n\t\t\tsetTimeout(loadAll);\n\t\t} else {\n\t\t\tDomEvent.add(window, { load: loadAll });\n\t\t}\n\t}\n\n\treturn {\n\t\tcompile: compile,\n\t\texecute: execute,\n\t\tload: load,\n\t\tparse: parse,\n\t\tcalculateBinary: __$__,\n\t\tcalculateUnary: $__\n\t};\n\n}.call(this);\n\nvar paper = new (PaperScope.inject(Base.exports, {\n\tBase: Base,\n\tNumerical: Numerical,\n\tKey: Key,\n\tDomEvent: DomEvent,\n\tDomElement: DomElement,\n\tdocument: document,\n\twindow: window,\n\tSymbol: SymbolDefinition,\n\tPlacedSymbol: SymbolItem\n}))();\n\nif (paper.agent.node) {\n\trequire('./node/extend.js')(paper);\n}\n\nif (typeof define === 'function' && define.amd) {\n\tdefine('paper', paper);\n} else if (typeof module === 'object' && module) {\n\tmodule.exports = paper;\n}\n\nreturn paper;\n}.call(this, typeof self === 'object' ? self : null);\n","// largePaper.js\nimport paper from 'paper';\n\nexport class LargePaper {\n    onDimensionsChange\n    constructor(screenCanvas, documentWidth, documentHeight, initialZoom = 1,callback) {\n        this.documentWidth = documentWidth;\n        this.documentHeight = documentHeight;\n        this.screenCanvas = screenCanvas;\n        this.zoomFactor = initialZoom;\n        this.offsetX = documentWidth / 2;\n        this.offsetY = documentHeight / 2;\n\n    //    this.currentToolName = 'freeform';\n        this.currentMode = 'add'; // 'add' or 'subtract'\n        this.currentTool = null;\n        this.callback=callback\n        this.setupPaper();\n    }\n\nsetupPaper() {\n    paper.clear()\n\n    // Adjust for device pixel ratio\n    const dpr = window.devicePixelRatio || 1\n    paper.setup(this.screenCanvas)\n\n    // Scale the context\n    paper.view.scale(dpr, dpr)\n\n    // Create layers\n    this.internalLayer = new paper.Layer() // Holds original paths, not visible\n    this.internalLayer.name = 'internalLayer';\n\n    this.renderedLayer = new paper.Layer() // Holds rendered paths, displayed\n    this.renderedLayer.name = 'renderedLayer';\n\n    this.selectionLayer = new paper.Layer()\n    this.selectionLayer.name = 'selectionLayer';\n\n    // Ensure the correct layer order\n    this.internalLayer.visible = false; // Hide the internal layer\n    this.renderedLayer.bringToFront()\n    this.selectionLayer.bringToFront()\n\n    // Initialize the view\n    this.updateView()\n\n    // Initialize tools\n    this.setTool(this.currentToolName)\n\n    // Start the animation loop for dash offset\n    paper.view.onFrame = () => {\n        this.animatePaths()\n    }\n}\n\n    updateView() {\n        // Set the view's zoom factor\n        paper.view.zoom = this.zoomFactor;\n\n        // Set the view's center\n      //  paper.view.center = new paper.Point(this.offsetX, this.offsetY);\n\n        // Update rendered paths\n        this.updateRenderedPaths();\n    }\n\n    setZoom(zoomFactor) {\n        this.zoomFactor = zoomFactor;\n        this.updateView();\n        paper.view.update();\n    }\n\n    pan(X, Y) {\n        // Adjust the offsetX and offsetY according to the delta, divided by the current zoom factor\n        this.offsetX = X / this.zoomFactor;\n        this.offsetY = Y / this.zoomFactor;\n        this.updateView();\n        paper.view.update();\n    }\n\n    setMode(mode) {\n        this.currentMode = mode; // 'add', 'subtract', or 'move'\n        if (mode === 'move') {\n            this.setTool('move');\n        } else {\n            // When switching to 'add' or 'subtract', reactivate the last used tool\n            this.setTool(this.currentToolName);\n        }\n    }\n\n    setTool(toolName,options={}) {\n\n        if (toolName !== 'move') {\n            this.currentToolName = toolName; // Update currentToolName only for non-move tools\n        }\n        \n        if (this.currentTool) {\n            this.currentTool.remove();\n        }\n\n        this.currentTool = new paper.Tool();\n        switch (toolName) {\n            case 'rectangle':\n                this.initRectangleTool(options)\n                break;\n            case 'ellipse':\n                this.initEllipseTool(options)\n                break;\n            case 'freeform':\n                this.initFreeformTool();\n                break;\n            case 'move':\n                this.initMoveTool();\n                break;\n            default:\n                break;\n        }\n    }\n\n    initMoveTool() {\n        if (!this.currentTool) return\n        this.currentTool.onMouseDown = (event) => {\n            this.isDragging = true;\n            this.lastDragPoint = event.point;\n        };\n\n        this.currentTool.onMouseDrag = (event) => {\n            if (this.isDragging) {\n                const delta = event.point.subtract(this.lastDragPoint);\n                this.moveAllPaths(delta);\n                this.lastDragPoint = event.point;\n            }\n        };\n\n        this.currentTool.onMouseUp = () => {\n            this.isDragging = false;\n            this.lastDragPoint = null;\n        };\n    }\n\n    moveAllPaths(delta) {\n        if (!this.internalLayer) return\n        this.internalLayer.children.forEach(path => {\n            path.position = path.position.add(delta)\n        });\n        this.updateRenderedPaths()\n    }\n\n    normalizePoint(point) {\n        return point;\n    }\n\n    initRectangleTool(options = {}) {\n        let path;\n        let startPoint;\n        let aspectRatio = options.aspectRatio || null;\n        let fixedSize = options.fixedSize || null;\n        let isDragging = false;\n        let offset;\n    \n        this.currentTool.onMouseDown = (event) => {\n            startPoint = this.normalizePoint(event.point);\n            // Reset dimensions\n            this.currentWidth = fixedSize ? fixedSize.width : 0;\n            this.currentHeight = fixedSize ? fixedSize.height : 0;\n            if (fixedSize) {\n                // Create a rectangle of fixed size at the startPoint\n                const rectangle = new paper.Rectangle(\n                    startPoint.subtract(new paper.Point(fixedSize.width / 2, fixedSize.height / 2)),\n                    new paper.Size(fixedSize.width, fixedSize.height)\n                );\n                path = new paper.Path.Rectangle(rectangle);\n                this.setPathStyle(path);\n                if (!this.selectionLayer) return;\n                this.selectionLayer.addChild(path);\n                isDragging = true;\n                offset = event.point.subtract(path.position);\n            } else {\n                // Normal rectangle drawing\n                path = new paper.Path.Rectangle(startPoint, startPoint);\n                this.setPathStyle(path);\n                if (!this.selectionLayer) return;\n                this.selectionLayer.addChild(path);\n            }\n        };\n    \n        this.currentTool.onMouseDrag = (event) => {\n            this.isDragging=true\n            if (fixedSize && isDragging) {\n                // Move the rectangle with the mouse, maintaining the offset\n                path.position = event.point.subtract(offset);\n            } else {\n                const endPoint = this.normalizePoint(event.point);\n                path.remove();\n                // Calculate dimensions\n                this.currentWidth = Math.abs(endPoint.x - startPoint.x);\n                this.currentHeight = Math.abs(endPoint.y - startPoint.y);\n                if (aspectRatio) {\n                    // Aspect ratio logic as before\n                    const deltaX = endPoint.x - startPoint.x;\n                    const deltaY = endPoint.y - startPoint.y;\n    \n                    let width, height;\n                    if (Math.abs(deltaX) >= Math.abs(deltaY * aspectRatio)) {\n                        width = deltaX;\n                        height = (deltaX / aspectRatio) * (deltaY < 0 ? -1 : 1);\n                    } else {\n                        height = deltaY;\n                        width = (deltaY * aspectRatio) * (deltaX < 0 ? -1 : 1);\n                    }\n    \n                    const adjustedEndPoint = new paper.Point(startPoint.x + width, startPoint.y + height);\n                    path = new paper.Path.Rectangle(startPoint, adjustedEndPoint);\n \n                    this.currentWidth = Math.abs(width);\n                    this.currentHeight = Math.abs(height);                    \n                } else {\n                    // No aspect ratio constraint\n                    path = new paper.Path.Rectangle(startPoint, endPoint);\n                }\n                this.setPathStyle(path);\n                if (!this.selectionLayer) return;\n                this.selectionLayer.addChild(path);\n            }\n        };\n    \n        this.currentTool.onMouseUp = () => {\n            this.processPath(path);\n            path = null;\n            isDragging =this.isDragging= false;\n            if (!this.selectionLayer) return;\n            this.selectionLayer.removeChildren(); // Clear selection layer\n        };\n    }\n    \n\n    initEllipseTool(options = {}) {\n        let path;\n        let startPoint;\n        let aspectRatio = options.aspectRatio || null;\n        let fixedSize = options.fixedSize || null;\n        let isDragging = false;\n        let offset;\n    \n        this.currentTool.onMouseDown = (event) => {\n            startPoint = this.normalizePoint(event.point);\n            this.currentWidth = fixedSize ? fixedSize.width : 0;\n            this.currentHeight = fixedSize ? fixedSize.height : 0;\n            if (fixedSize) {\n                // Create an ellipse of fixed size at the startPoint\n                const rectangle = new paper.Rectangle(\n                    startPoint.subtract(new paper.Point(fixedSize.width / 2, fixedSize.height / 2)),\n                    new paper.Size(fixedSize.width, fixedSize.height)\n                );\n                path = new paper.Path.Ellipse(rectangle);\n                this.setPathStyle(path);\n                if (!this.selectionLayer) return;\n                this.selectionLayer.addChild(path);\n                isDragging = true;\n                offset = event.point.subtract(path.position);\n            } else {\n                // Normal ellipse drawing\n                path = new paper.Path.Ellipse({\n                    rectangle: new paper.Rectangle(startPoint, startPoint),\n                });\n                this.setPathStyle(path);\n                if (!this.selectionLayer) return;\n                this.selectionLayer.addChild(path);\n            }\n        };\n    \n        this.currentTool.onMouseDrag = (event) => {\n            this.isDragging=true\n            if (fixedSize && isDragging) {\n                // Move the ellipse with the mouse, maintaining the offset\n                path.position = event.point.subtract(offset);\n            } else {\n                const endPoint = this.normalizePoint(event.point);\n                path.remove();\n    \n                let rectStartPoint = startPoint;\n                let rectEndPoint = endPoint;\n                // Calculate dimensions\n                this.currentWidth = Math.abs(endPoint.x - startPoint.x);\n                this.currentHeight = Math.abs(endPoint.y - startPoint.y);\n                if (aspectRatio) {\n                    // Adjust the rectangle used to define the ellipse to maintain aspect ratio\n                    const deltaX = endPoint.x - startPoint.x;\n                    const deltaY = endPoint.y - startPoint.y;\n    \n                    let width, height;\n                    if (Math.abs(deltaX) >= Math.abs(deltaY * aspectRatio)) {\n                        width = deltaX;\n                        height = (deltaX / aspectRatio) * (deltaY < 0 ? -1 : 1);\n                    } else {\n                        height = deltaY;\n                        width = (deltaY * aspectRatio) * (deltaX < 0 ? -1 : 1);\n                    }\n                    this.currentWidth = Math.abs(width);\n                    this.currentHeight = Math.abs(height);\n                    const adjustedEndPoint = new paper.Point(startPoint.x + width, startPoint.y + height);\n                    rectEndPoint = adjustedEndPoint;\n                }\n    \n                path = new paper.Path.Ellipse({\n                    rectangle: new paper.Rectangle(rectStartPoint, rectEndPoint),\n                });\n                this.setPathStyle(path);\n                if (!this.selectionLayer) return;\n                this.selectionLayer.addChild(path);\n            }\n        };\n    \n        this.currentTool.onMouseUp = () => {\n            this.isDragging=false\n            this.processPath(path)\n            path = null;\n            isDragging = false;\n            if (!this.selectionLayer) return;\n            this.selectionLayer.removeChildren(); // Clear selection layer\n        };\n    }\n    \n\n    initFreeformTool() {\n        let path\n        if (!this.currentTool) return\n        if (!this.selectionLayer) return\n\n        this.currentTool.onMouseDown = (event) => {\n            const point = this.normalizePoint(event.point)\n            path = new paper.Path({\n                segments: [point],\n            });\n            this.setPathStyle(path)\n            this.selectionLayer.addChild(path)\n        }\n\n        this.currentTool.onMouseDrag = (event) => {\n            let point = this.normalizePoint(event.point)\n            path.add(point)\n        }\n\n        this.currentTool.onMouseUp = () => {\n            path.closed = true;\n            path.simplify();\n            this.processPath(path);\n            path = null;\n            this.selectionLayer.removeChildren(); // Clear selection layer\n        }\n    }\n\n    setPathStyle(path) {\n        path.strokeColor = this.currentMode === 'add' ? 'green' : 'red';\n        path.fillColor = new paper.Color(\n            this.currentMode === 'add' ? 0 : 1,\n            this.currentMode === 'add' ? 1 : 0,\n            0,\n            0.2\n        );\n        path.dashArray = [5, 5];\n        path.strokeScaling = false;\n    }\n\n    processPath(path) {\n\n        // Add the path to the internal layer\n        this.internalLayer.activate();\n        this.beforeShapesJSON=this.paper.project.exportJSON()\n        let newPath = path.clone();\n        newPath.style = path.style;\n        if (this.currentMode === 'add') {\n            this.mergePathAdd(newPath);\n        } else if (this.currentMode === 'subtract') {\n            this.mergePathSubtract(newPath);\n        }\n\n        // Update the rendered paths\n        this.updateRenderedPaths();\n\n        paper.view.update()\n        this.afterShapesJSON=this.paper.project.exportJSON()\n\n        if (this.callback) {\n            this.callback()\n        }\n    }\n    restoreJSON(json) {\n        this.paper.project.clear()\n        this.paper.project.importJSON(json)\n        // Reassign the layer references by name\n        this.internalLayer = this.paper.project.layers.find(layer => layer.name === 'internalLayer');\n        this.renderedLayer = this.paper.project.layers.find(layer => layer.name === 'renderedLayer');\n        this.selectionLayer = this.paper.project.layers.find(layer => layer.name === 'selectionLayer');\n\n        this.selectionLayer.removeChildren()\n        this.updateRenderedPaths()\n        paper.view.update()        \n    }\n    mergePathAdd(newPath) {\n        const existingPaths = this.internalLayer.children.filter(\n            (item) => item !== newPath\n        );\n    \n        let pathsToMerge = [newPath];\n    \n        // Collect all existing paths that overlap with newPath\n        for (let i = 0; i < existingPaths.length; i++) {\n            const existingPath = existingPaths[i];\n    \n            if (\n                newPath.intersects(existingPath) ||\n                existingPath.contains(newPath.bounds.center) ||\n                newPath.contains(existingPath.bounds.center)\n            ) {\n                pathsToMerge.push(existingPath);\n            }\n        }\n    \n        if (pathsToMerge.length > 1) {\n            // Merge all paths together\n            let united = pathsToMerge[0];\n    \n            for (let i = 1; i < pathsToMerge.length; i++) {\n                united = united.unite(pathsToMerge[i]);\n            }\n    \n            // Remove old paths\n            pathsToMerge.forEach(path => path.remove());\n    \n            // Add new united path to internalLayer\n            this.internalLayer.addChild(united);\n        } else {\n            // No paths to merge, add newPath to internalLayer\n            this.internalLayer.addChild(newPath);\n        }\n    }\n    \n    mergePathSubtract(newPath) {\n        const existingPaths = this.internalLayer.children.filter(\n            (item) => item !== newPath\n        );\n    \n        let pathsToSubtractFrom = [];\n    \n        // Collect all existing paths that overlap with newPath\n        for (let i = 0; i < existingPaths.length; i++) {\n            const existingPath = existingPaths[i];\n            if (\n                newPath.intersects(existingPath) ||\n                newPath.contains(existingPath.bounds.center) ||\n                existingPath.contains(newPath.bounds.center)\n            ) {\n                pathsToSubtractFrom.push(existingPath);\n            }\n        }\n    \n        // Remove newPath from internalLayer if it's there\n        if (newPath.parent) {\n            newPath.remove();\n        }\n    \n        // Subtract newPath from all overlapping existing paths\n        for (let i = 0; i < pathsToSubtractFrom.length; i++) {\n            const existingPath = pathsToSubtractFrom[i];\n            const subtracted = existingPath.subtract(newPath);\n    \n            // Remove old path\n            existingPath.remove();\n    \n            // Add subtracted path if it has content\n            if (!subtracted.isEmpty()) {\n                this.internalLayer.addChild(subtracted);\n            }\n        }\n    }\n    \n\n    updateRenderedPaths() {\n        // Clear the rendered layer\n        this.renderedLayer.removeChildren();\n    \n        // Decide whether to render orthogonal paths based on zoom level\n        const useOrthogonal = paper.view.zoom >= 12;\n    \n        // Re-render all paths from the internal layer\n        this.internalLayer.children.forEach((originalItem) => {\n            let renderedItem;\n    \n            if (originalItem instanceof paper.Path || originalItem instanceof paper.CompoundPath) {\n                if (useOrthogonal) {\n                    // Render orthogonal version\n                    renderedItem = this.pathTo90DegreeLines(originalItem);\n                } else {\n                    // Render original item\n                    renderedItem = originalItem.clone();\n                }\n    \n                // Apply styles\n                renderedItem.style = originalItem.style;\n    \n                // Add to the rendered layer\n                this.renderedLayer.addChild(renderedItem);\n            }\n        });\n    \n        // Update path styles\n        this.updatePathStyles();\n    }\n    \n\n    pathTo90DegreeLines(path) {\n        let resolution = 1; // Fixed resolution to align with image pixels\n        const length = path.length;\n        const points = [];\n    \n        // Sample the points along the path\n        for (let i = 0; i <= length; i += resolution / 2) {\n            points.push(path.getPointAt(i));\n        }\n        points.push(path.getPointAt(length)); // Add the final point\n    \n        const newSegments = [];\n        let prevPoint = this.snapToGrid(points[0]);\n        newSegments.push(prevPoint);\n    \n        for (let i = 1; i < points.length; i++) {\n            const currentPoint = this.snapToGrid(points[i]);\n    \n            // Create horizontal and vertical steps between points\n            if (currentPoint.x !== prevPoint.x) {\n                newSegments.push(new paper.Point(currentPoint.x, prevPoint.y));\n            }\n            if (currentPoint.y !== prevPoint.y) {\n                newSegments.push(new paper.Point(currentPoint.x, currentPoint.y));\n            }\n    \n            prevPoint = currentPoint;\n        }\n    \n        // Close the path properly\n        const firstPoint = newSegments[0];\n        const lastPoint = newSegments[newSegments.length - 1];\n    \n        if (!lastPoint.equals(firstPoint)) {\n            newSegments.push(firstPoint.clone());\n        }\n    \n        // Return the new path with 90-degree segments\n        return new paper.Path({\n            segments: newSegments,\n            closed: true,\n            strokeColor: path.strokeColor,\n            fillColor: path.fillColor,\n            dashArray: path.dashArray,\n            strokeScaling: path.strokeScaling,\n        });\n    }\n    \n    snapToGrid(point) {\n        return new paper.Point(\n            Math.round(point.x),\n            Math.round(point.y)\n        );\n    }\n\n    updatePathStyles() {\n        const paths = this.renderedLayer.children;\n        for (let i = 0; i < paths.length; i++) {\n            if (paths[i] instanceof paper.Path) {\n                paths[i].strokeColor = 'black';\n                paths[i].fillColor = new paper.Color(0, 0, 0, 0.2);\n                paths[i].dashArray = [5, 5];\n                paths[i].strokeScaling = false;\n            }\n        }\n    }\n\n    animatePaths() {\n        // Animate dash offset for selection paths\n        const paths = this.renderedLayer.children;\n        for (let i = 0; i < paths.length; i++) {\n            if (paths[i] instanceof paper.Path) {\n                paths[i].dashOffset -= 0.5;\n            }\n        }\n        paper.view.update();\n    }\n\n    // Expose the paper.js instance to use all its functions\n    get paper() {\n        return paper;\n    }\n\n    // path.clone is buggy\n    clonePath(originalPath) {\n        const newPath = new paper.Path({\n            strokeColor: originalPath.strokeColor,\n            fillColor: originalPath.fillColor,\n            strokeWidth: originalPath.strokeWidth,\n            dashArray: originalPath.dashArray,\n            dashOffset: originalPath.dashOffset,\n            // Include other style properties as necessary\n        });\n    \n        if (originalPath.segments && originalPath.segments.length) originalPath.segments.forEach(segment => {\n            newPath.add(new paper.Segment(segment.point.clone(), segment.handleIn.clone(), segment.handleOut.clone()));\n        });\n    \n        newPath.closed = originalPath.closed;\n    \n        // Copy transformations if any\n        newPath.transform(originalPath.matrix);\n    \n        return newPath;\n    }\n\n    // Add the deselect method\n    deselect() {\n        // Clear all layers\n        this.internalLayer.removeChildren();\n        this.renderedLayer.removeChildren();\n        this.selectionLayer.removeChildren();\n\n        // Update the view\n        paper.view.update();\n    }\n\n    invert() {\n        // Create a rectangle that covers the entire document\n        const documentBounds = new paper.Rectangle(0, 0, this.documentWidth/window.devicePixelRatio, this.documentHeight/window.devicePixelRatio)\n        const documentPath = new paper.Path.Rectangle(documentBounds)\n\n        // Combine all existing paths into a single compound path\n        const existingPaths = this.internalLayer.children.filter(\n            (item) => item !== documentPath\n        );\n                console.log(\"num paths\",existingPaths.length)\n        this.deselect()\n\n        // Add the path to the internal layer\n        this.internalLayer.activate()\n        this.setPathStyle(documentPath)\n\n      //  let newPath = documentPath.clone()\n      //  newPath.style = documentPath.style\n        this.mergePathAdd(documentPath)\n        for(let i=0;i<existingPaths.length;i++) {\n            console.log(\"sub\", existingPaths[i])\n            this.mergePathSubtract( existingPaths[i])\n         }\n        // Update the rendered paths\n        this.updateRenderedPaths()\n\n        // Update the view\n        paper.view.update()\n    }\n\n\n    \n    \n\n}\n","<svelte:options tag=\"fds-image-editor-selection-floating-toolbar\"></svelte:options>\n<script>\n\n/**\n * the tool layer object\n * @type {object}\n */   \nexport let tool_layer\nexport function refresh() {\n    if (!globalThis.gyre.paletteValues.smoothSelection) globalThis.gyre.paletteValues.smoothSelection=0\n    smoothSliderValue=globalThis.gyre.paletteValues.smoothSelection\n    if (!tool_layer) return\n    if (!tool_layer.mode) tool_layer.mode=\"add\"\n    tool_layer=tool_layer\n}\nfunction smoothSelection() {\n    globalThis.gyre.paletteValues.smoothSelection=smoothSliderValue=sliderElement.value\n}\nfunction openMenu() {\n    let contextMenu = window.document.createElement(\"fds-image-editor-menu\")\n    let tool=globalThis.gyre.selectedTool.subTool\n    contextMenu.menu = { }\n    if (tool===\"rectangle\" || tool===\"ellipse\") {\n        contextMenu.menu = { style:{name:\"Style...\",key:\"\",items:{\n            normal:{name:\"Normal\",key:\"normal\"},\n            fixed_ratio:{name:\"Fixed Ratio\",key:\"fixed_ratio\"},\n            fixed_size:{name:\"Fixed Size\",key:\"fixed_size\"},\n        }}}\n    }\n    contextMenu.menu={...contextMenu.menu, ...{\n        inpainting_mask:{name:\"Inpainting Mask\",key:\"inpainting_mask\"},\n        mask:{id:6,name:\"Layer Mask\",key:\"mask\"},\n        linked_layer_mask:{id:7,name:\"New Linked-Layer Mask\",key:\"linked_layer_mask\"},\n        clear:{id:8,name:\"Clear\",key:\"clear\"},\n        deselect:{id:9,name:\"Deselect\",key:\"deselect\"},\n        invert:{id:10,name:\"Invert\",key:\"invert\"},\n        crop:{id:11,name:\"Crop\",key:\"crop\"},\n    }}\n    contextMenu.element = hamburgerMenu                    \n    contextMenu.callback = async (item) => {\n        tool_layer.component.action(item.key)\n    }\n    window.document.body.append(contextMenu)\n}\nlet hamburgerMenu,sliderElement\nlet smoothSliderValue=0\n\nlet dropdownRatio\nfunction updateRatio(value) {\n    if (!value || value===\"select\") return\n    if (value===\"document\") {\n        tool_layer.ratio_width=globalThis.gyre.canvas.width\n        tool_layer.ratio_height=globalThis.gyre.canvas.height\n    } else {\n        let arr=value.split(\":\")\n        tool_layer.ratio_width=arr[0]\n        tool_layer.ratio_height=arr[1]\n    }\n    tool_layer=tool_layer\n    tool_layer.component.action(\"update_ratio\")\n    dropdownRatio.value=\"select\"\n}\n\n</script>\n{#if tool_layer}\n\n       <!-- svelte-ignore a11y-click-events-have-key-events -->\n       <fds-image-editor-button\n       style=\"margin-left:10px\"\n       icon=\"plusCircleDotted\"\n       class=\"icon\"\n       state={tool_layer.mode === 'add' ? 'active' : ''}\n       on:click={() => {\n           tool_layer.component.action('add')\n       }}\n   ></fds-image-editor-button>\n          <!-- svelte-ignore a11y-click-events-have-key-events -->\n          <fds-image-editor-button\n          style=\"margin-left:10px\"\n          icon=\"minusCircleDotted\"\n          class=\"icon\"\n          state={tool_layer.mode === 'subtract' ? 'active' : ''}\n          on:click={() => {\n              tool_layer.component.action('subtract')\n          }}\n      ></fds-image-editor-button>\n          <!-- svelte-ignore a11y-click-events-have-key-events -->\n          <fds-image-editor-button\n          style=\"margin-left:10px\"\n          icon=\"moveTool\"\n          state={tool_layer.mode === 'move' ? 'active' : ''}\n          class=\"icon\"\n          on:click={() => {\n              tool_layer.component.action('move')\n          }}\n      ></fds-image-editor-button>      \n          <!-- svelte-ignore a11y-click-events-have-key-events -->\n          <fds-image-editor-button\n          style=\"margin-left:10px\"\n          icon=\"hamburgerMenu\"\n          class=\"icon\"\n          bind:this={hamburgerMenu}\n          on:click={() => { openMenu()      }}\n      ></fds-image-editor-button>    \n      Smoothness:\n      <fds-image-editor-slider\n      min=\"0\"\n      max=\"50\"\n      bind:this={sliderElement}\n      on:input={smoothSelection}\n      value={smoothSliderValue}\n      width=\"150px\"\n      class=\"slider\"\n/>\n    {#if tool_layer.style===\"fixed_ratio\"} \n          <div class=\"sizeInput\">\n        Fixed Ratio: <input type=\"number\" class=\"formInput\" style=\"width:60px\" bind:value={tool_layer.ratio_width} on:change={() => {  tool_layer.component.action(\"update_ratio\") }}>:<input type=\"number\" class=\"formInput\" style=\"width:60px\" bind:value={tool_layer.ratio_height} on:change={() => {  tool_layer.component.action(\"update_ratio\") }}>\n        <select class=\"formInput dropDown\" on:change={(e) => { updateRatio(e.target.value) }} bind:this={dropdownRatio} style=\"width:150px\">\n            <option value=\"select\">Select...</option> \n            <option value=\"1:1\">1:1</option>\n            <option value=\"16:9\">16:9</option>\n            <option value=\"9:16\">9:16 (TikTok)</option>\n            <option value=\"4:3\">4:3</option>\n            <option value=\"3:2\">3:2</option>\n            <option value=\"1000:618\">Golden Ratio</option>\n            <option value=\"618:1000\">Golden Ratio upright</option>        \n            <option value=\"document\">Document</option>\n\n        </select>\n    </div>\n    {/if}\n    {#if tool_layer.style===\"fixed_size\"} \n    <div class=\"sizeInput\">\n\n        Width: <input type=\"number\" class=\"formInput\" style=\"width:60px\" bind:value={tool_layer.fixed_width} on:change={() => {  tool_layer.component.action(\"update_fixed\") }}>, Height: <input type=\"number\" class=\"formInput\" style=\"width:60px\" bind:value={tool_layer.fixed_height} on:change={() => {  tool_layer.component.action(\"update_fixed\") }}>\n    </div>\n\n    {/if}\n\n{/if}\n<style>\n\n    .icon {\n        vertical-align: -10px;display: inline-block; \n    }\n    .slider {\n        vertical-align: -2px; \n\n    }\n    .formInput {\n        width: 100%;\n        max-width: 80px;\n        outline: 0;\n        border: 0;\n        border-bottom: 2px solid rgba(255, 255, 255, 0.2);\n        padding: 5px;\n        font-size: 14px;\n        font-weight: normal;\n        border-radius: 3px;\n        color: rgba(255, 255, 255, 0.9);\n        margin-bottom: 10px;\n        display: inline-block;\n        background: none;\n        font-family: system-ui, \"Segoe UI\", Roboto;\n\n    }    \n    .dropDown {\n        font-weight: normal;\n        background-color: rgba(0, 0, 0, 0.65);\n        backdrop-filter: blur(10px);\n    }\n    .sizeInput {\n        margin-left:10px;\n    }\n</style>\n","<svelte:options tag=\"fds-image-editor-selection\"></svelte:options>\n\n<script>\n    import { onMount, onDestroy,afterUpdate } from 'svelte'\n    import { LargePaper } from './largePaper.js'\n    import paper from 'paper'\n    // needed otherwise it will be not availabe in bundle\n    // eslint-disable-next-line no-unused-vars\n    import Dialog from './Dialog.svelte'\n    let paperCanvas\n    let largePaper\n\n    // Document canvas size\n    let documentWidth = 828; // Adjust as needed\n    let documentHeight = 828;\n\n    // Zoom and pan state\n    let currentZoom = 1; // Scale factor\n\n    let screen\n    /**\n     * the tool layer object\n     * @type {object}\n     */   \n     export let tool_layer\n    \n\n    export function refresh() {\n        initPaper()\n        if (!largePaper) return\n        if (globalThis.gyre.selectedTool && globalThis.gyre.selectedTool.subTool) {\n            largePaper.setTool(globalThis.gyre.selectedTool.subTool,tool_layer.options)\n        }\n        mouseInfo.currentWidth=0\n        updatePaperView()\n      //  tool_layer.componentToolbar.refresh()\n\n    }\n    function initPaper() {   \n        let canvas=globalThis.gyre.canvas             // canvas API\n        currentZoom=canvas.zoom/100\n        documentWidth=canvas.width\n        documentHeight=canvas.height\n        screen=canvas.screen\n        screen=screen        \n        if (!paperCanvas) return\n\n        if (largePaper) {  \n            return    \n        }\n        largePaper = new LargePaper(paperCanvas, documentWidth, documentHeight, currentZoom,callback)\n        globalThis.paper=largePaper\n        // Set initial tool to freeform\n        //largePaper.setTool('freeform')\n\n        // Initial transformations\n        updatePaperView()\n\n        // Render the view\n        largePaper.paper.view.update()\n\n    }\n    function callback() {\n        globalThis.gyre.undo_redo_add('selection', 'shape', {beforeShapesJSON:largePaper.beforeShapesJSON, afterShapesJSON:largePaper.afterShapesJSON }, (state, action) => {\n            let restoreShapes\n            if (action === 'undo') restoreShapes = state.data.beforeShapesJSON\n            if (action === 'redo') restoreShapes = state.data.afterShapesJSON\n            largePaper.restoreJSON(restoreShapes)\n        })\n    }\n    onMount(() => {\n        globalThis.gyre.callbackFunctions[\"copy\"]=async () => {\n            copyToClipboard()\n         }\n         globalThis.gyre.callbackFunctions[\"onKeyDown\"]= async (e) => {\n            if (e.keyCode===46) action(\"clear\")\n            if (e.keyCode===68 && e.ctrlKey) action(\"deselect\")\n            if (e.keyCode===37)  largePaper.moveAllPaths( new paper.Point(-1 , 0 ))\n            if (e.keyCode===39)  largePaper.moveAllPaths( new paper.Point(1 , 0 ))\n            if (e.keyCode===38)  largePaper.moveAllPaths( new paper.Point(0 , -1))\n            if (e.keyCode===40)  largePaper.moveAllPaths( new paper.Point(0 , 1 ))\n\n         }\n        // Initialize LargePaper with the canvas element\n        initPaper()\n    })\n\tafterUpdate(() => {\n        console.log(\"afterUpdate\")\n        initPaper()\n\t})\n    onDestroy(() => {\n        if (largePaper) {\n            largePaper.paper.view.remove()\n            largePaper = null\n        }\n        globalThis.gyre.callbackFunctions[\"copy\"]=null\n        globalThis.gyre.callbackFunctions[\"onKeyDown\"]=null\n    })\n\n\n\n    // Update Paper.js view to match image transformations\n    function updatePaperView() {\n        if (largePaper) {\n            const view = largePaper.paper.view\n            view.viewSize = new paper.Size(screen.width, screen.height)\n          //  view.matrix = new paper.Matrix(1, 0, 0, -1, 0, view.size.height);\n\n            // Set the zoom\n            view.zoom = currentZoom;\n            view.center = new paper.Point(view.size.width / 2+globalThis.gyre.canvas.screen.left/currentZoom, view.size.height / 2+globalThis.gyre.canvas.screen.top/currentZoom);\n\n//            view.center= new paper.Point(screen.width/2+globalThis.gyre.canvas.screen.left/currentZoom,screen.width/2+globalThis.gyre.canvas.screen.top/currentZoom)\n           // largePaper.pan(-globalThis.gyre.canvas.screen.left,-globalThis.gyre.canvas.screen.top)\n            view.update()\n\n            largePaper.updateRenderedPaths()\n\n        }\n    }\n\nasync function crop() {\n     // Get the image URL from globalThis\n     const imageUrl = await globalThis.gyre.paletteValues.selectedLayer.renderInDocumentSize()\n    if (!imageUrl) {\n        console.log(\"No image URL found.\")\n        return;\n    }\n    // Create an off-screen canvas\n    let hiddenCanvas = window.document.createElement('canvas')\n    let ctx = hiddenCanvas.getContext('2d')\n    // Load the image first\n    const image = new Image()\n    image.crossOrigin = \"Anonymous\" // To avoid CORS issues if needed    \n    let boundingBox = null\n    image.onload = async function () {\n                // Get the device pixel ratio\n                const scale = window.devicePixelRatio || 1\n        // Calculate the bounding box based on unscaled paths from the internal layer\n        largePaper.internalLayer.children.forEach(function (item) {\n            if (!boundingBox) {\n                boundingBox = item.bounds.clone() // Initialize with the first item's bounds\n            } else {\n                boundingBox = boundingBox.unite(item.bounds) // Expand to include each item's bounds\n            }\n        });\n        if (!boundingBox) {\n            console.log(\"No paths available to copy.\")\n            return;\n        }\n        // Set the canvas dimensions to match the bounding box, multiplied by scale\n        let w=boundingBox.width * scale\n        let h=boundingBox.height * scale\n        hiddenCanvas.width = w\n        hiddenCanvas.height = h\n        ctx.drawImage(image, boundingBox.x * scale, boundingBox.y * scale,w,h,0,0,w,h)\n        let imageLayer=globalThis.gyre.paletteValues.selectedLayer\n        globalThis.gyre.canvas.change(w,h,100)\n        imageLayer.url= hiddenCanvas.toDataURL()\n        imageLayer.width=w\n        imageLayer.height=h\n        imageLayer.x=0\n        imageLayer.y=0\n        largePaper.moveAllPaths( new paper.Point(-boundingBox.x , -boundingBox.y ))\n        await imageLayer.cacheReady()\n        globalThis.gyre.refresh()\n    }\n    image.onerror = function () {\n        console.error(\"Failed to load image from URL.\")\n    }\n    image.src = imageUrl    \n}\n\nasync function copyToClipboard() {\n    // Get the image URL from globalThis\n    const imageUrl = await globalThis.gyre.paletteValues.selectedLayer.renderInDocumentSize()\n    if (!imageUrl) {\n        console.log(\"No image URL found.\");\n        return;\n    }\n    // Create an off-screen canvas\n    let hiddenCanvas = window.document.createElement('canvas');\n    let ctx = hiddenCanvas.getContext('2d');\n    // Load the image first\n    const image = new Image();\n    image.crossOrigin = \"Anonymous\"; // To avoid CORS issues if needed\n    let boundingBox = null;\n\n    // Wait for the image to load\n    image.onload = function () {\n        // Get the device pixel ratio\n        const scale = window.devicePixelRatio || 1;\n        // Calculate the bounding box based on unscaled paths from the internal layer\n        largePaper.internalLayer.children.forEach(function (item) {\n            if (!boundingBox) {\n                boundingBox = item.bounds.clone(); // Initialize with the first item's bounds\n            } else {\n                boundingBox = boundingBox.unite(item.bounds); // Expand to include each item's bounds\n            }\n        });\n        if (!boundingBox) {\n            console.log(\"No paths available to copy.\");\n            return;\n        }\n        // Set the canvas dimensions to match the bounding box, multiplied by scale\n        hiddenCanvas.width = boundingBox.width * scale;\n        hiddenCanvas.height = boundingBox.height * scale;\n     \n        let selectedPaths = largePaper.internalLayer.children.map(item => largePaper.clonePath(item));\n\n        // Iterate through each path to define the clipping mask\n        const resultCanvas = window.document.createElement('canvas');\n        resultCanvas.width=hiddenCanvas.width\n        resultCanvas.height=hiddenCanvas.height\n        const resultCtx = resultCanvas.getContext('2d');\n        selectedPaths.forEach(path => {\n            let hiddenCanvas = window.document.createElement('canvas');\n            hiddenCanvas.width=resultCanvas.width\n            hiddenCanvas.height=resultCanvas.height\n            let ctx = hiddenCanvas.getContext('2d');\n            // Translate the canvas to align with the bounding box top-left corner, multiplied by scale\n            ctx.translate(-boundingBox.x * scale, -boundingBox.y * scale);\n            ctx.clearRect(0, 0, hiddenCanvas.width, hiddenCanvas.height);\n\n            ctx.save();\n            ctx.beginPath();\n\n            if (path instanceof paper.Path.Ellipse) {\n                // Handle ellipse paths\n                const rect = path.bounds;\n                const center = rect.center;\n                const radiusX = rect.width / 2;\n                const radiusY = rect.height / 2;\n                ctx.ellipse(\n                    center.x * scale, \n                    center.y * scale, \n                    radiusX * scale, \n                    radiusY * scale, \n                    0, 0, 2 * Math.PI\n                );\n            } else {\n                // Handle regular paths (including Bézier curves)\n                const segments = path.segments;\n                if (segments && segments.length > 0) {\n                    // Move to the first point of the current path\n                    ctx.moveTo(segments[0].point.x * scale, segments[0].point.y * scale);\n                    for (let i = 0; i < segments.length; i++) {\n                        const current = segments[i];\n                        const next = segments[i + 1];\n                        if (next) {\n                            // Calculate control points\n                            const cp1 = current.handleOut;\n                            const cp2 = next.handleIn;\n                            if (cp1.length > 0 || cp2.length > 0) {\n                                // If there are handles, draw a Bézier curve\n                                ctx.bezierCurveTo(\n                                    (current.point.x + cp1.x) * scale,\n                                    (current.point.y + cp1.y) * scale,\n                                    (next.point.x + cp2.x) * scale,\n                                    (next.point.y + cp2.y) * scale,\n                                    next.point.x * scale,\n                                    next.point.y * scale\n                                );\n                            } else {\n                                // If no handles, draw a straight line\n                                ctx.lineTo(next.point.x * scale, next.point.y * scale);\n                            }\n                        }\n                    }\n\n                    // Handle the closing segment manually to respect Bézier curves\n                    if (path.closed) {\n                        const lastSegment = segments[segments.length - 1];\n                        const firstSegment = segments[0];\n                        const cp1 = lastSegment.handleOut;\n                        const cp2 = firstSegment.handleIn;\n\n                        if (cp1.length > 0 || cp2.length > 0) {\n                            // Draw a Bézier curve back to the first point\n                            ctx.bezierCurveTo(\n                                (lastSegment.point.x + cp1.x) * scale,\n                                (lastSegment.point.y + cp1.y) * scale,\n                                (firstSegment.point.x + cp2.x) * scale,\n                                (firstSegment.point.y + cp2.y) * scale,\n                                firstSegment.point.x * scale,\n                                firstSegment.point.y * scale\n                            );\n                        } else {\n                            // Draw a straight line back to the first point\n                            ctx.lineTo(firstSegment.point.x * scale, firstSegment.point.y * scale);\n                        }\n                    }\n                    // Do not call ctx.closePath() to avoid unintended closures\n                }\n            }\n            ctx.closePath(); // Close the path after defining it\n\n            ctx.clip();\n            ctx.drawImage(image, 0, 0);\n            resultCtx.drawImage(hiddenCanvas,0,0)   // this always works \n            //ctx.restore() \n\n        });\n\n        resultCanvas.toBlob(async (blob) => {\n            try {\n            blob.uniqueID=123\n                globalThis.gyre.paletteValues.internalCopyInfo={x:boundingBox.x * scale,y:boundingBox.y * scale,hash:await globalThis.gyre.clipboard.calculateImageDataHash(blob)}\n                // Clipboard API supports writing the image\n                await navigator.clipboard.write([\n                    new ClipboardItem({\n                        'image/png': blob\n                    })\n                ]);\n            } catch (error) {\n                console.error(\"Failed to copy image to clipboard:\", error);\n            }\n        });\n        // Clean up cloned paths\n        selectedPaths.forEach(path => path.remove());\n    }\n    image.onerror = function () {\n        console.error(\"Failed to load image from URL.\");\n    }\n    image.src = imageUrl\n\n}\n\nexport async function action(type) {\n        if (!globalThis.gyre || !globalThis.gyre.canvas) return\n        let gyre= globalThis.gyre\n        if (!gyre.paletteValues.selectedLayer.url) return     \n        if (type===\"deselect\") {\n            largePaper.deselect()\n        }           \n        if (type===\"invert\") {\n            largePaper.invert()\n        }           \n        if (type===\"crop\") {\n            crop()\n        }  \n        if (type===\"mask\") {\n            let maskURL=await generateMask(globalThis.gyre.paletteValues.smoothSelection)\n           gyre.layerManager.addLayerMask(maskURL,true)\n        }\n        if (type===\"clear\") {\n            let imageLayer=gyre.paletteValues.selectedLayer\n            if (!imageLayer.url) return\n            let maskURL=await generateMask(0)\n            let transformedMaskURL=await imageLayer.extractImageFromDocument(maskURL)\n            imageLayer.url = await gyre.imageAPI.processImage(imageLayer.url, (data, i, data2) => {\n                if (data2) {\n                    // If the pixel in imageUrl2 is white (R=255, G=255, B=255, A=255)\n                    if (data2[i] === 255 && data2[i + 1] === 255 && data2[i + 2] === 255 && data2[i + 3] === 255) {\n                        // Set the pixel in the original image (imageUrl) to fully transparent\n                        data[i + 3] = 0;\n                    }\n                }\n            }, transformedMaskURL)\n            gyre.refresh()\n        }        \n        if (type===\"inpainting_mask\") {\n            let maskURL=await generateMask(0)\n            maskURL=await gyre.imageAPI.processImage(maskURL, (data, i) => {\n                if (data[i] === 0 && data[i + 1] === 0 && data[i + 2] === 0) {\n                    data[i + 3] = 0 // Make the pixel fully transparent\n                }\n            })\n            gyre.maskManager.loadMask(maskURL)\n        }\n        if (type===\"linked_layer_mask\") {\n            let newLayer = {            // linked clone\n                type: 'image',\n                name: \"⬤ \"+gyre.paletteValues.selectedLayer.name,\n                ref: gyre.paletteValues.selectedLayer.id,\n                visible: true\n            }\n            newLayer=gyre.createLayerInstance(newLayer.name, newLayer.type, newLayer)\n            gyre.layerManager.addLayer(newLayer)    \n            gyre.layerManager.selectLayers([newLayer.id])\n            let maskURL=await generateMask(globalThis.gyre.paletteValues.smoothSelection)\n            gyre.layerManager.addLayerMask(maskURL,true)\n        }\n        if (type===\"add\") {\n            tool_layer.mode=\"add\"\n            largePaper.setMode(\"add\")\n            tool_layer.componentToolbar.refresh()\n        }\n        if (type===\"subtract\") {\n            tool_layer.mode=\"subtract\"\n            largePaper.setMode(\"subtract\")\n            tool_layer.componentToolbar.refresh()\n        }\n        if (type===\"move\") {\n            tool_layer.mode=\"move\"\n            largePaper.setMode(\"move\")\n            tool_layer.componentToolbar.refresh()\n        }\n        if (type===\"fixed_ratio\") {\n            tool_layer.style=\"fixed_ratio\"\n            if (!tool_layer.ratio_width || !!tool_layer.ratio_height) {\n                tool_layer.ratio_width=1\n                tool_layer.ratio_height=1\n                type=\"update_ratio\"\n            }\n            tool_layer.componentToolbar.refresh()\n        }\n        if (type===\"fixed_size\") {\n            tool_layer.style=\"fixed_size\"\n            tool_layer.componentToolbar.refresh()\n        }        \n        if (type===\"normal\") {\n            tool_layer.style=\"normal\"\n            if (!tool_layer.options) tool_layer.options={}\n            tool_layer.options.aspectRatio=tool_layer.options.fixedSize=null\n            largePaper.setTool(globalThis.gyre.selectedTool.subTool,tool_layer.options)\n            tool_layer.componentToolbar.refresh()\n        }\n\n        if (type===\"update_ratio\") {\n            if (!tool_layer.options) tool_layer.options={}\n            tool_layer.options.aspectRatio=null\n            if (tool_layer.style===\"fixed_ratio\") {\n                tool_layer.options.aspectRatio=tool_layer.ratio_width/tool_layer.ratio_height\n            }\n            largePaper.setTool(globalThis.gyre.selectedTool.subTool,tool_layer.options)\n        }\n        if (type===\"update_fixed\") {\n            if (!tool_layer.options) tool_layer.options={}\n            tool_layer.options.fixedSize=null\n            if (tool_layer.style===\"fixed_size\" && parseInt(tool_layer.fixed_width)>0 && parseInt(tool_layer.fixed_height)>0) {\n                tool_layer.options.fixedSize={width:parseInt(tool_layer.fixed_width),height:parseInt(tool_layer.fixed_height)}\n            }\n            largePaper.setTool(globalThis.gyre.selectedTool.subTool,tool_layer.options)\n        }        \n    }\n    async function generateMask(softenEdges = 0) {\n    // Get the image URL and scale from globalThis\n    const imageUrl = await globalThis.gyre.paletteValues.selectedLayer.renderInDocumentSize();\n    const scale = window.devicePixelRatio || 1;\n    \n    if (!imageUrl) {\n        console.log(\"No image URL found.\");\n        return null;\n    }\n\n    // Get the paths from globalThis\n    const paths = largePaper.internalLayer.children;\n    if (paths.length === 0) {\n        console.log(\"No paths available to generate mask.\");\n        return null;\n    }\n\n    // Create a canvas\n    const canvas = window.document.createElement('canvas');\n    const ctx = canvas.getContext('2d');\n\n    // Load the image to get its dimensions\n    const image = new Image();\n    image.crossOrigin = \"Anonymous\";\n    image.src = imageUrl;\n\n    await new Promise((resolve) => {\n        image.onload = resolve;\n    });\n\n    // Set canvas dimensions to match the image, considering the scale\n    canvas.width = image.width;\n    canvas.height = image.height;\n\n    // Set background to black\n    ctx.fillStyle = 'black';\n    ctx.fillRect(0, 0, canvas.width, canvas.height);\n\n    // Set fill color to white\n    ctx.fillStyle = 'white';\n\n    // Draw paths\n    paths.forEach(path => {\n        ctx.save();\n        ctx.beginPath();\n\n        if (path instanceof paper.Path.Ellipse) {\n            const rect = path.bounds;\n            const center = rect.center;\n            const radiusX = rect.width / 2;\n            const radiusY = rect.height / 2;\n            ctx.ellipse(\n                center.x * scale, \n                center.y * scale, \n                radiusX * scale, \n                radiusY * scale, \n                0, 0, 2 * Math.PI\n            );\n        } else {\n            const segments = path.segments;\n            if (segments && segments.length > 0) {\n                ctx.moveTo(segments[0].point.x * scale, segments[0].point.y * scale);\n                for (let i = 0; i < segments.length; i++) {\n                    const current = segments[i];\n                    const next = segments[i + 1];\n                    if (next) {\n                        const cp1 = current.handleOut;\n                        const cp2 = next.handleIn;\n                        if (cp1.length > 0 || cp2.length > 0) {\n                            ctx.bezierCurveTo(\n                                (current.point.x + cp1.x) * scale, (current.point.y + cp1.y) * scale,\n                                (next.point.x + cp2.x) * scale, (next.point.y + cp2.y) * scale,\n                                next.point.x * scale, next.point.y * scale\n                            );\n                        } else {\n                            ctx.lineTo(next.point.x * scale, next.point.y * scale);\n                        }\n                    }\n                }\n\n                if (path.closed) {\n                    const lastSegment = segments[segments.length - 1];\n                    const firstSegment = segments[0];\n                    const cp1 = lastSegment.handleOut;\n                    const cp2 = firstSegment.handleIn;\n\n                    if (cp1.length > 0 || cp2.length > 0) {\n                        ctx.bezierCurveTo(\n                            (lastSegment.point.x + cp1.x) * scale, (lastSegment.point.y + cp1.y) * scale,\n                            (firstSegment.point.x + cp2.x) * scale, (firstSegment.point.y + cp2.y) * scale,\n                            firstSegment.point.x * scale, firstSegment.point.y * scale\n                        );\n                    } else {\n                        ctx.lineTo(firstSegment.point.x * scale, firstSegment.point.y * scale);\n                    }\n                }\n            }\n        }\n\n        ctx.closePath();\n        ctx.fill();\n        ctx.restore();\n    });\n\n    // Apply edge softening if requested\n    if (softenEdges > 0) {\n        ctx.filter = `blur(${softenEdges}px)`;\n        ctx.drawImage(canvas, 0, 0);\n        ctx.filter = 'none';\n    }\n\n    // Convert canvas to data URL\n    const dataURL = canvas.toDataURL('image/png');\n\n    return  dataURL\n}\n\n\nlet mouseInfo = {}\nfunction mouseHandler(event) {\n    mouseInfo.x = event.clientX + 20\n    mouseInfo.y = event.clientY - 40\n    mouseInfo.currentWidth=largePaper.currentWidth\n    mouseInfo.currentHeight=largePaper.currentHeight\n    mouseInfo.isDragging=largePaper.isDragging\n    mouseInfo = mouseInfo\n}\n</script>\n<style>\n    .mouseInfo {\n        border-radius: 5px;\n        z-index: 1000;\n        position: fixed;\n        background-color: black;\n        font-size: 11px;\n        color: white;\n        padding: 5px;\n        width: 75px;\n        height: 35px;\n        opacity: 0.8;\n    }    \n    .canvasContainer {\n        position:absolute;\n     /*   border: 1px solid blue;    */    \n    }\n    canvas[resize] {\n        width: 100%;\n        height: 100%;\n    }\n</style>\n{#if screen}\n\n{#if largePaper && mouseInfo.isDragging}\n<div class=\"mouseInfo\" style=\"left:{mouseInfo.x}px;top:{mouseInfo.y}px;\">\n   <span class=\"w\">w:</span>\n    {mouseInfo.currentWidth} px<br />\n    <span class=\"w\">h:</span>\n    {mouseInfo.currentHeight} px\n</div>    \n{/if} \n<div class=\"canvasContainer\" style=\"left:{screen.left}px;top:{screen.top}px;width:{screen.width}px;height:{screen.height}px\" on:mousemove={mouseHandler}\n>\n    <canvas bind:this={paperCanvas} resize=\"true\"></canvas>\n</div>\n{/if}"],"names":["noop","run","fn","blank_object","Object","create","run_all","fns","forEach","is_function","thing","safe_not_equal","a","b","append","target","node","appendChild","insert","anchor","insertBefore","detach","parentNode","removeChild","element","name","document","createElement","text","data","createTextNode","space","empty","listen","event","handler","options","addEventListener","removeEventListener","attr","attribute","value","removeAttribute","getAttribute","setAttribute","set_custom_element_data","prop","to_number","set_data","set_input_value","input","set_style","key","important","style","removeProperty","setProperty","attribute_to_object","attributes","result","current_component","set_current_component","component","get_current_component","Error","dirty_components","binding_callbacks","render_callbacks","flush_callbacks","resolved_promise","Promise","resolve","update_scheduled","add_render_callback","push","seen_callbacks","Set","flushidx","flush","saved_component","length","update","$$","e","pop","i","callback","has","add","clear","fragment","before_update","dirty","p","ctx","after_update","outroing","destroy_component","detaching","filtered","targets","c","indexOf","flush_render_callbacks","on_destroy","d","make_dirty","then","fill","init","instance","create_fragment","not_equal","props","append_styles","parent_component","bound","on_mount","on_disconnect","context","Map","callbacks","skip_bound","root","ready","ret","rest","hydrate","nodes","Array","from","childNodes","children","l","intro","block","delete","local","customElement","m","new_on_destroy","map","filter","mount_component","SvelteElement","HTMLElement","constructor","super","this","attachShadow","mode","connectedCallback","slotted","attributeChangedCallback","_oldValue","newValue","disconnectedCallback","$destroy","$on","type","index","splice","$set","$$props","obj","$$set","keys","exports","astralIdentifierCodes","astralIdentifierStartCodes","nonASCIIidentifierChars","nonASCIIidentifierStartChars","reservedWords","strict","strictBind","ecma5AndLessKeywords","keywords$1","keywordRelationalOperator","nonASCIIidentifierStart","RegExp","nonASCIIidentifier","isInAstralSet","code","set","pos","isIdentifierStart","astral","test","String","fromCharCode","isIdentifierChar","TokenType","label","conf","keyword","beforeExpr","startsExpr","isLoop","isAssign","prefix","postfix","binop","updateContext","prec","keywords","kw","types$1","num","regexp","string","privateId","eof","bracketL","bracketR","braceL","braceR","parenL","parenR","comma","semi","colon","dot","question","questionDot","arrow","template","invalidTemplate","ellipsis","backQuote","dollarBraceL","eq","assign","incDec","logicalOR","logicalAND","bitwiseOR","bitwiseXOR","bitwiseAND","equality","relational","bitShift","plusMin","modulo","star","slash","starstar","coalesce","_break","_case","_catch","_continue","_debugger","_default","_do","_else","_finally","_for","_function","_if","_return","_switch","_throw","_try","_var","_const","_while","_with","_new","_this","_super","_class","_extends","_export","_import","_null","_true","_false","_in","_instanceof","_typeof","_void","_delete","lineBreak","lineBreakG","source","isNewLine","nextLineBreak","end","next","charCodeAt","nonASCIIwhitespace","skipWhiteSpace","ref","prototype","hasOwnProperty","toString","hasOwn","propName","call","isArray","regexpCache","wordsRegexp","words","replace","codePointToString","loneSurrogate","Position","line","col","column","offset","n","SourceLocation","start","sourceFile","getLineInfo","cur","nextBreak","defaultOptions","ecmaVersion","sourceType","onInsertedSemicolon","onTrailingComma","allowReserved","allowReturnOutsideFunction","allowImportExportEverywhere","allowAwaitOutsideFunction","allowSuperOutsideMethod","allowHashBang","checkPrivateFields","locations","onToken","onComment","ranges","program","directSourceFile","preserveParens","warnedAboutEcmaVersion","getOptions","opts","opt","console","warn","tokens","token","pushComment","array","startLoc","endLoc","comment","loc","range","SCOPE_TOP","SCOPE_FUNCTION","SCOPE_ASYNC","SCOPE_GENERATOR","SCOPE_ARROW","SCOPE_SIMPLE_CATCH","SCOPE_SUPER","SCOPE_DIRECT_SUPER","SCOPE_CLASS_STATIC_BLOCK","SCOPE_VAR","functionFlags","async","generator","BIND_NONE","BIND_VAR","BIND_LEXICAL","BIND_FUNCTION","BIND_SIMPLE_CATCH","BIND_OUTSIDE","Parser","startPos","reserved","reservedStrict","reservedWordsStrict","reservedWordsStrictBind","containsEsc","lineStart","lastIndexOf","curLine","slice","split","curPosition","lastTokEndLoc","lastTokStartLoc","lastTokStart","lastTokEnd","initialContext","exprAllowed","inModule","strictDirective","potentialArrowAt","potentialArrowInForAwait","yieldPos","awaitPos","awaitIdentPos","labels","undefinedExports","skipLineComment","scopeStack","enterScope","regexpState","privateNameStack","prototypeAccessors","inFunction","configurable","inGenerator","inAsync","canAwait","allowSuper","allowDirectSuper","treatFunctionsAsVar","allowNewDotTarget","inClassStaticBlock","parse","startNode","nextToken","parseTopLevel","get","currentVarScope","flags","inClassFieldInit","scope","currentThisScope","treatFunctionsAsVarInScope","currentScope","extend","plugins","len","arguments","cls","parseExpressionAt","parser","parseExpression","tokenizer","defineProperties","pp$9","literal","lastIndex","exec","match","spaceAfter","charAt","eat","isContextual","eatContextual","expectContextual","unexpected","canInsertSemicolon","insertSemicolon","semicolon","afterTrailingComma","tokType","notNext","expect","raise","DestructuringErrors","shorthandAssign","trailingComma","parenthesizedAssign","parenthesizedBind","doubleProto","checkPatternErrors","refDestructuringErrors","raiseRecoverable","parens","checkExpressionErrors","andThrow","checkYieldAwaitInDefaultParams","isSimpleAssignTarget","expr","expression","pp$8","body","stmt","parseStatement","list","adaptDirectivePrologue","finishNode","loopLabel","kind","switchLabel","isLet","skip","nextCh","ident","isAsyncFunction","after","topLevel","starttype","parseBreakContinueStatement","parseDebuggerStatement","parseDoStatement","parseForStatement","parseFunctionStatement","parseClass","parseIfStatement","parseReturnStatement","parseSwitchStatement","parseThrowStatement","parseTryStatement","parseVarStatement","parseWhileStatement","parseWithStatement","parseBlock","parseEmptyStatement","parseExpressionStatement","parseImport","parseExport","maybeName","parseLabeledStatement","isBreak","parseIdent","lab","parseParenExpression","awaitAt","parseFor","init$1","parseVar","declarations","await","parseForIn","startsWithLet","isForOf","initPos","parseExprSubscripts","toAssignable","checkLValPattern","isAsync","declarationPosition","parseFunction","FUNC_STATEMENT","FUNC_HANGING_STATEMENT","consequent","alternate","argument","discriminant","cases","sawDefault","isCase","exitScope","empty$1","parseCatchClauseParam","param","parseBindingAtom","simple","clause","finalizer","allowMissingInitializer","object","i$1","label$1","statementStart","createNewLexicalScope","exitStrict","isForIn","id","left","right","parseMaybeAssign","isFor","decl","parseVarId","FUNC_NULLABLE_ID","isPrivateNameConflicted","privateNameMap","curr","static","checkKeyName","computed","statement","allowExpressionBody","forInit","initFunction","checkLValSimple","oldYieldPos","oldAwaitPos","oldAwaitIdentPos","parseFunctionParams","parseFunctionBody","params","parseBindingList","isStatement","oldStrict","parseClassId","parseClassSuper","enterClassBody","classBody","hadConstructor","parseClassElement","superClass","exitClassBody","constructorAllowsSuper","keyName","isGenerator","isStatic","parseClassStaticBlock","isClassElementNameStart","lastValue","startNodeAt","parseClassElementName","isConstructor","allowsDirectSuper","parseClassMethod","parseClassField","parsePrivateIdent","parsePropertyName","method","parseMethod","field","oldLabels","declared","used","parent","parseExportAllDeclaration","exported","parseModuleExportName","checkExport","parseExprAtom","declaration","parseExportDefaultDeclaration","shouldParseExportStatement","parseExportDeclaration","checkVariableExport","specifiers","parseExportSpecifiers","spec","checkUnreserved","checkLocalExport","fNode","cNode","checkPatternExport","pat","properties","list$1","elements","elt","decls","parseExportSpecifier","first","parseImportSpecifiers","parseImportSpecifier","imported","parseImportDefaultSpecifier","parseImportNamespaceSpecifier","stringLiteral","parseLiteral","statements","isDirectiveCandidate","directive","raw","pp$7","isBinding","toAssignableList","operator","exprList","last","parseSpread","parseRestBinding","parseObj","close","allowEmpty","allowTrailingComma","allowModifiers","elts","parseBindingListItem","parseAssignableListItem","elem","parseMaybeDefault","bindingType","checkClashes","isBind","declareName","checkLValInnerPattern","TokContext","isExpr","preserveSpace","override","types","b_stat","b_expr","b_tmpl","p_stat","p_expr","q_tmpl","tryReadTemplateToken","f_stat","f_expr","f_expr_gen","f_gen","pp$6","curContext","braceIsBlock","prevType","inGeneratorContext","overrideContext","tokenCtx","out","statementParens","allowed","pp$5","isLocalVariableAccess","isPrivateFieldAccess","property","checkPropClash","propHash","shorthand","proto","other","expressions","afterLeftParse","parseYield","ownDestructuringErrors","oldParenAssign","oldTrailingComma","oldDoubleProto","parseMaybeConditional","parseExprOps","parseMaybeUnary","parseExprOp","leftStartPos","leftStartLoc","minPrec","logical","op","buildBinary","sawUnary","parseAwait","node$1","parseSubscripts","base","noCalls","maybeAsyncArrow","optionalChained","parseSubscript","optional","chainNode","shouldParseAsyncArrow","parseSubscriptAsyncArrow","parseArrowExpression","optionalSupported","parseExprList","callee","node$2","tag","quasi","parseTemplate","isTagged","forNew","readRegexp","canBeArrow","regex","pattern","parseParenAndDistinguishExpression","parseNew","parseExprImport","parseExprAtomDefault","parseDynamicImport","meta","parseImportMeta","errorPos","bigint","val","shouldParseArrow","spreadStart","innerStartPos","innerStartLoc","lastIsComma","parseParenItem","innerEndPos","innerEndLoc","parseParenArrowList","finishNodeAt","par","item","parseTemplateElement","cooked","tail","curElt","quasis","isAsyncProp","isPattern","parseProperty","parsePropertyValue","parseGetterSetter","paramCount","copyNode","isArrowFunction","isMethod","isExpression","useStrict","checkParams","nonSimple","isSimpleParamList","undefined","allowDuplicates","nameHash","liberal","parseIdentNode","delegate","pp$4","message","err","SyntaxError","raisedAt","pp$3","Scope","var","lexical","functions","redeclared","scope$2","scope$3","Node","pp$2","newNode","ecma9BinaryProperties","ecma10BinaryProperties","ecma12BinaryProperties","unicodeBinaryProperties","unicodeBinaryPropertiesOfStrings","unicodeGeneralCategoryValues","ecma9ScriptValues","ecma10ScriptValues","ecma11ScriptValues","ecma12ScriptValues","ecma13ScriptValues","unicodeScriptValues","buildUnicodeData","binary","binaryOfStrings","nonBinary","General_Category","Script","Script_Extensions","gc","sc","scx","pp$1","BranchID","separatedFrom","alt","self","sibling","RegExpValidationState","validFlags","unicodeProperties","switchU","switchV","switchN","lastIntValue","lastStringValue","lastAssertionIsQuantifiable","numCapturingParens","maxBackReference","groupNames","backReferenceNames","branchID","hasProp","_","isSyntaxCharacter","ch","isRegExpIdentifierStart","isRegExpIdentifierPart","isControlLetter","isValidUnicode","reset","unicodeSets","unicode","at","forceU","s","nextIndex","current","lookahead","advance","eatChars","chs","validateRegExpFlags","state","u","v","flag","validateRegExpPattern","regexp_pattern","regexp_disjunction","trackDisjunction","regexp_alternative","regexp_eatQuantifier","regexp_eatTerm","regexp_eatAssertion","regexp_eatAtom","regexp_eatExtendedAtom","lookbehind","noError","regexp_eatQuantifierPrefix","regexp_eatBracedQuantifier","min","max","regexp_eatDecimalDigits","regexp_eatPatternCharacters","regexp_eatReverseSolidusAtomEscape","regexp_eatCharacterClass","regexp_eatUncapturingGroup","regexp_eatCapturingGroup","regexp_eatAtomEscape","regexp_groupSpecifier","regexp_eatInvalidBracedQuantifier","regexp_eatExtendedPatternCharacter","regexp_eatSyntaxCharacter","regexp_eatGroupName","known","regexp_eatRegExpIdentifierName","regexp_eatRegExpIdentifierStart","regexp_eatRegExpIdentifierPart","regexp_eatRegExpUnicodeEscapeSequence","regexp_eatBackReference","regexp_eatCharacterClassEscape","regexp_eatCharacterEscape","regexp_eatKGroupName","regexp_eatDecimalEscape","regexp_eatControlEscape","regexp_eatCControlLetter","regexp_eatZero","regexp_eatHexEscapeSequence","regexp_eatLegacyOctalEscapeSequence","regexp_eatIdentityEscape","regexp_eatControlLetter","isDecimalDigit","regexp_eatFixedHexDigits","lead","leadSurrogateEnd","trail","regexp_eatHexDigits","CharSetNone","CharSetOk","CharSetString","isCharacterClassEscape","isUnicodePropertyNameCharacter","isUnicodePropertyValueCharacter","isClassSetReservedDoublePunctuatorCharacter","isClassSetSyntaxCharacter","isClassSetReservedPunctuator","isHexDigit","hexToInt","isOctalDigit","negate","regexp_eatUnicodePropertyValueExpression","regexp_eatUnicodePropertyName","regexp_eatUnicodePropertyValue","regexp_validateUnicodePropertyNameAndValue","regexp_eatLoneUnicodePropertyNameOrValue","nameOrValue","regexp_validateUnicodePropertyNameOrValue","regexp_classContents","regexp_classSetExpression","regexp_nonEmptyClassRanges","regexp_eatClassAtom","regexp_eatClassEscape","ch$1","regexp_eatClassControlLetter","subResult","regexp_eatClassSetRange","regexp_eatClassSetOperand","regexp_eatClassSetCharacter","regexp_eatClassStringDisjunction","regexp_eatNestedClass","result$1","regexp_classStringDisjunctionContents","regexp_classString","count","regexp_eatClassSetReservedPunctuator","regexp_eatOctalDigit","n1","n2","Token","pp","stringToNumber","str","isLegacyOctalNumericLiteral","parseInt","parseFloat","stringToBigInt","BigInt","ignoreEscapeSequenceInKeyword","getToken","Symbol","iterator","this$1$1","done","skipSpace","finishToken","readToken","fullCharCodeAtPos","readWord","getTokenFromCode","skipBlockComment","startSkip","loop","readToken_dot","readNumber","next2","readToken_slash","finishOp","readToken_mult_modulo_exp","size","tokentype","readToken_pipe_amp","readToken_caret","readToken_plus_min","readToken_lt_gt","readToken_eq_excl","readToken_question","readToken_numberSign","readWord1","readRadixNumber","readString","escaped","inClass","flagsStart","readInt","radix","maybeLegacyOctalNumericLiteral","allowSeparators","total","lastCode","Infinity","startsWithDot","octal","val$1","readCodePoint","codePos","readHexChar","invalidStringToken","quote","chunkStart","readEscapedChar","INVALID_TEMPLATE_ESCAPE_ERROR","inTemplateElement","readTmplToken","readInvalidTemplateToken","position","inTemplate","octalStr","substr","word","escStart","esc","version","acorn","tokTypes","keywordTypes","tokContexts","factory","window","require$$0","Base","hidden","describe","getOwnPropertyDescriptor","define","defineProperty","iter","bind","forIn","dst","src","each","desc","inject","dest","enumerable","beans","preserve","beansNames","substring","bean","isFunc","res","prev","toLowerCase","isPlainObject","writable","part","statics","ctor","initialize","apply","clone","pick","begin","module","_id","_name","Formatter","number","join","getClassName","importJSON","json","exportJSON","toJSON","serialize","exclude","_prioritize","equals","obj1","obj2","read","amount","peek","__index","readIndex","_readIndex","readNull","__read","__filtered","remain","readList","entry","readNamed","getNamed","hasValue","getSource","__unfiltered","readSupported","that","__source","arg","hasNamed","prioritize","processed","handleKey","isPlainValue","asString","compact","dictionary","isRoot","formatter","precision","definitions","references","unshift","_serialize","_compactSerialize","deserialize","_data","_setDictionary","_isRoot","isFirst","hasDictionary","isDictionary","args","JSON","stringify","useTarget","Item","Layer","concat","INSERT","items","itemsLength","startLength","remove","_index","removed","capitalize","toUpperCase","camelize","chr","hyphenate","Emitter","on","func","_eventTypes","handlers","_callbacks","install","off","uninstall","once","emit","setTarget","currentTarget","stop","responds","attach","fire","_installEvents","events","_events","isString","PaperScope","paper","settings","applyMatrix","insertItems","handleSize","hitTolerance","project","projects","tools","_scopes","support","CanvasProvider","getContext","nativeDash","nativeBlendModes","BlendMode","nativeModes","release","agent","user","navigator","userAgent","os","platform","browser","v1","v2","rv","chrome","versionNumber","trident","jsdom","webkit","atom","getView","_view","getPaper","execute","PaperScript","View","updateFocus","setup","Project","createCanvas","width","height","getCanvas","activate","handleAttribute","el","hasAttribute","PaperScopeItem","_scope","_list","_reference","isActive","CollisionDetection","findItemBoundsCollisions","items1","items2","tolerance","getBounds","bounds","rect","top","bottom","bounds1","bounds2","findBoundsCollisions","findCurveBoundsCollisions","curves1","curves2","bothAxis","curves","Math","hor","ver","boundsA","boundsB","sweepVertical","onlySweepAxisCollisions","allBounds","lengthA","lengthAll","binarySearch","indices","coord","lo","hi","mid","pri0","pri1","sec0","sec1","allIndicesByPri0","sort","i1","i2","activeIndicesByPri1","allCollisions","curIndex","curBounds","origIndex","isCurrentA","isCurrentB","curCollisions","pruneCount","j","activeIndex","curSec1","curSec0","activeBounds","isActiveA","isActiveB","collisions","multiplier","pow","round","pair","val1","val2","separator","point","x","y","rectangle","Numerical","abscissas","weights","abs","sqrt","log2","log","LOG2E","EPSILON","MACHINE_EPSILON","clamp","getDiscriminant","D","E","ad","bd","cd","q","getNormalizationFactor","norm","CURVETIME_EPSILON","GEOMETRIC_EPSILON","TRIGONOMETRIC_EPSILON","ANGULAR_EPSILON","KAPPA","isZero","isMachineZero","integrate","f","w","A","B","sum","Ax","findRoot","df","fx","dx","nx","solveQuadratic","roots","x1","x2","Q","R","boundless","minB","maxB","isFinite","solveCubic","b1","c2","qd","evaluate","x0","tmp","t","r","td","rd","UID","_pools","pool","Point","arg0","arg1","reading","hasY","_set","setAngle","angle","getLength","setLength","_angle","cos","sin","scale","getAngle","getAngleInRadians","PI","setAngleInRadians","getAngleInDegrees","setAngleInDegrees","div","NaN","acos","atan2","getQuadrant","getDirectedAngle","cross","getDistance","normalize","rotate","center","subtract","transform","matrix","_transformPoint","multiply","divide","isInside","Rectangle","contains","isClose","isCollinear","isColinear","isOrthogonal","isNaN","isInQuadrant","point1","point2","random","y1","y2","LinkedPoint","owner","setter","_x","_y","_owner","_setter","_dontNotify","getX","setX","getY","setY","isSelected","_selection","_getSelection","setSelected","selected","_changeSelection","Size","hasHeight","size1","size2","LinkedSize","_width","_height","getWidth","setWidth","getHeight","setHeight","arg2","arg3","to","frm","rt","getPoint","_dontLink","setPoint","getSize","_fw","_fh","setSize","sx","_sx","sy","_sy","h","getLeft","setLeft","getTop","setTop","getRight","setRight","getBottom","setBottom","getCenterX","setCenterX","getCenterY","setCenterY","getCenter","setCenter","getArea","isEmpty","_containsRectangle","_containsPoint","intersects","epsilon","intersect","unite","include","expand","parts","xFirst","LinkedRectangle","internal","Matrix","ok","_a","_b","_c","_d","_tx","_ty","tx","ty","_changed","getValues","_applyMatrix","mx","recursively","_setApplyMatrix","isIdentity","translate","shear","skew","toRadians","tan","a1","c1","d1","a2","b2","d2","tx2","ty2","prepend","tx1","ty1","appended","prepended","invert","det","inverted","concatenate","preConcatenate","chain","_shiftless","_orNullIfIdentity","isInvertible","isSingular","_transformCoordinates","_transformCorners","coords","_transformBounds","inverseTransform","_inverseTransform","decompose","degrees","asin","translation","getTranslation","rotation","scaling","skewing","getScaling","getRotation","applyToContext","Line","arg4","asVector","_px","_py","_vx","_vy","getVector","isInfinite","getSide","getSignedDistance","p1x","p1y","v1x","v1y","p2x","p2y","v2x","v2y","dy","u1","u2","uMin","uMax","px","py","vx","vy","ccw","_children","_namedChildren","_activeLayer","_currentStyle","Style","_selectionItems","_selectionCount","_updateVersion","view","_needsUpdate","_requested","_autoUpdate","requestUpdate","changes","_changes","changesById","_changesById","getCurrentStyle","setCurrentStyle","getIndex","getLayers","getActiveLayer","getSymbolDefinitions","ids","getItems","class","SymbolItem","definition","_definition","getSymbols","getSelectedItems","selectionItems","selection","isInserted","_updateSelection","selectAll","setFullySelected","deselectAll","addLayer","layer","insertLayer","_remove","_setProject","setName","_insertItem","_created","NO_INSERT","insertChild","_getItems","getItem","removeOn","sets","_removeSets","mousedrag","draw","pixelRatio","save","viewMatrix","matrices","updateMatrix","restore","strokeWidth","_drawSelection","_serializeFields","_canApplyMatrix","_canScaleStroke","_pivot","_visible","_blendMode","_opacity","_locked","_guide","_clipMask","_selectBounds","_selectChildren","pivot","visible","blendMode","opacity","locked","guide","clipMask","_countItemEvent","onFrame","_animateItem","onLoad","onError","_itemHandlers","_initialize","hasProps","_matrix","_parent","_style","fields","fontSize","Group","_defaults","symbol","_symbol","cacheParent","_project","_bounds","_position","_decomposed","_globalMatrix","_clearBoundsCache","getId","getName","_removeNamed","_getOwner","namedChildren","getStyle","setStyle","getSelection","setSelection","isFullySelected","isClipMask","setClipMask","setFillColor","setStrokeColor","getData","setData","getPosition","_getPositionFromBounds","setPosition","getPivot","setPivot","getStrokeBounds","stroke","getHandleBounds","handle","getInternalBounds","hasMatrix","_boundsOptions","getStrokeScaling","cacheItem","_getCachedBounds","setBounds","_backup","_getBounds","_updateBoundsCache","_getBoundsCacheKey","noInternal","cacheKey","cached","nonscaling","hasStroke","_getStrokeMatrix","_item","getViewMatrix","_boundsCache","cache","_decompose","decomposed","setRotation","setScaling","getMatrix","setMatrix","getGlobalMatrix","_dontClone","parents","getApplyMatrix","setApplyMatrix","getTransformContent","setTransformContent","getProject","installEvents","getLayer","getParent","setParent","addChild","getChildren","setChildren","removeChildren","addChildren","getFirstChild","getLastChild","getNextSibling","getPreviousSibling","setIndex","insertChildren","_equals","copy","deep","copyAttributes","copyContent","insertAbove","orig","excludeMatrix","rasterize","resolution","raster","Raster","getResolution","topLeft","getTopLeft","floor","bottomRight","getBottomRight","ceil","boundsSize","rasterSize","_contains","_asPathItem","Path","getIntersections","hitTest","_hitTest","HitResult","hitTestAll","all","hitTestChildren","_exclude","child","_hitTestChildren","parentViewMatrix","guides","tolerancePadding","_tolerancePadding","_getStrokePadding","checkSelf","hit","checkPoint","pt","checkPosition","checkCenter","checkBounds","points","_hitTestSelf","hasFill","matches","compare","matchObject","firstOnly","overlapping","inside","recursive","path","childMatrix","inserted","notifySelf","_insertAt","insertBelow","sendToBack","bringToFront","appendTop","appendBottom","moveAbove","moveBelow","addTo","copyTo","reduce","namedArray","notifyParent","_dispose","replaceWith","reverseChildren","reverse","numChildren","isEditable","hasShadow","_getOrder","getList","list1","list2","hasChildren","isAbove","isBelow","isParent","isChild","isDescendant","isAncestor","isSibling","isGroupedWith","_applyRecursively","transformMatrix","fillColor","getFillColor","strokeColor","getStrokeColor","_transformContent","decomp","applyRecursively","globalToLocal","localToGlobal","parentToLocal","localToParent","fitBounds","itemRatio","rectRatio","newBounds","_setStyles","fillStyle","toCanvasStyle","strokeStyle","lineWidth","getStrokeWidth","strokeJoin","getStrokeJoin","strokeCap","getStrokeCap","miterLimit","getMiterLimit","lineJoin","lineCap","dashArray","getDashArray","dashOffset","getDashOffset","setLineDash","lineDashOffset","mozDash","mozDashOffset","blur","getShadowBlur","getShadowOffset","shadowColor","getShadowColor","shadowBlur","shadowOffsetX","shadowOffsetY","parentStrokeMatrix","globalMatrix","mainCtx","itemOffset","prevOffset","normalBlend","nativeBlend","direct","dontStart","clip","_canComposite","strokeMatrix","clipItem","globalAlpha","globalCompositeOperation","setTransform","_draw","dontFinish","getFillRule","process","_isUpdated","updateVersion","CompoundPath","updated","itemSelected","boundsSelected","positionSelected","_drawSelected","color","getSelectedColor","half","beginPath","arc","deltas","delta","moveTo","lineTo","closePath","fillRect","hash","tween","easing","duration","Tween","_handleFrame","time","running","tweenTo","tweenFrom","_clipItem","_getClipItem","isClipped","setClipped","clipped","Shape","radius","_type","_size","_radius","setType","setRadius","getType","getShape","setShape","getRadius","rad","toPath","toShape","dontPaint","untransformed","isCircle","rx","ry","kappa","cx","cy","bezierCurveTo","getCornerCenter","halfSize","dir","corner","quadrant","isOnEllipseStroke","padding","vector","hitStroke","hitFill","strokeRadius","strokePadding","outer","inner","createShape","Circle","Ellipse","ellipse","_readEllipse","crossOrigin","_smoothing","image","getElementById","naturalHeight","setImage","setSource","_loaded","_image","canvas","_canvas","_setImage","copyCanvas","drawImage","_crossOrigin","_clear","getElement","getLoaded","getPpi","getImage","Event","setTimeout","DomEvent","load","error","complete","naturalWidth","_context","setCanvas","_change","setContext","toDataURL","Image","getCrossOrigin","setCrossOrigin","getSmoothing","setSmoothing","smoothing","getSubCanvas","getSubRaster","getAverageColor","PathItem","_sampleContext","clearRect","sampleSize","pixels","getImageData","channels","alpha","Color","getPixel","setPixel","components","_convert","_alpha","imageData","createImageData","putImageData","setImageData","disabled","DomElement","setPrefixed","setDefinition","SymbolDefinition","getDefinition","getSymbol","setSymbol","dontCenter","setItem","_dontCenter","place","values","segments","handles","ends","Segment","arg5","handleIn","handleOut","SegmentPoint","_point","hasHandles","_handleIn","_handleOut","_path","curve","_curves","_closed","getHandleIn","setHandleIn","getHandleOut","setHandleOut","isSmooth","clearHandles","oldSelection","getPath","getCurve","_segments","getCurves","getLocation","CurveLocation","_segment1","getNext","smooth","_first","_last","factor","getPrevious","p0","p1","p2","k","d1_a","d1_2a","d2_a","d2_2a","N","isLast","reversed","removeSegment","segment","interpolate","handleIn1","handleIn2","handleOut2","handleOut1","change","Curve","arg6","arg7","seg1","seg2","handle1","handle2","segment1","segment2","_segment2","getPoint1","getHandle1","getHandle2","getPoint2","_length","classify","setPoint1","setPoint2","setHandle1","setHandle2","getSegment1","getSegment2","getPoints","getLine","getPart","getPartLength","divideAt","location","divideAtTime","getTimeAt","_setHandles","subdivide","setHandles","splitAt","splitAtTime","getLocationAtTime","isTime","straight","h1","h2","y0","x3","y3","x4","y4","x5","y5","x6","y6","x7","y7","x8","y8","x9","y9","getMonoCurves","io","o0","o1","o2","o3","isStraight","v0","v3","getTimeOf","p3","geomEpsilon","getNearestTime","minDist","minT","refine","dist","step","flip","isFlatEnough","flatness","ux","uy","_addBounds","minPad","maxPad","s1","s2","isLinear","third","hasLength","isHorizontal","getTangentAtTime","isVertical","getLocationAt","_isTime","getParameterAt","getTimesWithTangent","tangent","getOffsetAtTime","getLocationOf","getOffsetOf","getOffset","getParameterOf","getNearestLocation","getNearestPoint","methods","_evaluateMethods","getLengthIntegrand","ax","bx","ay","by","getIterations","normalized","tMin","tMax","d3","serpentine","t1","t2","hasRoots","t1Ok","t2Ok","f1","f2","ds","forward","rangeLength","diff","guess","getTangent","getWeightedTangent","getNormal","getWeightedNormal","getCurvature","getPeaks","addLocation","overlap","excludeStart","excludeEnd","loc1","loc2","_intersection","addCurveIntersections","recursion","calls","tMinClip","tMaxClip","q0x","q0y","q3x","q3y","dMin","dMax","dp0","dp1","dp2","dp3","hull","dq0","dq1","dq2","dq3","dist1","dist2","distRatio","getConvexHull","clipConvexHull","tMinNew","tMaxNew","uDiff","hullTop","hullBottom","clipConvexHullPart","threshold","qx","qy","getCurveLineIntersections","addCurveLineIntersections","addLineIntersection","getCurveIntersections","overlaps","getOverlaps","straight1","straight2","before","getSelfIntersection","info","getSquaredLineLength","straightBoth","l1","l2","pairs","matrix1","matrix2","_returnFirst","length1","length2","values1","values2","boundsCollisions","index1","curve1","collisions1","index2","curve2","den","times","t0","_overlap","_distance","_setCurve","_time","getPointAtTime","_next","_previous","_setPath","_version","_curve","_segment","_setSegment","getSegment","getTime","trySegment","_offset","_curveOffset","getParameter","getCurveOffset","getIntersection","getLastSegment","_ignoreOther","isTouching","inter","isCrossing","t1Inside","t2Inside","c4","c3","offsets","addOffsets","isInRange","getPointAt","v4","a3","a4","hasOverlap","merge","search","found","path1","path2","expanded","compound","pathData","isClockwise","setClockwise","clockwise","setPathData","previous","control","relative","getCoord","command","lower","move","cubicCurveTo","quadraticCurveTo","arcTo","winding","_getWinding","onPath","windingL","windingR","getCrossings","minLoc","isPath","itemsFrom","itemsTo","setClosed","paths1","paths2","matched","boundsOverlaps","pathBoundsOverlaps","closed","setSegments","_segmentSelection","_area","getSegments","fullySelected","_add","getFirstSegment","_countCurves","getFirstCurve","getLastCurve","isClosed","getPathData","_precision","curX","curY","prevX","prevY","inX","inY","outX","outY","addSegment","skipLine","segs","_adjustCurves","insertSegment","addSegments","insertSegments","removeSegments","_includeCurves","area","_selectSegments","newSelection","last1","last2","first2","first1","simplify","flatten","PathFlattener","PathFitter","fit","asymmetric","paddingLeft","paddingRight","knots","n_1","rf","hx","hy","topCenter","seg3","seg4","isArc","pt1","pt2","shape","pos2","end2","pos1","end1","start2","cap","numSegments","hitCurves","isCloseEnough","checkSegmentPoint","seg","checkSegmentPoints","addToArea","checkSegmentStroke","isJoin","_addBevelJoin","_addSquareCap","getOffsetsWithTangent","curveStart","curveTimes","drawSegments","drawSegment","dashLength","flattener","drawPart","pX","pY","miniSize","miniHalf","drawHandle","hX","hY","drawHandles","getCurrentSegment","moveBy","curveTo","through","extent","middle","large","rxSq","rySq","xSq","ySq","throughSide","centerSide","ext","inc","z","lineBy","curveBy","parameter","cubicCurveBy","quadraticCurveBy","arcBy","prevCoords","processSegment","joinBounds","addPoint","addRound","addJoin","addCap","phi","isArea","normal1","getNormalAtTime","normal2","normal","joinPadding","joinRadius","SQRT2","paddingX","paddingY","xn","xx","yn","yx","ellipseSegments","createPath","createEllipse","bl","getBottomLeft","tl","tr","getTopRight","br","RoundRectangle","Oval","Arc","RegularPolygon","sides","three","Star","radius1","radius2","paths","getCurrentPath","check","operators","getPaths","preparePath","resolveCrossings","reorient","createResult","filterIntersection","traceBoolean","operation","trace","splitBoolean","_path1","_path2","crossings","divideLocations","collectPaths","_overlapsOnly","curvesValues","curveCollisions","curveCollisionsMap","propagateWinding","_winding","tracePaths","reorientPaths","added","addPath","linkIntersections","clearCurveHandles","lookup","container","sorted","entry1","containerWinding","getInteriorPoint","entry2","clearLater","renormalizeLocs","prevCurve","prevTime","results","clearCurves","clearLookup","origTime","newCurve","getWinding","dontFlip","vPrev","vClose","curvesList","ia","pv","pa","po","qualityEpsilon","paL","paR","pathWindingL","pathWindingR","onAnyPath","quality","addWinding","a0","windingPrev","a3Prev","handleCurve","monoCurves","totalLength","curveLength","operand","SQRT1_2","wind","pathWinding","starts","isValid","_visited","isStart","visitPath","getCrossingSegments","collectStarts","collect","nextInter","inter1","inter2","over1","over2","branch","visited","valid","finished","branches","shift","hasOverlaps","hasCrossings","intersections","nonZero","intercepts","mv","mo0","mo3","maxRecursion","ignoreStraight","minSpan","addCurve","computeParts","halves","tMid","_get","fitCubic","tan1","tan2","uPrime","chordLengthParameterize","maxError","parametersInOrder","generateBezier","findMaxError","reparameterize","tanCenter","C","X","b0","b3","alpha1","alpha2","detC0C1","detC0X","c0","segLength","eps","degree","maxDist","TextItem","content","_content","_lines","setContent","getContent","getCharacterStyle","setCharacterStyle","getParagraphStyle","setParagraphStyle","PointText","lines","leading","getLeading","font","getFontStyle","textAlign","getJustification","fillText","strokeText","numLines","justification","getTextWidth","colorCtx","gray","rgb","hsb","hsl","gradient","componentParsers","namedColors","transparent","hsbIndices","converters","g","achromatic","t3s","t3","_components","Gradient","_removeOwner","_addOwner","_properties","argType","converted","trim","isHSL","unit","turn","grad","willReadFrequently","fromCSS","parsers","stops","radial","getComponents","_canvasStyle","converter","convert","getAlpha","setAlpha","hasAlpha","isGradient","toCSS","hex","canvasGradient","_stops","origin","destination","highlight","inverse","_radial","createRadialGradient","createLinearGradient","addColorStop","_color","_types","_setOwner","components1","components2","setStops","setRadial","_owners","getStops","GradientStop","getRadial","stops1","stops2","rampPoint","setColor","setOffset","getRampPoint","setRampPoint","getColor","itemDefaults","fillRule","strokeScaling","shadowOffset","selectedColor","groupDefaults","fontFamily","fontWeight","textDefaults","_values","isColor","isPoint","applyToChildren","old","_dontMerge","childValue","Font","WindingRule","isStyle","style1","style2","secondary","defaults2","value1","value2","getFontSize","getFontWeight","getFontFamily","getFont","setFont","getPixelSize","handlePrefix","prefixes","suffix","getStyles","doc","nodeType","ownerDocument","defaultView","getComputedStyle","viewport","html","documentElement","getBoundingClientRect","clientLeft","clientTop","pageXOffset","scrollLeft","pageYOffset","scrollTop","getViewportBounds","innerWidth","clientWidth","innerHeight","clientHeight","isInvisible","isInView","getPrefixed","passive","targetTouches","changedTouches","pageX","clientX","pageY","clientY","getTarget","srcElement","getRelatedTarget","relatedTarget","toElement","requestAnimationFrame","timer","nativeRequest","requested","handleCallbacks","setInterval","getCanvasSize","_viewEvents","none","userDrag","userSelect","touchCallout","contentZooming","tapHighlightColor","_windowEvents","resize","setViewSize","Stats","_stats","stats","domElement","_element","_pixelRatio","devicePixelRatio","_setElementSize","_viewSize","_views","_viewsById","_focused","_frameItems","_frameItemCount","_itemEvents","native","virtual","_animate","play","pause","_count","getAutoUpdate","setAutoUpdate","autoUpdate","now","Date","animate","_handleFrameItems","getPixelRatio","getViewSize","isVisible","temp","getZoom","setZoom","zoom","scrollBy","projectToView","viewToProject","getEventPoint","CanvasView","prevFocus","tempFocus","mousedown","mousemove","mouseup","dragging","mouseDown","pointerEnabled","msPointerEnabled","viewEvents","docEvents","mouseout","nodeName","handleMouseMove","scroll","_handleMouseEvent","downPoint","lastPoint","downItem","overItem","dragItem","clickItem","clickTime","dblClick","called","prevented","fallbacks","doubleclick","wasInView","itemEventsMap","click","mouseenter","mouseleave","itemEvents","hitItems","nativeMove","tool","inView","hitItem","mouse","emitMouseEvent","drag","emitMouseEvents","down","up","cancelable","preventDefault","_handleKeyEvent","character","keyEvent","KeyEvent","sign","_resetState","prevPoint","stopItem","mouseEvent","stopped","MouseEvent","fallback","HTMLCanvasElement","deviceRatio","backingStoreRatio","firefox","prevFont","measureText","stopPropagation","getTimeStamp","timeStamp","getModifiers","Key","modifiers","metaFixMap","downKey","keyLookup","Spacebar","Del","Win","Esc","charLookup","tab","enter","keyMap","charMap","capsLock","option","mac","getKey","keyIdentifier","keyCode","keydown","altKey","metaKey","ctrlKey","keypress","charCode","keyup","isDown","ToolEvent","_choosePoint","toolPoint","getLastPoint","_lastPoint","setLastPoint","getDownPoint","_downPoint","setDownPoint","getMiddlePoint","_middlePoint","setMiddlePoint","middlePoint","getDelta","_delta","setDelta","getCount","setCount","Tool","_moveCount","_downCount","getMinDistance","_minDistance","setMinDistance","minDistance","_maxDistance","getMaxDistance","setMaxDistance","maxDistance","getFixedDistance","setFixedDistance","distance","easings","linear","easeInQuad","easeOutQuad","easeInOutQuad","easeInCubic","easeOutCubic","easeInOutCubic","easeInQuart","easeOutQuart","easeInOutQuart","easeInQuint","easeOutQuint","easeInOutQuint","isFunction","_then","_startTime","_keys","_parsedKeys","_parseKeys","_from","_getState","_to","progress","getValue","__add","__subtract","__multiply","_setProperty","onUpdate","startTime","_getProperty","resolved","_resolveValue","_calculate","parsed","calculateBinary","Http","xhr","XMLHttpRequest","open","url","mimeType","overrideMimeType","onload","status","responseText","onerror","send","canvases","sr","sg","sb","sa","bg","bb","ba","dr","dg","db","getLum","setLum","mn","lmn","ln","mxl","getSat","setSat","md","modes","screen","overlay","darken","lighten","difference","exclusion","hue","saturation","luminosity","average","negation","srcContext","dstContext","srcCanvas","dstData","SvgElement","svg","xmlns","xlink","attributeNamespace","href","namespace","setAttributeNS","createElementNS","getAttributeNS","SvgStyles","true","false","toSVG","fromSVG","exportFilter","getTransform","coordinates","attrs","trans","exportGroup","childNode","exportSVG","exportShape","exporters","embedImages","matchShapes","definitionItem","viewBox","overflow","textContent","applyStyle","reduceAttributes","gradientNode","getGradient","getOrigin","getDestination","getHighlight","fy","gradientUnits","stopColor","exportGradient","visibility","svgs","__id","typeId","exportDefinitions","defs","firstChild","XMLSerializer","serializeToString","exporter","onExport","setOptions","rootSize","allowNull","allowPercent","defaultValue","defaultX","defaultY","convertValue","importGroup","isClip","isDefs","currentStyle","applyAttributes","querySelectorAll","importNode","importPoly","importGradient","scaleToBounds","_scaleToBounds","importers","clippath","polygon","polyline","lineargradient","radialgradient","use","circle","switch","applyTransform","transforms","applyOpacity","gradientTransform","setVisible","display","percent","styles","group","tagName","isElement","nextSibling","importer","onImport","expandShapes","importSVG","DOMParser","parseFromString","File","reader","FileReader","readAsText","mod","global","require","require$$1","inputLen","inpt","initTokenState","lastStart","lastEnd","tokPos","lastEndLoc","line_loc_t","_eof","isUseStrict","setStrict","strictSemicolons","allowTrailingCommas","forbidReserved","tokStart","tokEnd","tokStartLoc","tokEndLoc","tokVal","tokRegexpAllowed","tokCurLine","tokLineStart","tokenize","forceRegexp","jumpTo","reAllowed","_num","_regexp","_string","atomValue","break","case","catch","continue","debugger","default","do","else","finally","for","function","if","return","throw","try","while","with","null","new","in","instanceof","typeof","void","_bracketL","_bracketR","_braceL","_braceR","_parenL","_parenR","_comma","_semi","_colon","_dot","_question","_slash","_eq","_assign","_incDec","isUpdate","_prefix","_logicalOR","_logicalAND","_bitwiseOR","_bitwiseXOR","_bitwiseAND","_equality","_relational","_bitShift","_plusMin","_multiplyModulo","makePredicate","cats","compareTo","arr","cat","Function","isReservedWord3","isReservedWord5","isStrictReservedWord","isStrictBadIdWord","isKeyword","newline","readHexNumber","tok","mods","isFloat","escStr","strct","node_t","node_loc_t","startNodeFrom","checkLVal","guard","guardedHandlers","allowStrict","noIn","noComma","tokStartLoc1","tokStart1","sawGetSet","isGetSet","conflict","oldInFunc","amd","binaryOperators","unaryOperators","__self","__$__","$__","compile","insertions","insertion","getCode","replaceCode","handleOverloading","between","getBetween","parentType","exp","sourceMaps","paperFeatures","offsetCode","lineBreaks","getElementsByTagName","innerHTML","mappings","encodeVLQ","safari","file","names","sourceRoot","sources","sourcesContent","operatorOverloading","moduleExports","walkAST","dec","specifier","handleExports","btoa","unescape","encodeURIComponent","toolHandlers","compiled","expose","script","head","__paperscript__","onResize","setOnResize","setOnFrame","loadScript","canvasId","scopeAttribute","baseURI","loadAll","readyState","calculateUnary","PlacedSymbol","require$$2","LargePaper","onDimensionsChange","screenCanvas","documentWidth","documentHeight","initialZoom","zoomFactor","offsetX","offsetY","currentMode","currentTool","setupPaper","dpr","internalLayer","renderedLayer","selectionLayer","updateView","setTool","currentToolName","animatePaths","updateRenderedPaths","pan","Y","setMode","toolName","initRectangleTool","initEllipseTool","initFreeformTool","initMoveTool","onMouseDown","isDragging","lastDragPoint","onMouseDrag","moveAllPaths","onMouseUp","normalizePoint","startPoint","aspectRatio","fixedSize","currentWidth","currentHeight","setPathStyle","endPoint","deltaX","deltaY","adjustedEndPoint","processPath","rectStartPoint","rectEndPoint","beforeShapesJSON","newPath","mergePathAdd","mergePathSubtract","afterShapesJSON","restoreJSON","layers","find","existingPaths","pathsToMerge","existingPath","united","pathsToSubtractFrom","subtracted","useOrthogonal","originalItem","renderedItem","pathTo90DegreeLines","updatePathStyles","newSegments","snapToGrid","currentPoint","firstPoint","clonePath","originalPath","deselect","documentBounds","documentPath","create_if_block_2","create_if_block_1","fds_image_editor_button0","fds_image_editor_button0_state_value","fds_image_editor_button2","fds_image_editor_button2_state_value","fds_image_editor_button1","fds_image_editor_button3","fds_image_editor_slider","input0","ratio_width","input1","ratio_height","select","option0","option1","option2","option3","option4","option5","option6","option7","option8","fixed_width","fixed_height","create_if_block","hamburgerMenu","sliderElement","tool_layer","openMenu","contextMenu","globalThis","gyre","selectedTool","subTool","menu","fixed_ratio","fixed_size","inpainting_mask","mask","linked_layer_mask","crop","action","dropdownRatio","smoothSliderValue","updateRatio","$$invalidate","paletteValues","smoothSelection","$$value","t2_value","t7_value","span0","span1","t7","paperCanvas","largePaper","currentZoom","initPaper","updatePaperView","undo_redo_add","restoreShapes","viewSize","selectedLayer","imageUrl","renderInDocumentSize","hiddenCanvas","boundingBox","imageLayer","cacheReady","refresh","maskURL","generateMask","layerManager","addLayerMask","transformedMaskURL","extractImageFromDocument","imageAPI","processImage","data2","maskManager","loadMask","newLayer","createLayerInstance","selectLayers","componentToolbar","softenEdges","radiusX","radiusY","cp1","cp2","lastSegment","firstSegment","callbackFunctions","selectedPaths","resultCanvas","resultCtx","toBlob","blob","uniqueID","internalCopyInfo","clipboard","calculateImageDataHash","write","ClipboardItem","copyToClipboard","afterUpdate","onDestroy","mouseInfo"],"mappings":"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GAAI,EAAG,GAAI,GAAI,EAAG,EAAG,EAAG,GAAI,GAAI,GAAI,EAAG,EAAG,EAAG,EAAG,IAAK,GAAI,EAAG,EAAG,EAAG,EAAG,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,EAAG,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,IAAK,GAAI,GAAI,EAAG,EAAG,EAAG,GAAI,GAAI,GAAI,EAAG,IAAK,EAAG,EAAG,EAAG,GAAI,EAAG,GAAI,GAAI,GAAI,EAAG,GAAI,GAAI,EAAG,EAAG,GAAI,GAAI,EAAG,EAAG,IAAK,GAAI,IAAK,EAAG,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,EAAG,IAAK,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,EAAG,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,GAAI,GAAI,GAAI,IAAK,EAAG,EAAG,EAAG,GAAI,EAAG,GAAI,GAAI,EAAG,GAAI,IAAK,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,IAAK,EAAG,GAAI,EAAG,EAAG,EAAG,GAAI,EAAG,EAAG,EAAG,GAAI,EAAG,KAAM,EAAG,EAAG,GAAI,MAAO,EAAG,GAAI,EAAG,GAAI,EAAG,GAAI,EAAG,GAAI,EAAG,KAAM,EAAG,EAAG,GAAI,EAAG,EAAG,GAAI,EAAG,GAAI,EAAG,MAAO,EAAG,KAAM,GAAI,EAAG,GAAI,IAAK,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,EAAG,IAAK,EAAG,KAAM,GAAI,IAAK,GAAI,EAAG,GAAI,EAAG,EAAG,GAAI,EAAG,GAAI,EAAG,EAAG,GAAI,KAAM,EAAG,EAAG,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,IAAK,EAAG,IAAK,EAAG,GAAI,EAAG,IAAK,EAAG,GAAI,GAAI,IAAK,GAAI,IAAK,EAAG,IAAK,EAAG,EAAG,EAAG,KAAM,EAAG,OAAQ,KAGphCC,EAA6B,CAAC,EAAG,GAAI,EAAG,GAAI,EAAG,GAAI,EAAG,EAAG,EAAG,GAAI,EAAG,GAAI,GAAI,IAAK,GAAI,GAAI,IAAK,GAAI,EAAG,GAAI,GAAI,GAAI,GAAI,GAAI,EAAG,GAAI,GAAI,GAAI,EAAG,GAAI,EAAG,EAAG,EAAG,EAAG,GAAI,IAAK,GAAI,GAAI,EAAG,GAAI,EAAG,GAAI,EAAG,GAAI,GAAI,GAAI,EAAG,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,EAAG,GAAI,EAAG,EAAG,EAAG,EAAG,GAAI,IAAK,GAAI,GAAI,GAAI,EAAG,GAAI,EAAG,EAAG,GAAI,EAAG,EAAG,GAAI,EAAG,EAAG,EAAG,EAAG,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,EAAG,EAAG,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,EAAG,EAAG,GAAI,EAAG,GAAI,EAAG,EAAG,EAAG,EAAG,GAAI,GAAI,GAAI,EAAG,GAAI,GAAI,EAAG,EAAG,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,IAAK,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,IAAK,GAAI,EAAG,EAAG,GAAI,GAAI,GAAI,EAAG,EAAG,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,EAAG,EAAG,EAAG,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,EAAG,EAAG,EAAG,EAAG,GAAI,EAAG,EAAG,GAAI,GAAI,GAAI,EAAG,GAAI,EAAG,EAAG,EAAG,GAAI,GAAI,EAAG,GAAI,GAAI,EAAG,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,EAAG,EAAG,EAAG,GAAI,GAAI,EAAG,EAAG,EAAG,EAAG,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,EAAG,GAAI,EAAG,IAAK,GAAI,GAAI,EAAG,GAAI,EAAG,GAAI,GAAI,GAAI,EAAG,EAAG,EAAG,IAAK,GAAI,GAAI,EAAG,GAAI,GAAI,GAAI,EAAG,GAAI,GAAI,GAAI,EAAG,GAAI,GAAI,GAAI,EAAG,IAAK,GAAI,IAAK,GAAI,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,GAAI,EAAG,EAAG,EAAG,GAAI,EAAG,EAAG,GAAI,GAAI,EAAG,EAAG,EAAG,GAAI,EAAG,GAAI,GAAI,EAAG,EAAG,GAAI,EAAG,GAAI,GAAI,GAAI,EAAG,GAAI,GAAI,IAAK,EAAG,EAAG,GAAI,GAAI,EAAG,GAAI,GAAI,IAAK,EAAG,EAAG,EAAG,EAAG,GAAI,GAAI,EAAG,GAAI,EAAG,EAAG,EAAG,EAAG,GAAI,GAAI,EAAG,IAAK,GAAI,GAAI,EAAG,EAAG,GAAI,EAAG,GAAI,IAAK,EAAG,GAAI,IAAK,IAAK,IAAK,GAAI,IAAK,KAAM,GAAI,GAAI,KAAM,GAAI,EAAG,KAAM,IAAK,KAAM,IAAK,EAAG,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,EAAG,GAAI,GAAI,EAAG,GAAI,IAAK,GAAI,IAAK,GAAI,EAAG,EAAG,GAAI,GAAI,GAAI,EAAG,EAAG,EAAG,GAAI,KAAM,EAAG,KAAM,GAAI,EAAG,KAAM,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,IAAK,GAAI,EAAG,GAAI,EAAG,EAAG,EAAG,GAAI,EAAG,EAAG,IAAK,KAAM,IAAK,EAAG,GAAI,EAAG,EAAG,EAAG,EAAG,KAAM,GAAI,EAAG,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,IAAK,EAAG,GAAI,EAAG,GAAI,EAAG,GAAI,EAAG,GAAI,EAAG,GAAI,EAAG,GAAI,EAAG,GAAI,EAAG,GAAI,EAAG,GAAI,EAAG,GAAI,EAAG,EAAG,KAAM,GAAI,EAAG,EAAG,IAAK,GAAI,IAAK,GAAI,GAAI,EAAG,GAAI,EAAG,IAAK,GAAI,GAAI,GAAI,IAAK,GAAI,IAAK,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,EAAG,IAAK,GAAI,GAAI,EAAG,EAAG,KAAM,EAAG,EAAG,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,E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"}