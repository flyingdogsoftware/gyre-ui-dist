{"version":3,"file":"fds-image-transform-es.js","sources":["../node_modules/svelte/internal/index.mjs","../src/vector.js","../src/magneticLines.js","../node_modules/numeric/numeric-1.2.6.js","../src/Test2.svelte","../src/clickOutside.js","../src/Dialog.svelte","../src/App.svelte"],"sourcesContent":["function noop() { }\nconst identity = x => x;\nfunction assign(tar, src) {\n    // @ts-ignore\n    for (const k in src)\n        tar[k] = src[k];\n    return tar;\n}\n// Adapted from https://github.com/then/is-promise/blob/master/index.js\n// Distributed under MIT License https://github.com/then/is-promise/blob/master/LICENSE\nfunction is_promise(value) {\n    return !!value && (typeof value === 'object' || typeof value === 'function') && typeof value.then === 'function';\n}\nfunction add_location(element, file, line, column, char) {\n    element.__svelte_meta = {\n        loc: { file, line, column, char }\n    };\n}\nfunction run(fn) {\n    return fn();\n}\nfunction blank_object() {\n    return Object.create(null);\n}\nfunction run_all(fns) {\n    fns.forEach(run);\n}\nfunction is_function(thing) {\n    return typeof thing === 'function';\n}\nfunction safe_not_equal(a, b) {\n    return a != a ? b == b : a !== b || ((a && typeof a === 'object') || typeof a === 'function');\n}\nlet src_url_equal_anchor;\nfunction src_url_equal(element_src, url) {\n    if (!src_url_equal_anchor) {\n        src_url_equal_anchor = document.createElement('a');\n    }\n    src_url_equal_anchor.href = url;\n    return element_src === src_url_equal_anchor.href;\n}\nfunction not_equal(a, b) {\n    return a != a ? b == b : a !== b;\n}\nfunction is_empty(obj) {\n    return Object.keys(obj).length === 0;\n}\nfunction validate_store(store, name) {\n    if (store != null && typeof store.subscribe !== 'function') {\n        throw new Error(`'${name}' is not a store with a 'subscribe' method`);\n    }\n}\nfunction subscribe(store, ...callbacks) {\n    if (store == null) {\n        return noop;\n    }\n    const unsub = store.subscribe(...callbacks);\n    return unsub.unsubscribe ? () => unsub.unsubscribe() : unsub;\n}\nfunction get_store_value(store) {\n    let value;\n    subscribe(store, _ => value = _)();\n    return value;\n}\nfunction component_subscribe(component, store, callback) {\n    component.$$.on_destroy.push(subscribe(store, callback));\n}\nfunction create_slot(definition, ctx, $$scope, fn) {\n    if (definition) {\n        const slot_ctx = get_slot_context(definition, ctx, $$scope, fn);\n        return definition[0](slot_ctx);\n    }\n}\nfunction get_slot_context(definition, ctx, $$scope, fn) {\n    return definition[1] && fn\n        ? assign($$scope.ctx.slice(), definition[1](fn(ctx)))\n        : $$scope.ctx;\n}\nfunction get_slot_changes(definition, $$scope, dirty, fn) {\n    if (definition[2] && fn) {\n        const lets = definition[2](fn(dirty));\n        if ($$scope.dirty === undefined) {\n            return lets;\n        }\n        if (typeof lets === 'object') {\n            const merged = [];\n            const len = Math.max($$scope.dirty.length, lets.length);\n            for (let i = 0; i < len; i += 1) {\n                merged[i] = $$scope.dirty[i] | lets[i];\n            }\n            return merged;\n        }\n        return $$scope.dirty | lets;\n    }\n    return $$scope.dirty;\n}\nfunction update_slot_base(slot, slot_definition, ctx, $$scope, slot_changes, get_slot_context_fn) {\n    if (slot_changes) {\n        const slot_context = get_slot_context(slot_definition, ctx, $$scope, get_slot_context_fn);\n        slot.p(slot_context, slot_changes);\n    }\n}\nfunction update_slot(slot, slot_definition, ctx, $$scope, dirty, get_slot_changes_fn, get_slot_context_fn) {\n    const slot_changes = get_slot_changes(slot_definition, $$scope, dirty, get_slot_changes_fn);\n    update_slot_base(slot, slot_definition, ctx, $$scope, slot_changes, get_slot_context_fn);\n}\nfunction get_all_dirty_from_scope($$scope) {\n    if ($$scope.ctx.length > 32) {\n        const dirty = [];\n        const length = $$scope.ctx.length / 32;\n        for (let i = 0; i < length; i++) {\n            dirty[i] = -1;\n        }\n        return dirty;\n    }\n    return -1;\n}\nfunction exclude_internal_props(props) {\n    const result = {};\n    for (const k in props)\n        if (k[0] !== '$')\n            result[k] = props[k];\n    return result;\n}\nfunction compute_rest_props(props, keys) {\n    const rest = {};\n    keys = new Set(keys);\n    for (const k in props)\n        if (!keys.has(k) && k[0] !== '$')\n            rest[k] = props[k];\n    return rest;\n}\nfunction compute_slots(slots) {\n    const result = {};\n    for (const key in slots) {\n        result[key] = true;\n    }\n    return result;\n}\nfunction once(fn) {\n    let ran = false;\n    return function (...args) {\n        if (ran)\n            return;\n        ran = true;\n        fn.call(this, ...args);\n    };\n}\nfunction null_to_empty(value) {\n    return value == null ? '' : value;\n}\nfunction set_store_value(store, ret, value) {\n    store.set(value);\n    return ret;\n}\nconst has_prop = (obj, prop) => Object.prototype.hasOwnProperty.call(obj, prop);\nfunction action_destroyer(action_result) {\n    return action_result && is_function(action_result.destroy) ? action_result.destroy : noop;\n}\nfunction split_css_unit(value) {\n    const split = typeof value === 'string' && value.match(/^\\s*(-?[\\d.]+)([^\\s]*)\\s*$/);\n    return split ? [parseFloat(split[1]), split[2] || 'px'] : [value, 'px'];\n}\nconst contenteditable_truthy_values = ['', true, 1, 'true', 'contenteditable'];\n\nconst is_client = typeof window !== 'undefined';\nlet now = is_client\n    ? () => window.performance.now()\n    : () => Date.now();\nlet raf = is_client ? cb => requestAnimationFrame(cb) : noop;\n// used internally for testing\nfunction set_now(fn) {\n    now = fn;\n}\nfunction set_raf(fn) {\n    raf = fn;\n}\n\nconst tasks = new Set();\nfunction run_tasks(now) {\n    tasks.forEach(task => {\n        if (!task.c(now)) {\n            tasks.delete(task);\n            task.f();\n        }\n    });\n    if (tasks.size !== 0)\n        raf(run_tasks);\n}\n/**\n * For testing purposes only!\n */\nfunction clear_loops() {\n    tasks.clear();\n}\n/**\n * Creates a new task that runs on each raf frame\n * until it returns a falsy value or is aborted\n */\nfunction loop(callback) {\n    let task;\n    if (tasks.size === 0)\n        raf(run_tasks);\n    return {\n        promise: new Promise(fulfill => {\n            tasks.add(task = { c: callback, f: fulfill });\n        }),\n        abort() {\n            tasks.delete(task);\n        }\n    };\n}\n\nconst globals = (typeof window !== 'undefined'\n    ? window\n    : typeof globalThis !== 'undefined'\n        ? globalThis\n        : global);\n\n/**\n * Resize observer singleton.\n * One listener per element only!\n * https://groups.google.com/a/chromium.org/g/blink-dev/c/z6ienONUb5A/m/F5-VcUZtBAAJ\n */\nclass ResizeObserverSingleton {\n    constructor(options) {\n        this.options = options;\n        this._listeners = 'WeakMap' in globals ? new WeakMap() : undefined;\n    }\n    observe(element, listener) {\n        this._listeners.set(element, listener);\n        this._getObserver().observe(element, this.options);\n        return () => {\n            this._listeners.delete(element);\n            this._observer.unobserve(element); // this line can probably be removed\n        };\n    }\n    _getObserver() {\n        var _a;\n        return (_a = this._observer) !== null && _a !== void 0 ? _a : (this._observer = new ResizeObserver((entries) => {\n            var _a;\n            for (const entry of entries) {\n                ResizeObserverSingleton.entries.set(entry.target, entry);\n                (_a = this._listeners.get(entry.target)) === null || _a === void 0 ? void 0 : _a(entry);\n            }\n        }));\n    }\n}\n// Needs to be written like this to pass the tree-shake-test\nResizeObserverSingleton.entries = 'WeakMap' in globals ? new WeakMap() : undefined;\n\n// Track which nodes are claimed during hydration. Unclaimed nodes can then be removed from the DOM\n// at the end of hydration without touching the remaining nodes.\nlet is_hydrating = false;\nfunction start_hydrating() {\n    is_hydrating = true;\n}\nfunction end_hydrating() {\n    is_hydrating = false;\n}\nfunction upper_bound(low, high, key, value) {\n    // Return first index of value larger than input value in the range [low, high)\n    while (low < high) {\n        const mid = low + ((high - low) >> 1);\n        if (key(mid) <= value) {\n            low = mid + 1;\n        }\n        else {\n            high = mid;\n        }\n    }\n    return low;\n}\nfunction init_hydrate(target) {\n    if (target.hydrate_init)\n        return;\n    target.hydrate_init = true;\n    // We know that all children have claim_order values since the unclaimed have been detached if target is not <head>\n    let children = target.childNodes;\n    // If target is <head>, there may be children without claim_order\n    if (target.nodeName === 'HEAD') {\n        const myChildren = [];\n        for (let i = 0; i < children.length; i++) {\n            const node = children[i];\n            if (node.claim_order !== undefined) {\n                myChildren.push(node);\n            }\n        }\n        children = myChildren;\n    }\n    /*\n    * Reorder claimed children optimally.\n    * We can reorder claimed children optimally by finding the longest subsequence of\n    * nodes that are already claimed in order and only moving the rest. The longest\n    * subsequence of nodes that are claimed in order can be found by\n    * computing the longest increasing subsequence of .claim_order values.\n    *\n    * This algorithm is optimal in generating the least amount of reorder operations\n    * possible.\n    *\n    * Proof:\n    * We know that, given a set of reordering operations, the nodes that do not move\n    * always form an increasing subsequence, since they do not move among each other\n    * meaning that they must be already ordered among each other. Thus, the maximal\n    * set of nodes that do not move form a longest increasing subsequence.\n    */\n    // Compute longest increasing subsequence\n    // m: subsequence length j => index k of smallest value that ends an increasing subsequence of length j\n    const m = new Int32Array(children.length + 1);\n    // Predecessor indices + 1\n    const p = new Int32Array(children.length);\n    m[0] = -1;\n    let longest = 0;\n    for (let i = 0; i < children.length; i++) {\n        const current = children[i].claim_order;\n        // Find the largest subsequence length such that it ends in a value less than our current value\n        // upper_bound returns first greater value, so we subtract one\n        // with fast path for when we are on the current longest subsequence\n        const seqLen = ((longest > 0 && children[m[longest]].claim_order <= current) ? longest + 1 : upper_bound(1, longest, idx => children[m[idx]].claim_order, current)) - 1;\n        p[i] = m[seqLen] + 1;\n        const newLen = seqLen + 1;\n        // We can guarantee that current is the smallest value. Otherwise, we would have generated a longer sequence.\n        m[newLen] = i;\n        longest = Math.max(newLen, longest);\n    }\n    // The longest increasing subsequence of nodes (initially reversed)\n    const lis = [];\n    // The rest of the nodes, nodes that will be moved\n    const toMove = [];\n    let last = children.length - 1;\n    for (let cur = m[longest] + 1; cur != 0; cur = p[cur - 1]) {\n        lis.push(children[cur - 1]);\n        for (; last >= cur; last--) {\n            toMove.push(children[last]);\n        }\n        last--;\n    }\n    for (; last >= 0; last--) {\n        toMove.push(children[last]);\n    }\n    lis.reverse();\n    // We sort the nodes being moved to guarantee that their insertion order matches the claim order\n    toMove.sort((a, b) => a.claim_order - b.claim_order);\n    // Finally, we move the nodes\n    for (let i = 0, j = 0; i < toMove.length; i++) {\n        while (j < lis.length && toMove[i].claim_order >= lis[j].claim_order) {\n            j++;\n        }\n        const anchor = j < lis.length ? lis[j] : null;\n        target.insertBefore(toMove[i], anchor);\n    }\n}\nfunction append(target, node) {\n    target.appendChild(node);\n}\nfunction append_styles(target, style_sheet_id, styles) {\n    const append_styles_to = get_root_for_style(target);\n    if (!append_styles_to.getElementById(style_sheet_id)) {\n        const style = element('style');\n        style.id = style_sheet_id;\n        style.textContent = styles;\n        append_stylesheet(append_styles_to, style);\n    }\n}\nfunction get_root_for_style(node) {\n    if (!node)\n        return document;\n    const root = node.getRootNode ? node.getRootNode() : node.ownerDocument;\n    if (root && root.host) {\n        return root;\n    }\n    return node.ownerDocument;\n}\nfunction append_empty_stylesheet(node) {\n    const style_element = element('style');\n    append_stylesheet(get_root_for_style(node), style_element);\n    return style_element.sheet;\n}\nfunction append_stylesheet(node, style) {\n    append(node.head || node, style);\n    return style.sheet;\n}\nfunction append_hydration(target, node) {\n    if (is_hydrating) {\n        init_hydrate(target);\n        if ((target.actual_end_child === undefined) || ((target.actual_end_child !== null) && (target.actual_end_child.parentNode !== target))) {\n            target.actual_end_child = target.firstChild;\n        }\n        // Skip nodes of undefined ordering\n        while ((target.actual_end_child !== null) && (target.actual_end_child.claim_order === undefined)) {\n            target.actual_end_child = target.actual_end_child.nextSibling;\n        }\n        if (node !== target.actual_end_child) {\n            // We only insert if the ordering of this node should be modified or the parent node is not target\n            if (node.claim_order !== undefined || node.parentNode !== target) {\n                target.insertBefore(node, target.actual_end_child);\n            }\n        }\n        else {\n            target.actual_end_child = node.nextSibling;\n        }\n    }\n    else if (node.parentNode !== target || node.nextSibling !== null) {\n        target.appendChild(node);\n    }\n}\nfunction insert(target, node, anchor) {\n    target.insertBefore(node, anchor || null);\n}\nfunction insert_hydration(target, node, anchor) {\n    if (is_hydrating && !anchor) {\n        append_hydration(target, node);\n    }\n    else if (node.parentNode !== target || node.nextSibling != anchor) {\n        target.insertBefore(node, anchor || null);\n    }\n}\nfunction detach(node) {\n    if (node.parentNode) {\n        node.parentNode.removeChild(node);\n    }\n}\nfunction destroy_each(iterations, detaching) {\n    for (let i = 0; i < iterations.length; i += 1) {\n        if (iterations[i])\n            iterations[i].d(detaching);\n    }\n}\nfunction element(name) {\n    return document.createElement(name);\n}\nfunction element_is(name, is) {\n    return document.createElement(name, { is });\n}\nfunction object_without_properties(obj, exclude) {\n    const target = {};\n    for (const k in obj) {\n        if (has_prop(obj, k)\n            // @ts-ignore\n            && exclude.indexOf(k) === -1) {\n            // @ts-ignore\n            target[k] = obj[k];\n        }\n    }\n    return target;\n}\nfunction svg_element(name) {\n    return document.createElementNS('http://www.w3.org/2000/svg', name);\n}\nfunction text(data) {\n    return document.createTextNode(data);\n}\nfunction space() {\n    return text(' ');\n}\nfunction empty() {\n    return text('');\n}\nfunction comment(content) {\n    return document.createComment(content);\n}\nfunction listen(node, event, handler, options) {\n    node.addEventListener(event, handler, options);\n    return () => node.removeEventListener(event, handler, options);\n}\nfunction prevent_default(fn) {\n    return function (event) {\n        event.preventDefault();\n        // @ts-ignore\n        return fn.call(this, event);\n    };\n}\nfunction stop_propagation(fn) {\n    return function (event) {\n        event.stopPropagation();\n        // @ts-ignore\n        return fn.call(this, event);\n    };\n}\nfunction stop_immediate_propagation(fn) {\n    return function (event) {\n        event.stopImmediatePropagation();\n        // @ts-ignore\n        return fn.call(this, event);\n    };\n}\nfunction self(fn) {\n    return function (event) {\n        // @ts-ignore\n        if (event.target === this)\n            fn.call(this, event);\n    };\n}\nfunction trusted(fn) {\n    return function (event) {\n        // @ts-ignore\n        if (event.isTrusted)\n            fn.call(this, event);\n    };\n}\nfunction attr(node, attribute, value) {\n    if (value == null)\n        node.removeAttribute(attribute);\n    else if (node.getAttribute(attribute) !== value)\n        node.setAttribute(attribute, value);\n}\n/**\n * List of attributes that should always be set through the attr method,\n * because updating them through the property setter doesn't work reliably.\n * In the example of `width`/`height`, the problem is that the setter only\n * accepts numeric values, but the attribute can also be set to a string like `50%`.\n * If this list becomes too big, rethink this approach.\n */\nconst always_set_through_set_attribute = ['width', 'height'];\nfunction set_attributes(node, attributes) {\n    // @ts-ignore\n    const descriptors = Object.getOwnPropertyDescriptors(node.__proto__);\n    for (const key in attributes) {\n        if (attributes[key] == null) {\n            node.removeAttribute(key);\n        }\n        else if (key === 'style') {\n            node.style.cssText = attributes[key];\n        }\n        else if (key === '__value') {\n            node.value = node[key] = attributes[key];\n        }\n        else if (descriptors[key] && descriptors[key].set && always_set_through_set_attribute.indexOf(key) === -1) {\n            node[key] = attributes[key];\n        }\n        else {\n            attr(node, key, attributes[key]);\n        }\n    }\n}\nfunction set_svg_attributes(node, attributes) {\n    for (const key in attributes) {\n        attr(node, key, attributes[key]);\n    }\n}\nfunction set_custom_element_data_map(node, data_map) {\n    Object.keys(data_map).forEach((key) => {\n        set_custom_element_data(node, key, data_map[key]);\n    });\n}\nfunction set_custom_element_data(node, prop, value) {\n    if (prop in node) {\n        node[prop] = typeof node[prop] === 'boolean' && value === '' ? true : value;\n    }\n    else {\n        attr(node, prop, value);\n    }\n}\nfunction set_dynamic_element_data(tag) {\n    return (/-/.test(tag)) ? set_custom_element_data_map : set_attributes;\n}\nfunction xlink_attr(node, attribute, value) {\n    node.setAttributeNS('http://www.w3.org/1999/xlink', attribute, value);\n}\nfunction get_binding_group_value(group, __value, checked) {\n    const value = new Set();\n    for (let i = 0; i < group.length; i += 1) {\n        if (group[i].checked)\n            value.add(group[i].__value);\n    }\n    if (!checked) {\n        value.delete(__value);\n    }\n    return Array.from(value);\n}\nfunction init_binding_group(group) {\n    let _inputs;\n    return {\n        /* push */ p(...inputs) {\n            _inputs = inputs;\n            _inputs.forEach(input => group.push(input));\n        },\n        /* remove */ r() {\n            _inputs.forEach(input => group.splice(group.indexOf(input), 1));\n        }\n    };\n}\nfunction init_binding_group_dynamic(group, indexes) {\n    let _group = get_binding_group(group);\n    let _inputs;\n    function get_binding_group(group) {\n        for (let i = 0; i < indexes.length; i++) {\n            group = group[indexes[i]] = group[indexes[i]] || [];\n        }\n        return group;\n    }\n    function push() {\n        _inputs.forEach(input => _group.push(input));\n    }\n    function remove() {\n        _inputs.forEach(input => _group.splice(_group.indexOf(input), 1));\n    }\n    return {\n        /* update */ u(new_indexes) {\n            indexes = new_indexes;\n            const new_group = get_binding_group(group);\n            if (new_group !== _group) {\n                remove();\n                _group = new_group;\n                push();\n            }\n        },\n        /* push */ p(...inputs) {\n            _inputs = inputs;\n            push();\n        },\n        /* remove */ r: remove\n    };\n}\nfunction to_number(value) {\n    return value === '' ? null : +value;\n}\nfunction time_ranges_to_array(ranges) {\n    const array = [];\n    for (let i = 0; i < ranges.length; i += 1) {\n        array.push({ start: ranges.start(i), end: ranges.end(i) });\n    }\n    return array;\n}\nfunction children(element) {\n    return Array.from(element.childNodes);\n}\nfunction init_claim_info(nodes) {\n    if (nodes.claim_info === undefined) {\n        nodes.claim_info = { last_index: 0, total_claimed: 0 };\n    }\n}\nfunction claim_node(nodes, predicate, processNode, createNode, dontUpdateLastIndex = false) {\n    // Try to find nodes in an order such that we lengthen the longest increasing subsequence\n    init_claim_info(nodes);\n    const resultNode = (() => {\n        // We first try to find an element after the previous one\n        for (let i = nodes.claim_info.last_index; i < nodes.length; i++) {\n            const node = nodes[i];\n            if (predicate(node)) {\n                const replacement = processNode(node);\n                if (replacement === undefined) {\n                    nodes.splice(i, 1);\n                }\n                else {\n                    nodes[i] = replacement;\n                }\n                if (!dontUpdateLastIndex) {\n                    nodes.claim_info.last_index = i;\n                }\n                return node;\n            }\n        }\n        // Otherwise, we try to find one before\n        // We iterate in reverse so that we don't go too far back\n        for (let i = nodes.claim_info.last_index - 1; i >= 0; i--) {\n            const node = nodes[i];\n            if (predicate(node)) {\n                const replacement = processNode(node);\n                if (replacement === undefined) {\n                    nodes.splice(i, 1);\n                }\n                else {\n                    nodes[i] = replacement;\n                }\n                if (!dontUpdateLastIndex) {\n                    nodes.claim_info.last_index = i;\n                }\n                else if (replacement === undefined) {\n                    // Since we spliced before the last_index, we decrease it\n                    nodes.claim_info.last_index--;\n                }\n                return node;\n            }\n        }\n        // If we can't find any matching node, we create a new one\n        return createNode();\n    })();\n    resultNode.claim_order = nodes.claim_info.total_claimed;\n    nodes.claim_info.total_claimed += 1;\n    return resultNode;\n}\nfunction claim_element_base(nodes, name, attributes, create_element) {\n    return claim_node(nodes, (node) => node.nodeName === name, (node) => {\n        const remove = [];\n        for (let j = 0; j < node.attributes.length; j++) {\n            const attribute = node.attributes[j];\n            if (!attributes[attribute.name]) {\n                remove.push(attribute.name);\n            }\n        }\n        remove.forEach(v => node.removeAttribute(v));\n        return undefined;\n    }, () => create_element(name));\n}\nfunction claim_element(nodes, name, attributes) {\n    return claim_element_base(nodes, name, attributes, element);\n}\nfunction claim_svg_element(nodes, name, attributes) {\n    return claim_element_base(nodes, name, attributes, svg_element);\n}\nfunction claim_text(nodes, data) {\n    return claim_node(nodes, (node) => node.nodeType === 3, (node) => {\n        const dataStr = '' + data;\n        if (node.data.startsWith(dataStr)) {\n            if (node.data.length !== dataStr.length) {\n                return node.splitText(dataStr.length);\n            }\n        }\n        else {\n            node.data = dataStr;\n        }\n    }, () => text(data), true // Text nodes should not update last index since it is likely not worth it to eliminate an increasing subsequence of actual elements\n    );\n}\nfunction claim_space(nodes) {\n    return claim_text(nodes, ' ');\n}\nfunction claim_comment(nodes, data) {\n    return claim_node(nodes, (node) => node.nodeType === 8, (node) => {\n        node.data = '' + data;\n        return undefined;\n    }, () => comment(data), true);\n}\nfunction find_comment(nodes, text, start) {\n    for (let i = start; i < nodes.length; i += 1) {\n        const node = nodes[i];\n        if (node.nodeType === 8 /* comment node */ && node.textContent.trim() === text) {\n            return i;\n        }\n    }\n    return nodes.length;\n}\nfunction claim_html_tag(nodes, is_svg) {\n    // find html opening tag\n    const start_index = find_comment(nodes, 'HTML_TAG_START', 0);\n    const end_index = find_comment(nodes, 'HTML_TAG_END', start_index);\n    if (start_index === end_index) {\n        return new HtmlTagHydration(undefined, is_svg);\n    }\n    init_claim_info(nodes);\n    const html_tag_nodes = nodes.splice(start_index, end_index - start_index + 1);\n    detach(html_tag_nodes[0]);\n    detach(html_tag_nodes[html_tag_nodes.length - 1]);\n    const claimed_nodes = html_tag_nodes.slice(1, html_tag_nodes.length - 1);\n    for (const n of claimed_nodes) {\n        n.claim_order = nodes.claim_info.total_claimed;\n        nodes.claim_info.total_claimed += 1;\n    }\n    return new HtmlTagHydration(claimed_nodes, is_svg);\n}\nfunction set_data(text, data) {\n    data = '' + data;\n    if (text.data === data)\n        return;\n    text.data = data;\n}\nfunction set_data_contenteditable(text, data) {\n    data = '' + data;\n    if (text.wholeText === data)\n        return;\n    text.data = data;\n}\nfunction set_data_maybe_contenteditable(text, data, attr_value) {\n    if (~contenteditable_truthy_values.indexOf(attr_value)) {\n        set_data_contenteditable(text, data);\n    }\n    else {\n        set_data(text, data);\n    }\n}\nfunction set_input_value(input, value) {\n    input.value = value == null ? '' : value;\n}\nfunction set_input_type(input, type) {\n    try {\n        input.type = type;\n    }\n    catch (e) {\n        // do nothing\n    }\n}\nfunction set_style(node, key, value, important) {\n    if (value == null) {\n        node.style.removeProperty(key);\n    }\n    else {\n        node.style.setProperty(key, value, important ? 'important' : '');\n    }\n}\nfunction select_option(select, value, mounting) {\n    for (let i = 0; i < select.options.length; i += 1) {\n        const option = select.options[i];\n        if (option.__value === value) {\n            option.selected = true;\n            return;\n        }\n    }\n    if (!mounting || value !== undefined) {\n        select.selectedIndex = -1; // no option should be selected\n    }\n}\nfunction select_options(select, value) {\n    for (let i = 0; i < select.options.length; i += 1) {\n        const option = select.options[i];\n        option.selected = ~value.indexOf(option.__value);\n    }\n}\nfunction select_value(select) {\n    const selected_option = select.querySelector(':checked');\n    return selected_option && selected_option.__value;\n}\nfunction select_multiple_value(select) {\n    return [].map.call(select.querySelectorAll(':checked'), option => option.__value);\n}\n// unfortunately this can't be a constant as that wouldn't be tree-shakeable\n// so we cache the result instead\nlet crossorigin;\nfunction is_crossorigin() {\n    if (crossorigin === undefined) {\n        crossorigin = false;\n        try {\n            if (typeof window !== 'undefined' && window.parent) {\n                void window.parent.document;\n            }\n        }\n        catch (error) {\n            crossorigin = true;\n        }\n    }\n    return crossorigin;\n}\nfunction add_iframe_resize_listener(node, fn) {\n    const computed_style = getComputedStyle(node);\n    if (computed_style.position === 'static') {\n        node.style.position = 'relative';\n    }\n    const iframe = element('iframe');\n    iframe.setAttribute('style', 'display: block; position: absolute; top: 0; left: 0; width: 100%; height: 100%; ' +\n        'overflow: hidden; border: 0; opacity: 0; pointer-events: none; z-index: -1;');\n    iframe.setAttribute('aria-hidden', 'true');\n    iframe.tabIndex = -1;\n    const crossorigin = is_crossorigin();\n    let unsubscribe;\n    if (crossorigin) {\n        iframe.src = \"data:text/html,<script>onresize=function(){parent.postMessage(0,'*')}</script>\";\n        unsubscribe = listen(window, 'message', (event) => {\n            if (event.source === iframe.contentWindow)\n                fn();\n        });\n    }\n    else {\n        iframe.src = 'about:blank';\n        iframe.onload = () => {\n            unsubscribe = listen(iframe.contentWindow, 'resize', fn);\n            // make sure an initial resize event is fired _after_ the iframe is loaded (which is asynchronous)\n            // see https://github.com/sveltejs/svelte/issues/4233\n            fn();\n        };\n    }\n    append(node, iframe);\n    return () => {\n        if (crossorigin) {\n            unsubscribe();\n        }\n        else if (unsubscribe && iframe.contentWindow) {\n            unsubscribe();\n        }\n        detach(iframe);\n    };\n}\nconst resize_observer_content_box = /* @__PURE__ */ new ResizeObserverSingleton({ box: 'content-box' });\nconst resize_observer_border_box = /* @__PURE__ */ new ResizeObserverSingleton({ box: 'border-box' });\nconst resize_observer_device_pixel_content_box = /* @__PURE__ */ new ResizeObserverSingleton({ box: 'device-pixel-content-box' });\nfunction toggle_class(element, name, toggle) {\n    element.classList[toggle ? 'add' : 'remove'](name);\n}\nfunction custom_event(type, detail, { bubbles = false, cancelable = false } = {}) {\n    const e = document.createEvent('CustomEvent');\n    e.initCustomEvent(type, bubbles, cancelable, detail);\n    return e;\n}\nfunction query_selector_all(selector, parent = document.body) {\n    return Array.from(parent.querySelectorAll(selector));\n}\nfunction head_selector(nodeId, head) {\n    const result = [];\n    let started = 0;\n    for (const node of head.childNodes) {\n        if (node.nodeType === 8 /* comment node */) {\n            const comment = node.textContent.trim();\n            if (comment === `HEAD_${nodeId}_END`) {\n                started -= 1;\n                result.push(node);\n            }\n            else if (comment === `HEAD_${nodeId}_START`) {\n                started += 1;\n                result.push(node);\n            }\n        }\n        else if (started > 0) {\n            result.push(node);\n        }\n    }\n    return result;\n}\nclass HtmlTag {\n    constructor(is_svg = false) {\n        this.is_svg = false;\n        this.is_svg = is_svg;\n        this.e = this.n = null;\n    }\n    c(html) {\n        this.h(html);\n    }\n    m(html, target, anchor = null) {\n        if (!this.e) {\n            if (this.is_svg)\n                this.e = svg_element(target.nodeName);\n            /** #7364  target for <template> may be provided as #document-fragment(11) */\n            else\n                this.e = element((target.nodeType === 11 ? 'TEMPLATE' : target.nodeName));\n            this.t = target.tagName !== 'TEMPLATE' ? target : target.content;\n            this.c(html);\n        }\n        this.i(anchor);\n    }\n    h(html) {\n        this.e.innerHTML = html;\n        this.n = Array.from(this.e.nodeName === 'TEMPLATE' ? this.e.content.childNodes : this.e.childNodes);\n    }\n    i(anchor) {\n        for (let i = 0; i < this.n.length; i += 1) {\n            insert(this.t, this.n[i], anchor);\n        }\n    }\n    p(html) {\n        this.d();\n        this.h(html);\n        this.i(this.a);\n    }\n    d() {\n        this.n.forEach(detach);\n    }\n}\nclass HtmlTagHydration extends HtmlTag {\n    constructor(claimed_nodes, is_svg = false) {\n        super(is_svg);\n        this.e = this.n = null;\n        this.l = claimed_nodes;\n    }\n    c(html) {\n        if (this.l) {\n            this.n = this.l;\n        }\n        else {\n            super.c(html);\n        }\n    }\n    i(anchor) {\n        for (let i = 0; i < this.n.length; i += 1) {\n            insert_hydration(this.t, this.n[i], anchor);\n        }\n    }\n}\nfunction attribute_to_object(attributes) {\n    const result = {};\n    for (const attribute of attributes) {\n        result[attribute.name] = attribute.value;\n    }\n    return result;\n}\nfunction get_custom_elements_slots(element) {\n    const result = {};\n    element.childNodes.forEach((node) => {\n        result[node.slot || 'default'] = true;\n    });\n    return result;\n}\nfunction construct_svelte_component(component, props) {\n    return new component(props);\n}\n\n// we need to store the information for multiple documents because a Svelte application could also contain iframes\n// https://github.com/sveltejs/svelte/issues/3624\nconst managed_styles = new Map();\nlet active = 0;\n// https://github.com/darkskyapp/string-hash/blob/master/index.js\nfunction hash(str) {\n    let hash = 5381;\n    let i = str.length;\n    while (i--)\n        hash = ((hash << 5) - hash) ^ str.charCodeAt(i);\n    return hash >>> 0;\n}\nfunction create_style_information(doc, node) {\n    const info = { stylesheet: append_empty_stylesheet(node), rules: {} };\n    managed_styles.set(doc, info);\n    return info;\n}\nfunction create_rule(node, a, b, duration, delay, ease, fn, uid = 0) {\n    const step = 16.666 / duration;\n    let keyframes = '{\\n';\n    for (let p = 0; p <= 1; p += step) {\n        const t = a + (b - a) * ease(p);\n        keyframes += p * 100 + `%{${fn(t, 1 - t)}}\\n`;\n    }\n    const rule = keyframes + `100% {${fn(b, 1 - b)}}\\n}`;\n    const name = `__svelte_${hash(rule)}_${uid}`;\n    const doc = get_root_for_style(node);\n    const { stylesheet, rules } = managed_styles.get(doc) || create_style_information(doc, node);\n    if (!rules[name]) {\n        rules[name] = true;\n        stylesheet.insertRule(`@keyframes ${name} ${rule}`, stylesheet.cssRules.length);\n    }\n    const animation = node.style.animation || '';\n    node.style.animation = `${animation ? `${animation}, ` : ''}${name} ${duration}ms linear ${delay}ms 1 both`;\n    active += 1;\n    return name;\n}\nfunction delete_rule(node, name) {\n    const previous = (node.style.animation || '').split(', ');\n    const next = previous.filter(name\n        ? anim => anim.indexOf(name) < 0 // remove specific animation\n        : anim => anim.indexOf('__svelte') === -1 // remove all Svelte animations\n    );\n    const deleted = previous.length - next.length;\n    if (deleted) {\n        node.style.animation = next.join(', ');\n        active -= deleted;\n        if (!active)\n            clear_rules();\n    }\n}\nfunction clear_rules() {\n    raf(() => {\n        if (active)\n            return;\n        managed_styles.forEach(info => {\n            const { ownerNode } = info.stylesheet;\n            // there is no ownerNode if it runs on jsdom.\n            if (ownerNode)\n                detach(ownerNode);\n        });\n        managed_styles.clear();\n    });\n}\n\nfunction create_animation(node, from, fn, params) {\n    if (!from)\n        return noop;\n    const to = node.getBoundingClientRect();\n    if (from.left === to.left && from.right === to.right && from.top === to.top && from.bottom === to.bottom)\n        return noop;\n    const { delay = 0, duration = 300, easing = identity, \n    // @ts-ignore todo: should this be separated from destructuring? Or start/end added to public api and documentation?\n    start: start_time = now() + delay, \n    // @ts-ignore todo:\n    end = start_time + duration, tick = noop, css } = fn(node, { from, to }, params);\n    let running = true;\n    let started = false;\n    let name;\n    function start() {\n        if (css) {\n            name = create_rule(node, 0, 1, duration, delay, easing, css);\n        }\n        if (!delay) {\n            started = true;\n        }\n    }\n    function stop() {\n        if (css)\n            delete_rule(node, name);\n        running = false;\n    }\n    loop(now => {\n        if (!started && now >= start_time) {\n            started = true;\n        }\n        if (started && now >= end) {\n            tick(1, 0);\n            stop();\n        }\n        if (!running) {\n            return false;\n        }\n        if (started) {\n            const p = now - start_time;\n            const t = 0 + 1 * easing(p / duration);\n            tick(t, 1 - t);\n        }\n        return true;\n    });\n    start();\n    tick(0, 1);\n    return stop;\n}\nfunction fix_position(node) {\n    const style = getComputedStyle(node);\n    if (style.position !== 'absolute' && style.position !== 'fixed') {\n        const { width, height } = style;\n        const a = node.getBoundingClientRect();\n        node.style.position = 'absolute';\n        node.style.width = width;\n        node.style.height = height;\n        add_transform(node, a);\n    }\n}\nfunction add_transform(node, a) {\n    const b = node.getBoundingClientRect();\n    if (a.left !== b.left || a.top !== b.top) {\n        const style = getComputedStyle(node);\n        const transform = style.transform === 'none' ? '' : style.transform;\n        node.style.transform = `${transform} translate(${a.left - b.left}px, ${a.top - b.top}px)`;\n    }\n}\n\nlet current_component;\nfunction set_current_component(component) {\n    current_component = component;\n}\nfunction get_current_component() {\n    if (!current_component)\n        throw new Error('Function called outside component initialization');\n    return current_component;\n}\n/**\n * Schedules a callback to run immediately before the component is updated after any state change.\n *\n * The first time the callback runs will be before the initial `onMount`\n *\n * https://svelte.dev/docs#run-time-svelte-beforeupdate\n */\nfunction beforeUpdate(fn) {\n    get_current_component().$$.before_update.push(fn);\n}\n/**\n * The `onMount` function schedules a callback to run as soon as the component has been mounted to the DOM.\n * It must be called during the component's initialisation (but doesn't need to live *inside* the component;\n * it can be called from an external module).\n *\n * `onMount` does not run inside a [server-side component](/docs#run-time-server-side-component-api).\n *\n * https://svelte.dev/docs#run-time-svelte-onmount\n */\nfunction onMount(fn) {\n    get_current_component().$$.on_mount.push(fn);\n}\n/**\n * Schedules a callback to run immediately after the component has been updated.\n *\n * The first time the callback runs will be after the initial `onMount`\n */\nfunction afterUpdate(fn) {\n    get_current_component().$$.after_update.push(fn);\n}\n/**\n * Schedules a callback to run immediately before the component is unmounted.\n *\n * Out of `onMount`, `beforeUpdate`, `afterUpdate` and `onDestroy`, this is the\n * only one that runs inside a server-side component.\n *\n * https://svelte.dev/docs#run-time-svelte-ondestroy\n */\nfunction onDestroy(fn) {\n    get_current_component().$$.on_destroy.push(fn);\n}\n/**\n * Creates an event dispatcher that can be used to dispatch [component events](/docs#template-syntax-component-directives-on-eventname).\n * Event dispatchers are functions that can take two arguments: `name` and `detail`.\n *\n * Component events created with `createEventDispatcher` create a\n * [CustomEvent](https://developer.mozilla.org/en-US/docs/Web/API/CustomEvent).\n * These events do not [bubble](https://developer.mozilla.org/en-US/docs/Learn/JavaScript/Building_blocks/Events#Event_bubbling_and_capture).\n * The `detail` argument corresponds to the [CustomEvent.detail](https://developer.mozilla.org/en-US/docs/Web/API/CustomEvent/detail)\n * property and can contain any type of data.\n *\n * https://svelte.dev/docs#run-time-svelte-createeventdispatcher\n */\nfunction createEventDispatcher() {\n    const component = get_current_component();\n    return (type, detail, { cancelable = false } = {}) => {\n        const callbacks = component.$$.callbacks[type];\n        if (callbacks) {\n            // TODO are there situations where events could be dispatched\n            // in a server (non-DOM) environment?\n            const event = custom_event(type, detail, { cancelable });\n            callbacks.slice().forEach(fn => {\n                fn.call(component, event);\n            });\n            return !event.defaultPrevented;\n        }\n        return true;\n    };\n}\n/**\n * Associates an arbitrary `context` object with the current component and the specified `key`\n * and returns that object. The context is then available to children of the component\n * (including slotted content) with `getContext`.\n *\n * Like lifecycle functions, this must be called during component initialisation.\n *\n * https://svelte.dev/docs#run-time-svelte-setcontext\n */\nfunction setContext(key, context) {\n    get_current_component().$$.context.set(key, context);\n    return context;\n}\n/**\n * Retrieves the context that belongs to the closest parent component with the specified `key`.\n * Must be called during component initialisation.\n *\n * https://svelte.dev/docs#run-time-svelte-getcontext\n */\nfunction getContext(key) {\n    return get_current_component().$$.context.get(key);\n}\n/**\n * Retrieves the whole context map that belongs to the closest parent component.\n * Must be called during component initialisation. Useful, for example, if you\n * programmatically create a component and want to pass the existing context to it.\n *\n * https://svelte.dev/docs#run-time-svelte-getallcontexts\n */\nfunction getAllContexts() {\n    return get_current_component().$$.context;\n}\n/**\n * Checks whether a given `key` has been set in the context of a parent component.\n * Must be called during component initialisation.\n *\n * https://svelte.dev/docs#run-time-svelte-hascontext\n */\nfunction hasContext(key) {\n    return get_current_component().$$.context.has(key);\n}\n// TODO figure out if we still want to support\n// shorthand events, or if we want to implement\n// a real bubbling mechanism\nfunction bubble(component, event) {\n    const callbacks = component.$$.callbacks[event.type];\n    if (callbacks) {\n        // @ts-ignore\n        callbacks.slice().forEach(fn => fn.call(this, event));\n    }\n}\n\nconst dirty_components = [];\nconst intros = { enabled: false };\nconst binding_callbacks = [];\nlet render_callbacks = [];\nconst flush_callbacks = [];\nconst resolved_promise = /* @__PURE__ */ Promise.resolve();\nlet update_scheduled = false;\nfunction schedule_update() {\n    if (!update_scheduled) {\n        update_scheduled = true;\n        resolved_promise.then(flush);\n    }\n}\nfunction tick() {\n    schedule_update();\n    return resolved_promise;\n}\nfunction add_render_callback(fn) {\n    render_callbacks.push(fn);\n}\nfunction add_flush_callback(fn) {\n    flush_callbacks.push(fn);\n}\n// flush() calls callbacks in this order:\n// 1. All beforeUpdate callbacks, in order: parents before children\n// 2. All bind:this callbacks, in reverse order: children before parents.\n// 3. All afterUpdate callbacks, in order: parents before children. EXCEPT\n//    for afterUpdates called during the initial onMount, which are called in\n//    reverse order: children before parents.\n// Since callbacks might update component values, which could trigger another\n// call to flush(), the following steps guard against this:\n// 1. During beforeUpdate, any updated components will be added to the\n//    dirty_components array and will cause a reentrant call to flush(). Because\n//    the flush index is kept outside the function, the reentrant call will pick\n//    up where the earlier call left off and go through all dirty components. The\n//    current_component value is saved and restored so that the reentrant call will\n//    not interfere with the \"parent\" flush() call.\n// 2. bind:this callbacks cannot trigger new flush() calls.\n// 3. During afterUpdate, any updated components will NOT have their afterUpdate\n//    callback called a second time; the seen_callbacks set, outside the flush()\n//    function, guarantees this behavior.\nconst seen_callbacks = new Set();\nlet flushidx = 0; // Do *not* move this inside the flush() function\nfunction flush() {\n    // Do not reenter flush while dirty components are updated, as this can\n    // result in an infinite loop. Instead, let the inner flush handle it.\n    // Reentrancy is ok afterwards for bindings etc.\n    if (flushidx !== 0) {\n        return;\n    }\n    const saved_component = current_component;\n    do {\n        // first, call beforeUpdate functions\n        // and update components\n        try {\n            while (flushidx < dirty_components.length) {\n                const component = dirty_components[flushidx];\n                flushidx++;\n                set_current_component(component);\n                update(component.$$);\n            }\n        }\n        catch (e) {\n            // reset dirty state to not end up in a deadlocked state and then rethrow\n            dirty_components.length = 0;\n            flushidx = 0;\n            throw e;\n        }\n        set_current_component(null);\n        dirty_components.length = 0;\n        flushidx = 0;\n        while (binding_callbacks.length)\n            binding_callbacks.pop()();\n        // then, once components are updated, call\n        // afterUpdate functions. This may cause\n        // subsequent updates...\n        for (let i = 0; i < render_callbacks.length; i += 1) {\n            const callback = render_callbacks[i];\n            if (!seen_callbacks.has(callback)) {\n                // ...so guard against infinite loops\n                seen_callbacks.add(callback);\n                callback();\n            }\n        }\n        render_callbacks.length = 0;\n    } while (dirty_components.length);\n    while (flush_callbacks.length) {\n        flush_callbacks.pop()();\n    }\n    update_scheduled = false;\n    seen_callbacks.clear();\n    set_current_component(saved_component);\n}\nfunction update($$) {\n    if ($$.fragment !== null) {\n        $$.update();\n        run_all($$.before_update);\n        const dirty = $$.dirty;\n        $$.dirty = [-1];\n        $$.fragment && $$.fragment.p($$.ctx, dirty);\n        $$.after_update.forEach(add_render_callback);\n    }\n}\n/**\n * Useful for example to execute remaining `afterUpdate` callbacks before executing `destroy`.\n */\nfunction flush_render_callbacks(fns) {\n    const filtered = [];\n    const targets = [];\n    render_callbacks.forEach((c) => fns.indexOf(c) === -1 ? filtered.push(c) : targets.push(c));\n    targets.forEach((c) => c());\n    render_callbacks = filtered;\n}\n\nlet promise;\nfunction wait() {\n    if (!promise) {\n        promise = Promise.resolve();\n        promise.then(() => {\n            promise = null;\n        });\n    }\n    return promise;\n}\nfunction dispatch(node, direction, kind) {\n    node.dispatchEvent(custom_event(`${direction ? 'intro' : 'outro'}${kind}`));\n}\nconst outroing = new Set();\nlet outros;\nfunction group_outros() {\n    outros = {\n        r: 0,\n        c: [],\n        p: outros // parent group\n    };\n}\nfunction check_outros() {\n    if (!outros.r) {\n        run_all(outros.c);\n    }\n    outros = outros.p;\n}\nfunction transition_in(block, local) {\n    if (block && block.i) {\n        outroing.delete(block);\n        block.i(local);\n    }\n}\nfunction transition_out(block, local, detach, callback) {\n    if (block && block.o) {\n        if (outroing.has(block))\n            return;\n        outroing.add(block);\n        outros.c.push(() => {\n            outroing.delete(block);\n            if (callback) {\n                if (detach)\n                    block.d(1);\n                callback();\n            }\n        });\n        block.o(local);\n    }\n    else if (callback) {\n        callback();\n    }\n}\nconst null_transition = { duration: 0 };\nfunction create_in_transition(node, fn, params) {\n    const options = { direction: 'in' };\n    let config = fn(node, params, options);\n    let running = false;\n    let animation_name;\n    let task;\n    let uid = 0;\n    function cleanup() {\n        if (animation_name)\n            delete_rule(node, animation_name);\n    }\n    function go() {\n        const { delay = 0, duration = 300, easing = identity, tick = noop, css } = config || null_transition;\n        if (css)\n            animation_name = create_rule(node, 0, 1, duration, delay, easing, css, uid++);\n        tick(0, 1);\n        const start_time = now() + delay;\n        const end_time = start_time + duration;\n        if (task)\n            task.abort();\n        running = true;\n        add_render_callback(() => dispatch(node, true, 'start'));\n        task = loop(now => {\n            if (running) {\n                if (now >= end_time) {\n                    tick(1, 0);\n                    dispatch(node, true, 'end');\n                    cleanup();\n                    return running = false;\n                }\n                if (now >= start_time) {\n                    const t = easing((now - start_time) / duration);\n                    tick(t, 1 - t);\n                }\n            }\n            return running;\n        });\n    }\n    let started = false;\n    return {\n        start() {\n            if (started)\n                return;\n            started = true;\n            delete_rule(node);\n            if (is_function(config)) {\n                config = config(options);\n                wait().then(go);\n            }\n            else {\n                go();\n            }\n        },\n        invalidate() {\n            started = false;\n        },\n        end() {\n            if (running) {\n                cleanup();\n                running = false;\n            }\n        }\n    };\n}\nfunction create_out_transition(node, fn, params) {\n    const options = { direction: 'out' };\n    let config = fn(node, params, options);\n    let running = true;\n    let animation_name;\n    const group = outros;\n    group.r += 1;\n    function go() {\n        const { delay = 0, duration = 300, easing = identity, tick = noop, css } = config || null_transition;\n        if (css)\n            animation_name = create_rule(node, 1, 0, duration, delay, easing, css);\n        const start_time = now() + delay;\n        const end_time = start_time + duration;\n        add_render_callback(() => dispatch(node, false, 'start'));\n        loop(now => {\n            if (running) {\n                if (now >= end_time) {\n                    tick(0, 1);\n                    dispatch(node, false, 'end');\n                    if (!--group.r) {\n                        // this will result in `end()` being called,\n                        // so we don't need to clean up here\n                        run_all(group.c);\n                    }\n                    return false;\n                }\n                if (now >= start_time) {\n                    const t = easing((now - start_time) / duration);\n                    tick(1 - t, t);\n                }\n            }\n            return running;\n        });\n    }\n    if (is_function(config)) {\n        wait().then(() => {\n            // @ts-ignore\n            config = config(options);\n            go();\n        });\n    }\n    else {\n        go();\n    }\n    return {\n        end(reset) {\n            if (reset && config.tick) {\n                config.tick(1, 0);\n            }\n            if (running) {\n                if (animation_name)\n                    delete_rule(node, animation_name);\n                running = false;\n            }\n        }\n    };\n}\nfunction create_bidirectional_transition(node, fn, params, intro) {\n    const options = { direction: 'both' };\n    let config = fn(node, params, options);\n    let t = intro ? 0 : 1;\n    let running_program = null;\n    let pending_program = null;\n    let animation_name = null;\n    function clear_animation() {\n        if (animation_name)\n            delete_rule(node, animation_name);\n    }\n    function init(program, duration) {\n        const d = (program.b - t);\n        duration *= Math.abs(d);\n        return {\n            a: t,\n            b: program.b,\n            d,\n            duration,\n            start: program.start,\n            end: program.start + duration,\n            group: program.group\n        };\n    }\n    function go(b) {\n        const { delay = 0, duration = 300, easing = identity, tick = noop, css } = config || null_transition;\n        const program = {\n            start: now() + delay,\n            b\n        };\n        if (!b) {\n            // @ts-ignore todo: improve typings\n            program.group = outros;\n            outros.r += 1;\n        }\n        if (running_program || pending_program) {\n            pending_program = program;\n        }\n        else {\n            // if this is an intro, and there's a delay, we need to do\n            // an initial tick and/or apply CSS animation immediately\n            if (css) {\n                clear_animation();\n                animation_name = create_rule(node, t, b, duration, delay, easing, css);\n            }\n            if (b)\n                tick(0, 1);\n            running_program = init(program, duration);\n            add_render_callback(() => dispatch(node, b, 'start'));\n            loop(now => {\n                if (pending_program && now > pending_program.start) {\n                    running_program = init(pending_program, duration);\n                    pending_program = null;\n                    dispatch(node, running_program.b, 'start');\n                    if (css) {\n                        clear_animation();\n                        animation_name = create_rule(node, t, running_program.b, running_program.duration, 0, easing, config.css);\n                    }\n                }\n                if (running_program) {\n                    if (now >= running_program.end) {\n                        tick(t = running_program.b, 1 - t);\n                        dispatch(node, running_program.b, 'end');\n                        if (!pending_program) {\n                            // we're done\n                            if (running_program.b) {\n                                // intro — we can tidy up immediately\n                                clear_animation();\n                            }\n                            else {\n                                // outro — needs to be coordinated\n                                if (!--running_program.group.r)\n                                    run_all(running_program.group.c);\n                            }\n                        }\n                        running_program = null;\n                    }\n                    else if (now >= running_program.start) {\n                        const p = now - running_program.start;\n                        t = running_program.a + running_program.d * easing(p / running_program.duration);\n                        tick(t, 1 - t);\n                    }\n                }\n                return !!(running_program || pending_program);\n            });\n        }\n    }\n    return {\n        run(b) {\n            if (is_function(config)) {\n                wait().then(() => {\n                    // @ts-ignore\n                    config = config(options);\n                    go(b);\n                });\n            }\n            else {\n                go(b);\n            }\n        },\n        end() {\n            clear_animation();\n            running_program = pending_program = null;\n        }\n    };\n}\n\nfunction handle_promise(promise, info) {\n    const token = info.token = {};\n    function update(type, index, key, value) {\n        if (info.token !== token)\n            return;\n        info.resolved = value;\n        let child_ctx = info.ctx;\n        if (key !== undefined) {\n            child_ctx = child_ctx.slice();\n            child_ctx[key] = value;\n        }\n        const block = type && (info.current = type)(child_ctx);\n        let needs_flush = false;\n        if (info.block) {\n            if (info.blocks) {\n                info.blocks.forEach((block, i) => {\n                    if (i !== index && block) {\n                        group_outros();\n                        transition_out(block, 1, 1, () => {\n                            if (info.blocks[i] === block) {\n                                info.blocks[i] = null;\n                            }\n                        });\n                        check_outros();\n                    }\n                });\n            }\n            else {\n                info.block.d(1);\n            }\n            block.c();\n            transition_in(block, 1);\n            block.m(info.mount(), info.anchor);\n            needs_flush = true;\n        }\n        info.block = block;\n        if (info.blocks)\n            info.blocks[index] = block;\n        if (needs_flush) {\n            flush();\n        }\n    }\n    if (is_promise(promise)) {\n        const current_component = get_current_component();\n        promise.then(value => {\n            set_current_component(current_component);\n            update(info.then, 1, info.value, value);\n            set_current_component(null);\n        }, error => {\n            set_current_component(current_component);\n            update(info.catch, 2, info.error, error);\n            set_current_component(null);\n            if (!info.hasCatch) {\n                throw error;\n            }\n        });\n        // if we previously had a then/catch block, destroy it\n        if (info.current !== info.pending) {\n            update(info.pending, 0);\n            return true;\n        }\n    }\n    else {\n        if (info.current !== info.then) {\n            update(info.then, 1, info.value, promise);\n            return true;\n        }\n        info.resolved = promise;\n    }\n}\nfunction update_await_block_branch(info, ctx, dirty) {\n    const child_ctx = ctx.slice();\n    const { resolved } = info;\n    if (info.current === info.then) {\n        child_ctx[info.value] = resolved;\n    }\n    if (info.current === info.catch) {\n        child_ctx[info.error] = resolved;\n    }\n    info.block.p(child_ctx, dirty);\n}\n\nfunction destroy_block(block, lookup) {\n    block.d(1);\n    lookup.delete(block.key);\n}\nfunction outro_and_destroy_block(block, lookup) {\n    transition_out(block, 1, 1, () => {\n        lookup.delete(block.key);\n    });\n}\nfunction fix_and_destroy_block(block, lookup) {\n    block.f();\n    destroy_block(block, lookup);\n}\nfunction fix_and_outro_and_destroy_block(block, lookup) {\n    block.f();\n    outro_and_destroy_block(block, lookup);\n}\nfunction update_keyed_each(old_blocks, dirty, get_key, dynamic, ctx, list, lookup, node, destroy, create_each_block, next, get_context) {\n    let o = old_blocks.length;\n    let n = list.length;\n    let i = o;\n    const old_indexes = {};\n    while (i--)\n        old_indexes[old_blocks[i].key] = i;\n    const new_blocks = [];\n    const new_lookup = new Map();\n    const deltas = new Map();\n    const updates = [];\n    i = n;\n    while (i--) {\n        const child_ctx = get_context(ctx, list, i);\n        const key = get_key(child_ctx);\n        let block = lookup.get(key);\n        if (!block) {\n            block = create_each_block(key, child_ctx);\n            block.c();\n        }\n        else if (dynamic) {\n            // defer updates until all the DOM shuffling is done\n            updates.push(() => block.p(child_ctx, dirty));\n        }\n        new_lookup.set(key, new_blocks[i] = block);\n        if (key in old_indexes)\n            deltas.set(key, Math.abs(i - old_indexes[key]));\n    }\n    const will_move = new Set();\n    const did_move = new Set();\n    function insert(block) {\n        transition_in(block, 1);\n        block.m(node, next);\n        lookup.set(block.key, block);\n        next = block.first;\n        n--;\n    }\n    while (o && n) {\n        const new_block = new_blocks[n - 1];\n        const old_block = old_blocks[o - 1];\n        const new_key = new_block.key;\n        const old_key = old_block.key;\n        if (new_block === old_block) {\n            // do nothing\n            next = new_block.first;\n            o--;\n            n--;\n        }\n        else if (!new_lookup.has(old_key)) {\n            // remove old block\n            destroy(old_block, lookup);\n            o--;\n        }\n        else if (!lookup.has(new_key) || will_move.has(new_key)) {\n            insert(new_block);\n        }\n        else if (did_move.has(old_key)) {\n            o--;\n        }\n        else if (deltas.get(new_key) > deltas.get(old_key)) {\n            did_move.add(new_key);\n            insert(new_block);\n        }\n        else {\n            will_move.add(old_key);\n            o--;\n        }\n    }\n    while (o--) {\n        const old_block = old_blocks[o];\n        if (!new_lookup.has(old_block.key))\n            destroy(old_block, lookup);\n    }\n    while (n)\n        insert(new_blocks[n - 1]);\n    run_all(updates);\n    return new_blocks;\n}\nfunction validate_each_keys(ctx, list, get_context, get_key) {\n    const keys = new Set();\n    for (let i = 0; i < list.length; i++) {\n        const key = get_key(get_context(ctx, list, i));\n        if (keys.has(key)) {\n            throw new Error('Cannot have duplicate keys in a keyed each');\n        }\n        keys.add(key);\n    }\n}\n\nfunction get_spread_update(levels, updates) {\n    const update = {};\n    const to_null_out = {};\n    const accounted_for = { $$scope: 1 };\n    let i = levels.length;\n    while (i--) {\n        const o = levels[i];\n        const n = updates[i];\n        if (n) {\n            for (const key in o) {\n                if (!(key in n))\n                    to_null_out[key] = 1;\n            }\n            for (const key in n) {\n                if (!accounted_for[key]) {\n                    update[key] = n[key];\n                    accounted_for[key] = 1;\n                }\n            }\n            levels[i] = n;\n        }\n        else {\n            for (const key in o) {\n                accounted_for[key] = 1;\n            }\n        }\n    }\n    for (const key in to_null_out) {\n        if (!(key in update))\n            update[key] = undefined;\n    }\n    return update;\n}\nfunction get_spread_object(spread_props) {\n    return typeof spread_props === 'object' && spread_props !== null ? spread_props : {};\n}\n\nconst _boolean_attributes = [\n    'allowfullscreen',\n    'allowpaymentrequest',\n    'async',\n    'autofocus',\n    'autoplay',\n    'checked',\n    'controls',\n    'default',\n    'defer',\n    'disabled',\n    'formnovalidate',\n    'hidden',\n    'inert',\n    'ismap',\n    'loop',\n    'multiple',\n    'muted',\n    'nomodule',\n    'novalidate',\n    'open',\n    'playsinline',\n    'readonly',\n    'required',\n    'reversed',\n    'selected'\n];\n/**\n * List of HTML boolean attributes (e.g. `<input disabled>`).\n * Source: https://html.spec.whatwg.org/multipage/indices.html\n */\nconst boolean_attributes = new Set([..._boolean_attributes]);\n\n/** regex of all html void element names */\nconst void_element_names = /^(?:area|base|br|col|command|embed|hr|img|input|keygen|link|meta|param|source|track|wbr)$/;\nfunction is_void(name) {\n    return void_element_names.test(name) || name.toLowerCase() === '!doctype';\n}\n\nconst invalid_attribute_name_character = /[\\s'\">/=\\u{FDD0}-\\u{FDEF}\\u{FFFE}\\u{FFFF}\\u{1FFFE}\\u{1FFFF}\\u{2FFFE}\\u{2FFFF}\\u{3FFFE}\\u{3FFFF}\\u{4FFFE}\\u{4FFFF}\\u{5FFFE}\\u{5FFFF}\\u{6FFFE}\\u{6FFFF}\\u{7FFFE}\\u{7FFFF}\\u{8FFFE}\\u{8FFFF}\\u{9FFFE}\\u{9FFFF}\\u{AFFFE}\\u{AFFFF}\\u{BFFFE}\\u{BFFFF}\\u{CFFFE}\\u{CFFFF}\\u{DFFFE}\\u{DFFFF}\\u{EFFFE}\\u{EFFFF}\\u{FFFFE}\\u{FFFFF}\\u{10FFFE}\\u{10FFFF}]/u;\n// https://html.spec.whatwg.org/multipage/syntax.html#attributes-2\n// https://infra.spec.whatwg.org/#noncharacter\nfunction spread(args, attrs_to_add) {\n    const attributes = Object.assign({}, ...args);\n    if (attrs_to_add) {\n        const classes_to_add = attrs_to_add.classes;\n        const styles_to_add = attrs_to_add.styles;\n        if (classes_to_add) {\n            if (attributes.class == null) {\n                attributes.class = classes_to_add;\n            }\n            else {\n                attributes.class += ' ' + classes_to_add;\n            }\n        }\n        if (styles_to_add) {\n            if (attributes.style == null) {\n                attributes.style = style_object_to_string(styles_to_add);\n            }\n            else {\n                attributes.style = style_object_to_string(merge_ssr_styles(attributes.style, styles_to_add));\n            }\n        }\n    }\n    let str = '';\n    Object.keys(attributes).forEach(name => {\n        if (invalid_attribute_name_character.test(name))\n            return;\n        const value = attributes[name];\n        if (value === true)\n            str += ' ' + name;\n        else if (boolean_attributes.has(name.toLowerCase())) {\n            if (value)\n                str += ' ' + name;\n        }\n        else if (value != null) {\n            str += ` ${name}=\"${value}\"`;\n        }\n    });\n    return str;\n}\nfunction merge_ssr_styles(style_attribute, style_directive) {\n    const style_object = {};\n    for (const individual_style of style_attribute.split(';')) {\n        const colon_index = individual_style.indexOf(':');\n        const name = individual_style.slice(0, colon_index).trim();\n        const value = individual_style.slice(colon_index + 1).trim();\n        if (!name)\n            continue;\n        style_object[name] = value;\n    }\n    for (const name in style_directive) {\n        const value = style_directive[name];\n        if (value) {\n            style_object[name] = value;\n        }\n        else {\n            delete style_object[name];\n        }\n    }\n    return style_object;\n}\nconst ATTR_REGEX = /[&\"]/g;\nconst CONTENT_REGEX = /[&<]/g;\n/**\n * Note: this method is performance sensitive and has been optimized\n * https://github.com/sveltejs/svelte/pull/5701\n */\nfunction escape(value, is_attr = false) {\n    const str = String(value);\n    const pattern = is_attr ? ATTR_REGEX : CONTENT_REGEX;\n    pattern.lastIndex = 0;\n    let escaped = '';\n    let last = 0;\n    while (pattern.test(str)) {\n        const i = pattern.lastIndex - 1;\n        const ch = str[i];\n        escaped += str.substring(last, i) + (ch === '&' ? '&amp;' : (ch === '\"' ? '&quot;' : '&lt;'));\n        last = i + 1;\n    }\n    return escaped + str.substring(last);\n}\nfunction escape_attribute_value(value) {\n    // keep booleans, null, and undefined for the sake of `spread`\n    const should_escape = typeof value === 'string' || (value && typeof value === 'object');\n    return should_escape ? escape(value, true) : value;\n}\nfunction escape_object(obj) {\n    const result = {};\n    for (const key in obj) {\n        result[key] = escape_attribute_value(obj[key]);\n    }\n    return result;\n}\nfunction each(items, fn) {\n    let str = '';\n    for (let i = 0; i < items.length; i += 1) {\n        str += fn(items[i], i);\n    }\n    return str;\n}\nconst missing_component = {\n    $$render: () => ''\n};\nfunction validate_component(component, name) {\n    if (!component || !component.$$render) {\n        if (name === 'svelte:component')\n            name += ' this={...}';\n        throw new Error(`<${name}> is not a valid SSR component. You may need to review your build config to ensure that dependencies are compiled, rather than imported as pre-compiled modules. Otherwise you may need to fix a <${name}>.`);\n    }\n    return component;\n}\nfunction debug(file, line, column, values) {\n    console.log(`{@debug} ${file ? file + ' ' : ''}(${line}:${column})`); // eslint-disable-line no-console\n    console.log(values); // eslint-disable-line no-console\n    return '';\n}\nlet on_destroy;\nfunction create_ssr_component(fn) {\n    function $$render(result, props, bindings, slots, context) {\n        const parent_component = current_component;\n        const $$ = {\n            on_destroy,\n            context: new Map(context || (parent_component ? parent_component.$$.context : [])),\n            // these will be immediately discarded\n            on_mount: [],\n            before_update: [],\n            after_update: [],\n            callbacks: blank_object()\n        };\n        set_current_component({ $$ });\n        const html = fn(result, props, bindings, slots);\n        set_current_component(parent_component);\n        return html;\n    }\n    return {\n        render: (props = {}, { $$slots = {}, context = new Map() } = {}) => {\n            on_destroy = [];\n            const result = { title: '', head: '', css: new Set() };\n            const html = $$render(result, props, {}, $$slots, context);\n            run_all(on_destroy);\n            return {\n                html,\n                css: {\n                    code: Array.from(result.css).map(css => css.code).join('\\n'),\n                    map: null // TODO\n                },\n                head: result.title + result.head\n            };\n        },\n        $$render\n    };\n}\nfunction add_attribute(name, value, boolean) {\n    if (value == null || (boolean && !value))\n        return '';\n    const assignment = (boolean && value === true) ? '' : `=\"${escape(value, true)}\"`;\n    return ` ${name}${assignment}`;\n}\nfunction add_classes(classes) {\n    return classes ? ` class=\"${classes}\"` : '';\n}\nfunction style_object_to_string(style_object) {\n    return Object.keys(style_object)\n        .filter(key => style_object[key])\n        .map(key => `${key}: ${escape_attribute_value(style_object[key])};`)\n        .join(' ');\n}\nfunction add_styles(style_object) {\n    const styles = style_object_to_string(style_object);\n    return styles ? ` style=\"${styles}\"` : '';\n}\n\nfunction bind(component, name, callback) {\n    const index = component.$$.props[name];\n    if (index !== undefined) {\n        component.$$.bound[index] = callback;\n        callback(component.$$.ctx[index]);\n    }\n}\nfunction create_component(block) {\n    block && block.c();\n}\nfunction claim_component(block, parent_nodes) {\n    block && block.l(parent_nodes);\n}\nfunction mount_component(component, target, anchor, customElement) {\n    const { fragment, after_update } = component.$$;\n    fragment && fragment.m(target, anchor);\n    if (!customElement) {\n        // onMount happens before the initial afterUpdate\n        add_render_callback(() => {\n            const new_on_destroy = component.$$.on_mount.map(run).filter(is_function);\n            // if the component was destroyed immediately\n            // it will update the `$$.on_destroy` reference to `null`.\n            // the destructured on_destroy may still reference to the old array\n            if (component.$$.on_destroy) {\n                component.$$.on_destroy.push(...new_on_destroy);\n            }\n            else {\n                // Edge case - component was destroyed immediately,\n                // most likely as a result of a binding initialising\n                run_all(new_on_destroy);\n            }\n            component.$$.on_mount = [];\n        });\n    }\n    after_update.forEach(add_render_callback);\n}\nfunction destroy_component(component, detaching) {\n    const $$ = component.$$;\n    if ($$.fragment !== null) {\n        flush_render_callbacks($$.after_update);\n        run_all($$.on_destroy);\n        $$.fragment && $$.fragment.d(detaching);\n        // TODO null out other refs, including component.$$ (but need to\n        // preserve final state?)\n        $$.on_destroy = $$.fragment = null;\n        $$.ctx = [];\n    }\n}\nfunction make_dirty(component, i) {\n    if (component.$$.dirty[0] === -1) {\n        dirty_components.push(component);\n        schedule_update();\n        component.$$.dirty.fill(0);\n    }\n    component.$$.dirty[(i / 31) | 0] |= (1 << (i % 31));\n}\nfunction init(component, options, instance, create_fragment, not_equal, props, append_styles, dirty = [-1]) {\n    const parent_component = current_component;\n    set_current_component(component);\n    const $$ = component.$$ = {\n        fragment: null,\n        ctx: [],\n        // state\n        props,\n        update: noop,\n        not_equal,\n        bound: blank_object(),\n        // lifecycle\n        on_mount: [],\n        on_destroy: [],\n        on_disconnect: [],\n        before_update: [],\n        after_update: [],\n        context: new Map(options.context || (parent_component ? parent_component.$$.context : [])),\n        // everything else\n        callbacks: blank_object(),\n        dirty,\n        skip_bound: false,\n        root: options.target || parent_component.$$.root\n    };\n    append_styles && append_styles($$.root);\n    let ready = false;\n    $$.ctx = instance\n        ? instance(component, options.props || {}, (i, ret, ...rest) => {\n            const value = rest.length ? rest[0] : ret;\n            if ($$.ctx && not_equal($$.ctx[i], $$.ctx[i] = value)) {\n                if (!$$.skip_bound && $$.bound[i])\n                    $$.bound[i](value);\n                if (ready)\n                    make_dirty(component, i);\n            }\n            return ret;\n        })\n        : [];\n    $$.update();\n    ready = true;\n    run_all($$.before_update);\n    // `false` as a special case of no DOM component\n    $$.fragment = create_fragment ? create_fragment($$.ctx) : false;\n    if (options.target) {\n        if (options.hydrate) {\n            start_hydrating();\n            const nodes = children(options.target);\n            // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n            $$.fragment && $$.fragment.l(nodes);\n            nodes.forEach(detach);\n        }\n        else {\n            // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n            $$.fragment && $$.fragment.c();\n        }\n        if (options.intro)\n            transition_in(component.$$.fragment);\n        mount_component(component, options.target, options.anchor, options.customElement);\n        end_hydrating();\n        flush();\n    }\n    set_current_component(parent_component);\n}\nlet SvelteElement;\nif (typeof HTMLElement === 'function') {\n    SvelteElement = class extends HTMLElement {\n        constructor() {\n            super();\n            this.attachShadow({ mode: 'open' });\n        }\n        connectedCallback() {\n            const { on_mount } = this.$$;\n            this.$$.on_disconnect = on_mount.map(run).filter(is_function);\n            // @ts-ignore todo: improve typings\n            for (const key in this.$$.slotted) {\n                // @ts-ignore todo: improve typings\n                this.appendChild(this.$$.slotted[key]);\n            }\n        }\n        attributeChangedCallback(attr, _oldValue, newValue) {\n            this[attr] = newValue;\n        }\n        disconnectedCallback() {\n            run_all(this.$$.on_disconnect);\n        }\n        $destroy() {\n            destroy_component(this, 1);\n            this.$destroy = noop;\n        }\n        $on(type, callback) {\n            // TODO should this delegate to addEventListener?\n            if (!is_function(callback)) {\n                return noop;\n            }\n            const callbacks = (this.$$.callbacks[type] || (this.$$.callbacks[type] = []));\n            callbacks.push(callback);\n            return () => {\n                const index = callbacks.indexOf(callback);\n                if (index !== -1)\n                    callbacks.splice(index, 1);\n            };\n        }\n        $set($$props) {\n            if (this.$$set && !is_empty($$props)) {\n                this.$$.skip_bound = true;\n                this.$$set($$props);\n                this.$$.skip_bound = false;\n            }\n        }\n    };\n}\n/**\n * Base class for Svelte components. Used when dev=false.\n */\nclass SvelteComponent {\n    $destroy() {\n        destroy_component(this, 1);\n        this.$destroy = noop;\n    }\n    $on(type, callback) {\n        if (!is_function(callback)) {\n            return noop;\n        }\n        const callbacks = (this.$$.callbacks[type] || (this.$$.callbacks[type] = []));\n        callbacks.push(callback);\n        return () => {\n            const index = callbacks.indexOf(callback);\n            if (index !== -1)\n                callbacks.splice(index, 1);\n        };\n    }\n    $set($$props) {\n        if (this.$$set && !is_empty($$props)) {\n            this.$$.skip_bound = true;\n            this.$$set($$props);\n            this.$$.skip_bound = false;\n        }\n    }\n}\n\nfunction dispatch_dev(type, detail) {\n    document.dispatchEvent(custom_event(type, Object.assign({ version: '3.59.2' }, detail), { bubbles: true }));\n}\nfunction append_dev(target, node) {\n    dispatch_dev('SvelteDOMInsert', { target, node });\n    append(target, node);\n}\nfunction append_hydration_dev(target, node) {\n    dispatch_dev('SvelteDOMInsert', { target, node });\n    append_hydration(target, node);\n}\nfunction insert_dev(target, node, anchor) {\n    dispatch_dev('SvelteDOMInsert', { target, node, anchor });\n    insert(target, node, anchor);\n}\nfunction insert_hydration_dev(target, node, anchor) {\n    dispatch_dev('SvelteDOMInsert', { target, node, anchor });\n    insert_hydration(target, node, anchor);\n}\nfunction detach_dev(node) {\n    dispatch_dev('SvelteDOMRemove', { node });\n    detach(node);\n}\nfunction detach_between_dev(before, after) {\n    while (before.nextSibling && before.nextSibling !== after) {\n        detach_dev(before.nextSibling);\n    }\n}\nfunction detach_before_dev(after) {\n    while (after.previousSibling) {\n        detach_dev(after.previousSibling);\n    }\n}\nfunction detach_after_dev(before) {\n    while (before.nextSibling) {\n        detach_dev(before.nextSibling);\n    }\n}\nfunction listen_dev(node, event, handler, options, has_prevent_default, has_stop_propagation, has_stop_immediate_propagation) {\n    const modifiers = options === true ? ['capture'] : options ? Array.from(Object.keys(options)) : [];\n    if (has_prevent_default)\n        modifiers.push('preventDefault');\n    if (has_stop_propagation)\n        modifiers.push('stopPropagation');\n    if (has_stop_immediate_propagation)\n        modifiers.push('stopImmediatePropagation');\n    dispatch_dev('SvelteDOMAddEventListener', { node, event, handler, modifiers });\n    const dispose = listen(node, event, handler, options);\n    return () => {\n        dispatch_dev('SvelteDOMRemoveEventListener', { node, event, handler, modifiers });\n        dispose();\n    };\n}\nfunction attr_dev(node, attribute, value) {\n    attr(node, attribute, value);\n    if (value == null)\n        dispatch_dev('SvelteDOMRemoveAttribute', { node, attribute });\n    else\n        dispatch_dev('SvelteDOMSetAttribute', { node, attribute, value });\n}\nfunction prop_dev(node, property, value) {\n    node[property] = value;\n    dispatch_dev('SvelteDOMSetProperty', { node, property, value });\n}\nfunction dataset_dev(node, property, value) {\n    node.dataset[property] = value;\n    dispatch_dev('SvelteDOMSetDataset', { node, property, value });\n}\nfunction set_data_dev(text, data) {\n    data = '' + data;\n    if (text.data === data)\n        return;\n    dispatch_dev('SvelteDOMSetData', { node: text, data });\n    text.data = data;\n}\nfunction set_data_contenteditable_dev(text, data) {\n    data = '' + data;\n    if (text.wholeText === data)\n        return;\n    dispatch_dev('SvelteDOMSetData', { node: text, data });\n    text.data = data;\n}\nfunction set_data_maybe_contenteditable_dev(text, data, attr_value) {\n    if (~contenteditable_truthy_values.indexOf(attr_value)) {\n        set_data_contenteditable_dev(text, data);\n    }\n    else {\n        set_data_dev(text, data);\n    }\n}\nfunction validate_each_argument(arg) {\n    if (typeof arg !== 'string' && !(arg && typeof arg === 'object' && 'length' in arg)) {\n        let msg = '{#each} only iterates over array-like objects.';\n        if (typeof Symbol === 'function' && arg && Symbol.iterator in arg) {\n            msg += ' You can use a spread to convert this iterable into an array.';\n        }\n        throw new Error(msg);\n    }\n}\nfunction validate_slots(name, slot, keys) {\n    for (const slot_key of Object.keys(slot)) {\n        if (!~keys.indexOf(slot_key)) {\n            console.warn(`<${name}> received an unexpected slot \"${slot_key}\".`);\n        }\n    }\n}\nfunction validate_dynamic_element(tag) {\n    const is_string = typeof tag === 'string';\n    if (tag && !is_string) {\n        throw new Error('<svelte:element> expects \"this\" attribute to be a string.');\n    }\n}\nfunction validate_void_dynamic_element(tag) {\n    if (tag && is_void(tag)) {\n        console.warn(`<svelte:element this=\"${tag}\"> is self-closing and cannot have content.`);\n    }\n}\nfunction construct_svelte_component_dev(component, props) {\n    const error_message = 'this={...} of <svelte:component> should specify a Svelte component.';\n    try {\n        const instance = new component(props);\n        if (!instance.$$ || !instance.$set || !instance.$on || !instance.$destroy) {\n            throw new Error(error_message);\n        }\n        return instance;\n    }\n    catch (err) {\n        const { message } = err;\n        if (typeof message === 'string' && message.indexOf('is not a constructor') !== -1) {\n            throw new Error(error_message);\n        }\n        else {\n            throw err;\n        }\n    }\n}\n/**\n * Base class for Svelte components with some minor dev-enhancements. Used when dev=true.\n */\nclass SvelteComponentDev extends SvelteComponent {\n    constructor(options) {\n        if (!options || (!options.target && !options.$$inline)) {\n            throw new Error(\"'target' is a required option\");\n        }\n        super();\n    }\n    $destroy() {\n        super.$destroy();\n        this.$destroy = () => {\n            console.warn('Component was already destroyed'); // eslint-disable-line no-console\n        };\n    }\n    $capture_state() { }\n    $inject_state() { }\n}\n/**\n * Base class to create strongly typed Svelte components.\n * This only exists for typing purposes and should be used in `.d.ts` files.\n *\n * ### Example:\n *\n * You have component library on npm called `component-library`, from which\n * you export a component called `MyComponent`. For Svelte+TypeScript users,\n * you want to provide typings. Therefore you create a `index.d.ts`:\n * ```ts\n * import { SvelteComponentTyped } from \"svelte\";\n * export class MyComponent extends SvelteComponentTyped<{foo: string}> {}\n * ```\n * Typing this makes it possible for IDEs like VS Code with the Svelte extension\n * to provide intellisense and to use the component like this in a Svelte file\n * with TypeScript:\n * ```svelte\n * <script lang=\"ts\">\n * \timport { MyComponent } from \"component-library\";\n * </script>\n * <MyComponent foo={'bar'} />\n * ```\n *\n * #### Why not make this part of `SvelteComponent(Dev)`?\n * Because\n * ```ts\n * class ASubclassOfSvelteComponent extends SvelteComponent<{foo: string}> {}\n * const component: typeof SvelteComponent = ASubclassOfSvelteComponent;\n * ```\n * will throw a type error, so we need to separate the more strictly typed class.\n */\nclass SvelteComponentTyped extends SvelteComponentDev {\n    constructor(options) {\n        super(options);\n    }\n}\nfunction loop_guard(timeout) {\n    const start = Date.now();\n    return () => {\n        if (Date.now() - start > timeout) {\n            throw new Error('Infinite loop detected');\n        }\n    };\n}\n\nexport { HtmlTag, HtmlTagHydration, ResizeObserverSingleton, SvelteComponent, SvelteComponentDev, SvelteComponentTyped, SvelteElement, action_destroyer, add_attribute, add_classes, add_flush_callback, add_iframe_resize_listener, add_location, add_render_callback, add_styles, add_transform, afterUpdate, append, append_dev, append_empty_stylesheet, append_hydration, append_hydration_dev, append_styles, assign, attr, attr_dev, attribute_to_object, beforeUpdate, bind, binding_callbacks, blank_object, bubble, check_outros, children, claim_comment, claim_component, claim_element, claim_html_tag, claim_space, claim_svg_element, claim_text, clear_loops, comment, component_subscribe, compute_rest_props, compute_slots, construct_svelte_component, construct_svelte_component_dev, contenteditable_truthy_values, createEventDispatcher, create_animation, create_bidirectional_transition, create_component, create_in_transition, create_out_transition, create_slot, create_ssr_component, current_component, custom_event, dataset_dev, debug, destroy_block, destroy_component, destroy_each, detach, detach_after_dev, detach_before_dev, detach_between_dev, detach_dev, dirty_components, dispatch_dev, each, element, element_is, empty, end_hydrating, escape, escape_attribute_value, escape_object, exclude_internal_props, fix_and_destroy_block, fix_and_outro_and_destroy_block, fix_position, flush, flush_render_callbacks, getAllContexts, getContext, get_all_dirty_from_scope, get_binding_group_value, get_current_component, get_custom_elements_slots, get_root_for_style, get_slot_changes, get_spread_object, get_spread_update, get_store_value, globals, group_outros, handle_promise, hasContext, has_prop, head_selector, identity, init, init_binding_group, init_binding_group_dynamic, insert, insert_dev, insert_hydration, insert_hydration_dev, intros, invalid_attribute_name_character, is_client, is_crossorigin, is_empty, is_function, is_promise, is_void, listen, listen_dev, loop, loop_guard, merge_ssr_styles, missing_component, mount_component, noop, not_equal, now, null_to_empty, object_without_properties, onDestroy, onMount, once, outro_and_destroy_block, prevent_default, prop_dev, query_selector_all, raf, resize_observer_border_box, resize_observer_content_box, resize_observer_device_pixel_content_box, run, run_all, safe_not_equal, schedule_update, select_multiple_value, select_option, select_options, select_value, self, setContext, set_attributes, set_current_component, set_custom_element_data, set_custom_element_data_map, set_data, set_data_contenteditable, set_data_contenteditable_dev, set_data_dev, set_data_maybe_contenteditable, set_data_maybe_contenteditable_dev, set_dynamic_element_data, set_input_type, set_input_value, set_now, set_raf, set_store_value, set_style, set_svg_attributes, space, split_css_unit, spread, src_url_equal, start_hydrating, stop_immediate_propagation, stop_propagation, subscribe, svg_element, text, tick, time_ranges_to_array, to_number, toggle_class, transition_in, transition_out, trusted, update_await_block_branch, update_keyed_each, update_slot, update_slot_base, validate_component, validate_dynamic_element, validate_each_argument, validate_each_keys, validate_slots, validate_store, validate_void_dynamic_element, xlink_attr };\n","function add (a, b) {\n  return {\n    x: a.x + b.x,\n    y: a.y + b.y\n  }\n}\n\nfunction subtract (a, b) {\n  return {\n    x: a.x - b.x,\n    y: a.y - b.y\n  }\n}\n\nfunction scale (p, scale) {\n  return {\n    x: p.x * scale,\n    y: p.y * scale\n  }\n}\n\nfunction rotate (p, a, origin = { x: 0, y: 0 }) {\n  const dx = p.x - origin.x\n  const dy = p.y - origin.y\n  return {\n    x: origin.x + (dx * Math.cos(a)) - (dy * Math.sin(a)),\n    y: origin.y + (dy * Math.cos(a)) + (dx * Math.sin(a))\n  }\n}\n\nfunction direction (v) {\n  const a = Math.atan(v.x / v.y)\n  if (v.y > 0) return a + Math.PI\n  else return a\n}\n\nfunction length (v) {\n  return Math.sqrt((v.x * v.x) + (v.y * v.y))\n}\n\nexport default {\n  add,\n  subtract,\n  sub: subtract,\n  scale,\n  rotate,\n  direction,\n  length,\n  len: length\n}\n","export default class magneticLines {\n\n    rotatePoint(px, py, angle) {\n        const cosTheta = Math.cos(angle);\n        const sinTheta = Math.sin(angle);\n        return {\n          x: px * cosTheta - py * sinTheta,\n          y: px * sinTheta + py * cosTheta\n        };\n      }\n    calcMagneticLine(side, linePosition, lineOrientation, box) {\n          let lineCenter;\n          let theta_line;\n          let x_line;\n          let y_line;\n          let lineLength;\n          let extendLength = 500; // Extension length beyond the rectangle\n  \n          // Extract box properties\n          let x = box.x;\n          let y = box.y;\n          let width = box.width;\n          let height = box.height;\n          let theta = box.rotation;\n  \n          // Calculate the center of the rectangle\n          let x_center = x + width / 2;\n          let y_center = y + height / 2;\n  \n          if (linePosition === 'side') {\n              // Line along the side\n              if (side === 'top') {\n              lineCenter = this.rotatePoint(0, -height / 2, theta);\n              theta_line = theta;\n              lineLength = width + 2 * extendLength;\n              } else if (side === 'right') {\n              lineCenter = this.rotatePoint(width / 2, 0, theta);\n              theta_line = theta + Math.PI / 2;\n              lineLength = height + 2 * extendLength;\n              } else if (side === 'bottom') {\n              lineCenter = this.rotatePoint(0, height / 2, theta);\n              theta_line = theta + Math.PI;\n              lineLength = width + 2 * extendLength;\n              } else if (side === 'left') {\n              lineCenter = this.rotatePoint(-width / 2, 0, theta);\n              theta_line = theta - Math.PI / 2;\n              lineLength = height + 2 * extendLength;\n              }\n              // @ts-ignore\n              x_line = x_center + lineCenter.x;\n              // @ts-ignore\n              y_line = y_center + lineCenter.y;\n          } else if (linePosition === 'center') {\n              // Line through the center\n              x_line = x_center;\n              y_line = y_center;\n  \n              if (lineOrientation === 'horizontal') {\n              theta_line = theta; // Aligned with rectangle's top and bottom edges\n              } else if (lineOrientation === 'vertical') {\n              theta_line = theta + Math.PI / 2; // Aligned with rectangle's left and right edges\n              } else if (lineOrientation === 'aligned') {\n              theta_line = theta; // Same as 'horizontal' in this context\n              }\n              // Calculate length sufficient to cover rectangle\n              const diagonal = Math.hypot(width, height)\n              lineLength = diagonal + 2 * extendLength\n          }\n          return { x_line, y_line, lineLength, theta_line }\n      }\n  \n    /**\n     * Converts the normalized snapped position back to the original coordinates before normalization.\n     * Uses the shared center and sharedRotation from rotateBoxesToZero.\n     * \n     * @param {Object} normalizedSnappedPosition - The snapped position after normalization (x, y only)\n     * @param {Number} originalRotation - The rotation that was applied during normalization\n     * @returns {Object} - The transformed position with correct original x, y coordinates\n     */\n    rotatePositionBackToOriginal(normalizedSnappedPosition, originalRotation,) {\n        let centerX=this.centerX\n        let centerY=this.centerY\n        // Extract normalized position and dimensions\n        const snappedX = normalizedSnappedPosition.x;\n        const snappedY = normalizedSnappedPosition.y;\n        const width = normalizedSnappedPosition.width;\n        const height = normalizedSnappedPosition.height;\n\n        // Calculate the center of the box in normalized coordinates\n        const boxCenterX = snappedX + width / 2;\n        const boxCenterY = snappedY + height / 2;\n\n        // Rotate the center back by originalRotation around the centroid\n        // @ts-ignore\n        const rotatedCenterX = centerX + (boxCenterX - centerX) * Math.cos(originalRotation) - (boxCenterY - centerY) * Math.sin(originalRotation);\n        // @ts-ignore\n        const rotatedCenterY = centerY + (boxCenterX - centerX) * Math.sin(originalRotation) + (boxCenterY - centerY) * Math.cos(originalRotation);\n\n        // Calculate the new top-left position\n        const rotatedX = rotatedCenterX - width / 2;\n        const rotatedY = rotatedCenterY - height / 2;\n\n        // Return the original position after rotating back\n        return {\n            x: rotatedX,\n            y: rotatedY,\n            width: width,\n            height: height,\n            rotation: originalRotation\n        };\n    }\n\n\n    /**\n     * rotation of list of layers/boxes so that rotation is zero but arragement of all boxes remains same\n     * @param boxes\n     * @param sharedRotation\n     */\n     rotateBoxesToZero(boxes, sharedRotation) {\n        // Calculate the center point of the system, could be an average of all centers or a specific point.\n        let centerX = 0\n        let centerY = 0\n\n        boxes.forEach(box => {\n            centerX += box.x + box.width / 2\n            centerY += box.y + box.height / 2\n        });\n\n        centerX /= boxes.length\n        centerY /= boxes.length\n        this.centerX=centerX\n        this.centerY=centerY\n        // Rotate all boxes by the negative of the shared rotation\n        boxes.forEach(box => {\n            let boxCenterX = box.x + box.width / 2\n            let boxCenterY = box.y + box.height / 2\n\n            let newX = centerX + (boxCenterX - centerX) * Math.cos(-sharedRotation) - (boxCenterY - centerY) * Math.sin(-sharedRotation)\n            let newY = centerY + (boxCenterX - centerX) * Math.sin(-sharedRotation) + (boxCenterY - centerY) * Math.cos(-sharedRotation)\n\n            // Update the box position by adjusting for the new center point\n            box.x = newX - box.width / 2\n            box.y = newY - box.height / 2\n\n            // Set rotation to 0\n            box.rotation = 0\n        })\n\n        return boxes\n    }\n}","\"use strict\";\n\nvar numeric = (typeof exports === \"undefined\")?(function numeric() {}):(exports);\nif(typeof global !== \"undefined\") { global.numeric = numeric; }\n\nnumeric.version = \"1.2.6\";\n\n// 1. Utility functions\nnumeric.bench = function bench (f,interval) {\n    var t1,t2,n,i;\n    if(typeof interval === \"undefined\") { interval = 15; }\n    n = 0.5;\n    t1 = new Date();\n    while(1) {\n        n*=2;\n        for(i=n;i>3;i-=4) { f(); f(); f(); f(); }\n        while(i>0) { f(); i--; }\n        t2 = new Date();\n        if(t2-t1 > interval) break;\n    }\n    for(i=n;i>3;i-=4) { f(); f(); f(); f(); }\n    while(i>0) { f(); i--; }\n    t2 = new Date();\n    return 1000*(3*n-1)/(t2-t1);\n}\n\nnumeric._myIndexOf = (function _myIndexOf(w) {\n    var n = this.length,k;\n    for(k=0;k<n;++k) if(this[k]===w) return k;\n    return -1;\n});\nnumeric.myIndexOf = (Array.prototype.indexOf)?Array.prototype.indexOf:numeric._myIndexOf;\n\nnumeric.Function = Function;\nnumeric.precision = 4;\nnumeric.largeArray = 50;\n\nnumeric.prettyPrint = function prettyPrint(x) {\n    function fmtnum(x) {\n        if(x === 0) { return '0'; }\n        if(isNaN(x)) { return 'NaN'; }\n        if(x<0) { return '-'+fmtnum(-x); }\n        if(isFinite(x)) {\n            var scale = Math.floor(Math.log(x) / Math.log(10));\n            var normalized = x / Math.pow(10,scale);\n            var basic = normalized.toPrecision(numeric.precision);\n            if(parseFloat(basic) === 10) { scale++; normalized = 1; basic = normalized.toPrecision(numeric.precision); }\n            return parseFloat(basic).toString()+'e'+scale.toString();\n        }\n        return 'Infinity';\n    }\n    var ret = [];\n    function foo(x) {\n        var k;\n        if(typeof x === \"undefined\") { ret.push(Array(numeric.precision+8).join(' ')); return false; }\n        if(typeof x === \"string\") { ret.push('\"'+x+'\"'); return false; }\n        if(typeof x === \"boolean\") { ret.push(x.toString()); return false; }\n        if(typeof x === \"number\") {\n            var a = fmtnum(x);\n            var b = x.toPrecision(numeric.precision);\n            var c = parseFloat(x.toString()).toString();\n            var d = [a,b,c,parseFloat(b).toString(),parseFloat(c).toString()];\n            for(k=1;k<d.length;k++) { if(d[k].length < a.length) a = d[k]; }\n            ret.push(Array(numeric.precision+8-a.length).join(' ')+a);\n            return false;\n        }\n        if(x === null) { ret.push(\"null\"); return false; }\n        if(typeof x === \"function\") { \n            ret.push(x.toString());\n            var flag = false;\n            for(k in x) { if(x.hasOwnProperty(k)) { \n                if(flag) ret.push(',\\n');\n                else ret.push('\\n{');\n                flag = true; \n                ret.push(k); \n                ret.push(': \\n'); \n                foo(x[k]); \n            } }\n            if(flag) ret.push('}\\n');\n            return true;\n        }\n        if(x instanceof Array) {\n            if(x.length > numeric.largeArray) { ret.push('...Large Array...'); return true; }\n            var flag = false;\n            ret.push('[');\n            for(k=0;k<x.length;k++) { if(k>0) { ret.push(','); if(flag) ret.push('\\n '); } flag = foo(x[k]); }\n            ret.push(']');\n            return true;\n        }\n        ret.push('{');\n        var flag = false;\n        for(k in x) { if(x.hasOwnProperty(k)) { if(flag) ret.push(',\\n'); flag = true; ret.push(k); ret.push(': \\n'); foo(x[k]); } }\n        ret.push('}');\n        return true;\n    }\n    foo(x);\n    return ret.join('');\n}\n\nnumeric.parseDate = function parseDate(d) {\n    function foo(d) {\n        if(typeof d === 'string') { return Date.parse(d.replace(/-/g,'/')); }\n        if(!(d instanceof Array)) { throw new Error(\"parseDate: parameter must be arrays of strings\"); }\n        var ret = [],k;\n        for(k=0;k<d.length;k++) { ret[k] = foo(d[k]); }\n        return ret;\n    }\n    return foo(d);\n}\n\nnumeric.parseFloat = function parseFloat_(d) {\n    function foo(d) {\n        if(typeof d === 'string') { return parseFloat(d); }\n        if(!(d instanceof Array)) { throw new Error(\"parseFloat: parameter must be arrays of strings\"); }\n        var ret = [],k;\n        for(k=0;k<d.length;k++) { ret[k] = foo(d[k]); }\n        return ret;\n    }\n    return foo(d);\n}\n\nnumeric.parseCSV = function parseCSV(t) {\n    var foo = t.split('\\n');\n    var j,k;\n    var ret = [];\n    var pat = /(([^'\",]*)|('[^']*')|(\"[^\"]*\")),/g;\n    var patnum = /^\\s*(([+-]?[0-9]+(\\.[0-9]*)?(e[+-]?[0-9]+)?)|([+-]?[0-9]*(\\.[0-9]+)?(e[+-]?[0-9]+)?))\\s*$/;\n    var stripper = function(n) { return n.substr(0,n.length-1); }\n    var count = 0;\n    for(k=0;k<foo.length;k++) {\n      var bar = (foo[k]+\",\").match(pat),baz;\n      if(bar.length>0) {\n          ret[count] = [];\n          for(j=0;j<bar.length;j++) {\n              baz = stripper(bar[j]);\n              if(patnum.test(baz)) { ret[count][j] = parseFloat(baz); }\n              else ret[count][j] = baz;\n          }\n          count++;\n      }\n    }\n    return ret;\n}\n\nnumeric.toCSV = function toCSV(A) {\n    var s = numeric.dim(A);\n    var i,j,m,n,row,ret;\n    m = s[0];\n    n = s[1];\n    ret = [];\n    for(i=0;i<m;i++) {\n        row = [];\n        for(j=0;j<m;j++) { row[j] = A[i][j].toString(); }\n        ret[i] = row.join(', ');\n    }\n    return ret.join('\\n')+'\\n';\n}\n\nnumeric.getURL = function getURL(url) {\n    var client = new XMLHttpRequest();\n    client.open(\"GET\",url,false);\n    client.send();\n    return client;\n}\n\nnumeric.imageURL = function imageURL(img) {\n    function base64(A) {\n        var n = A.length, i,x,y,z,p,q,r,s;\n        var key = \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=\";\n        var ret = \"\";\n        for(i=0;i<n;i+=3) {\n            x = A[i];\n            y = A[i+1];\n            z = A[i+2];\n            p = x >> 2;\n            q = ((x & 3) << 4) + (y >> 4);\n            r = ((y & 15) << 2) + (z >> 6);\n            s = z & 63;\n            if(i+1>=n) { r = s = 64; }\n            else if(i+2>=n) { s = 64; }\n            ret += key.charAt(p) + key.charAt(q) + key.charAt(r) + key.charAt(s);\n            }\n        return ret;\n    }\n    function crc32Array (a,from,to) {\n        if(typeof from === \"undefined\") { from = 0; }\n        if(typeof to === \"undefined\") { to = a.length; }\n        var table = [0x00000000, 0x77073096, 0xEE0E612C, 0x990951BA, 0x076DC419, 0x706AF48F, 0xE963A535, 0x9E6495A3,\n                     0x0EDB8832, 0x79DCB8A4, 0xE0D5E91E, 0x97D2D988, 0x09B64C2B, 0x7EB17CBD, 0xE7B82D07, 0x90BF1D91, \n                     0x1DB71064, 0x6AB020F2, 0xF3B97148, 0x84BE41DE, 0x1ADAD47D, 0x6DDDE4EB, 0xF4D4B551, 0x83D385C7,\n                     0x136C9856, 0x646BA8C0, 0xFD62F97A, 0x8A65C9EC, 0x14015C4F, 0x63066CD9, 0xFA0F3D63, 0x8D080DF5, \n                     0x3B6E20C8, 0x4C69105E, 0xD56041E4, 0xA2677172, 0x3C03E4D1, 0x4B04D447, 0xD20D85FD, 0xA50AB56B, \n                     0x35B5A8FA, 0x42B2986C, 0xDBBBC9D6, 0xACBCF940, 0x32D86CE3, 0x45DF5C75, 0xDCD60DCF, 0xABD13D59, \n                     0x26D930AC, 0x51DE003A, 0xC8D75180, 0xBFD06116, 0x21B4F4B5, 0x56B3C423, 0xCFBA9599, 0xB8BDA50F,\n                     0x2802B89E, 0x5F058808, 0xC60CD9B2, 0xB10BE924, 0x2F6F7C87, 0x58684C11, 0xC1611DAB, 0xB6662D3D,\n                     0x76DC4190, 0x01DB7106, 0x98D220BC, 0xEFD5102A, 0x71B18589, 0x06B6B51F, 0x9FBFE4A5, 0xE8B8D433,\n                     0x7807C9A2, 0x0F00F934, 0x9609A88E, 0xE10E9818, 0x7F6A0DBB, 0x086D3D2D, 0x91646C97, 0xE6635C01, \n                     0x6B6B51F4, 0x1C6C6162, 0x856530D8, 0xF262004E, 0x6C0695ED, 0x1B01A57B, 0x8208F4C1, 0xF50FC457, \n                     0x65B0D9C6, 0x12B7E950, 0x8BBEB8EA, 0xFCB9887C, 0x62DD1DDF, 0x15DA2D49, 0x8CD37CF3, 0xFBD44C65, \n                     0x4DB26158, 0x3AB551CE, 0xA3BC0074, 0xD4BB30E2, 0x4ADFA541, 0x3DD895D7, 0xA4D1C46D, 0xD3D6F4FB, \n                     0x4369E96A, 0x346ED9FC, 0xAD678846, 0xDA60B8D0, 0x44042D73, 0x33031DE5, 0xAA0A4C5F, 0xDD0D7CC9, \n                     0x5005713C, 0x270241AA, 0xBE0B1010, 0xC90C2086, 0x5768B525, 0x206F85B3, 0xB966D409, 0xCE61E49F, \n                     0x5EDEF90E, 0x29D9C998, 0xB0D09822, 0xC7D7A8B4, 0x59B33D17, 0x2EB40D81, 0xB7BD5C3B, 0xC0BA6CAD, \n                     0xEDB88320, 0x9ABFB3B6, 0x03B6E20C, 0x74B1D29A, 0xEAD54739, 0x9DD277AF, 0x04DB2615, 0x73DC1683, \n                     0xE3630B12, 0x94643B84, 0x0D6D6A3E, 0x7A6A5AA8, 0xE40ECF0B, 0x9309FF9D, 0x0A00AE27, 0x7D079EB1, \n                     0xF00F9344, 0x8708A3D2, 0x1E01F268, 0x6906C2FE, 0xF762575D, 0x806567CB, 0x196C3671, 0x6E6B06E7, \n                     0xFED41B76, 0x89D32BE0, 0x10DA7A5A, 0x67DD4ACC, 0xF9B9DF6F, 0x8EBEEFF9, 0x17B7BE43, 0x60B08ED5, \n                     0xD6D6A3E8, 0xA1D1937E, 0x38D8C2C4, 0x4FDFF252, 0xD1BB67F1, 0xA6BC5767, 0x3FB506DD, 0x48B2364B, \n                     0xD80D2BDA, 0xAF0A1B4C, 0x36034AF6, 0x41047A60, 0xDF60EFC3, 0xA867DF55, 0x316E8EEF, 0x4669BE79, \n                     0xCB61B38C, 0xBC66831A, 0x256FD2A0, 0x5268E236, 0xCC0C7795, 0xBB0B4703, 0x220216B9, 0x5505262F, \n                     0xC5BA3BBE, 0xB2BD0B28, 0x2BB45A92, 0x5CB36A04, 0xC2D7FFA7, 0xB5D0CF31, 0x2CD99E8B, 0x5BDEAE1D, \n                     0x9B64C2B0, 0xEC63F226, 0x756AA39C, 0x026D930A, 0x9C0906A9, 0xEB0E363F, 0x72076785, 0x05005713, \n                     0x95BF4A82, 0xE2B87A14, 0x7BB12BAE, 0x0CB61B38, 0x92D28E9B, 0xE5D5BE0D, 0x7CDCEFB7, 0x0BDBDF21, \n                     0x86D3D2D4, 0xF1D4E242, 0x68DDB3F8, 0x1FDA836E, 0x81BE16CD, 0xF6B9265B, 0x6FB077E1, 0x18B74777, \n                     0x88085AE6, 0xFF0F6A70, 0x66063BCA, 0x11010B5C, 0x8F659EFF, 0xF862AE69, 0x616BFFD3, 0x166CCF45, \n                     0xA00AE278, 0xD70DD2EE, 0x4E048354, 0x3903B3C2, 0xA7672661, 0xD06016F7, 0x4969474D, 0x3E6E77DB, \n                     0xAED16A4A, 0xD9D65ADC, 0x40DF0B66, 0x37D83BF0, 0xA9BCAE53, 0xDEBB9EC5, 0x47B2CF7F, 0x30B5FFE9, \n                     0xBDBDF21C, 0xCABAC28A, 0x53B39330, 0x24B4A3A6, 0xBAD03605, 0xCDD70693, 0x54DE5729, 0x23D967BF, \n                     0xB3667A2E, 0xC4614AB8, 0x5D681B02, 0x2A6F2B94, 0xB40BBE37, 0xC30C8EA1, 0x5A05DF1B, 0x2D02EF8D];\n     \n        var crc = -1, y = 0, n = a.length,i;\n\n        for (i = from; i < to; i++) {\n            y = (crc ^ a[i]) & 0xFF;\n            crc = (crc >>> 8) ^ table[y];\n        }\n     \n        return crc ^ (-1);\n    }\n\n    var h = img[0].length, w = img[0][0].length, s1, s2, next,k,length,a,b,i,j,adler32,crc32;\n    var stream = [\n                  137, 80, 78, 71, 13, 10, 26, 10,                           //  0: PNG signature\n                  0,0,0,13,                                                  //  8: IHDR Chunk length\n                  73, 72, 68, 82,                                            // 12: \"IHDR\" \n                  (w >> 24) & 255, (w >> 16) & 255, (w >> 8) & 255, w&255,   // 16: Width\n                  (h >> 24) & 255, (h >> 16) & 255, (h >> 8) & 255, h&255,   // 20: Height\n                  8,                                                         // 24: bit depth\n                  2,                                                         // 25: RGB\n                  0,                                                         // 26: deflate\n                  0,                                                         // 27: no filter\n                  0,                                                         // 28: no interlace\n                  -1,-2,-3,-4,                                               // 29: CRC\n                  -5,-6,-7,-8,                                               // 33: IDAT Chunk length\n                  73, 68, 65, 84,                                            // 37: \"IDAT\"\n                  // RFC 1950 header starts here\n                  8,                                                         // 41: RFC1950 CMF\n                  29                                                         // 42: RFC1950 FLG\n                  ];\n    crc32 = crc32Array(stream,12,29);\n    stream[29] = (crc32>>24)&255;\n    stream[30] = (crc32>>16)&255;\n    stream[31] = (crc32>>8)&255;\n    stream[32] = (crc32)&255;\n    s1 = 1;\n    s2 = 0;\n    for(i=0;i<h;i++) {\n        if(i<h-1) { stream.push(0); }\n        else { stream.push(1); }\n        a = (3*w+1+(i===0))&255; b = ((3*w+1+(i===0))>>8)&255;\n        stream.push(a); stream.push(b);\n        stream.push((~a)&255); stream.push((~b)&255);\n        if(i===0) stream.push(0);\n        for(j=0;j<w;j++) {\n            for(k=0;k<3;k++) {\n                a = img[k][i][j];\n                if(a>255) a = 255;\n                else if(a<0) a=0;\n                else a = Math.round(a);\n                s1 = (s1 + a )%65521;\n                s2 = (s2 + s1)%65521;\n                stream.push(a);\n            }\n        }\n        stream.push(0);\n    }\n    adler32 = (s2<<16)+s1;\n    stream.push((adler32>>24)&255);\n    stream.push((adler32>>16)&255);\n    stream.push((adler32>>8)&255);\n    stream.push((adler32)&255);\n    length = stream.length - 41;\n    stream[33] = (length>>24)&255;\n    stream[34] = (length>>16)&255;\n    stream[35] = (length>>8)&255;\n    stream[36] = (length)&255;\n    crc32 = crc32Array(stream,37);\n    stream.push((crc32>>24)&255);\n    stream.push((crc32>>16)&255);\n    stream.push((crc32>>8)&255);\n    stream.push((crc32)&255);\n    stream.push(0);\n    stream.push(0);\n    stream.push(0);\n    stream.push(0);\n//    a = stream.length;\n    stream.push(73);  // I\n    stream.push(69);  // E\n    stream.push(78);  // N\n    stream.push(68);  // D\n    stream.push(174); // CRC1\n    stream.push(66);  // CRC2\n    stream.push(96);  // CRC3\n    stream.push(130); // CRC4\n    return 'data:image/png;base64,'+base64(stream);\n}\n\n// 2. Linear algebra with Arrays.\nnumeric._dim = function _dim(x) {\n    var ret = [];\n    while(typeof x === \"object\") { ret.push(x.length); x = x[0]; }\n    return ret;\n}\n\nnumeric.dim = function dim(x) {\n    var y,z;\n    if(typeof x === \"object\") {\n        y = x[0];\n        if(typeof y === \"object\") {\n            z = y[0];\n            if(typeof z === \"object\") {\n                return numeric._dim(x);\n            }\n            return [x.length,y.length];\n        }\n        return [x.length];\n    }\n    return [];\n}\n\nnumeric.mapreduce = function mapreduce(body,init) {\n    return Function('x','accum','_s','_k',\n            'if(typeof accum === \"undefined\") accum = '+init+';\\n'+\n            'if(typeof x === \"number\") { var xi = x; '+body+'; return accum; }\\n'+\n            'if(typeof _s === \"undefined\") _s = numeric.dim(x);\\n'+\n            'if(typeof _k === \"undefined\") _k = 0;\\n'+\n            'var _n = _s[_k];\\n'+\n            'var i,xi;\\n'+\n            'if(_k < _s.length-1) {\\n'+\n            '    for(i=_n-1;i>=0;i--) {\\n'+\n            '        accum = arguments.callee(x[i],accum,_s,_k+1);\\n'+\n            '    }'+\n            '    return accum;\\n'+\n            '}\\n'+\n            'for(i=_n-1;i>=1;i-=2) { \\n'+\n            '    xi = x[i];\\n'+\n            '    '+body+';\\n'+\n            '    xi = x[i-1];\\n'+\n            '    '+body+';\\n'+\n            '}\\n'+\n            'if(i === 0) {\\n'+\n            '    xi = x[i];\\n'+\n            '    '+body+'\\n'+\n            '}\\n'+\n            'return accum;'\n            );\n}\nnumeric.mapreduce2 = function mapreduce2(body,setup) {\n    return Function('x',\n            'var n = x.length;\\n'+\n            'var i,xi;\\n'+setup+';\\n'+\n            'for(i=n-1;i!==-1;--i) { \\n'+\n            '    xi = x[i];\\n'+\n            '    '+body+';\\n'+\n            '}\\n'+\n            'return accum;'\n            );\n}\n\n\nnumeric.same = function same(x,y) {\n    var i,n;\n    if(!(x instanceof Array) || !(y instanceof Array)) { return false; }\n    n = x.length;\n    if(n !== y.length) { return false; }\n    for(i=0;i<n;i++) {\n        if(x[i] === y[i]) { continue; }\n        if(typeof x[i] === \"object\") { if(!same(x[i],y[i])) return false; }\n        else { return false; }\n    }\n    return true;\n}\n\nnumeric.rep = function rep(s,v,k) {\n    if(typeof k === \"undefined\") { k=0; }\n    var n = s[k], ret = Array(n), i;\n    if(k === s.length-1) {\n        for(i=n-2;i>=0;i-=2) { ret[i+1] = v; ret[i] = v; }\n        if(i===-1) { ret[0] = v; }\n        return ret;\n    }\n    for(i=n-1;i>=0;i--) { ret[i] = numeric.rep(s,v,k+1); }\n    return ret;\n}\n\n\nnumeric.dotMMsmall = function dotMMsmall(x,y) {\n    var i,j,k,p,q,r,ret,foo,bar,woo,i0,k0,p0,r0;\n    p = x.length; q = y.length; r = y[0].length;\n    ret = Array(p);\n    for(i=p-1;i>=0;i--) {\n        foo = Array(r);\n        bar = x[i];\n        for(k=r-1;k>=0;k--) {\n            woo = bar[q-1]*y[q-1][k];\n            for(j=q-2;j>=1;j-=2) {\n                i0 = j-1;\n                woo += bar[j]*y[j][k] + bar[i0]*y[i0][k];\n            }\n            if(j===0) { woo += bar[0]*y[0][k]; }\n            foo[k] = woo;\n        }\n        ret[i] = foo;\n    }\n    return ret;\n}\nnumeric._getCol = function _getCol(A,j,x) {\n    var n = A.length, i;\n    for(i=n-1;i>0;--i) {\n        x[i] = A[i][j];\n        --i;\n        x[i] = A[i][j];\n    }\n    if(i===0) x[0] = A[0][j];\n}\nnumeric.dotMMbig = function dotMMbig(x,y){\n    var gc = numeric._getCol, p = y.length, v = Array(p);\n    var m = x.length, n = y[0].length, A = new Array(m), xj;\n    var VV = numeric.dotVV;\n    var i,j,k,z;\n    --p;\n    --m;\n    for(i=m;i!==-1;--i) A[i] = Array(n);\n    --n;\n    for(i=n;i!==-1;--i) {\n        gc(y,i,v);\n        for(j=m;j!==-1;--j) {\n            z=0;\n            xj = x[j];\n            A[j][i] = VV(xj,v);\n        }\n    }\n    return A;\n}\n\nnumeric.dotMV = function dotMV(x,y) {\n    var p = x.length, q = y.length,i;\n    var ret = Array(p), dotVV = numeric.dotVV;\n    for(i=p-1;i>=0;i--) { ret[i] = dotVV(x[i],y); }\n    return ret;\n}\n\nnumeric.dotVM = function dotVM(x,y) {\n    var i,j,k,p,q,r,ret,foo,bar,woo,i0,k0,p0,r0,s1,s2,s3,baz,accum;\n    p = x.length; q = y[0].length;\n    ret = Array(q);\n    for(k=q-1;k>=0;k--) {\n        woo = x[p-1]*y[p-1][k];\n        for(j=p-2;j>=1;j-=2) {\n            i0 = j-1;\n            woo += x[j]*y[j][k] + x[i0]*y[i0][k];\n        }\n        if(j===0) { woo += x[0]*y[0][k]; }\n        ret[k] = woo;\n    }\n    return ret;\n}\n\nnumeric.dotVV = function dotVV(x,y) {\n    var i,n=x.length,i1,ret = x[n-1]*y[n-1];\n    for(i=n-2;i>=1;i-=2) {\n        i1 = i-1;\n        ret += x[i]*y[i] + x[i1]*y[i1];\n    }\n    if(i===0) { ret += x[0]*y[0]; }\n    return ret;\n}\n\nnumeric.dot = function dot(x,y) {\n    var d = numeric.dim;\n    switch(d(x).length*1000+d(y).length) {\n    case 2002:\n        if(y.length < 10) return numeric.dotMMsmall(x,y);\n        else return numeric.dotMMbig(x,y);\n    case 2001: return numeric.dotMV(x,y);\n    case 1002: return numeric.dotVM(x,y);\n    case 1001: return numeric.dotVV(x,y);\n    case 1000: return numeric.mulVS(x,y);\n    case 1: return numeric.mulSV(x,y);\n    case 0: return x*y;\n    default: throw new Error('numeric.dot only works on vectors and matrices');\n    }\n}\n\nnumeric.diag = function diag(d) {\n    var i,i1,j,n = d.length, A = Array(n), Ai;\n    for(i=n-1;i>=0;i--) {\n        Ai = Array(n);\n        i1 = i+2;\n        for(j=n-1;j>=i1;j-=2) {\n            Ai[j] = 0;\n            Ai[j-1] = 0;\n        }\n        if(j>i) { Ai[j] = 0; }\n        Ai[i] = d[i];\n        for(j=i-1;j>=1;j-=2) {\n            Ai[j] = 0;\n            Ai[j-1] = 0;\n        }\n        if(j===0) { Ai[0] = 0; }\n        A[i] = Ai;\n    }\n    return A;\n}\nnumeric.getDiag = function(A) {\n    var n = Math.min(A.length,A[0].length),i,ret = Array(n);\n    for(i=n-1;i>=1;--i) {\n        ret[i] = A[i][i];\n        --i;\n        ret[i] = A[i][i];\n    }\n    if(i===0) {\n        ret[0] = A[0][0];\n    }\n    return ret;\n}\n\nnumeric.identity = function identity(n) { return numeric.diag(numeric.rep([n],1)); }\nnumeric.pointwise = function pointwise(params,body,setup) {\n    if(typeof setup === \"undefined\") { setup = \"\"; }\n    var fun = [];\n    var k;\n    var avec = /\\[i\\]$/,p,thevec = '';\n    var haveret = false;\n    for(k=0;k<params.length;k++) {\n        if(avec.test(params[k])) {\n            p = params[k].substring(0,params[k].length-3);\n            thevec = p;\n        } else { p = params[k]; }\n        if(p==='ret') haveret = true;\n        fun.push(p);\n    }\n    fun[params.length] = '_s';\n    fun[params.length+1] = '_k';\n    fun[params.length+2] = (\n            'if(typeof _s === \"undefined\") _s = numeric.dim('+thevec+');\\n'+\n            'if(typeof _k === \"undefined\") _k = 0;\\n'+\n            'var _n = _s[_k];\\n'+\n            'var i'+(haveret?'':', ret = Array(_n)')+';\\n'+\n            'if(_k < _s.length-1) {\\n'+\n            '    for(i=_n-1;i>=0;i--) ret[i] = arguments.callee('+params.join(',')+',_s,_k+1);\\n'+\n            '    return ret;\\n'+\n            '}\\n'+\n            setup+'\\n'+\n            'for(i=_n-1;i!==-1;--i) {\\n'+\n            '    '+body+'\\n'+\n            '}\\n'+\n            'return ret;'\n            );\n    return Function.apply(null,fun);\n}\nnumeric.pointwise2 = function pointwise2(params,body,setup) {\n    if(typeof setup === \"undefined\") { setup = \"\"; }\n    var fun = [];\n    var k;\n    var avec = /\\[i\\]$/,p,thevec = '';\n    var haveret = false;\n    for(k=0;k<params.length;k++) {\n        if(avec.test(params[k])) {\n            p = params[k].substring(0,params[k].length-3);\n            thevec = p;\n        } else { p = params[k]; }\n        if(p==='ret') haveret = true;\n        fun.push(p);\n    }\n    fun[params.length] = (\n            'var _n = '+thevec+'.length;\\n'+\n            'var i'+(haveret?'':', ret = Array(_n)')+';\\n'+\n            setup+'\\n'+\n            'for(i=_n-1;i!==-1;--i) {\\n'+\n            body+'\\n'+\n            '}\\n'+\n            'return ret;'\n            );\n    return Function.apply(null,fun);\n}\nnumeric._biforeach = (function _biforeach(x,y,s,k,f) {\n    if(k === s.length-1) { f(x,y); return; }\n    var i,n=s[k];\n    for(i=n-1;i>=0;i--) { _biforeach(typeof x===\"object\"?x[i]:x,typeof y===\"object\"?y[i]:y,s,k+1,f); }\n});\nnumeric._biforeach2 = (function _biforeach2(x,y,s,k,f) {\n    if(k === s.length-1) { return f(x,y); }\n    var i,n=s[k],ret = Array(n);\n    for(i=n-1;i>=0;--i) { ret[i] = _biforeach2(typeof x===\"object\"?x[i]:x,typeof y===\"object\"?y[i]:y,s,k+1,f); }\n    return ret;\n});\nnumeric._foreach = (function _foreach(x,s,k,f) {\n    if(k === s.length-1) { f(x); return; }\n    var i,n=s[k];\n    for(i=n-1;i>=0;i--) { _foreach(x[i],s,k+1,f); }\n});\nnumeric._foreach2 = (function _foreach2(x,s,k,f) {\n    if(k === s.length-1) { return f(x); }\n    var i,n=s[k], ret = Array(n);\n    for(i=n-1;i>=0;i--) { ret[i] = _foreach2(x[i],s,k+1,f); }\n    return ret;\n});\n\n/*numeric.anyV = numeric.mapreduce('if(xi) return true;','false');\nnumeric.allV = numeric.mapreduce('if(!xi) return false;','true');\nnumeric.any = function(x) { if(typeof x.length === \"undefined\") return x; return numeric.anyV(x); }\nnumeric.all = function(x) { if(typeof x.length === \"undefined\") return x; return numeric.allV(x); }*/\n\nnumeric.ops2 = {\n        add: '+',\n        sub: '-',\n        mul: '*',\n        div: '/',\n        mod: '%',\n        and: '&&',\n        or:  '||',\n        eq:  '===',\n        neq: '!==',\n        lt:  '<',\n        gt:  '>',\n        leq: '<=',\n        geq: '>=',\n        band: '&',\n        bor: '|',\n        bxor: '^',\n        lshift: '<<',\n        rshift: '>>',\n        rrshift: '>>>'\n};\nnumeric.opseq = {\n        addeq: '+=',\n        subeq: '-=',\n        muleq: '*=',\n        diveq: '/=',\n        modeq: '%=',\n        lshifteq: '<<=',\n        rshifteq: '>>=',\n        rrshifteq: '>>>=',\n        bandeq: '&=',\n        boreq: '|=',\n        bxoreq: '^='\n};\nnumeric.mathfuns = ['abs','acos','asin','atan','ceil','cos',\n                    'exp','floor','log','round','sin','sqrt','tan',\n                    'isNaN','isFinite'];\nnumeric.mathfuns2 = ['atan2','pow','max','min'];\nnumeric.ops1 = {\n        neg: '-',\n        not: '!',\n        bnot: '~',\n        clone: ''\n};\nnumeric.mapreducers = {\n        any: ['if(xi) return true;','var accum = false;'],\n        all: ['if(!xi) return false;','var accum = true;'],\n        sum: ['accum += xi;','var accum = 0;'],\n        prod: ['accum *= xi;','var accum = 1;'],\n        norm2Squared: ['accum += xi*xi;','var accum = 0;'],\n        norminf: ['accum = max(accum,abs(xi));','var accum = 0, max = Math.max, abs = Math.abs;'],\n        norm1: ['accum += abs(xi)','var accum = 0, abs = Math.abs;'],\n        sup: ['accum = max(accum,xi);','var accum = -Infinity, max = Math.max;'],\n        inf: ['accum = min(accum,xi);','var accum = Infinity, min = Math.min;']\n};\n\n(function () {\n    var i,o;\n    for(i=0;i<numeric.mathfuns2.length;++i) {\n        o = numeric.mathfuns2[i];\n        numeric.ops2[o] = o;\n    }\n    for(i in numeric.ops2) {\n        if(numeric.ops2.hasOwnProperty(i)) {\n            o = numeric.ops2[i];\n            var code, codeeq, setup = '';\n            if(numeric.myIndexOf.call(numeric.mathfuns2,i)!==-1) {\n                setup = 'var '+o+' = Math.'+o+';\\n';\n                code = function(r,x,y) { return r+' = '+o+'('+x+','+y+')'; };\n                codeeq = function(x,y) { return x+' = '+o+'('+x+','+y+')'; };\n            } else {\n                code = function(r,x,y) { return r+' = '+x+' '+o+' '+y; };\n                if(numeric.opseq.hasOwnProperty(i+'eq')) {\n                    codeeq = function(x,y) { return x+' '+o+'= '+y; };\n                } else {\n                    codeeq = function(x,y) { return x+' = '+x+' '+o+' '+y; };                    \n                }\n            }\n            numeric[i+'VV'] = numeric.pointwise2(['x[i]','y[i]'],code('ret[i]','x[i]','y[i]'),setup);\n            numeric[i+'SV'] = numeric.pointwise2(['x','y[i]'],code('ret[i]','x','y[i]'),setup);\n            numeric[i+'VS'] = numeric.pointwise2(['x[i]','y'],code('ret[i]','x[i]','y'),setup);\n            numeric[i] = Function(\n                    'var n = arguments.length, i, x = arguments[0], y;\\n'+\n                    'var VV = numeric.'+i+'VV, VS = numeric.'+i+'VS, SV = numeric.'+i+'SV;\\n'+\n                    'var dim = numeric.dim;\\n'+\n                    'for(i=1;i!==n;++i) { \\n'+\n                    '  y = arguments[i];\\n'+\n                    '  if(typeof x === \"object\") {\\n'+\n                    '      if(typeof y === \"object\") x = numeric._biforeach2(x,y,dim(x),0,VV);\\n'+\n                    '      else x = numeric._biforeach2(x,y,dim(x),0,VS);\\n'+\n                    '  } else if(typeof y === \"object\") x = numeric._biforeach2(x,y,dim(y),0,SV);\\n'+\n                    '  else '+codeeq('x','y')+'\\n'+\n                    '}\\nreturn x;\\n');\n            numeric[o] = numeric[i];\n            numeric[i+'eqV'] = numeric.pointwise2(['ret[i]','x[i]'], codeeq('ret[i]','x[i]'),setup);\n            numeric[i+'eqS'] = numeric.pointwise2(['ret[i]','x'], codeeq('ret[i]','x'),setup);\n            numeric[i+'eq'] = Function(\n                    'var n = arguments.length, i, x = arguments[0], y;\\n'+\n                    'var V = numeric.'+i+'eqV, S = numeric.'+i+'eqS\\n'+\n                    'var s = numeric.dim(x);\\n'+\n                    'for(i=1;i!==n;++i) { \\n'+\n                    '  y = arguments[i];\\n'+\n                    '  if(typeof y === \"object\") numeric._biforeach(x,y,s,0,V);\\n'+\n                    '  else numeric._biforeach(x,y,s,0,S);\\n'+\n                    '}\\nreturn x;\\n');\n        }\n    }\n    for(i=0;i<numeric.mathfuns2.length;++i) {\n        o = numeric.mathfuns2[i];\n        delete numeric.ops2[o];\n    }\n    for(i=0;i<numeric.mathfuns.length;++i) {\n        o = numeric.mathfuns[i];\n        numeric.ops1[o] = o;\n    }\n    for(i in numeric.ops1) {\n        if(numeric.ops1.hasOwnProperty(i)) {\n            setup = '';\n            o = numeric.ops1[i];\n            if(numeric.myIndexOf.call(numeric.mathfuns,i)!==-1) {\n                if(Math.hasOwnProperty(o)) setup = 'var '+o+' = Math.'+o+';\\n';\n            }\n            numeric[i+'eqV'] = numeric.pointwise2(['ret[i]'],'ret[i] = '+o+'(ret[i]);',setup);\n            numeric[i+'eq'] = Function('x',\n                    'if(typeof x !== \"object\") return '+o+'x\\n'+\n                    'var i;\\n'+\n                    'var V = numeric.'+i+'eqV;\\n'+\n                    'var s = numeric.dim(x);\\n'+\n                    'numeric._foreach(x,s,0,V);\\n'+\n                    'return x;\\n');\n            numeric[i+'V'] = numeric.pointwise2(['x[i]'],'ret[i] = '+o+'(x[i]);',setup);\n            numeric[i] = Function('x',\n                    'if(typeof x !== \"object\") return '+o+'(x)\\n'+\n                    'var i;\\n'+\n                    'var V = numeric.'+i+'V;\\n'+\n                    'var s = numeric.dim(x);\\n'+\n                    'return numeric._foreach2(x,s,0,V);\\n');\n        }\n    }\n    for(i=0;i<numeric.mathfuns.length;++i) {\n        o = numeric.mathfuns[i];\n        delete numeric.ops1[o];\n    }\n    for(i in numeric.mapreducers) {\n        if(numeric.mapreducers.hasOwnProperty(i)) {\n            o = numeric.mapreducers[i];\n            numeric[i+'V'] = numeric.mapreduce2(o[0],o[1]);\n            numeric[i] = Function('x','s','k',\n                    o[1]+\n                    'if(typeof x !== \"object\") {'+\n                    '    xi = x;\\n'+\n                    o[0]+';\\n'+\n                    '    return accum;\\n'+\n                    '}'+\n                    'if(typeof s === \"undefined\") s = numeric.dim(x);\\n'+\n                    'if(typeof k === \"undefined\") k = 0;\\n'+\n                    'if(k === s.length-1) return numeric.'+i+'V(x);\\n'+\n                    'var xi;\\n'+\n                    'var n = x.length, i;\\n'+\n                    'for(i=n-1;i!==-1;--i) {\\n'+\n                    '   xi = arguments.callee(x[i]);\\n'+\n                    o[0]+';\\n'+\n                    '}\\n'+\n                    'return accum;\\n');\n        }\n    }\n}());\n\nnumeric.truncVV = numeric.pointwise(['x[i]','y[i]'],'ret[i] = round(x[i]/y[i])*y[i];','var round = Math.round;');\nnumeric.truncVS = numeric.pointwise(['x[i]','y'],'ret[i] = round(x[i]/y)*y;','var round = Math.round;');\nnumeric.truncSV = numeric.pointwise(['x','y[i]'],'ret[i] = round(x/y[i])*y[i];','var round = Math.round;');\nnumeric.trunc = function trunc(x,y) {\n    if(typeof x === \"object\") {\n        if(typeof y === \"object\") return numeric.truncVV(x,y);\n        return numeric.truncVS(x,y);\n    }\n    if (typeof y === \"object\") return numeric.truncSV(x,y);\n    return Math.round(x/y)*y;\n}\n\nnumeric.inv = function inv(x) {\n    var s = numeric.dim(x), abs = Math.abs, m = s[0], n = s[1];\n    var A = numeric.clone(x), Ai, Aj;\n    var I = numeric.identity(m), Ii, Ij;\n    var i,j,k,x;\n    for(j=0;j<n;++j) {\n        var i0 = -1;\n        var v0 = -1;\n        for(i=j;i!==m;++i) { k = abs(A[i][j]); if(k>v0) { i0 = i; v0 = k; } }\n        Aj = A[i0]; A[i0] = A[j]; A[j] = Aj;\n        Ij = I[i0]; I[i0] = I[j]; I[j] = Ij;\n        x = Aj[j];\n        for(k=j;k!==n;++k)    Aj[k] /= x; \n        for(k=n-1;k!==-1;--k) Ij[k] /= x;\n        for(i=m-1;i!==-1;--i) {\n            if(i!==j) {\n                Ai = A[i];\n                Ii = I[i];\n                x = Ai[j];\n                for(k=j+1;k!==n;++k)  Ai[k] -= Aj[k]*x;\n                for(k=n-1;k>0;--k) { Ii[k] -= Ij[k]*x; --k; Ii[k] -= Ij[k]*x; }\n                if(k===0) Ii[0] -= Ij[0]*x;\n            }\n        }\n    }\n    return I;\n}\n\nnumeric.det = function det(x) {\n    var s = numeric.dim(x);\n    if(s.length !== 2 || s[0] !== s[1]) { throw new Error('numeric: det() only works on square matrices'); }\n    var n = s[0], ret = 1,i,j,k,A = numeric.clone(x),Aj,Ai,alpha,temp,k1,k2,k3;\n    for(j=0;j<n-1;j++) {\n        k=j;\n        for(i=j+1;i<n;i++) { if(Math.abs(A[i][j]) > Math.abs(A[k][j])) { k = i; } }\n        if(k !== j) {\n            temp = A[k]; A[k] = A[j]; A[j] = temp;\n            ret *= -1;\n        }\n        Aj = A[j];\n        for(i=j+1;i<n;i++) {\n            Ai = A[i];\n            alpha = Ai[j]/Aj[j];\n            for(k=j+1;k<n-1;k+=2) {\n                k1 = k+1;\n                Ai[k] -= Aj[k]*alpha;\n                Ai[k1] -= Aj[k1]*alpha;\n            }\n            if(k!==n) { Ai[k] -= Aj[k]*alpha; }\n        }\n        if(Aj[j] === 0) { return 0; }\n        ret *= Aj[j];\n    }\n    return ret*A[j][j];\n}\n\nnumeric.transpose = function transpose(x) {\n    var i,j,m = x.length,n = x[0].length, ret=Array(n),A0,A1,Bj;\n    for(j=0;j<n;j++) ret[j] = Array(m);\n    for(i=m-1;i>=1;i-=2) {\n        A1 = x[i];\n        A0 = x[i-1];\n        for(j=n-1;j>=1;--j) {\n            Bj = ret[j]; Bj[i] = A1[j]; Bj[i-1] = A0[j];\n            --j;\n            Bj = ret[j]; Bj[i] = A1[j]; Bj[i-1] = A0[j];\n        }\n        if(j===0) {\n            Bj = ret[0]; Bj[i] = A1[0]; Bj[i-1] = A0[0];\n        }\n    }\n    if(i===0) {\n        A0 = x[0];\n        for(j=n-1;j>=1;--j) {\n            ret[j][0] = A0[j];\n            --j;\n            ret[j][0] = A0[j];\n        }\n        if(j===0) { ret[0][0] = A0[0]; }\n    }\n    return ret;\n}\nnumeric.negtranspose = function negtranspose(x) {\n    var i,j,m = x.length,n = x[0].length, ret=Array(n),A0,A1,Bj;\n    for(j=0;j<n;j++) ret[j] = Array(m);\n    for(i=m-1;i>=1;i-=2) {\n        A1 = x[i];\n        A0 = x[i-1];\n        for(j=n-1;j>=1;--j) {\n            Bj = ret[j]; Bj[i] = -A1[j]; Bj[i-1] = -A0[j];\n            --j;\n            Bj = ret[j]; Bj[i] = -A1[j]; Bj[i-1] = -A0[j];\n        }\n        if(j===0) {\n            Bj = ret[0]; Bj[i] = -A1[0]; Bj[i-1] = -A0[0];\n        }\n    }\n    if(i===0) {\n        A0 = x[0];\n        for(j=n-1;j>=1;--j) {\n            ret[j][0] = -A0[j];\n            --j;\n            ret[j][0] = -A0[j];\n        }\n        if(j===0) { ret[0][0] = -A0[0]; }\n    }\n    return ret;\n}\n\nnumeric._random = function _random(s,k) {\n    var i,n=s[k],ret=Array(n), rnd;\n    if(k === s.length-1) {\n        rnd = Math.random;\n        for(i=n-1;i>=1;i-=2) {\n            ret[i] = rnd();\n            ret[i-1] = rnd();\n        }\n        if(i===0) { ret[0] = rnd(); }\n        return ret;\n    }\n    for(i=n-1;i>=0;i--) ret[i] = _random(s,k+1);\n    return ret;\n}\nnumeric.random = function random(s) { return numeric._random(s,0); }\n\nnumeric.norm2 = function norm2(x) { return Math.sqrt(numeric.norm2Squared(x)); }\n\nnumeric.linspace = function linspace(a,b,n) {\n    if(typeof n === \"undefined\") n = Math.max(Math.round(b-a)+1,1);\n    if(n<2) { return n===1?[a]:[]; }\n    var i,ret = Array(n);\n    n--;\n    for(i=n;i>=0;i--) { ret[i] = (i*b+(n-i)*a)/n; }\n    return ret;\n}\n\nnumeric.getBlock = function getBlock(x,from,to) {\n    var s = numeric.dim(x);\n    function foo(x,k) {\n        var i,a = from[k], n = to[k]-a, ret = Array(n);\n        if(k === s.length-1) {\n            for(i=n;i>=0;i--) { ret[i] = x[i+a]; }\n            return ret;\n        }\n        for(i=n;i>=0;i--) { ret[i] = foo(x[i+a],k+1); }\n        return ret;\n    }\n    return foo(x,0);\n}\n\nnumeric.setBlock = function setBlock(x,from,to,B) {\n    var s = numeric.dim(x);\n    function foo(x,y,k) {\n        var i,a = from[k], n = to[k]-a;\n        if(k === s.length-1) { for(i=n;i>=0;i--) { x[i+a] = y[i]; } }\n        for(i=n;i>=0;i--) { foo(x[i+a],y[i],k+1); }\n    }\n    foo(x,B,0);\n    return x;\n}\n\nnumeric.getRange = function getRange(A,I,J) {\n    var m = I.length, n = J.length;\n    var i,j;\n    var B = Array(m), Bi, AI;\n    for(i=m-1;i!==-1;--i) {\n        B[i] = Array(n);\n        Bi = B[i];\n        AI = A[I[i]];\n        for(j=n-1;j!==-1;--j) Bi[j] = AI[J[j]];\n    }\n    return B;\n}\n\nnumeric.blockMatrix = function blockMatrix(X) {\n    var s = numeric.dim(X);\n    if(s.length<4) return numeric.blockMatrix([X]);\n    var m=s[0],n=s[1],M,N,i,j,Xij;\n    M = 0; N = 0;\n    for(i=0;i<m;++i) M+=X[i][0].length;\n    for(j=0;j<n;++j) N+=X[0][j][0].length;\n    var Z = Array(M);\n    for(i=0;i<M;++i) Z[i] = Array(N);\n    var I=0,J,ZI,k,l,Xijk;\n    for(i=0;i<m;++i) {\n        J=N;\n        for(j=n-1;j!==-1;--j) {\n            Xij = X[i][j];\n            J -= Xij[0].length;\n            for(k=Xij.length-1;k!==-1;--k) {\n                Xijk = Xij[k];\n                ZI = Z[I+k];\n                for(l = Xijk.length-1;l!==-1;--l) ZI[J+l] = Xijk[l];\n            }\n        }\n        I += X[i][0].length;\n    }\n    return Z;\n}\n\nnumeric.tensor = function tensor(x,y) {\n    if(typeof x === \"number\" || typeof y === \"number\") return numeric.mul(x,y);\n    var s1 = numeric.dim(x), s2 = numeric.dim(y);\n    if(s1.length !== 1 || s2.length !== 1) {\n        throw new Error('numeric: tensor product is only defined for vectors');\n    }\n    var m = s1[0], n = s2[0], A = Array(m), Ai, i,j,xi;\n    for(i=m-1;i>=0;i--) {\n        Ai = Array(n);\n        xi = x[i];\n        for(j=n-1;j>=3;--j) {\n            Ai[j] = xi * y[j];\n            --j;\n            Ai[j] = xi * y[j];\n            --j;\n            Ai[j] = xi * y[j];\n            --j;\n            Ai[j] = xi * y[j];\n        }\n        while(j>=0) { Ai[j] = xi * y[j]; --j; }\n        A[i] = Ai;\n    }\n    return A;\n}\n\n// 3. The Tensor type T\nnumeric.T = function T(x,y) { this.x = x; this.y = y; }\nnumeric.t = function t(x,y) { return new numeric.T(x,y); }\n\nnumeric.Tbinop = function Tbinop(rr,rc,cr,cc,setup) {\n    var io = numeric.indexOf;\n    if(typeof setup !== \"string\") {\n        var k;\n        setup = '';\n        for(k in numeric) {\n            if(numeric.hasOwnProperty(k) && (rr.indexOf(k)>=0 || rc.indexOf(k)>=0 || cr.indexOf(k)>=0 || cc.indexOf(k)>=0) && k.length>1) {\n                setup += 'var '+k+' = numeric.'+k+';\\n';\n            }\n        }\n    }\n    return Function(['y'],\n            'var x = this;\\n'+\n            'if(!(y instanceof numeric.T)) { y = new numeric.T(y); }\\n'+\n            setup+'\\n'+\n            'if(x.y) {'+\n            '  if(y.y) {'+\n            '    return new numeric.T('+cc+');\\n'+\n            '  }\\n'+\n            '  return new numeric.T('+cr+');\\n'+\n            '}\\n'+\n            'if(y.y) {\\n'+\n            '  return new numeric.T('+rc+');\\n'+\n            '}\\n'+\n            'return new numeric.T('+rr+');\\n'\n    );\n}\n\nnumeric.T.prototype.add = numeric.Tbinop(\n        'add(x.x,y.x)',\n        'add(x.x,y.x),y.y',\n        'add(x.x,y.x),x.y',\n        'add(x.x,y.x),add(x.y,y.y)');\nnumeric.T.prototype.sub = numeric.Tbinop(\n        'sub(x.x,y.x)',\n        'sub(x.x,y.x),neg(y.y)',\n        'sub(x.x,y.x),x.y',\n        'sub(x.x,y.x),sub(x.y,y.y)');\nnumeric.T.prototype.mul = numeric.Tbinop(\n        'mul(x.x,y.x)',\n        'mul(x.x,y.x),mul(x.x,y.y)',\n        'mul(x.x,y.x),mul(x.y,y.x)',\n        'sub(mul(x.x,y.x),mul(x.y,y.y)),add(mul(x.x,y.y),mul(x.y,y.x))');\n\nnumeric.T.prototype.reciprocal = function reciprocal() {\n    var mul = numeric.mul, div = numeric.div;\n    if(this.y) {\n        var d = numeric.add(mul(this.x,this.x),mul(this.y,this.y));\n        return new numeric.T(div(this.x,d),div(numeric.neg(this.y),d));\n    }\n    return new T(div(1,this.x));\n}\nnumeric.T.prototype.div = function div(y) {\n    if(!(y instanceof numeric.T)) y = new numeric.T(y);\n    if(y.y) { return this.mul(y.reciprocal()); }\n    var div = numeric.div;\n    if(this.y) { return new numeric.T(div(this.x,y.x),div(this.y,y.x)); }\n    return new numeric.T(div(this.x,y.x));\n}\nnumeric.T.prototype.dot = numeric.Tbinop(\n        'dot(x.x,y.x)',\n        'dot(x.x,y.x),dot(x.x,y.y)',\n        'dot(x.x,y.x),dot(x.y,y.x)',\n        'sub(dot(x.x,y.x),dot(x.y,y.y)),add(dot(x.x,y.y),dot(x.y,y.x))'\n        );\nnumeric.T.prototype.transpose = function transpose() {\n    var t = numeric.transpose, x = this.x, y = this.y;\n    if(y) { return new numeric.T(t(x),t(y)); }\n    return new numeric.T(t(x));\n}\nnumeric.T.prototype.transjugate = function transjugate() {\n    var t = numeric.transpose, x = this.x, y = this.y;\n    if(y) { return new numeric.T(t(x),numeric.negtranspose(y)); }\n    return new numeric.T(t(x));\n}\nnumeric.Tunop = function Tunop(r,c,s) {\n    if(typeof s !== \"string\") { s = ''; }\n    return Function(\n            'var x = this;\\n'+\n            s+'\\n'+\n            'if(x.y) {'+\n            '  '+c+';\\n'+\n            '}\\n'+\n            r+';\\n'\n    );\n}\n\nnumeric.T.prototype.exp = numeric.Tunop(\n        'return new numeric.T(ex)',\n        'return new numeric.T(mul(cos(x.y),ex),mul(sin(x.y),ex))',\n        'var ex = numeric.exp(x.x), cos = numeric.cos, sin = numeric.sin, mul = numeric.mul;');\nnumeric.T.prototype.conj = numeric.Tunop(\n        'return new numeric.T(x.x);',\n        'return new numeric.T(x.x,numeric.neg(x.y));');\nnumeric.T.prototype.neg = numeric.Tunop(\n        'return new numeric.T(neg(x.x));',\n        'return new numeric.T(neg(x.x),neg(x.y));',\n        'var neg = numeric.neg;');\nnumeric.T.prototype.sin = numeric.Tunop(\n        'return new numeric.T(numeric.sin(x.x))',\n        'return x.exp().sub(x.neg().exp()).div(new numeric.T(0,2));');\nnumeric.T.prototype.cos = numeric.Tunop(\n        'return new numeric.T(numeric.cos(x.x))',\n        'return x.exp().add(x.neg().exp()).div(2);');\nnumeric.T.prototype.abs = numeric.Tunop(\n        'return new numeric.T(numeric.abs(x.x));',\n        'return new numeric.T(numeric.sqrt(numeric.add(mul(x.x,x.x),mul(x.y,x.y))));',\n        'var mul = numeric.mul;');\nnumeric.T.prototype.log = numeric.Tunop(\n        'return new numeric.T(numeric.log(x.x));',\n        'var theta = new numeric.T(numeric.atan2(x.y,x.x)), r = x.abs();\\n'+\n        'return new numeric.T(numeric.log(r.x),theta.x);');\nnumeric.T.prototype.norm2 = numeric.Tunop(\n        'return numeric.norm2(x.x);',\n        'var f = numeric.norm2Squared;\\n'+\n        'return Math.sqrt(f(x.x)+f(x.y));');\nnumeric.T.prototype.inv = function inv() {\n    var A = this;\n    if(typeof A.y === \"undefined\") { return new numeric.T(numeric.inv(A.x)); }\n    var n = A.x.length, i, j, k;\n    var Rx = numeric.identity(n),Ry = numeric.rep([n,n],0);\n    var Ax = numeric.clone(A.x), Ay = numeric.clone(A.y);\n    var Aix, Aiy, Ajx, Ajy, Rix, Riy, Rjx, Rjy;\n    var i,j,k,d,d1,ax,ay,bx,by,temp;\n    for(i=0;i<n;i++) {\n        ax = Ax[i][i]; ay = Ay[i][i];\n        d = ax*ax+ay*ay;\n        k = i;\n        for(j=i+1;j<n;j++) {\n            ax = Ax[j][i]; ay = Ay[j][i];\n            d1 = ax*ax+ay*ay;\n            if(d1 > d) { k=j; d = d1; }\n        }\n        if(k!==i) {\n            temp = Ax[i]; Ax[i] = Ax[k]; Ax[k] = temp;\n            temp = Ay[i]; Ay[i] = Ay[k]; Ay[k] = temp;\n            temp = Rx[i]; Rx[i] = Rx[k]; Rx[k] = temp;\n            temp = Ry[i]; Ry[i] = Ry[k]; Ry[k] = temp;\n        }\n        Aix = Ax[i]; Aiy = Ay[i];\n        Rix = Rx[i]; Riy = Ry[i];\n        ax = Aix[i]; ay = Aiy[i];\n        for(j=i+1;j<n;j++) {\n            bx = Aix[j]; by = Aiy[j];\n            Aix[j] = (bx*ax+by*ay)/d;\n            Aiy[j] = (by*ax-bx*ay)/d;\n        }\n        for(j=0;j<n;j++) {\n            bx = Rix[j]; by = Riy[j];\n            Rix[j] = (bx*ax+by*ay)/d;\n            Riy[j] = (by*ax-bx*ay)/d;\n        }\n        for(j=i+1;j<n;j++) {\n            Ajx = Ax[j]; Ajy = Ay[j];\n            Rjx = Rx[j]; Rjy = Ry[j];\n            ax = Ajx[i]; ay = Ajy[i];\n            for(k=i+1;k<n;k++) {\n                bx = Aix[k]; by = Aiy[k];\n                Ajx[k] -= bx*ax-by*ay;\n                Ajy[k] -= by*ax+bx*ay;\n            }\n            for(k=0;k<n;k++) {\n                bx = Rix[k]; by = Riy[k];\n                Rjx[k] -= bx*ax-by*ay;\n                Rjy[k] -= by*ax+bx*ay;\n            }\n        }\n    }\n    for(i=n-1;i>0;i--) {\n        Rix = Rx[i]; Riy = Ry[i];\n        for(j=i-1;j>=0;j--) {\n            Rjx = Rx[j]; Rjy = Ry[j];\n            ax = Ax[j][i]; ay = Ay[j][i];\n            for(k=n-1;k>=0;k--) {\n                bx = Rix[k]; by = Riy[k];\n                Rjx[k] -= ax*bx - ay*by;\n                Rjy[k] -= ax*by + ay*bx;\n            }\n        }\n    }\n    return new numeric.T(Rx,Ry);\n}\nnumeric.T.prototype.get = function get(i) {\n    var x = this.x, y = this.y, k = 0, ik, n = i.length;\n    if(y) {\n        while(k<n) {\n            ik = i[k];\n            x = x[ik];\n            y = y[ik];\n            k++;\n        }\n        return new numeric.T(x,y);\n    }\n    while(k<n) {\n        ik = i[k];\n        x = x[ik];\n        k++;\n    }\n    return new numeric.T(x);\n}\nnumeric.T.prototype.set = function set(i,v) {\n    var x = this.x, y = this.y, k = 0, ik, n = i.length, vx = v.x, vy = v.y;\n    if(n===0) {\n        if(vy) { this.y = vy; }\n        else if(y) { this.y = undefined; }\n        this.x = x;\n        return this;\n    }\n    if(vy) {\n        if(y) { /* ok */ }\n        else {\n            y = numeric.rep(numeric.dim(x),0);\n            this.y = y;\n        }\n        while(k<n-1) {\n            ik = i[k];\n            x = x[ik];\n            y = y[ik];\n            k++;\n        }\n        ik = i[k];\n        x[ik] = vx;\n        y[ik] = vy;\n        return this;\n    }\n    if(y) {\n        while(k<n-1) {\n            ik = i[k];\n            x = x[ik];\n            y = y[ik];\n            k++;\n        }\n        ik = i[k];\n        x[ik] = vx;\n        if(vx instanceof Array) y[ik] = numeric.rep(numeric.dim(vx),0);\n        else y[ik] = 0;\n        return this;\n    }\n    while(k<n-1) {\n        ik = i[k];\n        x = x[ik];\n        k++;\n    }\n    ik = i[k];\n    x[ik] = vx;\n    return this;\n}\nnumeric.T.prototype.getRows = function getRows(i0,i1) {\n    var n = i1-i0+1, j;\n    var rx = Array(n), ry, x = this.x, y = this.y;\n    for(j=i0;j<=i1;j++) { rx[j-i0] = x[j]; }\n    if(y) {\n        ry = Array(n);\n        for(j=i0;j<=i1;j++) { ry[j-i0] = y[j]; }\n        return new numeric.T(rx,ry);\n    }\n    return new numeric.T(rx);\n}\nnumeric.T.prototype.setRows = function setRows(i0,i1,A) {\n    var j;\n    var rx = this.x, ry = this.y, x = A.x, y = A.y;\n    for(j=i0;j<=i1;j++) { rx[j] = x[j-i0]; }\n    if(y) {\n        if(!ry) { ry = numeric.rep(numeric.dim(rx),0); this.y = ry; }\n        for(j=i0;j<=i1;j++) { ry[j] = y[j-i0]; }\n    } else if(ry) {\n        for(j=i0;j<=i1;j++) { ry[j] = numeric.rep([x[j-i0].length],0); }\n    }\n    return this;\n}\nnumeric.T.prototype.getRow = function getRow(k) {\n    var x = this.x, y = this.y;\n    if(y) { return new numeric.T(x[k],y[k]); }\n    return new numeric.T(x[k]);\n}\nnumeric.T.prototype.setRow = function setRow(i,v) {\n    var rx = this.x, ry = this.y, x = v.x, y = v.y;\n    rx[i] = x;\n    if(y) {\n        if(!ry) { ry = numeric.rep(numeric.dim(rx),0); this.y = ry; }\n        ry[i] = y;\n    } else if(ry) {\n        ry = numeric.rep([x.length],0);\n    }\n    return this;\n}\n\nnumeric.T.prototype.getBlock = function getBlock(from,to) {\n    var x = this.x, y = this.y, b = numeric.getBlock;\n    if(y) { return new numeric.T(b(x,from,to),b(y,from,to)); }\n    return new numeric.T(b(x,from,to));\n}\nnumeric.T.prototype.setBlock = function setBlock(from,to,A) {\n    if(!(A instanceof numeric.T)) A = new numeric.T(A);\n    var x = this.x, y = this.y, b = numeric.setBlock, Ax = A.x, Ay = A.y;\n    if(Ay) {\n        if(!y) { this.y = numeric.rep(numeric.dim(this),0); y = this.y; }\n        b(x,from,to,Ax);\n        b(y,from,to,Ay);\n        return this;\n    }\n    b(x,from,to,Ax);\n    if(y) b(y,from,to,numeric.rep(numeric.dim(Ax),0));\n}\nnumeric.T.rep = function rep(s,v) {\n    var T = numeric.T;\n    if(!(v instanceof T)) v = new T(v);\n    var x = v.x, y = v.y, r = numeric.rep;\n    if(y) return new T(r(s,x),r(s,y));\n    return new T(r(s,x));\n}\nnumeric.T.diag = function diag(d) {\n    if(!(d instanceof numeric.T)) d = new numeric.T(d);\n    var x = d.x, y = d.y, diag = numeric.diag;\n    if(y) return new numeric.T(diag(x),diag(y));\n    return new numeric.T(diag(x));\n}\nnumeric.T.eig = function eig() {\n    if(this.y) { throw new Error('eig: not implemented for complex matrices.'); }\n    return numeric.eig(this.x);\n}\nnumeric.T.identity = function identity(n) { return new numeric.T(numeric.identity(n)); }\nnumeric.T.prototype.getDiag = function getDiag() {\n    var n = numeric;\n    var x = this.x, y = this.y;\n    if(y) { return new n.T(n.getDiag(x),n.getDiag(y)); }\n    return new n.T(n.getDiag(x));\n}\n\n// 4. Eigenvalues of real matrices\n\nnumeric.house = function house(x) {\n    var v = numeric.clone(x);\n    var s = x[0] >= 0 ? 1 : -1;\n    var alpha = s*numeric.norm2(x);\n    v[0] += alpha;\n    var foo = numeric.norm2(v);\n    if(foo === 0) { /* this should not happen */ throw new Error('eig: internal error'); }\n    return numeric.div(v,foo);\n}\n\nnumeric.toUpperHessenberg = function toUpperHessenberg(me) {\n    var s = numeric.dim(me);\n    if(s.length !== 2 || s[0] !== s[1]) { throw new Error('numeric: toUpperHessenberg() only works on square matrices'); }\n    var m = s[0], i,j,k,x,v,A = numeric.clone(me),B,C,Ai,Ci,Q = numeric.identity(m),Qi;\n    for(j=0;j<m-2;j++) {\n        x = Array(m-j-1);\n        for(i=j+1;i<m;i++) { x[i-j-1] = A[i][j]; }\n        if(numeric.norm2(x)>0) {\n            v = numeric.house(x);\n            B = numeric.getBlock(A,[j+1,j],[m-1,m-1]);\n            C = numeric.tensor(v,numeric.dot(v,B));\n            for(i=j+1;i<m;i++) { Ai = A[i]; Ci = C[i-j-1]; for(k=j;k<m;k++) Ai[k] -= 2*Ci[k-j]; }\n            B = numeric.getBlock(A,[0,j+1],[m-1,m-1]);\n            C = numeric.tensor(numeric.dot(B,v),v);\n            for(i=0;i<m;i++) { Ai = A[i]; Ci = C[i]; for(k=j+1;k<m;k++) Ai[k] -= 2*Ci[k-j-1]; }\n            B = Array(m-j-1);\n            for(i=j+1;i<m;i++) B[i-j-1] = Q[i];\n            C = numeric.tensor(v,numeric.dot(v,B));\n            for(i=j+1;i<m;i++) { Qi = Q[i]; Ci = C[i-j-1]; for(k=0;k<m;k++) Qi[k] -= 2*Ci[k]; }\n        }\n    }\n    return {H:A, Q:Q};\n}\n\nnumeric.epsilon = 2.220446049250313e-16;\n\nnumeric.QRFrancis = function(H,maxiter) {\n    if(typeof maxiter === \"undefined\") { maxiter = 10000; }\n    H = numeric.clone(H);\n    var H0 = numeric.clone(H);\n    var s = numeric.dim(H),m=s[0],x,v,a,b,c,d,det,tr, Hloc, Q = numeric.identity(m), Qi, Hi, B, C, Ci,i,j,k,iter;\n    if(m<3) { return {Q:Q, B:[ [0,m-1] ]}; }\n    var epsilon = numeric.epsilon;\n    for(iter=0;iter<maxiter;iter++) {\n        for(j=0;j<m-1;j++) {\n            if(Math.abs(H[j+1][j]) < epsilon*(Math.abs(H[j][j])+Math.abs(H[j+1][j+1]))) {\n                var QH1 = numeric.QRFrancis(numeric.getBlock(H,[0,0],[j,j]),maxiter);\n                var QH2 = numeric.QRFrancis(numeric.getBlock(H,[j+1,j+1],[m-1,m-1]),maxiter);\n                B = Array(j+1);\n                for(i=0;i<=j;i++) { B[i] = Q[i]; }\n                C = numeric.dot(QH1.Q,B);\n                for(i=0;i<=j;i++) { Q[i] = C[i]; }\n                B = Array(m-j-1);\n                for(i=j+1;i<m;i++) { B[i-j-1] = Q[i]; }\n                C = numeric.dot(QH2.Q,B);\n                for(i=j+1;i<m;i++) { Q[i] = C[i-j-1]; }\n                return {Q:Q,B:QH1.B.concat(numeric.add(QH2.B,j+1))};\n            }\n        }\n        a = H[m-2][m-2]; b = H[m-2][m-1];\n        c = H[m-1][m-2]; d = H[m-1][m-1];\n        tr = a+d;\n        det = (a*d-b*c);\n        Hloc = numeric.getBlock(H, [0,0], [2,2]);\n        if(tr*tr>=4*det) {\n            var s1,s2;\n            s1 = 0.5*(tr+Math.sqrt(tr*tr-4*det));\n            s2 = 0.5*(tr-Math.sqrt(tr*tr-4*det));\n            Hloc = numeric.add(numeric.sub(numeric.dot(Hloc,Hloc),\n                                           numeric.mul(Hloc,s1+s2)),\n                               numeric.diag(numeric.rep([3],s1*s2)));\n        } else {\n            Hloc = numeric.add(numeric.sub(numeric.dot(Hloc,Hloc),\n                                           numeric.mul(Hloc,tr)),\n                               numeric.diag(numeric.rep([3],det)));\n        }\n        x = [Hloc[0][0],Hloc[1][0],Hloc[2][0]];\n        v = numeric.house(x);\n        B = [H[0],H[1],H[2]];\n        C = numeric.tensor(v,numeric.dot(v,B));\n        for(i=0;i<3;i++) { Hi = H[i]; Ci = C[i]; for(k=0;k<m;k++) Hi[k] -= 2*Ci[k]; }\n        B = numeric.getBlock(H, [0,0],[m-1,2]);\n        C = numeric.tensor(numeric.dot(B,v),v);\n        for(i=0;i<m;i++) { Hi = H[i]; Ci = C[i]; for(k=0;k<3;k++) Hi[k] -= 2*Ci[k]; }\n        B = [Q[0],Q[1],Q[2]];\n        C = numeric.tensor(v,numeric.dot(v,B));\n        for(i=0;i<3;i++) { Qi = Q[i]; Ci = C[i]; for(k=0;k<m;k++) Qi[k] -= 2*Ci[k]; }\n        var J;\n        for(j=0;j<m-2;j++) {\n            for(k=j;k<=j+1;k++) {\n                if(Math.abs(H[k+1][k]) < epsilon*(Math.abs(H[k][k])+Math.abs(H[k+1][k+1]))) {\n                    var QH1 = numeric.QRFrancis(numeric.getBlock(H,[0,0],[k,k]),maxiter);\n                    var QH2 = numeric.QRFrancis(numeric.getBlock(H,[k+1,k+1],[m-1,m-1]),maxiter);\n                    B = Array(k+1);\n                    for(i=0;i<=k;i++) { B[i] = Q[i]; }\n                    C = numeric.dot(QH1.Q,B);\n                    for(i=0;i<=k;i++) { Q[i] = C[i]; }\n                    B = Array(m-k-1);\n                    for(i=k+1;i<m;i++) { B[i-k-1] = Q[i]; }\n                    C = numeric.dot(QH2.Q,B);\n                    for(i=k+1;i<m;i++) { Q[i] = C[i-k-1]; }\n                    return {Q:Q,B:QH1.B.concat(numeric.add(QH2.B,k+1))};\n                }\n            }\n            J = Math.min(m-1,j+3);\n            x = Array(J-j);\n            for(i=j+1;i<=J;i++) { x[i-j-1] = H[i][j]; }\n            v = numeric.house(x);\n            B = numeric.getBlock(H, [j+1,j],[J,m-1]);\n            C = numeric.tensor(v,numeric.dot(v,B));\n            for(i=j+1;i<=J;i++) { Hi = H[i]; Ci = C[i-j-1]; for(k=j;k<m;k++) Hi[k] -= 2*Ci[k-j]; }\n            B = numeric.getBlock(H, [0,j+1],[m-1,J]);\n            C = numeric.tensor(numeric.dot(B,v),v);\n            for(i=0;i<m;i++) { Hi = H[i]; Ci = C[i]; for(k=j+1;k<=J;k++) Hi[k] -= 2*Ci[k-j-1]; }\n            B = Array(J-j);\n            for(i=j+1;i<=J;i++) B[i-j-1] = Q[i];\n            C = numeric.tensor(v,numeric.dot(v,B));\n            for(i=j+1;i<=J;i++) { Qi = Q[i]; Ci = C[i-j-1]; for(k=0;k<m;k++) Qi[k] -= 2*Ci[k]; }\n        }\n    }\n    throw new Error('numeric: eigenvalue iteration does not converge -- increase maxiter?');\n}\n\nnumeric.eig = function eig(A,maxiter) {\n    var QH = numeric.toUpperHessenberg(A);\n    var QB = numeric.QRFrancis(QH.H,maxiter);\n    var T = numeric.T;\n    var n = A.length,i,k,flag = false,B = QB.B,H = numeric.dot(QB.Q,numeric.dot(QH.H,numeric.transpose(QB.Q)));\n    var Q = new T(numeric.dot(QB.Q,QH.Q)),Q0;\n    var m = B.length,j;\n    var a,b,c,d,p1,p2,disc,x,y,p,q,n1,n2;\n    var sqrt = Math.sqrt;\n    for(k=0;k<m;k++) {\n        i = B[k][0];\n        if(i === B[k][1]) {\n            // nothing\n        } else {\n            j = i+1;\n            a = H[i][i];\n            b = H[i][j];\n            c = H[j][i];\n            d = H[j][j];\n            if(b === 0 && c === 0) continue;\n            p1 = -a-d;\n            p2 = a*d-b*c;\n            disc = p1*p1-4*p2;\n            if(disc>=0) {\n                if(p1<0) x = -0.5*(p1-sqrt(disc));\n                else     x = -0.5*(p1+sqrt(disc));\n                n1 = (a-x)*(a-x)+b*b;\n                n2 = c*c+(d-x)*(d-x);\n                if(n1>n2) {\n                    n1 = sqrt(n1);\n                    p = (a-x)/n1;\n                    q = b/n1;\n                } else {\n                    n2 = sqrt(n2);\n                    p = c/n2;\n                    q = (d-x)/n2;\n                }\n                Q0 = new T([[q,-p],[p,q]]);\n                Q.setRows(i,j,Q0.dot(Q.getRows(i,j)));\n            } else {\n                x = -0.5*p1;\n                y = 0.5*sqrt(-disc);\n                n1 = (a-x)*(a-x)+b*b;\n                n2 = c*c+(d-x)*(d-x);\n                if(n1>n2) {\n                    n1 = sqrt(n1+y*y);\n                    p = (a-x)/n1;\n                    q = b/n1;\n                    x = 0;\n                    y /= n1;\n                } else {\n                    n2 = sqrt(n2+y*y);\n                    p = c/n2;\n                    q = (d-x)/n2;\n                    x = y/n2;\n                    y = 0;\n                }\n                Q0 = new T([[q,-p],[p,q]],[[x,y],[y,-x]]);\n                Q.setRows(i,j,Q0.dot(Q.getRows(i,j)));\n            }\n        }\n    }\n    var R = Q.dot(A).dot(Q.transjugate()), n = A.length, E = numeric.T.identity(n);\n    for(j=0;j<n;j++) {\n        if(j>0) {\n            for(k=j-1;k>=0;k--) {\n                var Rk = R.get([k,k]), Rj = R.get([j,j]);\n                if(numeric.neq(Rk.x,Rj.x) || numeric.neq(Rk.y,Rj.y)) {\n                    x = R.getRow(k).getBlock([k],[j-1]);\n                    y = E.getRow(j).getBlock([k],[j-1]);\n                    E.set([j,k],(R.get([k,j]).neg().sub(x.dot(y))).div(Rk.sub(Rj)));\n                } else {\n                    E.setRow(j,E.getRow(k));\n                    continue;\n                }\n            }\n        }\n    }\n    for(j=0;j<n;j++) {\n        x = E.getRow(j);\n        E.setRow(j,x.div(x.norm2()));\n    }\n    E = E.transpose();\n    E = Q.transjugate().dot(E);\n    return { lambda:R.getDiag(), E:E };\n};\n\n// 5. Compressed Column Storage matrices\nnumeric.ccsSparse = function ccsSparse(A) {\n    var m = A.length,n,foo, i,j, counts = [];\n    for(i=m-1;i!==-1;--i) {\n        foo = A[i];\n        for(j in foo) {\n            j = parseInt(j);\n            while(j>=counts.length) counts[counts.length] = 0;\n            if(foo[j]!==0) counts[j]++;\n        }\n    }\n    var n = counts.length;\n    var Ai = Array(n+1);\n    Ai[0] = 0;\n    for(i=0;i<n;++i) Ai[i+1] = Ai[i] + counts[i];\n    var Aj = Array(Ai[n]), Av = Array(Ai[n]);\n    for(i=m-1;i!==-1;--i) {\n        foo = A[i];\n        for(j in foo) {\n            if(foo[j]!==0) {\n                counts[j]--;\n                Aj[Ai[j]+counts[j]] = i;\n                Av[Ai[j]+counts[j]] = foo[j];\n            }\n        }\n    }\n    return [Ai,Aj,Av];\n}\nnumeric.ccsFull = function ccsFull(A) {\n    var Ai = A[0], Aj = A[1], Av = A[2], s = numeric.ccsDim(A), m = s[0], n = s[1], i,j,j0,j1,k;\n    var B = numeric.rep([m,n],0);\n    for(i=0;i<n;i++) {\n        j0 = Ai[i];\n        j1 = Ai[i+1];\n        for(j=j0;j<j1;++j) { B[Aj[j]][i] = Av[j]; }\n    }\n    return B;\n}\nnumeric.ccsTSolve = function ccsTSolve(A,b,x,bj,xj) {\n    var Ai = A[0], Aj = A[1], Av = A[2],m = Ai.length-1, max = Math.max,n=0;\n    if(typeof bj === \"undefined\") x = numeric.rep([m],0);\n    if(typeof bj === \"undefined\") bj = numeric.linspace(0,x.length-1);\n    if(typeof xj === \"undefined\") xj = [];\n    function dfs(j) {\n        var k;\n        if(x[j] !== 0) return;\n        x[j] = 1;\n        for(k=Ai[j];k<Ai[j+1];++k) dfs(Aj[k]);\n        xj[n] = j;\n        ++n;\n    }\n    var i,j,j0,j1,k,l,l0,l1,a;\n    for(i=bj.length-1;i!==-1;--i) { dfs(bj[i]); }\n    xj.length = n;\n    for(i=xj.length-1;i!==-1;--i) { x[xj[i]] = 0; }\n    for(i=bj.length-1;i!==-1;--i) { j = bj[i]; x[j] = b[j]; }\n    for(i=xj.length-1;i!==-1;--i) {\n        j = xj[i];\n        j0 = Ai[j];\n        j1 = max(Ai[j+1],j0);\n        for(k=j0;k!==j1;++k) { if(Aj[k] === j) { x[j] /= Av[k]; break; } }\n        a = x[j];\n        for(k=j0;k!==j1;++k) {\n            l = Aj[k];\n            if(l !== j) x[l] -= a*Av[k];\n        }\n    }\n    return x;\n}\nnumeric.ccsDFS = function ccsDFS(n) {\n    this.k = Array(n);\n    this.k1 = Array(n);\n    this.j = Array(n);\n}\nnumeric.ccsDFS.prototype.dfs = function dfs(J,Ai,Aj,x,xj,Pinv) {\n    var m = 0,foo,n=xj.length;\n    var k = this.k, k1 = this.k1, j = this.j,km,k11;\n    if(x[J]!==0) return;\n    x[J] = 1;\n    j[0] = J;\n    k[0] = km = Ai[J];\n    k1[0] = k11 = Ai[J+1];\n    while(1) {\n        if(km >= k11) {\n            xj[n] = j[m];\n            if(m===0) return;\n            ++n;\n            --m;\n            km = k[m];\n            k11 = k1[m];\n        } else {\n            foo = Pinv[Aj[km]];\n            if(x[foo] === 0) {\n                x[foo] = 1;\n                k[m] = km;\n                ++m;\n                j[m] = foo;\n                km = Ai[foo];\n                k1[m] = k11 = Ai[foo+1];\n            } else ++km;\n        }\n    }\n}\nnumeric.ccsLPSolve = function ccsLPSolve(A,B,x,xj,I,Pinv,dfs) {\n    var Ai = A[0], Aj = A[1], Av = A[2],m = Ai.length-1, n=0;\n    var Bi = B[0], Bj = B[1], Bv = B[2];\n    \n    var i,i0,i1,j,J,j0,j1,k,l,l0,l1,a;\n    i0 = Bi[I];\n    i1 = Bi[I+1];\n    xj.length = 0;\n    for(i=i0;i<i1;++i) { dfs.dfs(Pinv[Bj[i]],Ai,Aj,x,xj,Pinv); }\n    for(i=xj.length-1;i!==-1;--i) { x[xj[i]] = 0; }\n    for(i=i0;i!==i1;++i) { j = Pinv[Bj[i]]; x[j] = Bv[i]; }\n    for(i=xj.length-1;i!==-1;--i) {\n        j = xj[i];\n        j0 = Ai[j];\n        j1 = Ai[j+1];\n        for(k=j0;k<j1;++k) { if(Pinv[Aj[k]] === j) { x[j] /= Av[k]; break; } }\n        a = x[j];\n        for(k=j0;k<j1;++k) {\n            l = Pinv[Aj[k]];\n            if(l !== j) x[l] -= a*Av[k];\n        }\n    }\n    return x;\n}\nnumeric.ccsLUP1 = function ccsLUP1(A,threshold) {\n    var m = A[0].length-1;\n    var L = [numeric.rep([m+1],0),[],[]], U = [numeric.rep([m+1], 0),[],[]];\n    var Li = L[0], Lj = L[1], Lv = L[2], Ui = U[0], Uj = U[1], Uv = U[2];\n    var x = numeric.rep([m],0), xj = numeric.rep([m],0);\n    var i,j,k,j0,j1,a,e,c,d,K;\n    var sol = numeric.ccsLPSolve, max = Math.max, abs = Math.abs;\n    var P = numeric.linspace(0,m-1),Pinv = numeric.linspace(0,m-1);\n    var dfs = new numeric.ccsDFS(m);\n    if(typeof threshold === \"undefined\") { threshold = 1; }\n    for(i=0;i<m;++i) {\n        sol(L,A,x,xj,i,Pinv,dfs);\n        a = -1;\n        e = -1;\n        for(j=xj.length-1;j!==-1;--j) {\n            k = xj[j];\n            if(k <= i) continue;\n            c = abs(x[k]);\n            if(c > a) { e = k; a = c; }\n        }\n        if(abs(x[i])<threshold*a) {\n            j = P[i];\n            a = P[e];\n            P[i] = a; Pinv[a] = i;\n            P[e] = j; Pinv[j] = e;\n            a = x[i]; x[i] = x[e]; x[e] = a;\n        }\n        a = Li[i];\n        e = Ui[i];\n        d = x[i];\n        Lj[a] = P[i];\n        Lv[a] = 1;\n        ++a;\n        for(j=xj.length-1;j!==-1;--j) {\n            k = xj[j];\n            c = x[k];\n            xj[j] = 0;\n            x[k] = 0;\n            if(k<=i) { Uj[e] = k; Uv[e] = c;   ++e; }\n            else     { Lj[a] = P[k]; Lv[a] = c/d; ++a; }\n        }\n        Li[i+1] = a;\n        Ui[i+1] = e;\n    }\n    for(j=Lj.length-1;j!==-1;--j) { Lj[j] = Pinv[Lj[j]]; }\n    return {L:L, U:U, P:P, Pinv:Pinv};\n}\nnumeric.ccsDFS0 = function ccsDFS0(n) {\n    this.k = Array(n);\n    this.k1 = Array(n);\n    this.j = Array(n);\n}\nnumeric.ccsDFS0.prototype.dfs = function dfs(J,Ai,Aj,x,xj,Pinv,P) {\n    var m = 0,foo,n=xj.length;\n    var k = this.k, k1 = this.k1, j = this.j,km,k11;\n    if(x[J]!==0) return;\n    x[J] = 1;\n    j[0] = J;\n    k[0] = km = Ai[Pinv[J]];\n    k1[0] = k11 = Ai[Pinv[J]+1];\n    while(1) {\n        if(isNaN(km)) throw new Error(\"Ow!\");\n        if(km >= k11) {\n            xj[n] = Pinv[j[m]];\n            if(m===0) return;\n            ++n;\n            --m;\n            km = k[m];\n            k11 = k1[m];\n        } else {\n            foo = Aj[km];\n            if(x[foo] === 0) {\n                x[foo] = 1;\n                k[m] = km;\n                ++m;\n                j[m] = foo;\n                foo = Pinv[foo];\n                km = Ai[foo];\n                k1[m] = k11 = Ai[foo+1];\n            } else ++km;\n        }\n    }\n}\nnumeric.ccsLPSolve0 = function ccsLPSolve0(A,B,y,xj,I,Pinv,P,dfs) {\n    var Ai = A[0], Aj = A[1], Av = A[2],m = Ai.length-1, n=0;\n    var Bi = B[0], Bj = B[1], Bv = B[2];\n    \n    var i,i0,i1,j,J,j0,j1,k,l,l0,l1,a;\n    i0 = Bi[I];\n    i1 = Bi[I+1];\n    xj.length = 0;\n    for(i=i0;i<i1;++i) { dfs.dfs(Bj[i],Ai,Aj,y,xj,Pinv,P); }\n    for(i=xj.length-1;i!==-1;--i) { j = xj[i]; y[P[j]] = 0; }\n    for(i=i0;i!==i1;++i) { j = Bj[i]; y[j] = Bv[i]; }\n    for(i=xj.length-1;i!==-1;--i) {\n        j = xj[i];\n        l = P[j];\n        j0 = Ai[j];\n        j1 = Ai[j+1];\n        for(k=j0;k<j1;++k) { if(Aj[k] === l) { y[l] /= Av[k]; break; } }\n        a = y[l];\n        for(k=j0;k<j1;++k) y[Aj[k]] -= a*Av[k];\n        y[l] = a;\n    }\n}\nnumeric.ccsLUP0 = function ccsLUP0(A,threshold) {\n    var m = A[0].length-1;\n    var L = [numeric.rep([m+1],0),[],[]], U = [numeric.rep([m+1], 0),[],[]];\n    var Li = L[0], Lj = L[1], Lv = L[2], Ui = U[0], Uj = U[1], Uv = U[2];\n    var y = numeric.rep([m],0), xj = numeric.rep([m],0);\n    var i,j,k,j0,j1,a,e,c,d,K;\n    var sol = numeric.ccsLPSolve0, max = Math.max, abs = Math.abs;\n    var P = numeric.linspace(0,m-1),Pinv = numeric.linspace(0,m-1);\n    var dfs = new numeric.ccsDFS0(m);\n    if(typeof threshold === \"undefined\") { threshold = 1; }\n    for(i=0;i<m;++i) {\n        sol(L,A,y,xj,i,Pinv,P,dfs);\n        a = -1;\n        e = -1;\n        for(j=xj.length-1;j!==-1;--j) {\n            k = xj[j];\n            if(k <= i) continue;\n            c = abs(y[P[k]]);\n            if(c > a) { e = k; a = c; }\n        }\n        if(abs(y[P[i]])<threshold*a) {\n            j = P[i];\n            a = P[e];\n            P[i] = a; Pinv[a] = i;\n            P[e] = j; Pinv[j] = e;\n        }\n        a = Li[i];\n        e = Ui[i];\n        d = y[P[i]];\n        Lj[a] = P[i];\n        Lv[a] = 1;\n        ++a;\n        for(j=xj.length-1;j!==-1;--j) {\n            k = xj[j];\n            c = y[P[k]];\n            xj[j] = 0;\n            y[P[k]] = 0;\n            if(k<=i) { Uj[e] = k; Uv[e] = c;   ++e; }\n            else     { Lj[a] = P[k]; Lv[a] = c/d; ++a; }\n        }\n        Li[i+1] = a;\n        Ui[i+1] = e;\n    }\n    for(j=Lj.length-1;j!==-1;--j) { Lj[j] = Pinv[Lj[j]]; }\n    return {L:L, U:U, P:P, Pinv:Pinv};\n}\nnumeric.ccsLUP = numeric.ccsLUP0;\n\nnumeric.ccsDim = function ccsDim(A) { return [numeric.sup(A[1])+1,A[0].length-1]; }\nnumeric.ccsGetBlock = function ccsGetBlock(A,i,j) {\n    var s = numeric.ccsDim(A),m=s[0],n=s[1];\n    if(typeof i === \"undefined\") { i = numeric.linspace(0,m-1); }\n    else if(typeof i === \"number\") { i = [i]; }\n    if(typeof j === \"undefined\") { j = numeric.linspace(0,n-1); }\n    else if(typeof j === \"number\") { j = [j]; }\n    var p,p0,p1,P = i.length,q,Q = j.length,r,jq,ip;\n    var Bi = numeric.rep([n],0), Bj=[], Bv=[], B = [Bi,Bj,Bv];\n    var Ai = A[0], Aj = A[1], Av = A[2];\n    var x = numeric.rep([m],0),count=0,flags = numeric.rep([m],0);\n    for(q=0;q<Q;++q) {\n        jq = j[q];\n        var q0 = Ai[jq];\n        var q1 = Ai[jq+1];\n        for(p=q0;p<q1;++p) {\n            r = Aj[p];\n            flags[r] = 1;\n            x[r] = Av[p];\n        }\n        for(p=0;p<P;++p) {\n            ip = i[p];\n            if(flags[ip]) {\n                Bj[count] = p;\n                Bv[count] = x[i[p]];\n                ++count;\n            }\n        }\n        for(p=q0;p<q1;++p) {\n            r = Aj[p];\n            flags[r] = 0;\n        }\n        Bi[q+1] = count;\n    }\n    return B;\n}\n\nnumeric.ccsDot = function ccsDot(A,B) {\n    var Ai = A[0], Aj = A[1], Av = A[2];\n    var Bi = B[0], Bj = B[1], Bv = B[2];\n    var sA = numeric.ccsDim(A), sB = numeric.ccsDim(B);\n    var m = sA[0], n = sA[1], o = sB[1];\n    var x = numeric.rep([m],0), flags = numeric.rep([m],0), xj = Array(m);\n    var Ci = numeric.rep([o],0), Cj = [], Cv = [], C = [Ci,Cj,Cv];\n    var i,j,k,j0,j1,i0,i1,l,p,a,b;\n    for(k=0;k!==o;++k) {\n        j0 = Bi[k];\n        j1 = Bi[k+1];\n        p = 0;\n        for(j=j0;j<j1;++j) {\n            a = Bj[j];\n            b = Bv[j];\n            i0 = Ai[a];\n            i1 = Ai[a+1];\n            for(i=i0;i<i1;++i) {\n                l = Aj[i];\n                if(flags[l]===0) {\n                    xj[p] = l;\n                    flags[l] = 1;\n                    p = p+1;\n                }\n                x[l] = x[l] + Av[i]*b;\n            }\n        }\n        j0 = Ci[k];\n        j1 = j0+p;\n        Ci[k+1] = j1;\n        for(j=p-1;j!==-1;--j) {\n            b = j0+j;\n            i = xj[j];\n            Cj[b] = i;\n            Cv[b] = x[i];\n            flags[i] = 0;\n            x[i] = 0;\n        }\n        Ci[k+1] = Ci[k]+p;\n    }\n    return C;\n}\n\nnumeric.ccsLUPSolve = function ccsLUPSolve(LUP,B) {\n    var L = LUP.L, U = LUP.U, P = LUP.P;\n    var Bi = B[0];\n    var flag = false;\n    if(typeof Bi !== \"object\") { B = [[0,B.length],numeric.linspace(0,B.length-1),B]; Bi = B[0]; flag = true; }\n    var Bj = B[1], Bv = B[2];\n    var n = L[0].length-1, m = Bi.length-1;\n    var x = numeric.rep([n],0), xj = Array(n);\n    var b = numeric.rep([n],0), bj = Array(n);\n    var Xi = numeric.rep([m+1],0), Xj = [], Xv = [];\n    var sol = numeric.ccsTSolve;\n    var i,j,j0,j1,k,J,N=0;\n    for(i=0;i<m;++i) {\n        k = 0;\n        j0 = Bi[i];\n        j1 = Bi[i+1];\n        for(j=j0;j<j1;++j) { \n            J = LUP.Pinv[Bj[j]];\n            bj[k] = J;\n            b[J] = Bv[j];\n            ++k;\n        }\n        bj.length = k;\n        sol(L,b,x,bj,xj);\n        for(j=bj.length-1;j!==-1;--j) b[bj[j]] = 0;\n        sol(U,x,b,xj,bj);\n        if(flag) return b;\n        for(j=xj.length-1;j!==-1;--j) x[xj[j]] = 0;\n        for(j=bj.length-1;j!==-1;--j) {\n            J = bj[j];\n            Xj[N] = J;\n            Xv[N] = b[J];\n            b[J] = 0;\n            ++N;\n        }\n        Xi[i+1] = N;\n    }\n    return [Xi,Xj,Xv];\n}\n\nnumeric.ccsbinop = function ccsbinop(body,setup) {\n    if(typeof setup === \"undefined\") setup='';\n    return Function('X','Y',\n            'var Xi = X[0], Xj = X[1], Xv = X[2];\\n'+\n            'var Yi = Y[0], Yj = Y[1], Yv = Y[2];\\n'+\n            'var n = Xi.length-1,m = Math.max(numeric.sup(Xj),numeric.sup(Yj))+1;\\n'+\n            'var Zi = numeric.rep([n+1],0), Zj = [], Zv = [];\\n'+\n            'var x = numeric.rep([m],0),y = numeric.rep([m],0);\\n'+\n            'var xk,yk,zk;\\n'+\n            'var i,j,j0,j1,k,p=0;\\n'+\n            setup+\n            'for(i=0;i<n;++i) {\\n'+\n            '  j0 = Xi[i]; j1 = Xi[i+1];\\n'+\n            '  for(j=j0;j!==j1;++j) {\\n'+\n            '    k = Xj[j];\\n'+\n            '    x[k] = 1;\\n'+\n            '    Zj[p] = k;\\n'+\n            '    ++p;\\n'+\n            '  }\\n'+\n            '  j0 = Yi[i]; j1 = Yi[i+1];\\n'+\n            '  for(j=j0;j!==j1;++j) {\\n'+\n            '    k = Yj[j];\\n'+\n            '    y[k] = Yv[j];\\n'+\n            '    if(x[k] === 0) {\\n'+\n            '      Zj[p] = k;\\n'+\n            '      ++p;\\n'+\n            '    }\\n'+\n            '  }\\n'+\n            '  Zi[i+1] = p;\\n'+\n            '  j0 = Xi[i]; j1 = Xi[i+1];\\n'+\n            '  for(j=j0;j!==j1;++j) x[Xj[j]] = Xv[j];\\n'+\n            '  j0 = Zi[i]; j1 = Zi[i+1];\\n'+\n            '  for(j=j0;j!==j1;++j) {\\n'+\n            '    k = Zj[j];\\n'+\n            '    xk = x[k];\\n'+\n            '    yk = y[k];\\n'+\n            body+'\\n'+\n            '    Zv[j] = zk;\\n'+\n            '  }\\n'+\n            '  j0 = Xi[i]; j1 = Xi[i+1];\\n'+\n            '  for(j=j0;j!==j1;++j) x[Xj[j]] = 0;\\n'+\n            '  j0 = Yi[i]; j1 = Yi[i+1];\\n'+\n            '  for(j=j0;j!==j1;++j) y[Yj[j]] = 0;\\n'+\n            '}\\n'+\n            'return [Zi,Zj,Zv];'\n            );\n};\n\n(function() {\n    var k,A,B,C;\n    for(k in numeric.ops2) {\n        if(isFinite(eval('1'+numeric.ops2[k]+'0'))) A = '[Y[0],Y[1],numeric.'+k+'(X,Y[2])]';\n        else A = 'NaN';\n        if(isFinite(eval('0'+numeric.ops2[k]+'1'))) B = '[X[0],X[1],numeric.'+k+'(X[2],Y)]';\n        else B = 'NaN';\n        if(isFinite(eval('1'+numeric.ops2[k]+'0')) && isFinite(eval('0'+numeric.ops2[k]+'1'))) C = 'numeric.ccs'+k+'MM(X,Y)';\n        else C = 'NaN';\n        numeric['ccs'+k+'MM'] = numeric.ccsbinop('zk = xk '+numeric.ops2[k]+'yk;');\n        numeric['ccs'+k] = Function('X','Y',\n                'if(typeof X === \"number\") return '+A+';\\n'+\n                'if(typeof Y === \"number\") return '+B+';\\n'+\n                'return '+C+';\\n'\n                );\n    }\n}());\n\nnumeric.ccsScatter = function ccsScatter(A) {\n    var Ai = A[0], Aj = A[1], Av = A[2];\n    var n = numeric.sup(Aj)+1,m=Ai.length;\n    var Ri = numeric.rep([n],0),Rj=Array(m), Rv = Array(m);\n    var counts = numeric.rep([n],0),i;\n    for(i=0;i<m;++i) counts[Aj[i]]++;\n    for(i=0;i<n;++i) Ri[i+1] = Ri[i] + counts[i];\n    var ptr = Ri.slice(0),k,Aii;\n    for(i=0;i<m;++i) {\n        Aii = Aj[i];\n        k = ptr[Aii];\n        Rj[k] = Ai[i];\n        Rv[k] = Av[i];\n        ptr[Aii]=ptr[Aii]+1;\n    }\n    return [Ri,Rj,Rv];\n}\n\nnumeric.ccsGather = function ccsGather(A) {\n    var Ai = A[0], Aj = A[1], Av = A[2];\n    var n = Ai.length-1,m = Aj.length;\n    var Ri = Array(m), Rj = Array(m), Rv = Array(m);\n    var i,j,j0,j1,p;\n    p=0;\n    for(i=0;i<n;++i) {\n        j0 = Ai[i];\n        j1 = Ai[i+1];\n        for(j=j0;j!==j1;++j) {\n            Rj[p] = i;\n            Ri[p] = Aj[j];\n            Rv[p] = Av[j];\n            ++p;\n        }\n    }\n    return [Ri,Rj,Rv];\n}\n\n// The following sparse linear algebra routines are deprecated.\n\nnumeric.sdim = function dim(A,ret,k) {\n    if(typeof ret === \"undefined\") { ret = []; }\n    if(typeof A !== \"object\") return ret;\n    if(typeof k === \"undefined\") { k=0; }\n    if(!(k in ret)) { ret[k] = 0; }\n    if(A.length > ret[k]) ret[k] = A.length;\n    var i;\n    for(i in A) {\n        if(A.hasOwnProperty(i)) dim(A[i],ret,k+1);\n    }\n    return ret;\n};\n\nnumeric.sclone = function clone(A,k,n) {\n    if(typeof k === \"undefined\") { k=0; }\n    if(typeof n === \"undefined\") { n = numeric.sdim(A).length; }\n    var i,ret = Array(A.length);\n    if(k === n-1) {\n        for(i in A) { if(A.hasOwnProperty(i)) ret[i] = A[i]; }\n        return ret;\n    }\n    for(i in A) {\n        if(A.hasOwnProperty(i)) ret[i] = clone(A[i],k+1,n);\n    }\n    return ret;\n}\n\nnumeric.sdiag = function diag(d) {\n    var n = d.length,i,ret = Array(n),i1,i2,i3;\n    for(i=n-1;i>=1;i-=2) {\n        i1 = i-1;\n        ret[i] = []; ret[i][i] = d[i];\n        ret[i1] = []; ret[i1][i1] = d[i1];\n    }\n    if(i===0) { ret[0] = []; ret[0][0] = d[i]; }\n    return ret;\n}\n\nnumeric.sidentity = function identity(n) { return numeric.sdiag(numeric.rep([n],1)); }\n\nnumeric.stranspose = function transpose(A) {\n    var ret = [], n = A.length, i,j,Ai;\n    for(i in A) {\n        if(!(A.hasOwnProperty(i))) continue;\n        Ai = A[i];\n        for(j in Ai) {\n            if(!(Ai.hasOwnProperty(j))) continue;\n            if(typeof ret[j] !== \"object\") { ret[j] = []; }\n            ret[j][i] = Ai[j];\n        }\n    }\n    return ret;\n}\n\nnumeric.sLUP = function LUP(A,tol) {\n    throw new Error(\"The function numeric.sLUP had a bug in it and has been removed. Please use the new numeric.ccsLUP function instead.\");\n};\n\nnumeric.sdotMM = function dotMM(A,B) {\n    var p = A.length, q = B.length, BT = numeric.stranspose(B), r = BT.length, Ai, BTk;\n    var i,j,k,accum;\n    var ret = Array(p),reti;\n    for(i=p-1;i>=0;i--) {\n        reti = [];\n        Ai = A[i];\n        for(k=r-1;k>=0;k--) {\n            accum = 0;\n            BTk = BT[k];\n            for(j in Ai) {\n                if(!(Ai.hasOwnProperty(j))) continue;\n                if(j in BTk) { accum += Ai[j]*BTk[j]; }\n            }\n            if(accum) reti[k] = accum;\n        }\n        ret[i] = reti;\n    }\n    return ret;\n}\n\nnumeric.sdotMV = function dotMV(A,x) {\n    var p = A.length, Ai, i,j;\n    var ret = Array(p), accum;\n    for(i=p-1;i>=0;i--) {\n        Ai = A[i];\n        accum = 0;\n        for(j in Ai) {\n            if(!(Ai.hasOwnProperty(j))) continue;\n            if(x[j]) accum += Ai[j]*x[j];\n        }\n        if(accum) ret[i] = accum;\n    }\n    return ret;\n}\n\nnumeric.sdotVM = function dotMV(x,A) {\n    var i,j,Ai,alpha;\n    var ret = [], accum;\n    for(i in x) {\n        if(!x.hasOwnProperty(i)) continue;\n        Ai = A[i];\n        alpha = x[i];\n        for(j in Ai) {\n            if(!Ai.hasOwnProperty(j)) continue;\n            if(!ret[j]) { ret[j] = 0; }\n            ret[j] += alpha*Ai[j];\n        }\n    }\n    return ret;\n}\n\nnumeric.sdotVV = function dotVV(x,y) {\n    var i,ret=0;\n    for(i in x) { if(x[i] && y[i]) ret+= x[i]*y[i]; }\n    return ret;\n}\n\nnumeric.sdot = function dot(A,B) {\n    var m = numeric.sdim(A).length, n = numeric.sdim(B).length;\n    var k = m*1000+n;\n    switch(k) {\n    case 0: return A*B;\n    case 1001: return numeric.sdotVV(A,B);\n    case 2001: return numeric.sdotMV(A,B);\n    case 1002: return numeric.sdotVM(A,B);\n    case 2002: return numeric.sdotMM(A,B);\n    default: throw new Error('numeric.sdot not implemented for tensors of order '+m+' and '+n);\n    }\n}\n\nnumeric.sscatter = function scatter(V) {\n    var n = V[0].length, Vij, i, j, m = V.length, A = [], Aj;\n    for(i=n-1;i>=0;--i) {\n        if(!V[m-1][i]) continue;\n        Aj = A;\n        for(j=0;j<m-2;j++) {\n            Vij = V[j][i];\n            if(!Aj[Vij]) Aj[Vij] = [];\n            Aj = Aj[Vij];\n        }\n        Aj[V[j][i]] = V[j+1][i];\n    }\n    return A;\n}\n\nnumeric.sgather = function gather(A,ret,k) {\n    if(typeof ret === \"undefined\") ret = [];\n    if(typeof k === \"undefined\") k = [];\n    var n,i,Ai;\n    n = k.length;\n    for(i in A) {\n        if(A.hasOwnProperty(i)) {\n            k[n] = parseInt(i);\n            Ai = A[i];\n            if(typeof Ai === \"number\") {\n                if(Ai) {\n                    if(ret.length === 0) {\n                        for(i=n+1;i>=0;--i) ret[i] = [];\n                    }\n                    for(i=n;i>=0;--i) ret[i].push(k[i]);\n                    ret[n+1].push(Ai);\n                }\n            } else gather(Ai,ret,k);\n        }\n    }\n    if(k.length>n) k.pop();\n    return ret;\n}\n\n// 6. Coordinate matrices\nnumeric.cLU = function LU(A) {\n    var I = A[0], J = A[1], V = A[2];\n    var p = I.length, m=0, i,j,k,a,b,c;\n    for(i=0;i<p;i++) if(I[i]>m) m=I[i];\n    m++;\n    var L = Array(m), U = Array(m), left = numeric.rep([m],Infinity), right = numeric.rep([m],-Infinity);\n    var Ui, Uj,alpha;\n    for(k=0;k<p;k++) {\n        i = I[k];\n        j = J[k];\n        if(j<left[i]) left[i] = j;\n        if(j>right[i]) right[i] = j;\n    }\n    for(i=0;i<m-1;i++) { if(right[i] > right[i+1]) right[i+1] = right[i]; }\n    for(i=m-1;i>=1;i--) { if(left[i]<left[i-1]) left[i-1] = left[i]; }\n    var countL = 0, countU = 0;\n    for(i=0;i<m;i++) {\n        U[i] = numeric.rep([right[i]-left[i]+1],0);\n        L[i] = numeric.rep([i-left[i]],0);\n        countL += i-left[i]+1;\n        countU += right[i]-i+1;\n    }\n    for(k=0;k<p;k++) { i = I[k]; U[i][J[k]-left[i]] = V[k]; }\n    for(i=0;i<m-1;i++) {\n        a = i-left[i];\n        Ui = U[i];\n        for(j=i+1;left[j]<=i && j<m;j++) {\n            b = i-left[j];\n            c = right[i]-i;\n            Uj = U[j];\n            alpha = Uj[b]/Ui[a];\n            if(alpha) {\n                for(k=1;k<=c;k++) { Uj[k+b] -= alpha*Ui[k+a]; }\n                L[j][i-left[j]] = alpha;\n            }\n        }\n    }\n    var Ui = [], Uj = [], Uv = [], Li = [], Lj = [], Lv = [];\n    var p,q,foo;\n    p=0; q=0;\n    for(i=0;i<m;i++) {\n        a = left[i];\n        b = right[i];\n        foo = U[i];\n        for(j=i;j<=b;j++) {\n            if(foo[j-a]) {\n                Ui[p] = i;\n                Uj[p] = j;\n                Uv[p] = foo[j-a];\n                p++;\n            }\n        }\n        foo = L[i];\n        for(j=a;j<i;j++) {\n            if(foo[j-a]) {\n                Li[q] = i;\n                Lj[q] = j;\n                Lv[q] = foo[j-a];\n                q++;\n            }\n        }\n        Li[q] = i;\n        Lj[q] = i;\n        Lv[q] = 1;\n        q++;\n    }\n    return {U:[Ui,Uj,Uv], L:[Li,Lj,Lv]};\n};\n\nnumeric.cLUsolve = function LUsolve(lu,b) {\n    var L = lu.L, U = lu.U, ret = numeric.clone(b);\n    var Li = L[0], Lj = L[1], Lv = L[2];\n    var Ui = U[0], Uj = U[1], Uv = U[2];\n    var p = Ui.length, q = Li.length;\n    var m = ret.length,i,j,k;\n    k = 0;\n    for(i=0;i<m;i++) {\n        while(Lj[k] < i) {\n            ret[i] -= Lv[k]*ret[Lj[k]];\n            k++;\n        }\n        k++;\n    }\n    k = p-1;\n    for(i=m-1;i>=0;i--) {\n        while(Uj[k] > i) {\n            ret[i] -= Uv[k]*ret[Uj[k]];\n            k--;\n        }\n        ret[i] /= Uv[k];\n        k--;\n    }\n    return ret;\n};\n\nnumeric.cgrid = function grid(n,shape) {\n    if(typeof n === \"number\") n = [n,n];\n    var ret = numeric.rep(n,-1);\n    var i,j,count;\n    if(typeof shape !== \"function\") {\n        switch(shape) {\n        case 'L':\n            shape = function(i,j) { return (i>=n[0]/2 || j<n[1]/2); }\n            break;\n        default:\n            shape = function(i,j) { return true; };\n            break;\n        }\n    }\n    count=0;\n    for(i=1;i<n[0]-1;i++) for(j=1;j<n[1]-1;j++) \n        if(shape(i,j)) {\n            ret[i][j] = count;\n            count++;\n        }\n    return ret;\n}\n\nnumeric.cdelsq = function delsq(g) {\n    var dir = [[-1,0],[0,-1],[0,1],[1,0]];\n    var s = numeric.dim(g), m = s[0], n = s[1], i,j,k,p,q;\n    var Li = [], Lj = [], Lv = [];\n    for(i=1;i<m-1;i++) for(j=1;j<n-1;j++) {\n        if(g[i][j]<0) continue;\n        for(k=0;k<4;k++) {\n            p = i+dir[k][0];\n            q = j+dir[k][1];\n            if(g[p][q]<0) continue;\n            Li.push(g[i][j]);\n            Lj.push(g[p][q]);\n            Lv.push(-1);\n        }\n        Li.push(g[i][j]);\n        Lj.push(g[i][j]);\n        Lv.push(4);\n    }\n    return [Li,Lj,Lv];\n}\n\nnumeric.cdotMV = function dotMV(A,x) {\n    var ret, Ai = A[0], Aj = A[1], Av = A[2],k,p=Ai.length,N;\n    N=0;\n    for(k=0;k<p;k++) { if(Ai[k]>N) N = Ai[k]; }\n    N++;\n    ret = numeric.rep([N],0);\n    for(k=0;k<p;k++) { ret[Ai[k]]+=Av[k]*x[Aj[k]]; }\n    return ret;\n}\n\n// 7. Splines\n\nnumeric.Spline = function Spline(x,yl,yr,kl,kr) { this.x = x; this.yl = yl; this.yr = yr; this.kl = kl; this.kr = kr; }\nnumeric.Spline.prototype._at = function _at(x1,p) {\n    var x = this.x;\n    var yl = this.yl;\n    var yr = this.yr;\n    var kl = this.kl;\n    var kr = this.kr;\n    var x1,a,b,t;\n    var add = numeric.add, sub = numeric.sub, mul = numeric.mul;\n    a = sub(mul(kl[p],x[p+1]-x[p]),sub(yr[p+1],yl[p]));\n    b = add(mul(kr[p+1],x[p]-x[p+1]),sub(yr[p+1],yl[p]));\n    t = (x1-x[p])/(x[p+1]-x[p]);\n    var s = t*(1-t);\n    return add(add(add(mul(1-t,yl[p]),mul(t,yr[p+1])),mul(a,s*(1-t))),mul(b,s*t));\n}\nnumeric.Spline.prototype.at = function at(x0) {\n    if(typeof x0 === \"number\") {\n        var x = this.x;\n        var n = x.length;\n        var p,q,mid,floor = Math.floor,a,b,t;\n        p = 0;\n        q = n-1;\n        while(q-p>1) {\n            mid = floor((p+q)/2);\n            if(x[mid] <= x0) p = mid;\n            else q = mid;\n        }\n        return this._at(x0,p);\n    }\n    var n = x0.length, i, ret = Array(n);\n    for(i=n-1;i!==-1;--i) ret[i] = this.at(x0[i]);\n    return ret;\n}\nnumeric.Spline.prototype.diff = function diff() {\n    var x = this.x;\n    var yl = this.yl;\n    var yr = this.yr;\n    var kl = this.kl;\n    var kr = this.kr;\n    var n = yl.length;\n    var i,dx,dy;\n    var zl = kl, zr = kr, pl = Array(n), pr = Array(n);\n    var add = numeric.add, mul = numeric.mul, div = numeric.div, sub = numeric.sub;\n    for(i=n-1;i!==-1;--i) {\n        dx = x[i+1]-x[i];\n        dy = sub(yr[i+1],yl[i]);\n        pl[i] = div(add(mul(dy, 6),mul(kl[i],-4*dx),mul(kr[i+1],-2*dx)),dx*dx);\n        pr[i+1] = div(add(mul(dy,-6),mul(kl[i], 2*dx),mul(kr[i+1], 4*dx)),dx*dx);\n    }\n    return new numeric.Spline(x,zl,zr,pl,pr);\n}\nnumeric.Spline.prototype.roots = function roots() {\n    function sqr(x) { return x*x; }\n    function heval(y0,y1,k0,k1,x) {\n        var A = k0*2-(y1-y0);\n        var B = -k1*2+(y1-y0);\n        var t = (x+1)*0.5;\n        var s = t*(1-t);\n        return (1-t)*y0+t*y1+A*s*(1-t)+B*s*t;\n    }\n    var ret = [];\n    var x = this.x, yl = this.yl, yr = this.yr, kl = this.kl, kr = this.kr;\n    if(typeof yl[0] === \"number\") {\n        yl = [yl];\n        yr = [yr];\n        kl = [kl];\n        kr = [kr];\n    }\n    var m = yl.length,n=x.length-1,i,j,k,y,s,t;\n    var ai,bi,ci,di, ret = Array(m),ri,k0,k1,y0,y1,A,B,D,dx,cx,stops,z0,z1,zm,t0,t1,tm;\n    var sqrt = Math.sqrt;\n    for(i=0;i!==m;++i) {\n        ai = yl[i];\n        bi = yr[i];\n        ci = kl[i];\n        di = kr[i];\n        ri = [];\n        for(j=0;j!==n;j++) {\n            if(j>0 && bi[j]*ai[j]<0) ri.push(x[j]);\n            dx = (x[j+1]-x[j]);\n            cx = x[j];\n            y0 = ai[j];\n            y1 = bi[j+1];\n            k0 = ci[j]/dx;\n            k1 = di[j+1]/dx;\n            D = sqr(k0-k1+3*(y0-y1)) + 12*k1*y0;\n            A = k1+3*y0+2*k0-3*y1;\n            B = 3*(k1+k0+2*(y0-y1));\n            if(D<=0) {\n                z0 = A/B;\n                if(z0>x[j] && z0<x[j+1]) stops = [x[j],z0,x[j+1]];\n                else stops = [x[j],x[j+1]];\n            } else {\n                z0 = (A-sqrt(D))/B;\n                z1 = (A+sqrt(D))/B;\n                stops = [x[j]];\n                if(z0>x[j] && z0<x[j+1]) stops.push(z0);\n                if(z1>x[j] && z1<x[j+1]) stops.push(z1);\n                stops.push(x[j+1]);\n            }\n            t0 = stops[0];\n            z0 = this._at(t0,j);\n            for(k=0;k<stops.length-1;k++) {\n                t1 = stops[k+1];\n                z1 = this._at(t1,j);\n                if(z0 === 0) {\n                    ri.push(t0); \n                    t0 = t1;\n                    z0 = z1;\n                    continue;\n                }\n                if(z1 === 0 || z0*z1>0) {\n                    t0 = t1;\n                    z0 = z1;\n                    continue;\n                }\n                var side = 0;\n                while(1) {\n                    tm = (z0*t1-z1*t0)/(z0-z1);\n                    if(tm <= t0 || tm >= t1) { break; }\n                    zm = this._at(tm,j);\n                    if(zm*z1>0) {\n                        t1 = tm;\n                        z1 = zm;\n                        if(side === -1) z0*=0.5;\n                        side = -1;\n                    } else if(zm*z0>0) {\n                        t0 = tm;\n                        z0 = zm;\n                        if(side === 1) z1*=0.5;\n                        side = 1;\n                    } else break;\n                }\n                ri.push(tm);\n                t0 = stops[k+1];\n                z0 = this._at(t0, j);\n            }\n            if(z1 === 0) ri.push(t1);\n        }\n        ret[i] = ri;\n    }\n    if(typeof this.yl[0] === \"number\") return ret[0];\n    return ret;\n}\nnumeric.spline = function spline(x,y,k1,kn) {\n    var n = x.length, b = [], dx = [], dy = [];\n    var i;\n    var sub = numeric.sub,mul = numeric.mul,add = numeric.add;\n    for(i=n-2;i>=0;i--) { dx[i] = x[i+1]-x[i]; dy[i] = sub(y[i+1],y[i]); }\n    if(typeof k1 === \"string\" || typeof kn === \"string\") { \n        k1 = kn = \"periodic\";\n    }\n    // Build sparse tridiagonal system\n    var T = [[],[],[]];\n    switch(typeof k1) {\n    case \"undefined\":\n        b[0] = mul(3/(dx[0]*dx[0]),dy[0]);\n        T[0].push(0,0);\n        T[1].push(0,1);\n        T[2].push(2/dx[0],1/dx[0]);\n        break;\n    case \"string\":\n        b[0] = add(mul(3/(dx[n-2]*dx[n-2]),dy[n-2]),mul(3/(dx[0]*dx[0]),dy[0]));\n        T[0].push(0,0,0);\n        T[1].push(n-2,0,1);\n        T[2].push(1/dx[n-2],2/dx[n-2]+2/dx[0],1/dx[0]);\n        break;\n    default:\n        b[0] = k1;\n        T[0].push(0);\n        T[1].push(0);\n        T[2].push(1);\n        break;\n    }\n    for(i=1;i<n-1;i++) {\n        b[i] = add(mul(3/(dx[i-1]*dx[i-1]),dy[i-1]),mul(3/(dx[i]*dx[i]),dy[i]));\n        T[0].push(i,i,i);\n        T[1].push(i-1,i,i+1);\n        T[2].push(1/dx[i-1],2/dx[i-1]+2/dx[i],1/dx[i]);\n    }\n    switch(typeof kn) {\n    case \"undefined\":\n        b[n-1] = mul(3/(dx[n-2]*dx[n-2]),dy[n-2]);\n        T[0].push(n-1,n-1);\n        T[1].push(n-2,n-1);\n        T[2].push(1/dx[n-2],2/dx[n-2]);\n        break;\n    case \"string\":\n        T[1][T[1].length-1] = 0;\n        break;\n    default:\n        b[n-1] = kn;\n        T[0].push(n-1);\n        T[1].push(n-1);\n        T[2].push(1);\n        break;\n    }\n    if(typeof b[0] !== \"number\") b = numeric.transpose(b);\n    else b = [b];\n    var k = Array(b.length);\n    if(typeof k1 === \"string\") {\n        for(i=k.length-1;i!==-1;--i) {\n            k[i] = numeric.ccsLUPSolve(numeric.ccsLUP(numeric.ccsScatter(T)),b[i]);\n            k[i][n-1] = k[i][0];\n        }\n    } else {\n        for(i=k.length-1;i!==-1;--i) {\n            k[i] = numeric.cLUsolve(numeric.cLU(T),b[i]);\n        }\n    }\n    if(typeof y[0] === \"number\") k = k[0];\n    else k = numeric.transpose(k);\n    return new numeric.Spline(x,y,y,k,k);\n}\n\n// 8. FFT\nnumeric.fftpow2 = function fftpow2(x,y) {\n    var n = x.length;\n    if(n === 1) return;\n    var cos = Math.cos, sin = Math.sin, i,j;\n    var xe = Array(n/2), ye = Array(n/2), xo = Array(n/2), yo = Array(n/2);\n    j = n/2;\n    for(i=n-1;i!==-1;--i) {\n        --j;\n        xo[j] = x[i];\n        yo[j] = y[i];\n        --i;\n        xe[j] = x[i];\n        ye[j] = y[i];\n    }\n    fftpow2(xe,ye);\n    fftpow2(xo,yo);\n    j = n/2;\n    var t,k = (-6.2831853071795864769252867665590057683943387987502116419/n),ci,si;\n    for(i=n-1;i!==-1;--i) {\n        --j;\n        if(j === -1) j = n/2-1;\n        t = k*i;\n        ci = cos(t);\n        si = sin(t);\n        x[i] = xe[j] + ci*xo[j] - si*yo[j];\n        y[i] = ye[j] + ci*yo[j] + si*xo[j];\n    }\n}\nnumeric._ifftpow2 = function _ifftpow2(x,y) {\n    var n = x.length;\n    if(n === 1) return;\n    var cos = Math.cos, sin = Math.sin, i,j;\n    var xe = Array(n/2), ye = Array(n/2), xo = Array(n/2), yo = Array(n/2);\n    j = n/2;\n    for(i=n-1;i!==-1;--i) {\n        --j;\n        xo[j] = x[i];\n        yo[j] = y[i];\n        --i;\n        xe[j] = x[i];\n        ye[j] = y[i];\n    }\n    _ifftpow2(xe,ye);\n    _ifftpow2(xo,yo);\n    j = n/2;\n    var t,k = (6.2831853071795864769252867665590057683943387987502116419/n),ci,si;\n    for(i=n-1;i!==-1;--i) {\n        --j;\n        if(j === -1) j = n/2-1;\n        t = k*i;\n        ci = cos(t);\n        si = sin(t);\n        x[i] = xe[j] + ci*xo[j] - si*yo[j];\n        y[i] = ye[j] + ci*yo[j] + si*xo[j];\n    }\n}\nnumeric.ifftpow2 = function ifftpow2(x,y) {\n    numeric._ifftpow2(x,y);\n    numeric.diveq(x,x.length);\n    numeric.diveq(y,y.length);\n}\nnumeric.convpow2 = function convpow2(ax,ay,bx,by) {\n    numeric.fftpow2(ax,ay);\n    numeric.fftpow2(bx,by);\n    var i,n = ax.length,axi,bxi,ayi,byi;\n    for(i=n-1;i!==-1;--i) {\n        axi = ax[i]; ayi = ay[i]; bxi = bx[i]; byi = by[i];\n        ax[i] = axi*bxi-ayi*byi;\n        ay[i] = axi*byi+ayi*bxi;\n    }\n    numeric.ifftpow2(ax,ay);\n}\nnumeric.T.prototype.fft = function fft() {\n    var x = this.x, y = this.y;\n    var n = x.length, log = Math.log, log2 = log(2),\n        p = Math.ceil(log(2*n-1)/log2), m = Math.pow(2,p);\n    var cx = numeric.rep([m],0), cy = numeric.rep([m],0), cos = Math.cos, sin = Math.sin;\n    var k, c = (-3.141592653589793238462643383279502884197169399375105820/n),t;\n    var a = numeric.rep([m],0), b = numeric.rep([m],0),nhalf = Math.floor(n/2);\n    for(k=0;k<n;k++) a[k] = x[k];\n    if(typeof y !== \"undefined\") for(k=0;k<n;k++) b[k] = y[k];\n    cx[0] = 1;\n    for(k=1;k<=m/2;k++) {\n        t = c*k*k;\n        cx[k] = cos(t);\n        cy[k] = sin(t);\n        cx[m-k] = cos(t);\n        cy[m-k] = sin(t)\n    }\n    var X = new numeric.T(a,b), Y = new numeric.T(cx,cy);\n    X = X.mul(Y);\n    numeric.convpow2(X.x,X.y,numeric.clone(Y.x),numeric.neg(Y.y));\n    X = X.mul(Y);\n    X.x.length = n;\n    X.y.length = n;\n    return X;\n}\nnumeric.T.prototype.ifft = function ifft() {\n    var x = this.x, y = this.y;\n    var n = x.length, log = Math.log, log2 = log(2),\n        p = Math.ceil(log(2*n-1)/log2), m = Math.pow(2,p);\n    var cx = numeric.rep([m],0), cy = numeric.rep([m],0), cos = Math.cos, sin = Math.sin;\n    var k, c = (3.141592653589793238462643383279502884197169399375105820/n),t;\n    var a = numeric.rep([m],0), b = numeric.rep([m],0),nhalf = Math.floor(n/2);\n    for(k=0;k<n;k++) a[k] = x[k];\n    if(typeof y !== \"undefined\") for(k=0;k<n;k++) b[k] = y[k];\n    cx[0] = 1;\n    for(k=1;k<=m/2;k++) {\n        t = c*k*k;\n        cx[k] = cos(t);\n        cy[k] = sin(t);\n        cx[m-k] = cos(t);\n        cy[m-k] = sin(t)\n    }\n    var X = new numeric.T(a,b), Y = new numeric.T(cx,cy);\n    X = X.mul(Y);\n    numeric.convpow2(X.x,X.y,numeric.clone(Y.x),numeric.neg(Y.y));\n    X = X.mul(Y);\n    X.x.length = n;\n    X.y.length = n;\n    return X.div(n);\n}\n\n//9. Unconstrained optimization\nnumeric.gradient = function gradient(f,x) {\n    var n = x.length;\n    var f0 = f(x);\n    if(isNaN(f0)) throw new Error('gradient: f(x) is a NaN!');\n    var max = Math.max;\n    var i,x0 = numeric.clone(x),f1,f2, J = Array(n);\n    var div = numeric.div, sub = numeric.sub,errest,roundoff,max = Math.max,eps = 1e-3,abs = Math.abs, min = Math.min;\n    var t0,t1,t2,it=0,d1,d2,N;\n    for(i=0;i<n;i++) {\n        var h = max(1e-6*f0,1e-8);\n        while(1) {\n            ++it;\n            if(it>20) { throw new Error(\"Numerical gradient fails\"); }\n            x0[i] = x[i]+h;\n            f1 = f(x0);\n            x0[i] = x[i]-h;\n            f2 = f(x0);\n            x0[i] = x[i];\n            if(isNaN(f1) || isNaN(f2)) { h/=16; continue; }\n            J[i] = (f1-f2)/(2*h);\n            t0 = x[i]-h;\n            t1 = x[i];\n            t2 = x[i]+h;\n            d1 = (f1-f0)/h;\n            d2 = (f0-f2)/h;\n            N = max(abs(J[i]),abs(f0),abs(f1),abs(f2),abs(t0),abs(t1),abs(t2),1e-8);\n            errest = min(max(abs(d1-J[i]),abs(d2-J[i]),abs(d1-d2))/N,h/N);\n            if(errest>eps) { h/=16; }\n            else break;\n            }\n    }\n    return J;\n}\n\nnumeric.uncmin = function uncmin(f,x0,tol,gradient,maxit,callback,options) {\n    var grad = numeric.gradient;\n    if(typeof options === \"undefined\") { options = {}; }\n    if(typeof tol === \"undefined\") { tol = 1e-8; }\n    if(typeof gradient === \"undefined\") { gradient = function(x) { return grad(f,x); }; }\n    if(typeof maxit === \"undefined\") maxit = 1000;\n    x0 = numeric.clone(x0);\n    var n = x0.length;\n    var f0 = f(x0),f1,df0;\n    if(isNaN(f0)) throw new Error('uncmin: f(x0) is a NaN!');\n    var max = Math.max, norm2 = numeric.norm2;\n    tol = max(tol,numeric.epsilon);\n    var step,g0,g1,H1 = options.Hinv || numeric.identity(n);\n    var dot = numeric.dot, inv = numeric.inv, sub = numeric.sub, add = numeric.add, ten = numeric.tensor, div = numeric.div, mul = numeric.mul;\n    var all = numeric.all, isfinite = numeric.isFinite, neg = numeric.neg;\n    var it=0,i,s,x1,y,Hy,Hs,ys,i0,t,nstep,t1,t2;\n    var msg = \"\";\n    g0 = gradient(x0);\n    while(it<maxit) {\n        if(typeof callback === \"function\") { if(callback(it,x0,f0,g0,H1)) { msg = \"Callback returned true\"; break; } }\n        if(!all(isfinite(g0))) { msg = \"Gradient has Infinity or NaN\"; break; }\n        step = neg(dot(H1,g0));\n        if(!all(isfinite(step))) { msg = \"Search direction has Infinity or NaN\"; break; }\n        nstep = norm2(step);\n        if(nstep < tol) { msg=\"Newton step smaller than tol\"; break; }\n        t = 1;\n        df0 = dot(g0,step);\n        // line search\n        x1 = x0;\n        while(it < maxit) {\n            if(t*nstep < tol) { break; }\n            s = mul(step,t);\n            x1 = add(x0,s);\n            f1 = f(x1);\n            if(f1-f0 >= 0.1*t*df0 || isNaN(f1)) {\n                t *= 0.5;\n                ++it;\n                continue;\n            }\n            break;\n        }\n        if(t*nstep < tol) { msg = \"Line search step size smaller than tol\"; break; }\n        if(it === maxit) { msg = \"maxit reached during line search\"; break; }\n        g1 = gradient(x1);\n        y = sub(g1,g0);\n        ys = dot(y,s);\n        Hy = dot(H1,y);\n        H1 = sub(add(H1,\n                mul(\n                        (ys+dot(y,Hy))/(ys*ys),\n                        ten(s,s)    )),\n                div(add(ten(Hy,s),ten(s,Hy)),ys));\n        x0 = x1;\n        f0 = f1;\n        g0 = g1;\n        ++it;\n    }\n    return {solution: x0, f: f0, gradient: g0, invHessian: H1, iterations:it, message: msg};\n}\n\n// 10. Ode solver (Dormand-Prince)\nnumeric.Dopri = function Dopri(x,y,f,ymid,iterations,msg,events) {\n    this.x = x;\n    this.y = y;\n    this.f = f;\n    this.ymid = ymid;\n    this.iterations = iterations;\n    this.events = events;\n    this.message = msg;\n}\nnumeric.Dopri.prototype._at = function _at(xi,j) {\n    function sqr(x) { return x*x; }\n    var sol = this;\n    var xs = sol.x;\n    var ys = sol.y;\n    var k1 = sol.f;\n    var ymid = sol.ymid;\n    var n = xs.length;\n    var x0,x1,xh,y0,y1,yh,xi;\n    var floor = Math.floor,h;\n    var c = 0.5;\n    var add = numeric.add, mul = numeric.mul,sub = numeric.sub, p,q,w;\n    x0 = xs[j];\n    x1 = xs[j+1];\n    y0 = ys[j];\n    y1 = ys[j+1];\n    h  = x1-x0;\n    xh = x0+c*h;\n    yh = ymid[j];\n    p = sub(k1[j  ],mul(y0,1/(x0-xh)+2/(x0-x1)));\n    q = sub(k1[j+1],mul(y1,1/(x1-xh)+2/(x1-x0)));\n    w = [sqr(xi - x1) * (xi - xh) / sqr(x0 - x1) / (x0 - xh),\n         sqr(xi - x0) * sqr(xi - x1) / sqr(x0 - xh) / sqr(x1 - xh),\n         sqr(xi - x0) * (xi - xh) / sqr(x1 - x0) / (x1 - xh),\n         (xi - x0) * sqr(xi - x1) * (xi - xh) / sqr(x0-x1) / (x0 - xh),\n         (xi - x1) * sqr(xi - x0) * (xi - xh) / sqr(x0-x1) / (x1 - xh)];\n    return add(add(add(add(mul(y0,w[0]),\n                           mul(yh,w[1])),\n                           mul(y1,w[2])),\n                           mul( p,w[3])),\n                           mul( q,w[4]));\n}\nnumeric.Dopri.prototype.at = function at(x) {\n    var i,j,k,floor = Math.floor;\n    if(typeof x !== \"number\") {\n        var n = x.length, ret = Array(n);\n        for(i=n-1;i!==-1;--i) {\n            ret[i] = this.at(x[i]);\n        }\n        return ret;\n    }\n    var x0 = this.x;\n    i = 0; j = x0.length-1;\n    while(j-i>1) {\n        k = floor(0.5*(i+j));\n        if(x0[k] <= x) i = k;\n        else j = k;\n    }\n    return this._at(x,i);\n}\n\nnumeric.dopri = function dopri(x0,x1,y0,f,tol,maxit,event) {\n    if(typeof tol === \"undefined\") { tol = 1e-6; }\n    if(typeof maxit === \"undefined\") { maxit = 1000; }\n    var xs = [x0], ys = [y0], k1 = [f(x0,y0)], k2,k3,k4,k5,k6,k7, ymid = [];\n    var A2 = 1/5;\n    var A3 = [3/40,9/40];\n    var A4 = [44/45,-56/15,32/9];\n    var A5 = [19372/6561,-25360/2187,64448/6561,-212/729];\n    var A6 = [9017/3168,-355/33,46732/5247,49/176,-5103/18656];\n    var b = [35/384,0,500/1113,125/192,-2187/6784,11/84];\n    var bm = [0.5*6025192743/30085553152,\n              0,\n              0.5*51252292925/65400821598,\n              0.5*-2691868925/45128329728,\n              0.5*187940372067/1594534317056,\n              0.5*-1776094331/19743644256,\n              0.5*11237099/235043384];\n    var c = [1/5,3/10,4/5,8/9,1,1];\n    var e = [-71/57600,0,71/16695,-71/1920,17253/339200,-22/525,1/40];\n    var i = 0,er,j;\n    var h = (x1-x0)/10;\n    var it = 0;\n    var add = numeric.add, mul = numeric.mul, y1,erinf;\n    var max = Math.max, min = Math.min, abs = Math.abs, norminf = numeric.norminf,pow = Math.pow;\n    var any = numeric.any, lt = numeric.lt, and = numeric.and, sub = numeric.sub;\n    var e0, e1, ev;\n    var ret = new numeric.Dopri(xs,ys,k1,ymid,-1,\"\");\n    if(typeof event === \"function\") e0 = event(x0,y0);\n    while(x0<x1 && it<maxit) {\n        ++it;\n        if(x0+h>x1) h = x1-x0;\n        k2 = f(x0+c[0]*h,                add(y0,mul(   A2*h,k1[i])));\n        k3 = f(x0+c[1]*h,            add(add(y0,mul(A3[0]*h,k1[i])),mul(A3[1]*h,k2)));\n        k4 = f(x0+c[2]*h,        add(add(add(y0,mul(A4[0]*h,k1[i])),mul(A4[1]*h,k2)),mul(A4[2]*h,k3)));\n        k5 = f(x0+c[3]*h,    add(add(add(add(y0,mul(A5[0]*h,k1[i])),mul(A5[1]*h,k2)),mul(A5[2]*h,k3)),mul(A5[3]*h,k4)));\n        k6 = f(x0+c[4]*h,add(add(add(add(add(y0,mul(A6[0]*h,k1[i])),mul(A6[1]*h,k2)),mul(A6[2]*h,k3)),mul(A6[3]*h,k4)),mul(A6[4]*h,k5)));\n        y1 = add(add(add(add(add(y0,mul(k1[i],h*b[0])),mul(k3,h*b[2])),mul(k4,h*b[3])),mul(k5,h*b[4])),mul(k6,h*b[5]));\n        k7 = f(x0+h,y1);\n        er = add(add(add(add(add(mul(k1[i],h*e[0]),mul(k3,h*e[2])),mul(k4,h*e[3])),mul(k5,h*e[4])),mul(k6,h*e[5])),mul(k7,h*e[6]));\n        if(typeof er === \"number\") erinf = abs(er);\n        else erinf = norminf(er);\n        if(erinf > tol) { // reject\n            h = 0.2*h*pow(tol/erinf,0.25);\n            if(x0+h === x0) {\n                ret.msg = \"Step size became too small\";\n                break;\n            }\n            continue;\n        }\n        ymid[i] = add(add(add(add(add(add(y0,\n                mul(k1[i],h*bm[0])),\n                mul(k3   ,h*bm[2])),\n                mul(k4   ,h*bm[3])),\n                mul(k5   ,h*bm[4])),\n                mul(k6   ,h*bm[5])),\n                mul(k7   ,h*bm[6]));\n        ++i;\n        xs[i] = x0+h;\n        ys[i] = y1;\n        k1[i] = k7;\n        if(typeof event === \"function\") {\n            var yi,xl = x0,xr = x0+0.5*h,xi;\n            e1 = event(xr,ymid[i-1]);\n            ev = and(lt(e0,0),lt(0,e1));\n            if(!any(ev)) { xl = xr; xr = x0+h; e0 = e1; e1 = event(xr,y1); ev = and(lt(e0,0),lt(0,e1)); }\n            if(any(ev)) {\n                var xc, yc, en,ei;\n                var side=0, sl = 1.0, sr = 1.0;\n                while(1) {\n                    if(typeof e0 === \"number\") xi = (sr*e1*xl-sl*e0*xr)/(sr*e1-sl*e0);\n                    else {\n                        xi = xr;\n                        for(j=e0.length-1;j!==-1;--j) {\n                            if(e0[j]<0 && e1[j]>0) xi = min(xi,(sr*e1[j]*xl-sl*e0[j]*xr)/(sr*e1[j]-sl*e0[j]));\n                        }\n                    }\n                    if(xi <= xl || xi >= xr) break;\n                    yi = ret._at(xi, i-1);\n                    ei = event(xi,yi);\n                    en = and(lt(e0,0),lt(0,ei));\n                    if(any(en)) {\n                        xr = xi;\n                        e1 = ei;\n                        ev = en;\n                        sr = 1.0;\n                        if(side === -1) sl *= 0.5;\n                        else sl = 1.0;\n                        side = -1;\n                    } else {\n                        xl = xi;\n                        e0 = ei;\n                        sl = 1.0;\n                        if(side === 1) sr *= 0.5;\n                        else sr = 1.0;\n                        side = 1;\n                    }\n                }\n                y1 = ret._at(0.5*(x0+xi),i-1);\n                ret.f[i] = f(xi,yi);\n                ret.x[i] = xi;\n                ret.y[i] = yi;\n                ret.ymid[i-1] = y1;\n                ret.events = ev;\n                ret.iterations = it;\n                return ret;\n            }\n        }\n        x0 += h;\n        y0 = y1;\n        e0 = e1;\n        h = min(0.8*h*pow(tol/erinf,0.25),4*h);\n    }\n    ret.iterations = it;\n    return ret;\n}\n\n// 11. Ax = b\nnumeric.LU = function(A, fast) {\n  fast = fast || false;\n\n  var abs = Math.abs;\n  var i, j, k, absAjk, Akk, Ak, Pk, Ai;\n  var max;\n  var n = A.length, n1 = n-1;\n  var P = new Array(n);\n  if(!fast) A = numeric.clone(A);\n\n  for (k = 0; k < n; ++k) {\n    Pk = k;\n    Ak = A[k];\n    max = abs(Ak[k]);\n    for (j = k + 1; j < n; ++j) {\n      absAjk = abs(A[j][k]);\n      if (max < absAjk) {\n        max = absAjk;\n        Pk = j;\n      }\n    }\n    P[k] = Pk;\n\n    if (Pk != k) {\n      A[k] = A[Pk];\n      A[Pk] = Ak;\n      Ak = A[k];\n    }\n\n    Akk = Ak[k];\n\n    for (i = k + 1; i < n; ++i) {\n      A[i][k] /= Akk;\n    }\n\n    for (i = k + 1; i < n; ++i) {\n      Ai = A[i];\n      for (j = k + 1; j < n1; ++j) {\n        Ai[j] -= Ai[k] * Ak[j];\n        ++j;\n        Ai[j] -= Ai[k] * Ak[j];\n      }\n      if(j===n1) Ai[j] -= Ai[k] * Ak[j];\n    }\n  }\n\n  return {\n    LU: A,\n    P:  P\n  };\n}\n\nnumeric.LUsolve = function LUsolve(LUP, b) {\n  var i, j;\n  var LU = LUP.LU;\n  var n   = LU.length;\n  var x = numeric.clone(b);\n  var P   = LUP.P;\n  var Pi, LUi, LUii, tmp;\n\n  for (i=n-1;i!==-1;--i) x[i] = b[i];\n  for (i = 0; i < n; ++i) {\n    Pi = P[i];\n    if (P[i] !== i) {\n      tmp = x[i];\n      x[i] = x[Pi];\n      x[Pi] = tmp;\n    }\n\n    LUi = LU[i];\n    for (j = 0; j < i; ++j) {\n      x[i] -= x[j] * LUi[j];\n    }\n  }\n\n  for (i = n - 1; i >= 0; --i) {\n    LUi = LU[i];\n    for (j = i + 1; j < n; ++j) {\n      x[i] -= x[j] * LUi[j];\n    }\n\n    x[i] /= LUi[i];\n  }\n\n  return x;\n}\n\nnumeric.solve = function solve(A,b,fast) { return numeric.LUsolve(numeric.LU(A,fast), b); }\n\n// 12. Linear programming\nnumeric.echelonize = function echelonize(A) {\n    var s = numeric.dim(A), m = s[0], n = s[1];\n    var I = numeric.identity(m);\n    var P = Array(m);\n    var i,j,k,l,Ai,Ii,Z,a;\n    var abs = Math.abs;\n    var diveq = numeric.diveq;\n    A = numeric.clone(A);\n    for(i=0;i<m;++i) {\n        k = 0;\n        Ai = A[i];\n        Ii = I[i];\n        for(j=1;j<n;++j) if(abs(Ai[k])<abs(Ai[j])) k=j;\n        P[i] = k;\n        diveq(Ii,Ai[k]);\n        diveq(Ai,Ai[k]);\n        for(j=0;j<m;++j) if(j!==i) {\n            Z = A[j]; a = Z[k];\n            for(l=n-1;l!==-1;--l) Z[l] -= Ai[l]*a;\n            Z = I[j];\n            for(l=m-1;l!==-1;--l) Z[l] -= Ii[l]*a;\n        }\n    }\n    return {I:I, A:A, P:P};\n}\n\nnumeric.__solveLP = function __solveLP(c,A,b,tol,maxit,x,flag) {\n    var sum = numeric.sum, log = numeric.log, mul = numeric.mul, sub = numeric.sub, dot = numeric.dot, div = numeric.div, add = numeric.add;\n    var m = c.length, n = b.length,y;\n    var unbounded = false, cb,i0=0;\n    var alpha = 1.0;\n    var f0,df0,AT = numeric.transpose(A), svd = numeric.svd,transpose = numeric.transpose,leq = numeric.leq, sqrt = Math.sqrt, abs = Math.abs;\n    var muleq = numeric.muleq;\n    var norm = numeric.norminf, any = numeric.any,min = Math.min;\n    var all = numeric.all, gt = numeric.gt;\n    var p = Array(m), A0 = Array(n),e=numeric.rep([n],1), H;\n    var solve = numeric.solve, z = sub(b,dot(A,x)),count;\n    var dotcc = dot(c,c);\n    var g;\n    for(count=i0;count<maxit;++count) {\n        var i,j,d;\n        for(i=n-1;i!==-1;--i) A0[i] = div(A[i],z[i]);\n        var A1 = transpose(A0);\n        for(i=m-1;i!==-1;--i) p[i] = (/*x[i]+*/sum(A1[i]));\n        alpha = 0.25*abs(dotcc/dot(c,p));\n        var a1 = 100*sqrt(dotcc/dot(p,p));\n        if(!isFinite(alpha) || alpha>a1) alpha = a1;\n        g = add(c,mul(alpha,p));\n        H = dot(A1,A0);\n        for(i=m-1;i!==-1;--i) H[i][i] += 1;\n        d = solve(H,div(g,alpha),true);\n        var t0 = div(z,dot(A,d));\n        var t = 1.0;\n        for(i=n-1;i!==-1;--i) if(t0[i]<0) t = min(t,-0.999*t0[i]);\n        y = sub(x,mul(d,t));\n        z = sub(b,dot(A,y));\n        if(!all(gt(z,0))) return { solution: x, message: \"\", iterations: count };\n        x = y;\n        if(alpha<tol) return { solution: y, message: \"\", iterations: count };\n        if(flag) {\n            var s = dot(c,g), Ag = dot(A,g);\n            unbounded = true;\n            for(i=n-1;i!==-1;--i) if(s*Ag[i]<0) { unbounded = false; break; }\n        } else {\n            if(x[m-1]>=0) unbounded = false;\n            else unbounded = true;\n        }\n        if(unbounded) return { solution: y, message: \"Unbounded\", iterations: count };\n    }\n    return { solution: x, message: \"maximum iteration count exceeded\", iterations:count };\n}\n\nnumeric._solveLP = function _solveLP(c,A,b,tol,maxit) {\n    var m = c.length, n = b.length,y;\n    var sum = numeric.sum, log = numeric.log, mul = numeric.mul, sub = numeric.sub, dot = numeric.dot, div = numeric.div, add = numeric.add;\n    var c0 = numeric.rep([m],0).concat([1]);\n    var J = numeric.rep([n,1],-1);\n    var A0 = numeric.blockMatrix([[A                   ,   J  ]]);\n    var b0 = b;\n    var y = numeric.rep([m],0).concat(Math.max(0,numeric.sup(numeric.neg(b)))+1);\n    var x0 = numeric.__solveLP(c0,A0,b0,tol,maxit,y,false);\n    var x = numeric.clone(x0.solution);\n    x.length = m;\n    var foo = numeric.inf(sub(b,dot(A,x)));\n    if(foo<0) { return { solution: NaN, message: \"Infeasible\", iterations: x0.iterations }; }\n    var ret = numeric.__solveLP(c, A, b, tol, maxit-x0.iterations, x, true);\n    ret.iterations += x0.iterations;\n    return ret;\n};\n\nnumeric.solveLP = function solveLP(c,A,b,Aeq,beq,tol,maxit) {\n    if(typeof maxit === \"undefined\") maxit = 1000;\n    if(typeof tol === \"undefined\") tol = numeric.epsilon;\n    if(typeof Aeq === \"undefined\") return numeric._solveLP(c,A,b,tol,maxit);\n    var m = Aeq.length, n = Aeq[0].length, o = A.length;\n    var B = numeric.echelonize(Aeq);\n    var flags = numeric.rep([n],0);\n    var P = B.P;\n    var Q = [];\n    var i;\n    for(i=P.length-1;i!==-1;--i) flags[P[i]] = 1;\n    for(i=n-1;i!==-1;--i) if(flags[i]===0) Q.push(i);\n    var g = numeric.getRange;\n    var I = numeric.linspace(0,m-1), J = numeric.linspace(0,o-1);\n    var Aeq2 = g(Aeq,I,Q), A1 = g(A,J,P), A2 = g(A,J,Q), dot = numeric.dot, sub = numeric.sub;\n    var A3 = dot(A1,B.I);\n    var A4 = sub(A2,dot(A3,Aeq2)), b4 = sub(b,dot(A3,beq));\n    var c1 = Array(P.length), c2 = Array(Q.length);\n    for(i=P.length-1;i!==-1;--i) c1[i] = c[P[i]];\n    for(i=Q.length-1;i!==-1;--i) c2[i] = c[Q[i]];\n    var c4 = sub(c2,dot(c1,dot(B.I,Aeq2)));\n    var S = numeric._solveLP(c4,A4,b4,tol,maxit);\n    var x2 = S.solution;\n    if(x2!==x2) return S;\n    var x1 = dot(B.I,sub(beq,dot(Aeq2,x2)));\n    var x = Array(c.length);\n    for(i=P.length-1;i!==-1;--i) x[P[i]] = x1[i];\n    for(i=Q.length-1;i!==-1;--i) x[Q[i]] = x2[i];\n    return { solution: x, message:S.message, iterations: S.iterations };\n}\n\nnumeric.MPStoLP = function MPStoLP(MPS) {\n    if(MPS instanceof String) { MPS.split('\\n'); }\n    var state = 0;\n    var states = ['Initial state','NAME','ROWS','COLUMNS','RHS','BOUNDS','ENDATA'];\n    var n = MPS.length;\n    var i,j,z,N=0,rows = {}, sign = [], rl = 0, vars = {}, nv = 0;\n    var name;\n    var c = [], A = [], b = [];\n    function err(e) { throw new Error('MPStoLP: '+e+'\\nLine '+i+': '+MPS[i]+'\\nCurrent state: '+states[state]+'\\n'); }\n    for(i=0;i<n;++i) {\n        z = MPS[i];\n        var w0 = z.match(/\\S*/g);\n        var w = [];\n        for(j=0;j<w0.length;++j) if(w0[j]!==\"\") w.push(w0[j]);\n        if(w.length === 0) continue;\n        for(j=0;j<states.length;++j) if(z.substr(0,states[j].length) === states[j]) break;\n        if(j<states.length) {\n            state = j;\n            if(j===1) { name = w[1]; }\n            if(j===6) return { name:name, c:c, A:numeric.transpose(A), b:b, rows:rows, vars:vars };\n            continue;\n        }\n        switch(state) {\n        case 0: case 1: err('Unexpected line');\n        case 2: \n            switch(w[0]) {\n            case 'N': if(N===0) N = w[1]; else err('Two or more N rows'); break;\n            case 'L': rows[w[1]] = rl; sign[rl] = 1; b[rl] = 0; ++rl; break;\n            case 'G': rows[w[1]] = rl; sign[rl] = -1;b[rl] = 0; ++rl; break;\n            case 'E': rows[w[1]] = rl; sign[rl] = 0;b[rl] = 0; ++rl; break;\n            default: err('Parse error '+numeric.prettyPrint(w));\n            }\n            break;\n        case 3:\n            if(!vars.hasOwnProperty(w[0])) { vars[w[0]] = nv; c[nv] = 0; A[nv] = numeric.rep([rl],0); ++nv; }\n            var p = vars[w[0]];\n            for(j=1;j<w.length;j+=2) {\n                if(w[j] === N) { c[p] = parseFloat(w[j+1]); continue; }\n                var q = rows[w[j]];\n                A[p][q] = (sign[q]<0?-1:1)*parseFloat(w[j+1]);\n            }\n            break;\n        case 4:\n            for(j=1;j<w.length;j+=2) b[rows[w[j]]] = (sign[rows[w[j]]]<0?-1:1)*parseFloat(w[j+1]);\n            break;\n        case 5: /*FIXME*/ break;\n        case 6: err('Internal error');\n        }\n    }\n    err('Reached end of file without ENDATA');\n}\n// seedrandom.js version 2.0.\n// Author: David Bau 4/2/2011\n//\n// Defines a method Math.seedrandom() that, when called, substitutes\n// an explicitly seeded RC4-based algorithm for Math.random().  Also\n// supports automatic seeding from local or network sources of entropy.\n//\n// Usage:\n//\n//   <script src=http://davidbau.com/encode/seedrandom-min.js></script>\n//\n//   Math.seedrandom('yipee'); Sets Math.random to a function that is\n//                             initialized using the given explicit seed.\n//\n//   Math.seedrandom();        Sets Math.random to a function that is\n//                             seeded using the current time, dom state,\n//                             and other accumulated local entropy.\n//                             The generated seed string is returned.\n//\n//   Math.seedrandom('yowza', true);\n//                             Seeds using the given explicit seed mixed\n//                             together with accumulated entropy.\n//\n//   <script src=\"http://bit.ly/srandom-512\"></script>\n//                             Seeds using physical random bits downloaded\n//                             from random.org.\n//\n//   <script src=\"https://jsonlib.appspot.com/urandom?callback=Math.seedrandom\">\n//   </script>                 Seeds using urandom bits from call.jsonlib.com,\n//                             which is faster than random.org.\n//\n// Examples:\n//\n//   Math.seedrandom(\"hello\");            // Use \"hello\" as the seed.\n//   document.write(Math.random());       // Always 0.5463663768140734\n//   document.write(Math.random());       // Always 0.43973793770592234\n//   var rng1 = Math.random;              // Remember the current prng.\n//\n//   var autoseed = Math.seedrandom();    // New prng with an automatic seed.\n//   document.write(Math.random());       // Pretty much unpredictable.\n//\n//   Math.random = rng1;                  // Continue \"hello\" prng sequence.\n//   document.write(Math.random());       // Always 0.554769432473455\n//\n//   Math.seedrandom(autoseed);           // Restart at the previous seed.\n//   document.write(Math.random());       // Repeat the 'unpredictable' value.\n//\n// Notes:\n//\n// Each time seedrandom('arg') is called, entropy from the passed seed\n// is accumulated in a pool to help generate future seeds for the\n// zero-argument form of Math.seedrandom, so entropy can be injected over\n// time by calling seedrandom with explicit data repeatedly.\n//\n// On speed - This javascript implementation of Math.random() is about\n// 3-10x slower than the built-in Math.random() because it is not native\n// code, but this is typically fast enough anyway.  Seeding is more expensive,\n// especially if you use auto-seeding.  Some details (timings on Chrome 4):\n//\n// Our Math.random()            - avg less than 0.002 milliseconds per call\n// seedrandom('explicit')       - avg less than 0.5 milliseconds per call\n// seedrandom('explicit', true) - avg less than 2 milliseconds per call\n// seedrandom()                 - avg about 38 milliseconds per call\n//\n// LICENSE (BSD):\n//\n// Copyright 2010 David Bau, all rights reserved.\n//\n// Redistribution and use in source and binary forms, with or without\n// modification, are permitted provided that the following conditions are met:\n// \n//   1. Redistributions of source code must retain the above copyright\n//      notice, this list of conditions and the following disclaimer.\n//\n//   2. Redistributions in binary form must reproduce the above copyright\n//      notice, this list of conditions and the following disclaimer in the\n//      documentation and/or other materials provided with the distribution.\n// \n//   3. Neither the name of this module nor the names of its contributors may\n//      be used to endorse or promote products derived from this software\n//      without specific prior written permission.\n// \n// THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS\n// \"AS IS\" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT\n// LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR\n// A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT\n// OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,\n// SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT\n// LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,\n// DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY\n// THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n// (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE\n// OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n//\n/**\n * All code is in an anonymous closure to keep the global namespace clean.\n *\n * @param {number=} overflow \n * @param {number=} startdenom\n */\n\n// Patched by Seb so that seedrandom.js does not pollute the Math object.\n// My tests suggest that doing Math.trouble = 1 makes Math lookups about 5%\n// slower.\nnumeric.seedrandom = { pow:Math.pow, random:Math.random };\n\n(function (pool, math, width, chunks, significance, overflow, startdenom) {\n\n\n//\n// seedrandom()\n// This is the seedrandom function described above.\n//\nmath['seedrandom'] = function seedrandom(seed, use_entropy) {\n  var key = [];\n  var arc4;\n\n  // Flatten the seed string or build one from local entropy if needed.\n  seed = mixkey(flatten(\n    use_entropy ? [seed, pool] :\n    arguments.length ? seed :\n    [new Date().getTime(), pool, window], 3), key);\n\n  // Use the seed to initialize an ARC4 generator.\n  arc4 = new ARC4(key);\n\n  // Mix the randomness into accumulated entropy.\n  mixkey(arc4.S, pool);\n\n  // Override Math.random\n\n  // This function returns a random double in [0, 1) that contains\n  // randomness in every bit of the mantissa of the IEEE 754 value.\n\n  math['random'] = function random() {  // Closure to return a random double:\n    var n = arc4.g(chunks);             // Start with a numerator n < 2 ^ 48\n    var d = startdenom;                 //   and denominator d = 2 ^ 48.\n    var x = 0;                          //   and no 'extra last byte'.\n    while (n < significance) {          // Fill up all significant digits by\n      n = (n + x) * width;              //   shifting numerator and\n      d *= width;                       //   denominator and generating a\n      x = arc4.g(1);                    //   new least-significant-byte.\n    }\n    while (n >= overflow) {             // To avoid rounding up, before adding\n      n /= 2;                           //   last byte, shift everything\n      d /= 2;                           //   right using integer math until\n      x >>>= 1;                         //   we have exactly the desired bits.\n    }\n    return (n + x) / d;                 // Form the number within [0, 1).\n  };\n\n  // Return the seed that was used\n  return seed;\n};\n\n//\n// ARC4\n//\n// An ARC4 implementation.  The constructor takes a key in the form of\n// an array of at most (width) integers that should be 0 <= x < (width).\n//\n// The g(count) method returns a pseudorandom integer that concatenates\n// the next (count) outputs from ARC4.  Its return value is a number x\n// that is in the range 0 <= x < (width ^ count).\n//\n/** @constructor */\nfunction ARC4(key) {\n  var t, u, me = this, keylen = key.length;\n  var i = 0, j = me.i = me.j = me.m = 0;\n  me.S = [];\n  me.c = [];\n\n  // The empty key [] is treated as [0].\n  if (!keylen) { key = [keylen++]; }\n\n  // Set up S using the standard key scheduling algorithm.\n  while (i < width) { me.S[i] = i++; }\n  for (i = 0; i < width; i++) {\n    t = me.S[i];\n    j = lowbits(j + t + key[i % keylen]);\n    u = me.S[j];\n    me.S[i] = u;\n    me.S[j] = t;\n  }\n\n  // The \"g\" method returns the next (count) outputs as one number.\n  me.g = function getnext(count) {\n    var s = me.S;\n    var i = lowbits(me.i + 1); var t = s[i];\n    var j = lowbits(me.j + t); var u = s[j];\n    s[i] = u;\n    s[j] = t;\n    var r = s[lowbits(t + u)];\n    while (--count) {\n      i = lowbits(i + 1); t = s[i];\n      j = lowbits(j + t); u = s[j];\n      s[i] = u;\n      s[j] = t;\n      r = r * width + s[lowbits(t + u)];\n    }\n    me.i = i;\n    me.j = j;\n    return r;\n  };\n  // For robust unpredictability discard an initial batch of values.\n  // See http://www.rsa.com/rsalabs/node.asp?id=2009\n  me.g(width);\n}\n\n//\n// flatten()\n// Converts an object tree to nested arrays of strings.\n//\n/** @param {Object=} result \n  * @param {string=} prop\n  * @param {string=} typ */\nfunction flatten(obj, depth, result, prop, typ) {\n  result = [];\n  typ = typeof(obj);\n  if (depth && typ == 'object') {\n    for (prop in obj) {\n      if (prop.indexOf('S') < 5) {    // Avoid FF3 bug (local/sessionStorage)\n        try { result.push(flatten(obj[prop], depth - 1)); } catch (e) {}\n      }\n    }\n  }\n  return (result.length ? result : obj + (typ != 'string' ? '\\0' : ''));\n}\n\n//\n// mixkey()\n// Mixes a string seed into a key that is an array of integers, and\n// returns a shortened string seed that is equivalent to the result key.\n//\n/** @param {number=} smear \n  * @param {number=} j */\nfunction mixkey(seed, key, smear, j) {\n  seed += '';                         // Ensure the seed is a string\n  smear = 0;\n  for (j = 0; j < seed.length; j++) {\n    key[lowbits(j)] =\n      lowbits((smear ^= key[lowbits(j)] * 19) + seed.charCodeAt(j));\n  }\n  seed = '';\n  for (j in key) { seed += String.fromCharCode(key[j]); }\n  return seed;\n}\n\n//\n// lowbits()\n// A quick \"n mod width\" for width a power of 2.\n//\nfunction lowbits(n) { return n & (width - 1); }\n\n//\n// The following constants are related to IEEE 754 limits.\n//\nstartdenom = math.pow(width, chunks);\nsignificance = math.pow(2, significance);\noverflow = significance * 2;\n\n//\n// When seedrandom.js is loaded, we immediately mix a few bits\n// from the built-in RNG into the entropy pool.  Because we do\n// not want to intefere with determinstic PRNG state later,\n// seedrandom will not call math.random on its own again after\n// initialization.\n//\nmixkey(math.random(), pool);\n\n// End anonymous scope, and pass initial values.\n}(\n  [],   // pool: entropy pool starts empty\n  numeric.seedrandom, // math: package containing random, pow, and seedrandom\n  256,  // width: each RC4 output is 0 <= x < 256\n  6,    // chunks: at least six RC4 outputs for each double\n  52    // significance: there are 52 significant digits in a double\n  ));\n/* This file is a slightly modified version of quadprog.js from Alberto Santini.\n * It has been slightly modified by Sébastien Loisel to make sure that it handles\n * 0-based Arrays instead of 1-based Arrays.\n * License is in resources/LICENSE.quadprog */\n(function(exports) {\n\nfunction base0to1(A) {\n    if(typeof A !== \"object\") { return A; }\n    var ret = [], i,n=A.length;\n    for(i=0;i<n;i++) ret[i+1] = base0to1(A[i]);\n    return ret;\n}\nfunction base1to0(A) {\n    if(typeof A !== \"object\") { return A; }\n    var ret = [], i,n=A.length;\n    for(i=1;i<n;i++) ret[i-1] = base1to0(A[i]);\n    return ret;\n}\n\nfunction dpori(a, lda, n) {\n    var i, j, k, kp1, t;\n\n    for (k = 1; k <= n; k = k + 1) {\n        a[k][k] = 1 / a[k][k];\n        t = -a[k][k];\n        //~ dscal(k - 1, t, a[1][k], 1);\n        for (i = 1; i < k; i = i + 1) {\n            a[i][k] = t * a[i][k];\n        }\n\n        kp1 = k + 1;\n        if (n < kp1) {\n            break;\n        }\n        for (j = kp1; j <= n; j = j + 1) {\n            t = a[k][j];\n            a[k][j] = 0;\n            //~ daxpy(k, t, a[1][k], 1, a[1][j], 1);\n            for (i = 1; i <= k; i = i + 1) {\n                a[i][j] = a[i][j] + (t * a[i][k]);\n            }\n        }\n    }\n\n}\n\nfunction dposl(a, lda, n, b) {\n    var i, k, kb, t;\n\n    for (k = 1; k <= n; k = k + 1) {\n        //~ t = ddot(k - 1, a[1][k], 1, b[1], 1);\n        t = 0;\n        for (i = 1; i < k; i = i + 1) {\n            t = t + (a[i][k] * b[i]);\n        }\n\n        b[k] = (b[k] - t) / a[k][k];\n    }\n\n    for (kb = 1; kb <= n; kb = kb + 1) {\n        k = n + 1 - kb;\n        b[k] = b[k] / a[k][k];\n        t = -b[k];\n        //~ daxpy(k - 1, t, a[1][k], 1, b[1], 1);\n        for (i = 1; i < k; i = i + 1) {\n            b[i] = b[i] + (t * a[i][k]);\n        }\n    }\n}\n\nfunction dpofa(a, lda, n, info) {\n    var i, j, jm1, k, t, s;\n\n    for (j = 1; j <= n; j = j + 1) {\n        info[1] = j;\n        s = 0;\n        jm1 = j - 1;\n        if (jm1 < 1) {\n            s = a[j][j] - s;\n            if (s <= 0) {\n                break;\n            }\n            a[j][j] = Math.sqrt(s);\n        } else {\n            for (k = 1; k <= jm1; k = k + 1) {\n                //~ t = a[k][j] - ddot(k - 1, a[1][k], 1, a[1][j], 1);\n                t = a[k][j];\n                for (i = 1; i < k; i = i + 1) {\n                    t = t - (a[i][j] * a[i][k]);\n                }\n                t = t / a[k][k];\n                a[k][j] = t;\n                s = s + t * t;\n            }\n            s = a[j][j] - s;\n            if (s <= 0) {\n                break;\n            }\n            a[j][j] = Math.sqrt(s);\n        }\n        info[1] = 0;\n    }\n}\n\nfunction qpgen2(dmat, dvec, fddmat, n, sol, crval, amat,\n    bvec, fdamat, q, meq, iact, nact, iter, work, ierr) {\n\n    var i, j, l, l1, info, it1, iwzv, iwrv, iwrm, iwsv, iwuv, nvl, r, iwnbv,\n        temp, sum, t1, tt, gc, gs, nu,\n        t1inf, t2min,\n        vsmall, tmpa, tmpb,\n        go;\n\n    r = Math.min(n, q);\n    l = 2 * n + (r * (r + 5)) / 2 + 2 * q + 1;\n\n    vsmall = 1.0e-60;\n    do {\n        vsmall = vsmall + vsmall;\n        tmpa = 1 + 0.1 * vsmall;\n        tmpb = 1 + 0.2 * vsmall;\n    } while (tmpa <= 1 || tmpb <= 1);\n\n    for (i = 1; i <= n; i = i + 1) {\n        work[i] = dvec[i];\n    }\n    for (i = n + 1; i <= l; i = i + 1) {\n        work[i] = 0;\n    }\n    for (i = 1; i <= q; i = i + 1) {\n        iact[i] = 0;\n    }\n\n    info = [];\n\n    if (ierr[1] === 0) {\n        dpofa(dmat, fddmat, n, info);\n        if (info[1] !== 0) {\n            ierr[1] = 2;\n            return;\n        }\n        dposl(dmat, fddmat, n, dvec);\n        dpori(dmat, fddmat, n);\n    } else {\n        for (j = 1; j <= n; j = j + 1) {\n            sol[j] = 0;\n            for (i = 1; i <= j; i = i + 1) {\n                sol[j] = sol[j] + dmat[i][j] * dvec[i];\n            }\n        }\n        for (j = 1; j <= n; j = j + 1) {\n            dvec[j] = 0;\n            for (i = j; i <= n; i = i + 1) {\n                dvec[j] = dvec[j] + dmat[j][i] * sol[i];\n            }\n        }\n    }\n\n    crval[1] = 0;\n    for (j = 1; j <= n; j = j + 1) {\n        sol[j] = dvec[j];\n        crval[1] = crval[1] + work[j] * sol[j];\n        work[j] = 0;\n        for (i = j + 1; i <= n; i = i + 1) {\n            dmat[i][j] = 0;\n        }\n    }\n    crval[1] = -crval[1] / 2;\n    ierr[1] = 0;\n\n    iwzv = n;\n    iwrv = iwzv + n;\n    iwuv = iwrv + r;\n    iwrm = iwuv + r + 1;\n    iwsv = iwrm + (r * (r + 1)) / 2;\n    iwnbv = iwsv + q;\n\n    for (i = 1; i <= q; i = i + 1) {\n        sum = 0;\n        for (j = 1; j <= n; j = j + 1) {\n            sum = sum + amat[j][i] * amat[j][i];\n        }\n        work[iwnbv + i] = Math.sqrt(sum);\n    }\n    nact = 0;\n    iter[1] = 0;\n    iter[2] = 0;\n\n    function fn_goto_50() {\n        iter[1] = iter[1] + 1;\n\n        l = iwsv;\n        for (i = 1; i <= q; i = i + 1) {\n            l = l + 1;\n            sum = -bvec[i];\n            for (j = 1; j <= n; j = j + 1) {\n                sum = sum + amat[j][i] * sol[j];\n            }\n            if (Math.abs(sum) < vsmall) {\n                sum = 0;\n            }\n            if (i > meq) {\n                work[l] = sum;\n            } else {\n                work[l] = -Math.abs(sum);\n                if (sum > 0) {\n                    for (j = 1; j <= n; j = j + 1) {\n                        amat[j][i] = -amat[j][i];\n                    }\n                    bvec[i] = -bvec[i];\n                }\n            }\n        }\n\n        for (i = 1; i <= nact; i = i + 1) {\n            work[iwsv + iact[i]] = 0;\n        }\n\n        nvl = 0;\n        temp = 0;\n        for (i = 1; i <= q; i = i + 1) {\n            if (work[iwsv + i] < temp * work[iwnbv + i]) {\n                nvl = i;\n                temp = work[iwsv + i] / work[iwnbv + i];\n            }\n        }\n        if (nvl === 0) {\n            return 999;\n        }\n\n        return 0;\n    }\n\n    function fn_goto_55() {\n        for (i = 1; i <= n; i = i + 1) {\n            sum = 0;\n            for (j = 1; j <= n; j = j + 1) {\n                sum = sum + dmat[j][i] * amat[j][nvl];\n            }\n            work[i] = sum;\n        }\n\n        l1 = iwzv;\n        for (i = 1; i <= n; i = i + 1) {\n            work[l1 + i] = 0;\n        }\n        for (j = nact + 1; j <= n; j = j + 1) {\n            for (i = 1; i <= n; i = i + 1) {\n                work[l1 + i] = work[l1 + i] + dmat[i][j] * work[j];\n            }\n        }\n\n        t1inf = true;\n        for (i = nact; i >= 1; i = i - 1) {\n            sum = work[i];\n            l = iwrm + (i * (i + 3)) / 2;\n            l1 = l - i;\n            for (j = i + 1; j <= nact; j = j + 1) {\n                sum = sum - work[l] * work[iwrv + j];\n                l = l + j;\n            }\n            sum = sum / work[l1];\n            work[iwrv + i] = sum;\n            if (iact[i] < meq) {\n                // continue;\n                break;\n            }\n            if (sum < 0) {\n                // continue;\n                break;\n            }\n            t1inf = false;\n            it1 = i;\n        }\n\n        if (!t1inf) {\n            t1 = work[iwuv + it1] / work[iwrv + it1];\n            for (i = 1; i <= nact; i = i + 1) {\n                if (iact[i] < meq) {\n                    // continue;\n                    break;\n                }\n                if (work[iwrv + i] < 0) {\n                    // continue;\n                    break;\n                }\n                temp = work[iwuv + i] / work[iwrv + i];\n                if (temp < t1) {\n                    t1 = temp;\n                    it1 = i;\n                }\n            }\n        }\n\n        sum = 0;\n        for (i = iwzv + 1; i <= iwzv + n; i = i + 1) {\n            sum = sum + work[i] * work[i];\n        }\n        if (Math.abs(sum) <= vsmall) {\n            if (t1inf) {\n                ierr[1] = 1;\n                // GOTO 999\n                return 999;\n            } else {\n                for (i = 1; i <= nact; i = i + 1) {\n                    work[iwuv + i] = work[iwuv + i] - t1 * work[iwrv + i];\n                }\n                work[iwuv + nact + 1] = work[iwuv + nact + 1] + t1;\n                // GOTO 700\n                return 700;\n            }\n        } else {\n            sum = 0;\n            for (i = 1; i <= n; i = i + 1) {\n                sum = sum + work[iwzv + i] * amat[i][nvl];\n            }\n            tt = -work[iwsv + nvl] / sum;\n            t2min = true;\n            if (!t1inf) {\n                if (t1 < tt) {\n                    tt = t1;\n                    t2min = false;\n                }\n            }\n\n            for (i = 1; i <= n; i = i + 1) {\n                sol[i] = sol[i] + tt * work[iwzv + i];\n                if (Math.abs(sol[i]) < vsmall) {\n                    sol[i] = 0;\n                }\n            }\n\n            crval[1] = crval[1] + tt * sum * (tt / 2 + work[iwuv + nact + 1]);\n            for (i = 1; i <= nact; i = i + 1) {\n                work[iwuv + i] = work[iwuv + i] - tt * work[iwrv + i];\n            }\n            work[iwuv + nact + 1] = work[iwuv + nact + 1] + tt;\n\n            if (t2min) {\n                nact = nact + 1;\n                iact[nact] = nvl;\n\n                l = iwrm + ((nact - 1) * nact) / 2 + 1;\n                for (i = 1; i <= nact - 1; i = i + 1) {\n                    work[l] = work[i];\n                    l = l + 1;\n                }\n\n                if (nact === n) {\n                    work[l] = work[n];\n                } else {\n                    for (i = n; i >= nact + 1; i = i - 1) {\n                        if (work[i] === 0) {\n                            // continue;\n                            break;\n                        }\n                        gc = Math.max(Math.abs(work[i - 1]), Math.abs(work[i]));\n                        gs = Math.min(Math.abs(work[i - 1]), Math.abs(work[i]));\n                        if (work[i - 1] >= 0) {\n                            temp = Math.abs(gc * Math.sqrt(1 + gs * gs / (gc * gc)));\n                        } else {\n                            temp = -Math.abs(gc * Math.sqrt(1 + gs * gs / (gc * gc)));\n                        }\n                        gc = work[i - 1] / temp;\n                        gs = work[i] / temp;\n\n                        if (gc === 1) {\n                            // continue;\n                            break;\n                        }\n                        if (gc === 0) {\n                            work[i - 1] = gs * temp;\n                            for (j = 1; j <= n; j = j + 1) {\n                                temp = dmat[j][i - 1];\n                                dmat[j][i - 1] = dmat[j][i];\n                                dmat[j][i] = temp;\n                            }\n                        } else {\n                            work[i - 1] = temp;\n                            nu = gs / (1 + gc);\n                            for (j = 1; j <= n; j = j + 1) {\n                                temp = gc * dmat[j][i - 1] + gs * dmat[j][i];\n                                dmat[j][i] = nu * (dmat[j][i - 1] + temp) - dmat[j][i];\n                                dmat[j][i - 1] = temp;\n\n                            }\n                        }\n                    }\n                    work[l] = work[nact];\n                }\n            } else {\n                sum = -bvec[nvl];\n                for (j = 1; j <= n; j = j + 1) {\n                    sum = sum + sol[j] * amat[j][nvl];\n                }\n                if (nvl > meq) {\n                    work[iwsv + nvl] = sum;\n                } else {\n                    work[iwsv + nvl] = -Math.abs(sum);\n                    if (sum > 0) {\n                        for (j = 1; j <= n; j = j + 1) {\n                            amat[j][nvl] = -amat[j][nvl];\n                        }\n                        bvec[nvl] = -bvec[nvl];\n                    }\n                }\n                // GOTO 700\n                return 700;\n            }\n        }\n\n        return 0;\n    }\n\n    function fn_goto_797() {\n        l = iwrm + (it1 * (it1 + 1)) / 2 + 1;\n        l1 = l + it1;\n        if (work[l1] === 0) {\n            // GOTO 798\n            return 798;\n        }\n        gc = Math.max(Math.abs(work[l1 - 1]), Math.abs(work[l1]));\n        gs = Math.min(Math.abs(work[l1 - 1]), Math.abs(work[l1]));\n        if (work[l1 - 1] >= 0) {\n            temp = Math.abs(gc * Math.sqrt(1 + gs * gs / (gc * gc)));\n        } else {\n            temp = -Math.abs(gc * Math.sqrt(1 + gs * gs / (gc * gc)));\n        }\n        gc = work[l1 - 1] / temp;\n        gs = work[l1] / temp;\n\n        if (gc === 1) {\n            // GOTO 798\n            return 798;\n        }\n        if (gc === 0) {\n            for (i = it1 + 1; i <= nact; i = i + 1) {\n                temp = work[l1 - 1];\n                work[l1 - 1] = work[l1];\n                work[l1] = temp;\n                l1 = l1 + i;\n            }\n            for (i = 1; i <= n; i = i + 1) {\n                temp = dmat[i][it1];\n                dmat[i][it1] = dmat[i][it1 + 1];\n                dmat[i][it1 + 1] = temp;\n            }\n        } else {\n            nu = gs / (1 + gc);\n            for (i = it1 + 1; i <= nact; i = i + 1) {\n                temp = gc * work[l1 - 1] + gs * work[l1];\n                work[l1] = nu * (work[l1 - 1] + temp) - work[l1];\n                work[l1 - 1] = temp;\n                l1 = l1 + i;\n            }\n            for (i = 1; i <= n; i = i + 1) {\n                temp = gc * dmat[i][it1] + gs * dmat[i][it1 + 1];\n                dmat[i][it1 + 1] = nu * (dmat[i][it1] + temp) - dmat[i][it1 + 1];\n                dmat[i][it1] = temp;\n            }\n        }\n\n        return 0;\n    }\n\n    function fn_goto_798() {\n        l1 = l - it1;\n        for (i = 1; i <= it1; i = i + 1) {\n            work[l1] = work[l];\n            l = l + 1;\n            l1 = l1 + 1;\n        }\n\n        work[iwuv + it1] = work[iwuv + it1 + 1];\n        iact[it1] = iact[it1 + 1];\n        it1 = it1 + 1;\n        if (it1 < nact) {\n            // GOTO 797\n            return 797;\n        }\n\n        return 0;\n    }\n\n    function fn_goto_799() {\n        work[iwuv + nact] = work[iwuv + nact + 1];\n        work[iwuv + nact + 1] = 0;\n        iact[nact] = 0;\n        nact = nact - 1;\n        iter[2] = iter[2] + 1;\n\n        return 0;\n    }\n\n    go = 0;\n    while (true) {\n        go = fn_goto_50();\n        if (go === 999) {\n            return;\n        }\n        while (true) {\n            go = fn_goto_55();\n            if (go === 0) {\n                break;\n            }\n            if (go === 999) {\n                return;\n            }\n            if (go === 700) {\n                if (it1 === nact) {\n                    fn_goto_799();\n                } else {\n                    while (true) {\n                        fn_goto_797();\n                        go = fn_goto_798();\n                        if (go !== 797) {\n                            break;\n                        }\n                    }\n                    fn_goto_799();\n                }\n            }\n        }\n    }\n\n}\n\nfunction solveQP(Dmat, dvec, Amat, bvec, meq, factorized) {\n    Dmat = base0to1(Dmat);\n    dvec = base0to1(dvec);\n    Amat = base0to1(Amat);\n    var i, n, q,\n        nact, r,\n        crval = [], iact = [], sol = [], work = [], iter = [],\n        message;\n\n    meq = meq || 0;\n    factorized = factorized ? base0to1(factorized) : [undefined, 0];\n    bvec = bvec ? base0to1(bvec) : [];\n\n    // In Fortran the array index starts from 1\n    n = Dmat.length - 1;\n    q = Amat[1].length - 1;\n\n    if (!bvec) {\n        for (i = 1; i <= q; i = i + 1) {\n            bvec[i] = 0;\n        }\n    }\n    for (i = 1; i <= q; i = i + 1) {\n        iact[i] = 0;\n    }\n    nact = 0;\n    r = Math.min(n, q);\n    for (i = 1; i <= n; i = i + 1) {\n        sol[i] = 0;\n    }\n    crval[1] = 0;\n    for (i = 1; i <= (2 * n + (r * (r + 5)) / 2 + 2 * q + 1); i = i + 1) {\n        work[i] = 0;\n    }\n    for (i = 1; i <= 2; i = i + 1) {\n        iter[i] = 0;\n    }\n\n    qpgen2(Dmat, dvec, n, n, sol, crval, Amat,\n        bvec, n, q, meq, iact, nact, iter, work, factorized);\n\n    message = \"\";\n    if (factorized[1] === 1) {\n        message = \"constraints are inconsistent, no solution!\";\n    }\n    if (factorized[1] === 2) {\n        message = \"matrix D in quadratic function is not positive definite!\";\n    }\n\n    return {\n        solution: base1to0(sol),\n        value: base1to0(crval),\n        unconstrained_solution: base1to0(dvec),\n        iterations: base1to0(iter),\n        iact: base1to0(iact),\n        message: message\n    };\n}\nexports.solveQP = solveQP;\n}(numeric));\n/*\r\nShanti Rao sent me this routine by private email. I had to modify it\r\nslightly to work on Arrays instead of using a Matrix object.\r\nIt is apparently translated from http://stitchpanorama.sourceforge.net/Python/svd.py\r\n*/\r\n\r\nnumeric.svd= function svd(A) {\r\n    var temp;\r\n//Compute the thin SVD from G. H. Golub and C. Reinsch, Numer. Math. 14, 403-420 (1970)\r\n\tvar prec= numeric.epsilon; //Math.pow(2,-52) // assumes double prec\r\n\tvar tolerance= 1.e-64/prec;\r\n\tvar itmax= 50;\r\n\tvar c=0;\r\n\tvar i=0;\r\n\tvar j=0;\r\n\tvar k=0;\r\n\tvar l=0;\r\n\t\r\n\tvar u= numeric.clone(A);\r\n\tvar m= u.length;\r\n\t\r\n\tvar n= u[0].length;\r\n\t\r\n\tif (m < n) throw \"Need more rows than columns\"\r\n\t\r\n\tvar e = new Array(n);\r\n\tvar q = new Array(n);\r\n\tfor (i=0; i<n; i++) e[i] = q[i] = 0.0;\r\n\tvar v = numeric.rep([n,n],0);\r\n//\tv.zero();\r\n\t\r\n \tfunction pythag(a,b)\r\n \t{\r\n\t\ta = Math.abs(a)\r\n\t\tb = Math.abs(b)\r\n\t\tif (a > b)\r\n\t\t\treturn a*Math.sqrt(1.0+(b*b/a/a))\r\n\t\telse if (b == 0.0) \r\n\t\t\treturn a\r\n\t\treturn b*Math.sqrt(1.0+(a*a/b/b))\r\n\t}\r\n\r\n\t//Householder's reduction to bidiagonal form\r\n\r\n\tvar f= 0.0;\r\n\tvar g= 0.0;\r\n\tvar h= 0.0;\r\n\tvar x= 0.0;\r\n\tvar y= 0.0;\r\n\tvar z= 0.0;\r\n\tvar s= 0.0;\r\n\t\r\n\tfor (i=0; i < n; i++)\r\n\t{\t\r\n\t\te[i]= g;\r\n\t\ts= 0.0;\r\n\t\tl= i+1;\r\n\t\tfor (j=i; j < m; j++) \r\n\t\t\ts += (u[j][i]*u[j][i]);\r\n\t\tif (s <= tolerance)\r\n\t\t\tg= 0.0;\r\n\t\telse\r\n\t\t{\t\r\n\t\t\tf= u[i][i];\r\n\t\t\tg= Math.sqrt(s);\r\n\t\t\tif (f >= 0.0) g= -g;\r\n\t\t\th= f*g-s\r\n\t\t\tu[i][i]=f-g;\r\n\t\t\tfor (j=l; j < n; j++)\r\n\t\t\t{\r\n\t\t\t\ts= 0.0\r\n\t\t\t\tfor (k=i; k < m; k++) \r\n\t\t\t\t\ts += u[k][i]*u[k][j]\r\n\t\t\t\tf= s/h\r\n\t\t\t\tfor (k=i; k < m; k++) \r\n\t\t\t\t\tu[k][j]+=f*u[k][i]\r\n\t\t\t}\r\n\t\t}\r\n\t\tq[i]= g\r\n\t\ts= 0.0\r\n\t\tfor (j=l; j < n; j++) \r\n\t\t\ts= s + u[i][j]*u[i][j]\r\n\t\tif (s <= tolerance)\r\n\t\t\tg= 0.0\r\n\t\telse\r\n\t\t{\t\r\n\t\t\tf= u[i][i+1]\r\n\t\t\tg= Math.sqrt(s)\r\n\t\t\tif (f >= 0.0) g= -g\r\n\t\t\th= f*g - s\r\n\t\t\tu[i][i+1] = f-g;\r\n\t\t\tfor (j=l; j < n; j++) e[j]= u[i][j]/h\r\n\t\t\tfor (j=l; j < m; j++)\r\n\t\t\t{\t\r\n\t\t\t\ts=0.0\r\n\t\t\t\tfor (k=l; k < n; k++) \r\n\t\t\t\t\ts += (u[j][k]*u[i][k])\r\n\t\t\t\tfor (k=l; k < n; k++) \r\n\t\t\t\t\tu[j][k]+=s*e[k]\r\n\t\t\t}\t\r\n\t\t}\r\n\t\ty= Math.abs(q[i])+Math.abs(e[i])\r\n\t\tif (y>x) \r\n\t\t\tx=y\r\n\t}\r\n\t\r\n\t// accumulation of right hand gtransformations\r\n\tfor (i=n-1; i != -1; i+= -1)\r\n\t{\t\r\n\t\tif (g != 0.0)\r\n\t\t{\r\n\t\t \th= g*u[i][i+1]\r\n\t\t\tfor (j=l; j < n; j++) \r\n\t\t\t\tv[j][i]=u[i][j]/h\r\n\t\t\tfor (j=l; j < n; j++)\r\n\t\t\t{\t\r\n\t\t\t\ts=0.0\r\n\t\t\t\tfor (k=l; k < n; k++) \r\n\t\t\t\t\ts += u[i][k]*v[k][j]\r\n\t\t\t\tfor (k=l; k < n; k++) \r\n\t\t\t\t\tv[k][j]+=(s*v[k][i])\r\n\t\t\t}\t\r\n\t\t}\r\n\t\tfor (j=l; j < n; j++)\r\n\t\t{\r\n\t\t\tv[i][j] = 0;\r\n\t\t\tv[j][i] = 0;\r\n\t\t}\r\n\t\tv[i][i] = 1;\r\n\t\tg= e[i]\r\n\t\tl= i\r\n\t}\r\n\t\r\n\t// accumulation of left hand transformations\r\n\tfor (i=n-1; i != -1; i+= -1)\r\n\t{\t\r\n\t\tl= i+1\r\n\t\tg= q[i]\r\n\t\tfor (j=l; j < n; j++) \r\n\t\t\tu[i][j] = 0;\r\n\t\tif (g != 0.0)\r\n\t\t{\r\n\t\t\th= u[i][i]*g\r\n\t\t\tfor (j=l; j < n; j++)\r\n\t\t\t{\r\n\t\t\t\ts=0.0\r\n\t\t\t\tfor (k=l; k < m; k++) s += u[k][i]*u[k][j];\r\n\t\t\t\tf= s/h\r\n\t\t\t\tfor (k=i; k < m; k++) u[k][j]+=f*u[k][i];\r\n\t\t\t}\r\n\t\t\tfor (j=i; j < m; j++) u[j][i] = u[j][i]/g;\r\n\t\t}\r\n\t\telse\r\n\t\t\tfor (j=i; j < m; j++) u[j][i] = 0;\r\n\t\tu[i][i] += 1;\r\n\t}\r\n\t\r\n\t// diagonalization of the bidiagonal form\r\n\tprec= prec*x\r\n\tfor (k=n-1; k != -1; k+= -1)\r\n\t{\r\n\t\tfor (var iteration=0; iteration < itmax; iteration++)\r\n\t\t{\t// test f splitting\r\n\t\t\tvar test_convergence = false\r\n\t\t\tfor (l=k; l != -1; l+= -1)\r\n\t\t\t{\t\r\n\t\t\t\tif (Math.abs(e[l]) <= prec)\r\n\t\t\t\t{\ttest_convergence= true\r\n\t\t\t\t\tbreak \r\n\t\t\t\t}\r\n\t\t\t\tif (Math.abs(q[l-1]) <= prec)\r\n\t\t\t\t\tbreak \r\n\t\t\t}\r\n\t\t\tif (!test_convergence)\r\n\t\t\t{\t// cancellation of e[l] if l>0\r\n\t\t\t\tc= 0.0\r\n\t\t\t\ts= 1.0\r\n\t\t\t\tvar l1= l-1\r\n\t\t\t\tfor (i =l; i<k+1; i++)\r\n\t\t\t\t{\t\r\n\t\t\t\t\tf= s*e[i]\r\n\t\t\t\t\te[i]= c*e[i]\r\n\t\t\t\t\tif (Math.abs(f) <= prec)\r\n\t\t\t\t\t\tbreak\r\n\t\t\t\t\tg= q[i]\r\n\t\t\t\t\th= pythag(f,g)\r\n\t\t\t\t\tq[i]= h\r\n\t\t\t\t\tc= g/h\r\n\t\t\t\t\ts= -f/h\r\n\t\t\t\t\tfor (j=0; j < m; j++)\r\n\t\t\t\t\t{\t\r\n\t\t\t\t\t\ty= u[j][l1]\r\n\t\t\t\t\t\tz= u[j][i]\r\n\t\t\t\t\t\tu[j][l1] =  y*c+(z*s)\r\n\t\t\t\t\t\tu[j][i] = -y*s+(z*c)\r\n\t\t\t\t\t} \r\n\t\t\t\t}\t\r\n\t\t\t}\r\n\t\t\t// test f convergence\r\n\t\t\tz= q[k]\r\n\t\t\tif (l== k)\r\n\t\t\t{\t//convergence\r\n\t\t\t\tif (z<0.0)\r\n\t\t\t\t{\t//q[k] is made non-negative\r\n\t\t\t\t\tq[k]= -z\r\n\t\t\t\t\tfor (j=0; j < n; j++)\r\n\t\t\t\t\t\tv[j][k] = -v[j][k]\r\n\t\t\t\t}\r\n\t\t\t\tbreak  //break out of iteration loop and move on to next k value\r\n\t\t\t}\r\n\t\t\tif (iteration >= itmax-1)\r\n\t\t\t\tthrow 'Error: no convergence.'\r\n\t\t\t// shift from bottom 2x2 minor\r\n\t\t\tx= q[l]\r\n\t\t\ty= q[k-1]\r\n\t\t\tg= e[k-1]\r\n\t\t\th= e[k]\r\n\t\t\tf= ((y-z)*(y+z)+(g-h)*(g+h))/(2.0*h*y)\r\n\t\t\tg= pythag(f,1.0)\r\n\t\t\tif (f < 0.0)\r\n\t\t\t\tf= ((x-z)*(x+z)+h*(y/(f-g)-h))/x\r\n\t\t\telse\r\n\t\t\t\tf= ((x-z)*(x+z)+h*(y/(f+g)-h))/x\r\n\t\t\t// next QR transformation\r\n\t\t\tc= 1.0\r\n\t\t\ts= 1.0\r\n\t\t\tfor (i=l+1; i< k+1; i++)\r\n\t\t\t{\t\r\n\t\t\t\tg= e[i]\r\n\t\t\t\ty= q[i]\r\n\t\t\t\th= s*g\r\n\t\t\t\tg= c*g\r\n\t\t\t\tz= pythag(f,h)\r\n\t\t\t\te[i-1]= z\r\n\t\t\t\tc= f/z\r\n\t\t\t\ts= h/z\r\n\t\t\t\tf= x*c+g*s\r\n\t\t\t\tg= -x*s+g*c\r\n\t\t\t\th= y*s\r\n\t\t\t\ty= y*c\r\n\t\t\t\tfor (j=0; j < n; j++)\r\n\t\t\t\t{\t\r\n\t\t\t\t\tx= v[j][i-1]\r\n\t\t\t\t\tz= v[j][i]\r\n\t\t\t\t\tv[j][i-1] = x*c+z*s\r\n\t\t\t\t\tv[j][i] = -x*s+z*c\r\n\t\t\t\t}\r\n\t\t\t\tz= pythag(f,h)\r\n\t\t\t\tq[i-1]= z\r\n\t\t\t\tc= f/z\r\n\t\t\t\ts= h/z\r\n\t\t\t\tf= c*g+s*y\r\n\t\t\t\tx= -s*g+c*y\r\n\t\t\t\tfor (j=0; j < m; j++)\r\n\t\t\t\t{\r\n\t\t\t\t\ty= u[j][i-1]\r\n\t\t\t\t\tz= u[j][i]\r\n\t\t\t\t\tu[j][i-1] = y*c+z*s\r\n\t\t\t\t\tu[j][i] = -y*s+z*c\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\te[l]= 0.0\r\n\t\t\te[k]= f\r\n\t\t\tq[k]= x\r\n\t\t} \r\n\t}\r\n\t\t\r\n\t//vt= transpose(v)\r\n\t//return (u,q,vt)\r\n\tfor (i=0;i<q.length; i++) \r\n\t  if (q[i] < prec) q[i] = 0\r\n\t  \r\n\t//sort eigenvalues\t\r\n\tfor (i=0; i< n; i++)\r\n\t{\t \r\n\t//writeln(q)\r\n\t for (j=i-1; j >= 0; j--)\r\n\t {\r\n\t  if (q[j] < q[i])\r\n\t  {\r\n\t//  writeln(i,'-',j)\r\n\t   c = q[j]\r\n\t   q[j] = q[i]\r\n\t   q[i] = c\r\n\t   for(k=0;k<u.length;k++) { temp = u[k][i]; u[k][i] = u[k][j]; u[k][j] = temp; }\r\n\t   for(k=0;k<v.length;k++) { temp = v[k][i]; v[k][i] = v[k][j]; v[k][j] = temp; }\r\n//\t   u.swapCols(i,j)\r\n//\t   v.swapCols(i,j)\r\n\t   i = j\t   \r\n\t  }\r\n\t }\t\r\n\t}\r\n\t\r\n\treturn {U:u,S:q,V:v}\r\n};\r\n\r\n","<svelte:options tag=\"fds-image-transform-test2\"></svelte:options>\n<script>\n  import numeric from 'numeric';\n\n  // Helper function to calculate the perspective transformation matrix\n  function getPerspectiveTransformMatrix(src, dst, angle) {\n    // Convert angle to radians\n    const radians = (Math.PI / 180) * angle;\n    const cosA = Math.cos(radians);\n    const sinA = Math.sin(radians);\n\n    // Rotate source points around the center\n    const centerX = 200; // Half of width (400 / 2)\n    const centerY = 150; // Half of height (300 / 2)\n\n    const rotatedSrc = src.map(({ x, y }) => {\n      const dx = x - centerX;\n      const dy = y - centerY;\n      const xRot = dx * cosA - dy * sinA + centerX;\n      const yRot = dx * sinA + dy * cosA + centerY;\n      return { x: xRot, y: yRot };\n    });\n\n    const matrix = [];\n    for (let i = 0; i < 8; i++) matrix[i] = [];\n\n    for (let i = 0; i < 4; i++) {\n      matrix[i][0] = matrix[i + 4][3] = rotatedSrc[i].x;\n      matrix[i][1] = matrix[i + 4][4] = rotatedSrc[i].y;\n      matrix[i][2] = matrix[i + 4][5] = 1;\n      matrix[i][3] = matrix[i][4] = matrix[i][5] = 0;\n      matrix[i + 4][0] = matrix[i + 4][1] = matrix[i + 4][2] = 0;\n      matrix[i][6] = -rotatedSrc[i].x * dst[i].x;\n      matrix[i][7] = -rotatedSrc[i].y * dst[i].x;\n      matrix[i + 4][6] = -rotatedSrc[i].x * dst[i].y;\n      matrix[i + 4][7] = -rotatedSrc[i].y * dst[i].y;\n    }\n\n    const results = [\n      dst[0].x,\n      dst[1].x,\n      dst[2].x,\n      dst[3].x,\n      dst[0].y,\n      dst[1].y,\n      dst[2].y,\n      dst[3].y\n    ];\n\n    // Solving the system of linear equations to find the transformation matrix\n    const h = numeric.solve(matrix, results).concat(1);\n\n    return `matrix3d(${h[0]}, ${h[3]}, 0, ${h[6]}, ${h[1]}, ${h[4]}, 0, ${h[7]}, 0, 0, 1, 0, ${h[2]}, ${h[5]}, 0, 1)`;\n  }\n\n  // Rotation angle in degrees\n  let rotationAngle = 0;\n\n  // Initial corner positions (unrotated)\n  let originalCorners = [\n    { x: 0, y: 0 },        // top-left\n    { x: 400, y: 0 },      // top-right\n    { x: 400, y: 300 },    // bottom-right\n    { x: 0, y: 300 }       // bottom-left\n  ];\n\n  // User-adjustable corners (initialize to originalCorners)\n  let corners = [...originalCorners];\n\n  let isDragging = false;\n  let selectedCorner = null;\n  let container;\n  let transformMatrix = ''; // Reactive variable for the transform\n\n  function handleMouseDown(index, event) {\n    isDragging = true;\n    selectedCorner = index;\n  }\n\n  function handleMouseUp() {\n    isDragging = false;\n    selectedCorner = null;\n  }\n\n  function handleMouseMove(event) {\n    if (!isDragging || selectedCorner === null) return;\n\n    const rect = container.getBoundingClientRect();\n    const x = event.clientX - rect.left;\n    const y = event.clientY - rect.top;\n\n    corners = corners.map((corner, index) =>\n      index === selectedCorner\n        ? { x, y }\n        : corner\n    );\n\n    // Update the transform matrix when the corners are moved\n    updateTransform();\n  }\n\n  function updateTransform() {\n    const transform = getPerspectiveTransformMatrix(originalCorners, corners, rotationAngle);\n    transformMatrix = transform;\n  }\n\n  // Update transform when rotationAngle changes\n  $: if (rotationAngle) updateTransform();\n\n</script>\n\n<style>\n  .container {\n    position: relative;\n    width: 400px;\n    height: 300px;\n    perspective: 1000px;\n    border: 2px solid black;\n    user-select: none;\n  }\n\n  img {\n    position: absolute;\n    top: 0;\n    left: 0;\n    width: 100%;\n    height: 100%;\n    transform-origin: top left;\n    user-select: none;\n  }\n\n  .corner {\n    position: absolute;\n    width: 10px;\n    height: 10px;\n    background-color: red;\n    border-radius: 50%;\n    cursor: pointer;\n    user-select: none;\n  }\n</style>\n\n<div bind:this={container} class=\"container\" on:mousemove={handleMouseMove} on:mouseup={handleMouseUp}>\n  <!-- Apply the transformation to the image -->\n  <img\n    src=\"example.webp\"\n    alt=\"Distorted Image\"\n    style=\"transform: {transformMatrix};\"\n  />\n\n  {#each corners as { x, y }, index}\n    <div\n      class=\"corner\"\n      style=\"left: {x - 5}px; top: {y - 5}px;\"\n      on:mousedown={() => handleMouseDown(index)}\n    ></div>\n  {/each}\n</div>\n\n<!-- Optional rotation control -->\n<input type=\"range\" min=\"0\" max=\"360\" bind:value={rotationAngle} style=\"margin-top:200px\" />\n","/** Dispatch event on click outside of node */\nexport function clickOutside(node) {\n\n    const handleClick = event => {\n        if (node && !node.contains(event.target) && !event.defaultPrevented) {\n            node.dispatchEvent(\n                new CustomEvent('click_outside', node)\n            )\n        }\n    }\n\n    document.addEventListener('click', handleClick, true);\n\n    return {\n        destroy() {\n            document.removeEventListener('click', handleClick, true);\n        }\n    }\n}","<svelte:options tag=\"fds-coord-dialog\"></svelte:options>\n<script>\n    import {get_current_component} from \"svelte/internal\"\n    import {clickOutside} from \"./clickOutside\";\n    let host = get_current_component().$$.root.host\n    let dropdownel;\n\n\n    export let coordinates = {\n            x: 0,\n            y: 0,\n            width: 0,\n            height: 0,\n            rotation: 0\n    }\n\n\n    function action(name, value) {\n        host.dispatchEvent(new CustomEvent(\"action\", {detail: {name: name, value: value}}))\n    }\n\n    function change(name, value) {\n        host.dispatchEvent(new CustomEvent(\"change\", {detail: {name: name, value: value}}))\n    }\n\n    function handleClickOutside() {\n        //editcoord=false\n    }\n\n\n\n    export let editcoord\n    export function refresh() {\n        coordinates = coordinates\n    }\n</script>\n\n<div class=\"show\" style=\"display: inline-block;\">\n    {#if coordinates}\n        <div style=\"display:flex;align-items: center\">\n            <!-- svelte-ignore a11y-click-events-have-key-events -->\n            <fds-image-editor-button type=\"button\" on:click={() => { editcoord=!editcoord; change('editcoord',editcoord); }}>Coordinates</fds-image-editor-button>\n        </div>\n    {/if}\n\n    {#if editcoord && coordinates }\n        <div class=\"editcoord\" use:clickOutside on:click_outside={handleClickOutside}>\n            <div class=\"formLine\">\n\n                <div class=\"formLine svelte-135lqg4\">\n                    <label for=\"x\" class=\"more-label svelte-135lqg4\">x:</label>\n                    <input  value={coordinates.x} on:change={(e) => {console.log(\"change text \",e.target.value); coordinates.x=e.target.value;coordinates=coordinates;change(\"x\",e.target.value) }} type=\"text\" class=\"formInput svelte-135lqg4\" placeholder=\"\" style=\"font-size: 12px; width: 220px; display: inline-block;\">\n                </div>\n\n                <div class=\"formLine svelte-135lqg4\">\n                    <label for=\"y\" class=\"more-label svelte-135lqg4\">y:</label>\n                    <input value={coordinates.y} on:change={(e) => {console.log(\"change text \",e.target.value); coordinates.y=e.target.value;coordinates=coordinates;change(\"y\",e.target.value) }} type=\"text\" class=\"formInput svelte-135lqg4\" placeholder=\"\" style=\"font-size: 12px; width: 220px; display: inline-block;\">\n                </div>\n\n                <div class=\"formLine svelte-135lqg4\">\n                    <label for=\"width\" class=\"more-label svelte-135lqg4\">width:</label>\n                    <input value={coordinates.width} on:change={(e) => {console.log(\"change text \",e.target.value); coordinates.width=e.target.value;coordinates=coordinates;change(\"width\",e.target.value) }} type=\"text\" class=\"formInput svelte-135lqg4\" placeholder=\"\" style=\"font-size: 12px; width: 220px; display: inline-block;\">\n                </div>\n\n                <div class=\"formLine svelte-135lqg4\">\n                    <label for=\"height\" class=\"more-label svelte-135lqg4\">height:</label>\n                    <input value={coordinates.height} on:change={(e) => {console.log(\"change text \",e.target.value); coordinates.height=e.target.value;coordinates=coordinates;change(\"height\",e.target.value) }} type=\"text\" class=\"formInput svelte-135lqg4\" placeholder=\"\" style=\"font-size: 12px; width: 220px; display: inline-block;\">\n                </div>\n\n\n                <div class=\"formLine svelte-135lqg4\">\n                    <label for=\"rotation\" class=\"more-label svelte-135lqg4\">rotation:</label>\n                    <input value={(coordinates.rotation * 180.0) / Math.PI} on:change={(e) => {console.log(\"change text \",e.target.value); coordinates.rotation=e.target.value;coordinates=coordinates;change(\"rotation\", parseInt(e.target.value) * (Math.PI/180)) }} type=\"text\" class=\"formInput svelte-135lqg4\" placeholder=\"\" style=\"font-size: 12px; width: 220px; display: inline-block;\">\n                </div>\n            </div>\n        </div>\n    {/if}\n</div>\n\n<style>\n    * {\n        box-sizing: border-box;\n    }\n\n    .buttoncontainer {\n        margin-top: 10px;\n        margin-bottom: 10px;\n        padding-bottom: 5px;;\n        border-bottom: 1px solid white;\n    }\n\n    button {\n        color: white;\n        background-color: transparent;\n    }\n\n    .editcoord {\n        min-width: 330px;\n        min-height: 100px;\n        box-shadow: 0 0 1rem 0 rgba(255, 255, 255, .2);\n        border-radius: 8px;\n        background-color: rgba(0, 0, 0, .65);\n        backdrop-filter: blur(10px);\n        color: rgba(255, 255, 255, 0.6);\n        position: absolute;\n        left: 0px;\n        top: 50px;\n        padding: 14px;\n        font-family: \"Segoe UI\", Roboto, system-ui;\n        z-index: 2000;\n    }\n\n    .formLine {\n        displaY: block;\n        margin-bottom: 20px;\n    }\n\n    .slider {\n        vertical-align: middle;\n    }\n\n    .values3 {\n        width: 30px;\n        text-align: right;\n        display: inline-block;\n    }\n\n    .formInput {\n        width: 100%;\n        outline: 0;\n        border: 0;\n        border-bottom: 2px solid rgba(255, 255, 255, 0.2);\n        padding: 5px;\n        font-size: 14px;\n        font-weight: normal;\n        border-radius: 3px;\n        color: rgba(255, 255, 255, 0.9);\n        margin-bottom: 10px;\n        display: block;\n        background: none;\n        font-family: system-ui, \"Segoe UI\", Roboto;\n\n    }\n\n    .formInput::placeholder {\n        font-weight: normal;\n        opacity: 0.5;\n        color: rgba(255, 255, 255, 0.7);\n    }\n\n    .formLine {\n        margin-bottom: 5px;\n    }\n\n    .dropdown {\n        position: relative;\n        display: inline-block;\n    }\n\n    .dropdown-content {\n        display: none;\n        position: absolute;\n        background-color: #f1f1f1;\n        min-width: 160px;\n        overflow: auto;\n        box-shadow: 0 8px 16px 0 rgba(0, 0, 0, 0.2);\n        z-index: 1;\n        max-height: calc(100vh / 2);\n        margin-top: 5px;\n        border-radius: 6px;\n    }\n\n    .dropdown-content a {\n        color: black;\n        padding: 12px 16px;\n        text-decoration: none;\n        display: block;\n        font-size: 20px;\n    }\n\n    .dropdown a:hover {\n        background-color: #ddd;\n    }\n\n    .show {\n        display: block;\n    }\n\n    .font-preview {\n        display:inline-block;\n        width:200px;\n        color:black;\n        background-color:white;\n        font-size:20px;\n        padding: 16px;\n        border: none;\n        cursor: pointer;\n        border-radius: 6px;\n    }\n\n</style>","<svelte:options tag=\"fds-image-transform\"></svelte:options>\n<script>\n    /*\n      A freely user-transformable wrapper component.\n\n      Size, position and rotation can be adjusted via handles or multi-touch gesture.\n      Place content in the default slot.\n      Handles can be overridden via the \"handle\" and \"rotator\" slots.\n\n      The immediate parent must be a positioned element\n      (i.e. styled with \"position: relative/absolute/fixed/etc\").\n    */\n\n    import { onMount } from 'svelte'\n    import vector from './vector.js'\n    import { createEventDispatcher, tick } from 'svelte';\n    let endDrag = false;\n    import { get_current_component } from \"svelte/internal\";\n    import magneticLinesClass from \"./magneticLines.js\"\n    import Test from \"./Test2.svelte\"\n    let host = get_current_component();\n    import Dialog from './Dialog.svelte';\n    const svelteDispatch = createEventDispatcher();\n\n    const dispatch = (name, detail) => {\n        detail=position;\n\n        detail.endDrag = !!endDrag;\n        if(!!endDrag){\n            endDrag = !endDrag;\n        }\n        name='transformchange';\n       // console.log(\"dispatch\",name,detail);\n        svelteDispatch(name, detail);\n        host.dispatchEvent &&\n        host.dispatchEvent(new CustomEvent(name, { detail }));\n    };\n\n\n    // the position at the start of each gesture\n    // transformations are calculated relative to this\n    let startPosition = {\n        x: null,\n        y: null,\n        width: null,\n        height: null,\n        rotation: null\n    }\n\n    // props\n    //export let position = { x: 0, y: 0, w: 0, h: 0, r: 0 }\n    // Magnetic tolerance distance for snapping\n    const magneticTolerance = 10;\n\n    // Layers array to store all layers\n    export let layers = []\n  //  if (demo) {\n      layers=[{\n        x:100,y:100,width:400,height:400,rotation:0.785398\n       }];   \n   // }\n\n\n    export let demo=false\n    export let layerimagedata = {};\n    export let position = startPosition;\n    export let target = null\n    export let container = null\n    export let rotatorEnabled = true // Show a separate handle for rotation\n    export let rotatorBar = false // Draw a line from the rotator handle to the frame\n    export let handleMode = 'resize' // 'resize' or 'rotate'. Controls corner handle behaviour\n    export let lockAspect = false // Is the aspect ratio fixed?\n    export let lockTouchResize = false // Can the size be changed by multitouch gestures?\n    export let captureClicks = true // allow clicks on the content area? if false, clicks fall through\n    export let zoom  = 100;\n    export  let ratio = window.devicePixelRatio;\n    export let imageurl;\n    export let imagesvg;\n    export let svgcolor;\n    // primitives\n    export let type;\n\n    let lastzoom\n    let imageel;\n    let transformArea;\n    let transformInProgress = false\n    let magneticLines = [];\n\n\n    function addMagneticLine(side, linePosition, lineOrientation, box) {\n        let ml=new magneticLinesClass()\n        let line=ml.calcMagneticLine(side, linePosition, lineOrientation, box)\n        magneticLines.push(line)\n    }\n\n    // Snapping helpers\n    function getClosestSnappingPosition(layers,newPos, tolerance) {\n        let snappedPosition = { ...newPos };\n\n        layers.forEach(layer => {\n            if (layer !== position) {\n                // Horizontal snapping (x-axis)\n                if (Math.abs(newPos.x - layer.x) < tolerance) {\n                    addMagneticLine(\"left\",\"side\",\"vertical\",layer.originalData)\n                    snappedPosition.x = layer.x\n                } else if (Math.abs((newPos.x + newPos.width) - (layer.x + layer.width)) < tolerance) {\n                    addMagneticLine(\"right\",\"side\",\"vertical\",layer.originalData)\n                    snappedPosition.x = layer.x + layer.width - newPos.width\n                } else if (Math.abs((newPos.x + newPos.width / 2) - (layer.x + layer.width / 2)) < tolerance) {\n                    addMagneticLine(\"\",\"center\",\"vertical\",layer.originalData)\n                    snappedPosition.x = layer.x + layer.width / 2 - newPos.width / 2\n                } else if (Math.abs((newPos.x) - (layer.x + layer.width)) < tolerance) {\n                    snappedPosition.x = layer.x + layer.width\n                    addMagneticLine(\"right\",\"side\",\"vertical\",layer.originalData)\n                }  else if (Math.abs((newPos.x+ newPos.width) - (layer.x )) < tolerance) {\n                    snappedPosition.x = layer.x - newPos.width\n                    addMagneticLine(\"left\",\"side\",\"\",layer.originalData)\n                }  \n               // console.log(Math.abs(newPos.y-layer.y))\n                // Vertical snapping (y-axis)\n                if (Math.abs(newPos.y - layer.y) < tolerance) {\n                    snappedPosition.y = layer.y\n                    addMagneticLine(\"top\",\"side\",\"\",layer.originalData)\n                } else if (Math.abs((newPos.y + newPos.height) - (layer.y + layer.height)) < tolerance) {\n                    snappedPosition.y = layer.y + layer.height - newPos.height\n                    addMagneticLine(\"bottom\",\"side\",\"\",layer.originalData)\n                } else if (Math.abs((newPos.y + newPos.height / 2) - (layer.y + layer.height / 2)) < tolerance) {\n                    snappedPosition.y = layer.y + layer.height / 2 - newPos.height / 2\n                    addMagneticLine(\"\",\"center\",\"horizontal\",layer.originalData)\n                }else if (Math.abs((newPos.y) - (layer.y + layer.height)) < tolerance) {\n                    snappedPosition.y = layer.y + layer.height\n                    addMagneticLine(\"bottom\",\"side\",\"\",layer.originalData)\n                }\n                else if (Math.abs((newPos.y+ newPos.height) - (layer.y )) < tolerance) {\n                    snappedPosition.y = layer.y - newPos.height\n                    addMagneticLine(\"top\",\"side\",\"\",layer.originalData)\n                }             \n            }\n        })\n\n        return snappedPosition\n    }\n// Add logic to detect same rotation layers\nfunction getClosestSnappingPositionWithRotation(layers, newPos, tolerance) {\n    let snappedPosition = { ...newPos }\n    let noRotationLayers = [];\n    let sameRotationLayers = [];\n\n        // Check if the current rotation ot matche any other layer's rotation or is  0\n    layers.forEach(layer => {\n        if (layer !== position && (layer.rotation !== position.rotation || layer.rotation === 0)) {\n            let l=JSON.parse(JSON.stringify(layer))\n            l.originalData=JSON.parse(JSON.stringify(layer))\n            noRotationLayers.push(l)\n        }\n    });\n    // First, do snapping like before\n    snappedPosition = getClosestSnappingPosition(noRotationLayers, newPos, tolerance)\n\n    // Check if the current rotation matches any other layer's rotation and isn't 0\n    layers.forEach(layer => {\n        if (layer !== position && layer.rotation === position.rotation && layer.rotation !== 0) {\n            let l=JSON.parse(JSON.stringify(layer))\n            l.originalData=JSON.parse(JSON.stringify(layer)) // add box as it shows on the screen with rotation\n            sameRotationLayers.push(l)\n        }\n    });\n\n    // If we have layers with the same rotation, normalize their positions\n    if (sameRotationLayers.length > 0) {\n        let rotation=sameRotationLayers[0].rotation\n        sameRotationLayers.push(JSON.parse(JSON.stringify(newPos)))\n        let ml=new magneticLinesClass()\n        ml.rotateBoxesToZero(sameRotationLayers,rotation)      // make scenario as rotation is set to 0 for easier snapping logic\n        let normalizedCurrentPos=sameRotationLayers.pop()\n        // Perform snapping on normalized positions\n        let normalizedSnappedPosition = getClosestSnappingPosition(sameRotationLayers, normalizedCurrentPos, tolerance,rotation)\n        // Rotate back the positions\n        if (magneticLines.length) snappedPosition = ml.rotatePositionBackToOriginal(normalizedSnappedPosition, rotation)\n    }\n\n    return snappedPosition\n}\n\n\n\n\n\n    // Target element is this component (so apply calculated style directly)\n    let selfStyled = false\n    $: {\n        selfStyled = target === element\n    }\n\n    $: if(imagesvg && svgcolor){\n        imagesvg = imagesvg.replace(\"<svg \", `<svg style=\"fill:${svgcolor}\" `);\n        layerimagedata.url = imageurl = \"data:image/svg+xml;base64,\" + window.btoa(unescape(encodeURIComponent(imagesvg)));\n    }\n\n    $: if(imagesvg && lockAspect) {\n\n        imagesvg = imagesvg.replace(`preserveAspectRatio=\"none\"`,` `);\n        imagesvg = imagesvg.replace(`class=\"fullwidthheight\"`,` `);\n\n        layerimagedata.url = imageurl = \"data:image/svg+xml;base64,\" + window.btoa(unescape(encodeURIComponent(imagesvg)));\n    }\n\n    $: if(imagesvg && !lockAspect) {\n        imagesvg = imagesvg.replace(\"<svg \", `<svg preserveAspectRatio=\"none\" class=\"fullwidthheight\" `);\n        layerimagedata.url = imageurl = \"data:image/svg+xml;base64,\" + window.btoa(unescape(encodeURIComponent(imagesvg)));\n    }\n\n    // DOMRects of the component and parent element, and the FreeTransform element itself\n    let containerBounds, bounds, selfBounds\n    // Map of active pointers\n    const pointers = {}\n    // Number of active pointers\n    let pointerCount = 0\n    // References to DOM elements\n    let element, handleTR, handleTL, handleBR, handleBL, rotatorHandle\n    $: if(mounted && imageel && element &&  layerimagedata && layerimagedata.url){  \n          if (!target) target = element   \n         if (!container) container = target.parentNode  \n            initImage();\n        }\n \n    onMount(() => {\n        mounted = true;\n        if (!imageel) return\n        initImage();\n    })\n    let imagealreadyinit\n    let mounted \n    function initImage() {\n\n        if (imagealreadyinit) return;\n        imagealreadyinit = true;\n        imageel.onload = () => {\n            position = { x: imageel.x, y: imageel.y, width: imageel.naturalWidth, height: imageel.naturalHeight, rotation: 0 }\n            recalculatePosition();\n            onBoundsChange();\n        }\n        if (!target) target = element\n        if (!container) container = target.parentNode\n    }\n    \n    function onKeyUp(e) {\n        if (e.keyCode === 16) {\n            //console.log('Shift key is released');\n            lockAspect= false;\n        }\n    }\n\n\n    function onKeyDown(e) {\n        if (e.keyCode === 16) {\n            //console.log('Shift key is released');\n            lockAspect= true;\n        }\n    }\n\n    function recalculatePosition(){\n\n\n\n        if(layerimagedata?._x || layerimagedata?._x==0) position.x = layerimagedata._x;\n        if(layerimagedata?._y || layerimagedata?._y==0) position.y = layerimagedata._y;\n        if(layerimagedata?._width) position.width = (layerimagedata._width);\n        if(layerimagedata?._height) position.height = (layerimagedata._height);\n\n\n        if(layerimagedata?.x || layerimagedata?.x==0) position.x = reCalc(layerimagedata.x);\n        if(layerimagedata?.y || layerimagedata?.y==0) position.y = reCalc(layerimagedata.y);\n        if(layerimagedata?.width) position.width = reCalc(layerimagedata.width);\n        if(layerimagedata?.height) position.height = reCalc(layerimagedata.height);\n        if(layerimagedata?.rotation) position.rotation = layerimagedata.rotation;\n\n\n\n        if(layerimagedata?.rotation) position.r = layerimagedata.rotation;\n\n\n        if ((layerimagedata?._x || layerimagedata?._x==0) && layerimagedata._imgwidth){\n            position.x = reCalc(layerimagedata._imgx);\n            position.y = reCalc(layerimagedata._imgy) ;\n            position.width = reCalc(layerimagedata._imgwidth);\n            position.height =  reCalc(layerimagedata._imgheight);\n            delete layerimagedata._imgx;\n            delete layerimagedata._imgy;\n            delete layerimagedata._imgwidth;\n            delete layerimagedata._imgheight;\n        }\n    }\n\n    function reCalc(num) {\n\n        let p = parseFloat(zoom) / 100 / ratio\n        let newCoord = num * p;\n        return newCoord\n    }\n\n    function isDragging (pointer) {\n        return pointer && pointer.target && pointer.target.type === 'body' && pointerCount === 1\n    }\n    function isRotating (pointer) {\n        return pointer && pointer.target && (pointer.target.type === 'rotate' || (pointer.target.type === 'handle' && handleMode === 'rotate'))\n    }\n    function isResizing (pointer) {\n        return pointer && pointer.target && pointer.target.type === 'handle'\n    }\n    function isFreeTransforming (pointer) {\n        return pointer && pointer.target && pointer.target.type !== 'handle' && pointerCount > 1\n    }\n\n    $: {\n        position.style = stylePosition(position)\n        //onBoundsChange()\n    }\n/*    $: {\n        if(layerimagedata && layerimagedata.url){\n            console.log(\"layerimagedata.url changed\",layerimagedata.url);\n        }\n    }*/\n\n    $: if(zoom && zoom!=lastzoom){\n        lastzoom = zoom;\n         recalculatePosition();\n        position.style = stylePosition(position)\n    }\n\n    const stylePropMap = {\n        x: 'left',\n        y: 'top',\n        width: 'width',\n        height: 'height'\n    }\n\n    // Convert position to a CSS style string\n    function stylePosition (pos) {\n        return 'position: absolute; ' + ['x', 'y', 'width', 'height'].map(prop => {\n            if (pos[prop] != null) return `${stylePropMap[prop]}: ${pos[prop]}px; `\n            else return ''\n        }).join(' ') + `; transform: rotate(${pos.rotation}rad)`\n    }\n\n    // Calculate the changes required for a resize gesture:\n    // Scales the width and height of the component such that the same points in\n    // component-space lie under the pointer and anchor point before and after the\n    // transformation.\n    // Does not preserve aspect ratio.\n    function calcResizeTransform (pointer, anchor) {\n        const rotation = startPosition.rotation\n        const origin = bounds.center\n        const topLeft = vector.sub(origin, { x: (startPosition.width / 2), y: (startPosition.height / 2) })\n        const unrotatedEnd = vector.rotate(pointer.end, -rotation, anchor)\n        const width = unrotatedEnd.x - anchor.x\n        const height = unrotatedEnd.y - anchor.y\n        const newOrigin = vector.add(topLeft, { x: Math.abs(width / 2), y: Math.abs(height / 2) })\n        const unrotatedAnchor = vector.add(newOrigin, { x: -(width / 2), y: -(height / 2) })\n        const newAnchor = vector.rotate(unrotatedAnchor, rotation, newOrigin)\n\n        const translate = vector.sub(anchor, newAnchor)\n        return { width, height, translate }\n    }\n\n    // Calculate the changes required for a free transform gesture:\n    // Given two pointers, the component is scaled, rotated and translated\n    // such that the same points in component-space lie under the pointers\n    // before and after the transformation\\\n    //\n    // Preserves aspect ratio.\n    //\n    // pointerB may be given as a single coord, instead of a { start, end } map,\n    // allowing operations like 'rotate about the center' or 'resize from a corner'\n    // to be performed using the same transform logic\n    //\n    // noRotate=true locks the current component rotation\n    // noScale=true locks the current component width and height\n    function calcFreeTransform (pointerA, pointerB, origin, noRotate, noScale) {\n        // Handle the case where pointerB is a static point\n        const pointerBStart = pointerB.start ? pointerB.start : pointerB\n        const pointerBEnd = pointerB.end ? pointerB.end : pointerB\n\n        const startAB = vector.sub(pointerBStart, pointerA.start)\n        const endAB = vector.sub(pointerBEnd, pointerA.end)\n        const scale = vector.length(endAB) / vector.length(startAB)\n        const rotate = noRotate ? 0 : vector.direction(startAB) - vector.direction(endAB)\n\n        const center = vector.add(vector.rotate(vector.scale(vector.sub(origin, pointerBStart), scale), rotate, { x: 0, y: 0 }), pointerBEnd)\n        const translate = vector.sub(center, origin)\n        return { scale: (noScale ? 1 : scale), rotate, translate, center }\n    }\n\n    // Retrieve a DOMRect from the supplied element\n    // and extend with x, y, and center fields\n    function getFullBounds (element) {\n        const elementBounds = element.getBoundingClientRect()\n        elementBounds.x = elementBounds.left\n        elementBounds.y = elementBounds.top\n        elementBounds.center = {\n            x: (elementBounds.left + elementBounds.right) / 2,\n            y: (elementBounds.top + elementBounds.bottom) / 2\n        }\n        return elementBounds\n    }\n    export function changePosition () {\n        if(position.opacity != void 0) layerimagedata.opacity = position.opacity;\n        position.style = stylePosition(position);\n        dispatch('positionChanged', position)\n    }\n\n\n    // Apply a partial drag gesture\n    // Simple translation of the component by the same distance as the pointer\n    function doDrag (pointer) {\n        position.y = startPosition.y + (pointer.end.y - pointer.start.y)\n        position.x = startPosition.x + (pointer.end.x - pointer.start.x)\n        let newPos = {\n            x: startPosition.x + (pointer.end.x - pointer.start.x),\n            y: startPosition.y + (pointer.end.y - pointer.start.y),\n            width: position.width,\n            height: position.height\n        };\n\n        // Apply snapping\n        magneticLines = []\n        const snappedPosition = getClosestSnappingPositionWithRotation(layers,newPos, magneticTolerance)\n\n        position.x = snappedPosition.x\n        position.y = snappedPosition.y\n\n    }\n\n    // Calculate and apply a partial resize gesture\n    // Resizes the width/height of a component relative to an anchor point\n    function doResize (pointer, anchor) {\n        const transform = calcResizeTransform(pointer, anchor, bounds.center)\n        position.x = startPosition.x + transform.translate.x\n        position.y = startPosition.y + transform.translate.y\n        position.width = Math.abs(transform.width)\n        position.height = Math.abs(transform.height)\n    }\n\n    // Calculate and apply a partial free transform gesture\n    function doFreeTransform (pointerA, pointerB, noRotate, noScale) {\n        const transform = calcFreeTransform(pointerA, pointerB, bounds.center, noRotate, noScale)\n        position.width = startPosition.width * transform.scale\n        position.height = startPosition.height * transform.scale\n\n        const tlToOrigin = vector.sub(bounds.center, startPosition)\n        const tlvec = vector.add(vector.add(tlToOrigin, transform.translate), { x: -(position.width / 2), y: -(position.height / 2) })\n        position.x = startPosition.x + tlvec.x - containerBounds.left\n        position.y = startPosition.y + tlvec.y - containerBounds.top\n        position.rotation = startPosition.rotation + transform.rotate\n    }\n\n    // Get the target of a given pointer event\n    function getPointerTarget (evt) {\n        if (handleTR.contains(evt.target)) {\n            return { type: 'handle', top: true, right: true }\n        }\n        else if (handleTL.contains(evt.target)) {\n            return { type: 'handle', top: true, left: true }\n        }\n        else if (handleBR.contains(evt.target)) {\n            return { type: 'handle', bottom: true, right: true }\n        }\n        else if (handleBL.contains(evt.target)) {\n            return { type: 'handle', bottom: true, left: true }\n        }\n        else if (rotatorHandle && rotatorHandle.contains(evt.target)) {\n            return { type: 'rotate' }\n        }\n        else return { type: 'body' }\n    }\n\n    function pointerDown (evt) {\n        let pointerTarget = getPointerTarget(evt)\n        let pointer = pointers[evt.pointerId]\n\n        // Add the pointer to active pointers map\n        if (!pointer) {\n            pointerCount++\n            pointer = {\n                id: evt.pointerId,\n                priority: pointerCount - 1,\n                start: {\n                    x: evt.pageX,\n                    y: evt.pageY\n                },\n                end: {\n                    x: evt.pageX,\n                    y: evt.pageY\n                },\n                target: pointerTarget\n            }\n            pointers[evt.pointerId] = pointer\n        } else { // or update, if it's already there\n            pointer.end.x = evt.pageX\n            pointer.end.y = evt.pageY\n            pointer.target = pointerTarget\n        }\n\n        transformInProgress = false\n\n        // If the pointer is enabled (one of the first two active pointers)\n        if (pointer.priority < 2) {\n            bounds = getFullBounds(target)\n            containerBounds = getFullBounds(container)\n\n            // There's another active enabled pointer\n            if (pointerCount > 1) {\n                // Starting a new multitouch gesture\n                Object.values(pointers).forEach(pointer => {\n                    if (pointer.id !== pointer)\n                        pointer.start.x = pointer.end.x\n                    pointer.start.y = pointer.end.y\n                })\n            }\n\n            // Record the current component state as the gesture starting state\n            startPosition.x = position.x\n            startPosition.y = position.y\n            startPosition.width = position.width\n            startPosition.height = position.height\n            startPosition.rotation = position.rotation\n\n            // If the pointer is dragging a corner handle, record the position of the\n            // opposite corner (to anchor resizing events)\n            if (pointerTarget.type === 'handle') {\n                let oppositeHandle\n                if (pointerTarget.top) {\n                    if (pointerTarget.right) oppositeHandle = handleBL\n                    else oppositeHandle = handleBR\n                } else {\n                    if (pointerTarget.right) oppositeHandle = handleTL\n                    else oppositeHandle = handleTR\n                }\n                // handles are centered on the corresponding corner of the component frame\n                // so we can quickly find the frame corner by calculating the center\n                // of the on-screen bounds of the handle element\n                // (easier than messing with trigonometry when the component is rotated)\n                const oppositeHandleBounds = oppositeHandle.getBoundingClientRect()\n                const oppositeCorner = {\n                    x: (oppositeHandleBounds.left + oppositeHandleBounds.right) / 2,\n                    y: (oppositeHandleBounds.top + oppositeHandleBounds.bottom) / 2\n                }\n                pointers.anchor = oppositeCorner\n            } else {\n                delete pointers.anchor\n            }\n        }\n        onChange()\n    }\n\n    function pointerMove (evt) {\n        endDrag = false;\n        let pointer = pointers[evt.pointerId]\n        // Ignore unless pointer is enabled (one of the first two active pointers)\n        if (pointer && pointer.priority < 2) {\n            transformInProgress = true\n\n            // update the on-screen position\n            pointer.end.x = evt.pageX\n            pointer.end.y = evt.pageY\n\n            // Perform different transformations depending which part of the component is\n            // being dragged/manipulated\n            if (isDragging(pointer))\n                doDrag(pointer);\n\n            else if (isRotating(pointer)) doFreeTransform(pointer, bounds.center, false, true)\n            else if (isResizing(pointer) && !lockAspect) doResize(pointer, pointers.anchor)\n            else if (isResizing(pointer) && lockAspect) doFreeTransform(pointer, pointers.anchor, true)\n            else if (isFreeTransforming(pointer)) {\n                let multitouch = pointerCount > 1\n                let pointerB\n                if (multitouch) {\n                    pointerB = Object.values(pointers).find(p => {\n                        return p.id !== pointer.id\n                    })\n                } else if (pointers.anchor) {\n                    pointerB = pointers.anchor\n                } else {\n                    pointerB = bounds.center\n                }\n                doFreeTransform(pointer, pointerB, false, (multitouch && lockTouchResize))\n            }\n\n\n            onChange()\n        }\n    }\n\n    function pointerUpInside (evt) {\n\n        if(transformInProgress) {\n            endDrag = true;\n            lockAspect= false;\n            transformInProgress = false;\n            dispatch('positionChanged', position)\n        }\n    }\n\n\n\n    // Clean up after a pointer is removed and the gesture is ended\n    function pointerUp (evt) {\n\n        let removedPriority = Infinity\n        if (pointers[evt.pointerId]) {\n            pointerCount--\n            removedPriority = pointers[evt.pointerId].priority\n        }\n        // remove the pointer from the active pointers map\n        delete pointers[evt.pointerId]\n        // If there are still some other active pointers\n        if (pointerCount) {\n            // Reset the startPosition to start a new gesture\n            startPosition.y = position.y\n            startPosition.x = position.x\n            startPosition.width = position.width\n            startPosition.height = position.height\n            startPosition.rotation = position.rotation\n            // update the enabled pointer priority queue\n            // and reset the pointer start positions for a new gesture\n            Object.values(pointers).forEach(pointer => {\n                if (pointer.id) {\n                    if (pointer.priority > removedPriority) pointer.priority--\n                    pointer.start.x = pointer.end.x\n                    pointer.start.y = pointer.end.y\n                }\n            })\n        }\n\n    }\n\n    function contentClick (evt) {\n        if (!transformInProgress){\n            dispatch('click', evt.detail)\n        }\n    }\n\n    async function onChange () {\n        await tick()\n        if (element) {\n            selfBounds = element.getBoundingClientRect();\n        }\n        //console.log(\"event::::::bounds \",selfBounds,\" position \",position);\n\n        dispatch('positionChanged', position)\n\n    }\n    async function onBoundsChange() {\n        await tick()\n        if (element) {\n            selfBounds = element.getBoundingClientRect()\n            dispatch('boundsChanged', position);\n            if (!transformArea.classList.contains('fade-in-div')) {\n                // If the class doesn't exist, add it\n                transformArea.classList.remove('faded');\n                transformArea.classList.add('fade-in-div');\n            }\n        }\n    }\n</script>\n\n\n\n\n<svelte:window\n        on:pointermove={pointerMove}\n        on:pointerup={pointerUp}\n        on:keyup={onKeyUp}\n        on:keydown={onKeyDown}\n/>\n{#if imageurl || layerimagedata.url}\n\n    <!-- svelte-ignore a11y-click-events-have-key-events -->\n    <div  on:pointerup={pointerUpInside} on:click={contentClick} class=\"faded transform-area\" bind:this={transformArea}>\n        <div\n                class=\"free-transform\"\n                class:noclicks={!captureClicks}\n                on:pointerdown={pointerDown}\n                bind:this={element}\n                style={selfStyled ? position.style : null}\n        >\n        <div class=\"contents\" style=\"opacity:{(layerimagedata.opacity/100)}\">\n            {#if imagesvg}\n                        {@html imagesvg}\n                {:else}\n                    <img style=\"width: 100%;height: 100%\" bind:this={imageel} src={imageurl || layerimagedata.url}>\n                {/if}\n            </div>\n            <div style=\"width:80px; height:50px; position: sticky; z-index: 5; bottom: 0px; left:0px; align-self:flex-end;\">\n            <slot></slot>\n            </div>\n            <div class=\"frame\" >\n                <div class=\"handle corner top right\" bind:this={handleTR}><slot name=\"handle\"><div class=\"handle-shape\" /></slot></div>\n                <div class=\"handle corner bottom right\" bind:this={handleBR}><slot name=\"handle\"><div class=\"handle-shape\" /></slot></div>\n                <div class=\"handle corner bottom left\" bind:this={handleBL}><slot name=\"handle\"><div class=\"handle-shape\" /></slot></div>\n                <div class=\"handle corner top left\" bind:this={handleTL}><slot name=\"handle\"><div class=\"handle-shape\" /></slot></div>\n                {#if rotatorEnabled }\n                    <div class=\"handle rotator\" bind:this={rotatorHandle}>\n                        <slot name=\"rotator\"><div class=\"handle-shape\" /></slot>\n                        {#if rotatorBar }<div class=\"rotator-bar\" />{/if}\n                    </div>\n                {/if}\n            </div>\n        </div>\n        <div class=\"fullwidthheight\" style=\"display: none\"/>\n        {#if demo}\n            <div style=\"position:absolute;top:100px;left:100px;width:400px;height:400px;border: 1px solid grey;transform:rotate(-45deg);transform-origin: center center\"></div>\n        <!--     <div style=\"position:absolute;top:100px;left:100px;width:400px;height:400px;border: 1px solid grey;\"></div> -->\n\n        {/if}\n        {#each magneticLines as line}\n        <div\n        class=\"line\"\n        style=\"\n        --x-line: {line.x_line}px;\n        --y-line: {line.y_line}px;\n        --line-length: {line.lineLength}px;\n        --theta-line: {line.theta_line}rad;\n        \"\n    ></div>    \n    {/each}        \n    </div>\n\n{/if}\n\n<style>\n    :root{\n        --frameBorder: solid 1px cyan;\n    }\n    * {\n        box-sizing: border-box; \n    }\n    .free-transform {\n        position: absolute;\n        top: 0;\n        left: 0;\n        right: 0;\n        bottom: 0;\n        transform-origin: center;\n        touch-action: none;\n        display: flex;\n    }\n    .free-transform.noclicks {\n        pointer-events: none;\n    }\n\n    .contents {\n        /*border: var(--frameBorder,2px solid #3965c7);*/\n        position: absolute;\n        top: 0;\n        left: 0;\n        right: 0;\n        bottom: 0;\n    }\n    .contents:before {\n        content: \"\";\n        position: absolute;\n        top: 0px;\n        left: 0px;\n        width: 100%;\n        height: 100%;\n        border: var(--frameBorder,2px solid #3965c7);\n        box-sizing: border-box;\n    }\n\n\n    .free-transform.noclicks .contents {\n        pointer-events: none;\n    }\n\n    .frame {\n        position: absolute;\n        top: 0;\n        left: 0;\n        right: 0;\n        bottom: 0;\n        cursor: move;\n        /*border: var(--frameBorder,2px solid #3965c7);*/\n    }\n    .free-transform.noclicks .frame {\n        pointer-events: none;\n    }\n\n    .handle {\n        position: absolute;\n        user-select: none;\n        touch-action: none;\n        cursor: grab;\n        pointer-events: auto;\n    }\n\n    .handle:active {\n        cursor: grabbing;\n    }\n\n    .handle-shape {\n        width: 12px;\n        height: 12px;\n        border-radius: 50%;\n        background: white;\n        border: var(--frameBorder);\n    }\n\n    .handle.top {\n        top: 0px;\n    }\n    .handle.right {\n        right: 0px;\n    }\n    .handle.bottom {\n        bottom: 0px;\n    }\n    .handle.left {\n        left: 0px;\n    }\n    .handle.top.left {\n        transform: translate(-50%,-50%) rotate(-45deg);\n    }\n    .handle.top.right {\n        transform: translate(50%,-50%) rotate(45deg);\n    }\n    .handle.bottom.left {\n        transform: translate(-50%,50%) rotate(-135deg);\n    }\n    .handle.bottom.right {\n        transform: translate(50%,50%) rotate(135deg);\n    }\n\n    .handle.rotator {\n        left: 50%;\n        top: -30px;\n        transform: translateX(-50%);\n    }\n\n    .rotator-bar {\n        position: absolute;\n        top: 100%;\n        right: 50%;\n        width: 1px;\n        height: calc(30px - 100%);\n        border-right: var(--frameBorder);\n    }\n\n    .fullwidthheight{\n        width: 100%;\n        height: 100%;\n    }\n    .transform-area {\n        position: relative;\n        width: 100%;\n        height: 100%;\n        flex-grow: 1;\n    }\n    .faded{\n        opacity: 0.01;\n    }\n\n    .fade-in-div {\n        opacity: 1;\n        animation: fadeIn 0.2s forwards;\n         animation-delay: 0.7s;\n    }\n\n    @keyframes fadeIn {\n        to {\n            opacity: 1;\n        }\n    }\n\n    .line {\n      position: absolute;\n      width: var(--line-length);\n      height: 1px;\n      left: var(--x-line);\n      top: var(--y-line);\n      transform: translate(-50%, -50%) rotate(var(--theta-line));\n      transform-origin: center center;\n      background-color: red;\n    }\n\n</style>\n"],"names":["noop","run","fn","blank_object","Object","create","run_all","fns","forEach","is_function","thing","safe_not_equal","a","b","src_url_equal_anchor","src_url_equal","element_src","url","document","createElement","href","is_empty","obj","keys","length","action_destroyer","action_result","destroy","globals","window","globalThis","global","append","target","node","appendChild","insert","anchor","insertBefore","detach","parentNode","removeChild","destroy_each","iterations","detaching","i","d","element","name","svg_element","createElementNS","text","data","createTextNode","space","empty","listen","event","handler","options","addEventListener","removeEventListener","attr","attribute","value","removeAttribute","getAttribute","setAttribute","set_custom_element_data","prop","to_number","children","Array","from","childNodes","set_input_value","input","set_style","key","important","style","removeProperty","setProperty","toggle_class","toggle","classList","custom_event","type","detail","bubbles","cancelable","e","createEvent","initCustomEvent","HtmlTag","constructor","is_svg","this","n","c","html","h","m","nodeName","nodeType","t","tagName","content","innerHTML","p","attribute_to_object","attributes","result","current_component","set_current_component","component","get_current_component","Error","onMount","$$","on_mount","push","createEventDispatcher","callbacks","slice","call","defaultPrevented","dirty_components","binding_callbacks","render_callbacks","flush_callbacks","resolved_promise","Promise","resolve","update_scheduled","schedule_update","then","flush","tick","add_render_callback","seen_callbacks","Set","flushidx","saved_component","update","pop","callback","has","add","clear","fragment","before_update","dirty","ctx","after_update","flush_render_callbacks","filtered","targets","indexOf","outroing","transition_in","block","local","delete","mount_component","customElement","new_on_destroy","map","filter","on_destroy","destroy_component","make_dirty","fill","init","instance","create_fragment","not_equal","props","append_styles","parent_component","bound","on_disconnect","context","Map","skip_bound","root","ready","ret","rest","hydrate","nodes","l","intro","SvelteElement","x","y","subtract","scale","rotate","origin","dx","dy","Math","cos","sin","direction","v","atan","PI","sqrt","HTMLElement","super","attachShadow","mode","connectedCallback","slotted","attributeChangedCallback","_oldValue","newValue","disconnectedCallback","$destroy","$on","index","splice","$set","$$props","$$set","vector","sub","len","magneticLines","rotatePoint","px","py","angle","cosTheta","sinTheta","calcMagneticLine","side","linePosition","lineOrientation","box","lineCenter","theta_line","x_line","y_line","lineLength","width","height","theta","rotation","x_center","y_center","hypot","rotatePositionBackToOriginal","normalizedSnappedPosition","originalRotation","centerX","centerY","snappedX","snappedY","boxCenterX","boxCenterY","rotateBoxesToZero","boxes","sharedRotation","newX","newY","numeric","version","bench","f","interval","t1","Date","_myIndexOf","w","k","myIndexOf","prototype","Function","precision","largeArray","prettyPrint","fmtnum","isNaN","isFinite","floor","log","normalized","pow","basic","toPrecision","parseFloat","toString","foo","join","flag","hasOwnProperty","parseDate","parse","replace","parseCSV","j","split","pat","patnum","count","baz","bar","match","substr","test","toCSV","A","row","s","dim","getURL","client","XMLHttpRequest","open","send","imageURL","img","crc32Array","to","table","crc","s1","s2","adler32","crc32","stream","round","z","q","r","charAt","base64","_dim","mapreduce","body","mapreduce2","setup","same","rep","dotMMsmall","woo","i0","_getCol","dotMMbig","xj","gc","VV","dotVV","dotMV","dotVM","i1","dot","mulVS","mulSV","diag","Ai","getDiag","min","identity","pointwise","params","fun","avec","thevec","haveret","substring","apply","pointwise2","_biforeach","_biforeach2","_foreach","_foreach2","ops2","mul","div","mod","and","or","eq","neq","lt","gt","leq","geq","band","bor","bxor","lshift","rshift","rrshift","opseq","addeq","subeq","muleq","diveq","modeq","lshifteq","rshifteq","rrshifteq","bandeq","boreq","bxoreq","mathfuns","mathfuns2","ops1","neg","not","bnot","clone","mapreducers","any","all","sum","prod","norm2Squared","norminf","norm1","sup","inf","o","code","codeeq","truncVV","truncVS","truncSV","trunc","inv","Aj","Ii","Ij","abs","I","v0","det","alpha","temp","k1","transpose","A0","A1","Bj","negtranspose","_random","rnd","random","norm2","linspace","max","getBlock","setBlock","B","getRange","J","Bi","AI","blockMatrix","X","M","N","Xij","Z","ZI","Xijk","tensor","xi","T","Tbinop","rr","rc","cr","cc","reciprocal","transjugate","Tunop","exp","conj","Aix","Aiy","Ajx","Ajy","Rix","Riy","Rjx","Rjy","d1","ax","ay","bx","by","Rx","Ry","Ax","Ay","get","ik","set","vx","vy","undefined","getRows","ry","rx","setRows","getRow","setRow","eig","house","toUpperHessenberg","me","C","Ci","Qi","Q","H","epsilon","QRFrancis","maxiter","tr","Hloc","Hi","iter","QH1","QH2","concat","Q0","p1","disc","n1","n2","QH","QB","R","E","Rk","Rj","lambda","ccsSparse","counts","parseInt","Av","ccsFull","j0","j1","ccsDim","ccsTSolve","bj","dfs","ccsDFS","Pinv","km","k11","ccsLPSolve","Bv","ccsLUP1","threshold","L","U","Li","Lj","Lv","Ui","Uj","Uv","sol","P","ccsDFS0","ccsLPSolve0","ccsLUP0","ccsLUP","ccsGetBlock","jq","flags","q0","q1","ccsDot","sA","sB","Cj","Cv","ccsLUPSolve","LUP","Xi","Xj","Xv","ccsbinop","eval","ccsScatter","Ri","Rv","Aii","ptr","ccsGather","sdim","sclone","sdiag","sidentity","stranspose","sLUP","tol","sdotMM","BTk","accum","reti","BT","sdotMV","sdotVM","sdotVV","sdot","sscatter","V","Vij","sgather","gather","cLU","left","Infinity","right","cLUsolve","lu","cgrid","shape","cdelsq","g","dir","cdotMV","Spline","yl","yr","kl","kr","_at","x1","at","x0","mid","diff","zl","zr","pl","pr","roots","sqr","ai","bi","ci","di","ri","k0","y0","y1","D","stops","z0","z1","zm","t0","tm","spline","kn","fftpow2","xe","ye","xo","yo","si","_ifftpow2","ifftpow2","convpow2","axi","bxi","ayi","byi","fft","log2","ceil","cx","cy","Y","ifft","gradient","f0","f1","f2","t2","d2","it","uncmin","maxit","grad","df0","step","g0","g1","H1","Hinv","Hy","ys","nstep","ten","isfinite","msg","solution","invHessian","message","Dopri","ymid","events","xh","yh","xs","dopri","k2","k3","k4","k5","k6","k7","er","erinf","e0","e1","ev","A3","A4","A5","A6","bm","yi","xl","xr","en","ei","sl","sr","LU","fast","absAjk","Akk","Ak","Pk","LUsolve","Pi","LUi","tmp","solve","echelonize","__solveLP","unbounded","svd","dotcc","a1","Ag","_solveLP","c0","b0","NaN","solveLP","Aeq","beq","Aeq2","A2","b4","c1","c2","c4","S","x2","MPStoLP","MPS","String","state","states","rows","sign","rl","vars","nv","err","w0","seedrandom","pool","math","chunks","significance","overflow","startdenom","ARC4","u","keylen","lowbits","flatten","depth","typ","mixkey","seed","smear","charCodeAt","fromCharCode","use_entropy","arc4","arguments","getTime","exports","base0to1","base1to0","qpgen2","dmat","dvec","fddmat","crval","amat","bvec","fdamat","meq","iact","nact","work","ierr","l1","info","it1","iwzv","iwrv","iwrm","iwsv","iwuv","nvl","iwnbv","tt","gs","nu","t1inf","t2min","vsmall","tmpa","tmpb","go","lda","jm1","dpofa","kb","dposl","kp1","dpori","fn_goto_50","fn_goto_55","fn_goto_797","fn_goto_798","fn_goto_799","solveQP","Dmat","Amat","factorized","unconstrained_solution","prec","tolerance","pythag","iteration","test_convergence","itmax","container","rotationAngle","originalCorners","corners","isDragging","selectedCorner","transformMatrix","handleMouseDown","updateTransform","transform","src","dst","radians","cosA","sinA","rotatedSrc","matrix","results","getPerspectiveTransformMatrix","$$invalidate","rect","getBoundingClientRect","clientX","clientY","top","corner","$$value","clickOutside","handleClick","contains","dispatchEvent","CustomEvent","fds_image_editor_button","input0","input0_value_value","input1","input1_value_value","input2","input2_value_value","input3","input3_value_value","input4","input4_value_value","div6","div5","div0","label0","div1","label1","div2","label2","div3","label3","div4","label4","handleClickOutside","create_if_block_1","if_block1","create_if_block","host","coordinates","change","editcoord","create_if_block_4","create_if_block_2","opacity","div13","div11","div10","div7","div9","div12","img_src_value","create_if_block_3","slot","magneticTolerance","isResizing","pointer","getFullBounds","elementBounds","center","bottom","endDrag","svelteDispatch","dispatch","position","startPosition","layers","lastzoom","imageel","transformArea","demo","layerimagedata","rotatorEnabled","rotatorBar","handleMode","lockAspect","lockTouchResize","captureClicks","zoom","ratio","devicePixelRatio","imageurl","imagesvg","svgcolor","transformInProgress","addMagneticLine","line","magneticLinesClass","getClosestSnappingPosition","newPos","snappedPosition","layer","originalData","containerBounds","bounds","selfStyled","pointers","handleTR","handleTL","handleBR","handleBL","rotatorHandle","imagealreadyinit","mounted","pointerCount","initImage","onload","naturalWidth","naturalHeight","recalculatePosition","remove","onBoundsChange","_x","_y","_width","_height","reCalc","_imgwidth","_imgx","_imgy","_imgheight","num","stylePropMap","stylePosition","pos","doDrag","end","start","noRotationLayers","sameRotationLayers","JSON","stringify","ml","normalizedCurrentPos","getClosestSnappingPositionWithRotation","doResize","topLeft","unrotatedEnd","newOrigin","unrotatedAnchor","newAnchor","translate","calcResizeTransform","doFreeTransform","pointerA","pointerB","noRotate","noScale","pointerBStart","pointerBEnd","startAB","endAB","calcFreeTransform","tlToOrigin","tlvec","onChange","btoa","unescape","encodeURIComponent","keyCode","evt","pointerTarget","getPointerTarget","pointerId","pageX","pageY","id","priority","values","oppositeHandle","oppositeHandleBounds","oppositeCorner","isRotating","isFreeTransforming","multitouch","find","removedPriority"],"mappings":"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"}