{"version":3,"file":"fds-image-transform.js","sources":["../node_modules/svelte/internal/index.mjs","../src/vector.js","../src/magneticLines.js","../src/warpImage.js","../node_modules/numeric/numeric-1.2.6.js","../src/FourCornersTransformation.svelte","../src/clickOutside.js","../src/Dialog.svelte","../src/DialogFourCorners.svelte","../src/App.svelte"],"sourcesContent":["function noop() { }\nconst identity = x => x;\nfunction assign(tar, src) {\n    // @ts-ignore\n    for (const k in src)\n        tar[k] = src[k];\n    return tar;\n}\n// Adapted from https://github.com/then/is-promise/blob/master/index.js\n// Distributed under MIT License https://github.com/then/is-promise/blob/master/LICENSE\nfunction is_promise(value) {\n    return !!value && (typeof value === 'object' || typeof value === 'function') && typeof value.then === 'function';\n}\nfunction add_location(element, file, line, column, char) {\n    element.__svelte_meta = {\n        loc: { file, line, column, char }\n    };\n}\nfunction run(fn) {\n    return fn();\n}\nfunction blank_object() {\n    return Object.create(null);\n}\nfunction run_all(fns) {\n    fns.forEach(run);\n}\nfunction is_function(thing) {\n    return typeof thing === 'function';\n}\nfunction safe_not_equal(a, b) {\n    return a != a ? b == b : a !== b || ((a && typeof a === 'object') || typeof a === 'function');\n}\nlet src_url_equal_anchor;\nfunction src_url_equal(element_src, url) {\n    if (!src_url_equal_anchor) {\n        src_url_equal_anchor = document.createElement('a');\n    }\n    src_url_equal_anchor.href = url;\n    return element_src === src_url_equal_anchor.href;\n}\nfunction not_equal(a, b) {\n    return a != a ? b == b : a !== b;\n}\nfunction is_empty(obj) {\n    return Object.keys(obj).length === 0;\n}\nfunction validate_store(store, name) {\n    if (store != null && typeof store.subscribe !== 'function') {\n        throw new Error(`'${name}' is not a store with a 'subscribe' method`);\n    }\n}\nfunction subscribe(store, ...callbacks) {\n    if (store == null) {\n        return noop;\n    }\n    const unsub = store.subscribe(...callbacks);\n    return unsub.unsubscribe ? () => unsub.unsubscribe() : unsub;\n}\nfunction get_store_value(store) {\n    let value;\n    subscribe(store, _ => value = _)();\n    return value;\n}\nfunction component_subscribe(component, store, callback) {\n    component.$$.on_destroy.push(subscribe(store, callback));\n}\nfunction create_slot(definition, ctx, $$scope, fn) {\n    if (definition) {\n        const slot_ctx = get_slot_context(definition, ctx, $$scope, fn);\n        return definition[0](slot_ctx);\n    }\n}\nfunction get_slot_context(definition, ctx, $$scope, fn) {\n    return definition[1] && fn\n        ? assign($$scope.ctx.slice(), definition[1](fn(ctx)))\n        : $$scope.ctx;\n}\nfunction get_slot_changes(definition, $$scope, dirty, fn) {\n    if (definition[2] && fn) {\n        const lets = definition[2](fn(dirty));\n        if ($$scope.dirty === undefined) {\n            return lets;\n        }\n        if (typeof lets === 'object') {\n            const merged = [];\n            const len = Math.max($$scope.dirty.length, lets.length);\n            for (let i = 0; i < len; i += 1) {\n                merged[i] = $$scope.dirty[i] | lets[i];\n            }\n            return merged;\n        }\n        return $$scope.dirty | lets;\n    }\n    return $$scope.dirty;\n}\nfunction update_slot_base(slot, slot_definition, ctx, $$scope, slot_changes, get_slot_context_fn) {\n    if (slot_changes) {\n        const slot_context = get_slot_context(slot_definition, ctx, $$scope, get_slot_context_fn);\n        slot.p(slot_context, slot_changes);\n    }\n}\nfunction update_slot(slot, slot_definition, ctx, $$scope, dirty, get_slot_changes_fn, get_slot_context_fn) {\n    const slot_changes = get_slot_changes(slot_definition, $$scope, dirty, get_slot_changes_fn);\n    update_slot_base(slot, slot_definition, ctx, $$scope, slot_changes, get_slot_context_fn);\n}\nfunction get_all_dirty_from_scope($$scope) {\n    if ($$scope.ctx.length > 32) {\n        const dirty = [];\n        const length = $$scope.ctx.length / 32;\n        for (let i = 0; i < length; i++) {\n            dirty[i] = -1;\n        }\n        return dirty;\n    }\n    return -1;\n}\nfunction exclude_internal_props(props) {\n    const result = {};\n    for (const k in props)\n        if (k[0] !== '$')\n            result[k] = props[k];\n    return result;\n}\nfunction compute_rest_props(props, keys) {\n    const rest = {};\n    keys = new Set(keys);\n    for (const k in props)\n        if (!keys.has(k) && k[0] !== '$')\n            rest[k] = props[k];\n    return rest;\n}\nfunction compute_slots(slots) {\n    const result = {};\n    for (const key in slots) {\n        result[key] = true;\n    }\n    return result;\n}\nfunction once(fn) {\n    let ran = false;\n    return function (...args) {\n        if (ran)\n            return;\n        ran = true;\n        fn.call(this, ...args);\n    };\n}\nfunction null_to_empty(value) {\n    return value == null ? '' : value;\n}\nfunction set_store_value(store, ret, value) {\n    store.set(value);\n    return ret;\n}\nconst has_prop = (obj, prop) => Object.prototype.hasOwnProperty.call(obj, prop);\nfunction action_destroyer(action_result) {\n    return action_result && is_function(action_result.destroy) ? action_result.destroy : noop;\n}\nfunction split_css_unit(value) {\n    const split = typeof value === 'string' && value.match(/^\\s*(-?[\\d.]+)([^\\s]*)\\s*$/);\n    return split ? [parseFloat(split[1]), split[2] || 'px'] : [value, 'px'];\n}\nconst contenteditable_truthy_values = ['', true, 1, 'true', 'contenteditable'];\n\nconst is_client = typeof window !== 'undefined';\nlet now = is_client\n    ? () => window.performance.now()\n    : () => Date.now();\nlet raf = is_client ? cb => requestAnimationFrame(cb) : noop;\n// used internally for testing\nfunction set_now(fn) {\n    now = fn;\n}\nfunction set_raf(fn) {\n    raf = fn;\n}\n\nconst tasks = new Set();\nfunction run_tasks(now) {\n    tasks.forEach(task => {\n        if (!task.c(now)) {\n            tasks.delete(task);\n            task.f();\n        }\n    });\n    if (tasks.size !== 0)\n        raf(run_tasks);\n}\n/**\n * For testing purposes only!\n */\nfunction clear_loops() {\n    tasks.clear();\n}\n/**\n * Creates a new task that runs on each raf frame\n * until it returns a falsy value or is aborted\n */\nfunction loop(callback) {\n    let task;\n    if (tasks.size === 0)\n        raf(run_tasks);\n    return {\n        promise: new Promise(fulfill => {\n            tasks.add(task = { c: callback, f: fulfill });\n        }),\n        abort() {\n            tasks.delete(task);\n        }\n    };\n}\n\nconst globals = (typeof window !== 'undefined'\n    ? window\n    : typeof globalThis !== 'undefined'\n        ? globalThis\n        : global);\n\n/**\n * Resize observer singleton.\n * One listener per element only!\n * https://groups.google.com/a/chromium.org/g/blink-dev/c/z6ienONUb5A/m/F5-VcUZtBAAJ\n */\nclass ResizeObserverSingleton {\n    constructor(options) {\n        this.options = options;\n        this._listeners = 'WeakMap' in globals ? new WeakMap() : undefined;\n    }\n    observe(element, listener) {\n        this._listeners.set(element, listener);\n        this._getObserver().observe(element, this.options);\n        return () => {\n            this._listeners.delete(element);\n            this._observer.unobserve(element); // this line can probably be removed\n        };\n    }\n    _getObserver() {\n        var _a;\n        return (_a = this._observer) !== null && _a !== void 0 ? _a : (this._observer = new ResizeObserver((entries) => {\n            var _a;\n            for (const entry of entries) {\n                ResizeObserverSingleton.entries.set(entry.target, entry);\n                (_a = this._listeners.get(entry.target)) === null || _a === void 0 ? void 0 : _a(entry);\n            }\n        }));\n    }\n}\n// Needs to be written like this to pass the tree-shake-test\nResizeObserverSingleton.entries = 'WeakMap' in globals ? new WeakMap() : undefined;\n\n// Track which nodes are claimed during hydration. Unclaimed nodes can then be removed from the DOM\n// at the end of hydration without touching the remaining nodes.\nlet is_hydrating = false;\nfunction start_hydrating() {\n    is_hydrating = true;\n}\nfunction end_hydrating() {\n    is_hydrating = false;\n}\nfunction upper_bound(low, high, key, value) {\n    // Return first index of value larger than input value in the range [low, high)\n    while (low < high) {\n        const mid = low + ((high - low) >> 1);\n        if (key(mid) <= value) {\n            low = mid + 1;\n        }\n        else {\n            high = mid;\n        }\n    }\n    return low;\n}\nfunction init_hydrate(target) {\n    if (target.hydrate_init)\n        return;\n    target.hydrate_init = true;\n    // We know that all children have claim_order values since the unclaimed have been detached if target is not <head>\n    let children = target.childNodes;\n    // If target is <head>, there may be children without claim_order\n    if (target.nodeName === 'HEAD') {\n        const myChildren = [];\n        for (let i = 0; i < children.length; i++) {\n            const node = children[i];\n            if (node.claim_order !== undefined) {\n                myChildren.push(node);\n            }\n        }\n        children = myChildren;\n    }\n    /*\n    * Reorder claimed children optimally.\n    * We can reorder claimed children optimally by finding the longest subsequence of\n    * nodes that are already claimed in order and only moving the rest. The longest\n    * subsequence of nodes that are claimed in order can be found by\n    * computing the longest increasing subsequence of .claim_order values.\n    *\n    * This algorithm is optimal in generating the least amount of reorder operations\n    * possible.\n    *\n    * Proof:\n    * We know that, given a set of reordering operations, the nodes that do not move\n    * always form an increasing subsequence, since they do not move among each other\n    * meaning that they must be already ordered among each other. Thus, the maximal\n    * set of nodes that do not move form a longest increasing subsequence.\n    */\n    // Compute longest increasing subsequence\n    // m: subsequence length j => index k of smallest value that ends an increasing subsequence of length j\n    const m = new Int32Array(children.length + 1);\n    // Predecessor indices + 1\n    const p = new Int32Array(children.length);\n    m[0] = -1;\n    let longest = 0;\n    for (let i = 0; i < children.length; i++) {\n        const current = children[i].claim_order;\n        // Find the largest subsequence length such that it ends in a value less than our current value\n        // upper_bound returns first greater value, so we subtract one\n        // with fast path for when we are on the current longest subsequence\n        const seqLen = ((longest > 0 && children[m[longest]].claim_order <= current) ? longest + 1 : upper_bound(1, longest, idx => children[m[idx]].claim_order, current)) - 1;\n        p[i] = m[seqLen] + 1;\n        const newLen = seqLen + 1;\n        // We can guarantee that current is the smallest value. Otherwise, we would have generated a longer sequence.\n        m[newLen] = i;\n        longest = Math.max(newLen, longest);\n    }\n    // The longest increasing subsequence of nodes (initially reversed)\n    const lis = [];\n    // The rest of the nodes, nodes that will be moved\n    const toMove = [];\n    let last = children.length - 1;\n    for (let cur = m[longest] + 1; cur != 0; cur = p[cur - 1]) {\n        lis.push(children[cur - 1]);\n        for (; last >= cur; last--) {\n            toMove.push(children[last]);\n        }\n        last--;\n    }\n    for (; last >= 0; last--) {\n        toMove.push(children[last]);\n    }\n    lis.reverse();\n    // We sort the nodes being moved to guarantee that their insertion order matches the claim order\n    toMove.sort((a, b) => a.claim_order - b.claim_order);\n    // Finally, we move the nodes\n    for (let i = 0, j = 0; i < toMove.length; i++) {\n        while (j < lis.length && toMove[i].claim_order >= lis[j].claim_order) {\n            j++;\n        }\n        const anchor = j < lis.length ? lis[j] : null;\n        target.insertBefore(toMove[i], anchor);\n    }\n}\nfunction append(target, node) {\n    target.appendChild(node);\n}\nfunction append_styles(target, style_sheet_id, styles) {\n    const append_styles_to = get_root_for_style(target);\n    if (!append_styles_to.getElementById(style_sheet_id)) {\n        const style = element('style');\n        style.id = style_sheet_id;\n        style.textContent = styles;\n        append_stylesheet(append_styles_to, style);\n    }\n}\nfunction get_root_for_style(node) {\n    if (!node)\n        return document;\n    const root = node.getRootNode ? node.getRootNode() : node.ownerDocument;\n    if (root && root.host) {\n        return root;\n    }\n    return node.ownerDocument;\n}\nfunction append_empty_stylesheet(node) {\n    const style_element = element('style');\n    append_stylesheet(get_root_for_style(node), style_element);\n    return style_element.sheet;\n}\nfunction append_stylesheet(node, style) {\n    append(node.head || node, style);\n    return style.sheet;\n}\nfunction append_hydration(target, node) {\n    if (is_hydrating) {\n        init_hydrate(target);\n        if ((target.actual_end_child === undefined) || ((target.actual_end_child !== null) && (target.actual_end_child.parentNode !== target))) {\n            target.actual_end_child = target.firstChild;\n        }\n        // Skip nodes of undefined ordering\n        while ((target.actual_end_child !== null) && (target.actual_end_child.claim_order === undefined)) {\n            target.actual_end_child = target.actual_end_child.nextSibling;\n        }\n        if (node !== target.actual_end_child) {\n            // We only insert if the ordering of this node should be modified or the parent node is not target\n            if (node.claim_order !== undefined || node.parentNode !== target) {\n                target.insertBefore(node, target.actual_end_child);\n            }\n        }\n        else {\n            target.actual_end_child = node.nextSibling;\n        }\n    }\n    else if (node.parentNode !== target || node.nextSibling !== null) {\n        target.appendChild(node);\n    }\n}\nfunction insert(target, node, anchor) {\n    target.insertBefore(node, anchor || null);\n}\nfunction insert_hydration(target, node, anchor) {\n    if (is_hydrating && !anchor) {\n        append_hydration(target, node);\n    }\n    else if (node.parentNode !== target || node.nextSibling != anchor) {\n        target.insertBefore(node, anchor || null);\n    }\n}\nfunction detach(node) {\n    if (node.parentNode) {\n        node.parentNode.removeChild(node);\n    }\n}\nfunction destroy_each(iterations, detaching) {\n    for (let i = 0; i < iterations.length; i += 1) {\n        if (iterations[i])\n            iterations[i].d(detaching);\n    }\n}\nfunction element(name) {\n    return document.createElement(name);\n}\nfunction element_is(name, is) {\n    return document.createElement(name, { is });\n}\nfunction object_without_properties(obj, exclude) {\n    const target = {};\n    for (const k in obj) {\n        if (has_prop(obj, k)\n            // @ts-ignore\n            && exclude.indexOf(k) === -1) {\n            // @ts-ignore\n            target[k] = obj[k];\n        }\n    }\n    return target;\n}\nfunction svg_element(name) {\n    return document.createElementNS('http://www.w3.org/2000/svg', name);\n}\nfunction text(data) {\n    return document.createTextNode(data);\n}\nfunction space() {\n    return text(' ');\n}\nfunction empty() {\n    return text('');\n}\nfunction comment(content) {\n    return document.createComment(content);\n}\nfunction listen(node, event, handler, options) {\n    node.addEventListener(event, handler, options);\n    return () => node.removeEventListener(event, handler, options);\n}\nfunction prevent_default(fn) {\n    return function (event) {\n        event.preventDefault();\n        // @ts-ignore\n        return fn.call(this, event);\n    };\n}\nfunction stop_propagation(fn) {\n    return function (event) {\n        event.stopPropagation();\n        // @ts-ignore\n        return fn.call(this, event);\n    };\n}\nfunction stop_immediate_propagation(fn) {\n    return function (event) {\n        event.stopImmediatePropagation();\n        // @ts-ignore\n        return fn.call(this, event);\n    };\n}\nfunction self(fn) {\n    return function (event) {\n        // @ts-ignore\n        if (event.target === this)\n            fn.call(this, event);\n    };\n}\nfunction trusted(fn) {\n    return function (event) {\n        // @ts-ignore\n        if (event.isTrusted)\n            fn.call(this, event);\n    };\n}\nfunction attr(node, attribute, value) {\n    if (value == null)\n        node.removeAttribute(attribute);\n    else if (node.getAttribute(attribute) !== value)\n        node.setAttribute(attribute, value);\n}\n/**\n * List of attributes that should always be set through the attr method,\n * because updating them through the property setter doesn't work reliably.\n * In the example of `width`/`height`, the problem is that the setter only\n * accepts numeric values, but the attribute can also be set to a string like `50%`.\n * If this list becomes too big, rethink this approach.\n */\nconst always_set_through_set_attribute = ['width', 'height'];\nfunction set_attributes(node, attributes) {\n    // @ts-ignore\n    const descriptors = Object.getOwnPropertyDescriptors(node.__proto__);\n    for (const key in attributes) {\n        if (attributes[key] == null) {\n            node.removeAttribute(key);\n        }\n        else if (key === 'style') {\n            node.style.cssText = attributes[key];\n        }\n        else if (key === '__value') {\n            node.value = node[key] = attributes[key];\n        }\n        else if (descriptors[key] && descriptors[key].set && always_set_through_set_attribute.indexOf(key) === -1) {\n            node[key] = attributes[key];\n        }\n        else {\n            attr(node, key, attributes[key]);\n        }\n    }\n}\nfunction set_svg_attributes(node, attributes) {\n    for (const key in attributes) {\n        attr(node, key, attributes[key]);\n    }\n}\nfunction set_custom_element_data_map(node, data_map) {\n    Object.keys(data_map).forEach((key) => {\n        set_custom_element_data(node, key, data_map[key]);\n    });\n}\nfunction set_custom_element_data(node, prop, value) {\n    if (prop in node) {\n        node[prop] = typeof node[prop] === 'boolean' && value === '' ? true : value;\n    }\n    else {\n        attr(node, prop, value);\n    }\n}\nfunction set_dynamic_element_data(tag) {\n    return (/-/.test(tag)) ? set_custom_element_data_map : set_attributes;\n}\nfunction xlink_attr(node, attribute, value) {\n    node.setAttributeNS('http://www.w3.org/1999/xlink', attribute, value);\n}\nfunction get_binding_group_value(group, __value, checked) {\n    const value = new Set();\n    for (let i = 0; i < group.length; i += 1) {\n        if (group[i].checked)\n            value.add(group[i].__value);\n    }\n    if (!checked) {\n        value.delete(__value);\n    }\n    return Array.from(value);\n}\nfunction init_binding_group(group) {\n    let _inputs;\n    return {\n        /* push */ p(...inputs) {\n            _inputs = inputs;\n            _inputs.forEach(input => group.push(input));\n        },\n        /* remove */ r() {\n            _inputs.forEach(input => group.splice(group.indexOf(input), 1));\n        }\n    };\n}\nfunction init_binding_group_dynamic(group, indexes) {\n    let _group = get_binding_group(group);\n    let _inputs;\n    function get_binding_group(group) {\n        for (let i = 0; i < indexes.length; i++) {\n            group = group[indexes[i]] = group[indexes[i]] || [];\n        }\n        return group;\n    }\n    function push() {\n        _inputs.forEach(input => _group.push(input));\n    }\n    function remove() {\n        _inputs.forEach(input => _group.splice(_group.indexOf(input), 1));\n    }\n    return {\n        /* update */ u(new_indexes) {\n            indexes = new_indexes;\n            const new_group = get_binding_group(group);\n            if (new_group !== _group) {\n                remove();\n                _group = new_group;\n                push();\n            }\n        },\n        /* push */ p(...inputs) {\n            _inputs = inputs;\n            push();\n        },\n        /* remove */ r: remove\n    };\n}\nfunction to_number(value) {\n    return value === '' ? null : +value;\n}\nfunction time_ranges_to_array(ranges) {\n    const array = [];\n    for (let i = 0; i < ranges.length; i += 1) {\n        array.push({ start: ranges.start(i), end: ranges.end(i) });\n    }\n    return array;\n}\nfunction children(element) {\n    return Array.from(element.childNodes);\n}\nfunction init_claim_info(nodes) {\n    if (nodes.claim_info === undefined) {\n        nodes.claim_info = { last_index: 0, total_claimed: 0 };\n    }\n}\nfunction claim_node(nodes, predicate, processNode, createNode, dontUpdateLastIndex = false) {\n    // Try to find nodes in an order such that we lengthen the longest increasing subsequence\n    init_claim_info(nodes);\n    const resultNode = (() => {\n        // We first try to find an element after the previous one\n        for (let i = nodes.claim_info.last_index; i < nodes.length; i++) {\n            const node = nodes[i];\n            if (predicate(node)) {\n                const replacement = processNode(node);\n                if (replacement === undefined) {\n                    nodes.splice(i, 1);\n                }\n                else {\n                    nodes[i] = replacement;\n                }\n                if (!dontUpdateLastIndex) {\n                    nodes.claim_info.last_index = i;\n                }\n                return node;\n            }\n        }\n        // Otherwise, we try to find one before\n        // We iterate in reverse so that we don't go too far back\n        for (let i = nodes.claim_info.last_index - 1; i >= 0; i--) {\n            const node = nodes[i];\n            if (predicate(node)) {\n                const replacement = processNode(node);\n                if (replacement === undefined) {\n                    nodes.splice(i, 1);\n                }\n                else {\n                    nodes[i] = replacement;\n                }\n                if (!dontUpdateLastIndex) {\n                    nodes.claim_info.last_index = i;\n                }\n                else if (replacement === undefined) {\n                    // Since we spliced before the last_index, we decrease it\n                    nodes.claim_info.last_index--;\n                }\n                return node;\n            }\n        }\n        // If we can't find any matching node, we create a new one\n        return createNode();\n    })();\n    resultNode.claim_order = nodes.claim_info.total_claimed;\n    nodes.claim_info.total_claimed += 1;\n    return resultNode;\n}\nfunction claim_element_base(nodes, name, attributes, create_element) {\n    return claim_node(nodes, (node) => node.nodeName === name, (node) => {\n        const remove = [];\n        for (let j = 0; j < node.attributes.length; j++) {\n            const attribute = node.attributes[j];\n            if (!attributes[attribute.name]) {\n                remove.push(attribute.name);\n            }\n        }\n        remove.forEach(v => node.removeAttribute(v));\n        return undefined;\n    }, () => create_element(name));\n}\nfunction claim_element(nodes, name, attributes) {\n    return claim_element_base(nodes, name, attributes, element);\n}\nfunction claim_svg_element(nodes, name, attributes) {\n    return claim_element_base(nodes, name, attributes, svg_element);\n}\nfunction claim_text(nodes, data) {\n    return claim_node(nodes, (node) => node.nodeType === 3, (node) => {\n        const dataStr = '' + data;\n        if (node.data.startsWith(dataStr)) {\n            if (node.data.length !== dataStr.length) {\n                return node.splitText(dataStr.length);\n            }\n        }\n        else {\n            node.data = dataStr;\n        }\n    }, () => text(data), true // Text nodes should not update last index since it is likely not worth it to eliminate an increasing subsequence of actual elements\n    );\n}\nfunction claim_space(nodes) {\n    return claim_text(nodes, ' ');\n}\nfunction claim_comment(nodes, data) {\n    return claim_node(nodes, (node) => node.nodeType === 8, (node) => {\n        node.data = '' + data;\n        return undefined;\n    }, () => comment(data), true);\n}\nfunction find_comment(nodes, text, start) {\n    for (let i = start; i < nodes.length; i += 1) {\n        const node = nodes[i];\n        if (node.nodeType === 8 /* comment node */ && node.textContent.trim() === text) {\n            return i;\n        }\n    }\n    return nodes.length;\n}\nfunction claim_html_tag(nodes, is_svg) {\n    // find html opening tag\n    const start_index = find_comment(nodes, 'HTML_TAG_START', 0);\n    const end_index = find_comment(nodes, 'HTML_TAG_END', start_index);\n    if (start_index === end_index) {\n        return new HtmlTagHydration(undefined, is_svg);\n    }\n    init_claim_info(nodes);\n    const html_tag_nodes = nodes.splice(start_index, end_index - start_index + 1);\n    detach(html_tag_nodes[0]);\n    detach(html_tag_nodes[html_tag_nodes.length - 1]);\n    const claimed_nodes = html_tag_nodes.slice(1, html_tag_nodes.length - 1);\n    for (const n of claimed_nodes) {\n        n.claim_order = nodes.claim_info.total_claimed;\n        nodes.claim_info.total_claimed += 1;\n    }\n    return new HtmlTagHydration(claimed_nodes, is_svg);\n}\nfunction set_data(text, data) {\n    data = '' + data;\n    if (text.data === data)\n        return;\n    text.data = data;\n}\nfunction set_data_contenteditable(text, data) {\n    data = '' + data;\n    if (text.wholeText === data)\n        return;\n    text.data = data;\n}\nfunction set_data_maybe_contenteditable(text, data, attr_value) {\n    if (~contenteditable_truthy_values.indexOf(attr_value)) {\n        set_data_contenteditable(text, data);\n    }\n    else {\n        set_data(text, data);\n    }\n}\nfunction set_input_value(input, value) {\n    input.value = value == null ? '' : value;\n}\nfunction set_input_type(input, type) {\n    try {\n        input.type = type;\n    }\n    catch (e) {\n        // do nothing\n    }\n}\nfunction set_style(node, key, value, important) {\n    if (value == null) {\n        node.style.removeProperty(key);\n    }\n    else {\n        node.style.setProperty(key, value, important ? 'important' : '');\n    }\n}\nfunction select_option(select, value, mounting) {\n    for (let i = 0; i < select.options.length; i += 1) {\n        const option = select.options[i];\n        if (option.__value === value) {\n            option.selected = true;\n            return;\n        }\n    }\n    if (!mounting || value !== undefined) {\n        select.selectedIndex = -1; // no option should be selected\n    }\n}\nfunction select_options(select, value) {\n    for (let i = 0; i < select.options.length; i += 1) {\n        const option = select.options[i];\n        option.selected = ~value.indexOf(option.__value);\n    }\n}\nfunction select_value(select) {\n    const selected_option = select.querySelector(':checked');\n    return selected_option && selected_option.__value;\n}\nfunction select_multiple_value(select) {\n    return [].map.call(select.querySelectorAll(':checked'), option => option.__value);\n}\n// unfortunately this can't be a constant as that wouldn't be tree-shakeable\n// so we cache the result instead\nlet crossorigin;\nfunction is_crossorigin() {\n    if (crossorigin === undefined) {\n        crossorigin = false;\n        try {\n            if (typeof window !== 'undefined' && window.parent) {\n                void window.parent.document;\n            }\n        }\n        catch (error) {\n            crossorigin = true;\n        }\n    }\n    return crossorigin;\n}\nfunction add_iframe_resize_listener(node, fn) {\n    const computed_style = getComputedStyle(node);\n    if (computed_style.position === 'static') {\n        node.style.position = 'relative';\n    }\n    const iframe = element('iframe');\n    iframe.setAttribute('style', 'display: block; position: absolute; top: 0; left: 0; width: 100%; height: 100%; ' +\n        'overflow: hidden; border: 0; opacity: 0; pointer-events: none; z-index: -1;');\n    iframe.setAttribute('aria-hidden', 'true');\n    iframe.tabIndex = -1;\n    const crossorigin = is_crossorigin();\n    let unsubscribe;\n    if (crossorigin) {\n        iframe.src = \"data:text/html,<script>onresize=function(){parent.postMessage(0,'*')}</script>\";\n        unsubscribe = listen(window, 'message', (event) => {\n            if (event.source === iframe.contentWindow)\n                fn();\n        });\n    }\n    else {\n        iframe.src = 'about:blank';\n        iframe.onload = () => {\n            unsubscribe = listen(iframe.contentWindow, 'resize', fn);\n            // make sure an initial resize event is fired _after_ the iframe is loaded (which is asynchronous)\n            // see https://github.com/sveltejs/svelte/issues/4233\n            fn();\n        };\n    }\n    append(node, iframe);\n    return () => {\n        if (crossorigin) {\n            unsubscribe();\n        }\n        else if (unsubscribe && iframe.contentWindow) {\n            unsubscribe();\n        }\n        detach(iframe);\n    };\n}\nconst resize_observer_content_box = /* @__PURE__ */ new ResizeObserverSingleton({ box: 'content-box' });\nconst resize_observer_border_box = /* @__PURE__ */ new ResizeObserverSingleton({ box: 'border-box' });\nconst resize_observer_device_pixel_content_box = /* @__PURE__ */ new ResizeObserverSingleton({ box: 'device-pixel-content-box' });\nfunction toggle_class(element, name, toggle) {\n    element.classList[toggle ? 'add' : 'remove'](name);\n}\nfunction custom_event(type, detail, { bubbles = false, cancelable = false } = {}) {\n    const e = document.createEvent('CustomEvent');\n    e.initCustomEvent(type, bubbles, cancelable, detail);\n    return e;\n}\nfunction query_selector_all(selector, parent = document.body) {\n    return Array.from(parent.querySelectorAll(selector));\n}\nfunction head_selector(nodeId, head) {\n    const result = [];\n    let started = 0;\n    for (const node of head.childNodes) {\n        if (node.nodeType === 8 /* comment node */) {\n            const comment = node.textContent.trim();\n            if (comment === `HEAD_${nodeId}_END`) {\n                started -= 1;\n                result.push(node);\n            }\n            else if (comment === `HEAD_${nodeId}_START`) {\n                started += 1;\n                result.push(node);\n            }\n        }\n        else if (started > 0) {\n            result.push(node);\n        }\n    }\n    return result;\n}\nclass HtmlTag {\n    constructor(is_svg = false) {\n        this.is_svg = false;\n        this.is_svg = is_svg;\n        this.e = this.n = null;\n    }\n    c(html) {\n        this.h(html);\n    }\n    m(html, target, anchor = null) {\n        if (!this.e) {\n            if (this.is_svg)\n                this.e = svg_element(target.nodeName);\n            /** #7364  target for <template> may be provided as #document-fragment(11) */\n            else\n                this.e = element((target.nodeType === 11 ? 'TEMPLATE' : target.nodeName));\n            this.t = target.tagName !== 'TEMPLATE' ? target : target.content;\n            this.c(html);\n        }\n        this.i(anchor);\n    }\n    h(html) {\n        this.e.innerHTML = html;\n        this.n = Array.from(this.e.nodeName === 'TEMPLATE' ? this.e.content.childNodes : this.e.childNodes);\n    }\n    i(anchor) {\n        for (let i = 0; i < this.n.length; i += 1) {\n            insert(this.t, this.n[i], anchor);\n        }\n    }\n    p(html) {\n        this.d();\n        this.h(html);\n        this.i(this.a);\n    }\n    d() {\n        this.n.forEach(detach);\n    }\n}\nclass HtmlTagHydration extends HtmlTag {\n    constructor(claimed_nodes, is_svg = false) {\n        super(is_svg);\n        this.e = this.n = null;\n        this.l = claimed_nodes;\n    }\n    c(html) {\n        if (this.l) {\n            this.n = this.l;\n        }\n        else {\n            super.c(html);\n        }\n    }\n    i(anchor) {\n        for (let i = 0; i < this.n.length; i += 1) {\n            insert_hydration(this.t, this.n[i], anchor);\n        }\n    }\n}\nfunction attribute_to_object(attributes) {\n    const result = {};\n    for (const attribute of attributes) {\n        result[attribute.name] = attribute.value;\n    }\n    return result;\n}\nfunction get_custom_elements_slots(element) {\n    const result = {};\n    element.childNodes.forEach((node) => {\n        result[node.slot || 'default'] = true;\n    });\n    return result;\n}\nfunction construct_svelte_component(component, props) {\n    return new component(props);\n}\n\n// we need to store the information for multiple documents because a Svelte application could also contain iframes\n// https://github.com/sveltejs/svelte/issues/3624\nconst managed_styles = new Map();\nlet active = 0;\n// https://github.com/darkskyapp/string-hash/blob/master/index.js\nfunction hash(str) {\n    let hash = 5381;\n    let i = str.length;\n    while (i--)\n        hash = ((hash << 5) - hash) ^ str.charCodeAt(i);\n    return hash >>> 0;\n}\nfunction create_style_information(doc, node) {\n    const info = { stylesheet: append_empty_stylesheet(node), rules: {} };\n    managed_styles.set(doc, info);\n    return info;\n}\nfunction create_rule(node, a, b, duration, delay, ease, fn, uid = 0) {\n    const step = 16.666 / duration;\n    let keyframes = '{\\n';\n    for (let p = 0; p <= 1; p += step) {\n        const t = a + (b - a) * ease(p);\n        keyframes += p * 100 + `%{${fn(t, 1 - t)}}\\n`;\n    }\n    const rule = keyframes + `100% {${fn(b, 1 - b)}}\\n}`;\n    const name = `__svelte_${hash(rule)}_${uid}`;\n    const doc = get_root_for_style(node);\n    const { stylesheet, rules } = managed_styles.get(doc) || create_style_information(doc, node);\n    if (!rules[name]) {\n        rules[name] = true;\n        stylesheet.insertRule(`@keyframes ${name} ${rule}`, stylesheet.cssRules.length);\n    }\n    const animation = node.style.animation || '';\n    node.style.animation = `${animation ? `${animation}, ` : ''}${name} ${duration}ms linear ${delay}ms 1 both`;\n    active += 1;\n    return name;\n}\nfunction delete_rule(node, name) {\n    const previous = (node.style.animation || '').split(', ');\n    const next = previous.filter(name\n        ? anim => anim.indexOf(name) < 0 // remove specific animation\n        : anim => anim.indexOf('__svelte') === -1 // remove all Svelte animations\n    );\n    const deleted = previous.length - next.length;\n    if (deleted) {\n        node.style.animation = next.join(', ');\n        active -= deleted;\n        if (!active)\n            clear_rules();\n    }\n}\nfunction clear_rules() {\n    raf(() => {\n        if (active)\n            return;\n        managed_styles.forEach(info => {\n            const { ownerNode } = info.stylesheet;\n            // there is no ownerNode if it runs on jsdom.\n            if (ownerNode)\n                detach(ownerNode);\n        });\n        managed_styles.clear();\n    });\n}\n\nfunction create_animation(node, from, fn, params) {\n    if (!from)\n        return noop;\n    const to = node.getBoundingClientRect();\n    if (from.left === to.left && from.right === to.right && from.top === to.top && from.bottom === to.bottom)\n        return noop;\n    const { delay = 0, duration = 300, easing = identity, \n    // @ts-ignore todo: should this be separated from destructuring? Or start/end added to public api and documentation?\n    start: start_time = now() + delay, \n    // @ts-ignore todo:\n    end = start_time + duration, tick = noop, css } = fn(node, { from, to }, params);\n    let running = true;\n    let started = false;\n    let name;\n    function start() {\n        if (css) {\n            name = create_rule(node, 0, 1, duration, delay, easing, css);\n        }\n        if (!delay) {\n            started = true;\n        }\n    }\n    function stop() {\n        if (css)\n            delete_rule(node, name);\n        running = false;\n    }\n    loop(now => {\n        if (!started && now >= start_time) {\n            started = true;\n        }\n        if (started && now >= end) {\n            tick(1, 0);\n            stop();\n        }\n        if (!running) {\n            return false;\n        }\n        if (started) {\n            const p = now - start_time;\n            const t = 0 + 1 * easing(p / duration);\n            tick(t, 1 - t);\n        }\n        return true;\n    });\n    start();\n    tick(0, 1);\n    return stop;\n}\nfunction fix_position(node) {\n    const style = getComputedStyle(node);\n    if (style.position !== 'absolute' && style.position !== 'fixed') {\n        const { width, height } = style;\n        const a = node.getBoundingClientRect();\n        node.style.position = 'absolute';\n        node.style.width = width;\n        node.style.height = height;\n        add_transform(node, a);\n    }\n}\nfunction add_transform(node, a) {\n    const b = node.getBoundingClientRect();\n    if (a.left !== b.left || a.top !== b.top) {\n        const style = getComputedStyle(node);\n        const transform = style.transform === 'none' ? '' : style.transform;\n        node.style.transform = `${transform} translate(${a.left - b.left}px, ${a.top - b.top}px)`;\n    }\n}\n\nlet current_component;\nfunction set_current_component(component) {\n    current_component = component;\n}\nfunction get_current_component() {\n    if (!current_component)\n        throw new Error('Function called outside component initialization');\n    return current_component;\n}\n/**\n * Schedules a callback to run immediately before the component is updated after any state change.\n *\n * The first time the callback runs will be before the initial `onMount`\n *\n * https://svelte.dev/docs#run-time-svelte-beforeupdate\n */\nfunction beforeUpdate(fn) {\n    get_current_component().$$.before_update.push(fn);\n}\n/**\n * The `onMount` function schedules a callback to run as soon as the component has been mounted to the DOM.\n * It must be called during the component's initialisation (but doesn't need to live *inside* the component;\n * it can be called from an external module).\n *\n * `onMount` does not run inside a [server-side component](/docs#run-time-server-side-component-api).\n *\n * https://svelte.dev/docs#run-time-svelte-onmount\n */\nfunction onMount(fn) {\n    get_current_component().$$.on_mount.push(fn);\n}\n/**\n * Schedules a callback to run immediately after the component has been updated.\n *\n * The first time the callback runs will be after the initial `onMount`\n */\nfunction afterUpdate(fn) {\n    get_current_component().$$.after_update.push(fn);\n}\n/**\n * Schedules a callback to run immediately before the component is unmounted.\n *\n * Out of `onMount`, `beforeUpdate`, `afterUpdate` and `onDestroy`, this is the\n * only one that runs inside a server-side component.\n *\n * https://svelte.dev/docs#run-time-svelte-ondestroy\n */\nfunction onDestroy(fn) {\n    get_current_component().$$.on_destroy.push(fn);\n}\n/**\n * Creates an event dispatcher that can be used to dispatch [component events](/docs#template-syntax-component-directives-on-eventname).\n * Event dispatchers are functions that can take two arguments: `name` and `detail`.\n *\n * Component events created with `createEventDispatcher` create a\n * [CustomEvent](https://developer.mozilla.org/en-US/docs/Web/API/CustomEvent).\n * These events do not [bubble](https://developer.mozilla.org/en-US/docs/Learn/JavaScript/Building_blocks/Events#Event_bubbling_and_capture).\n * The `detail` argument corresponds to the [CustomEvent.detail](https://developer.mozilla.org/en-US/docs/Web/API/CustomEvent/detail)\n * property and can contain any type of data.\n *\n * https://svelte.dev/docs#run-time-svelte-createeventdispatcher\n */\nfunction createEventDispatcher() {\n    const component = get_current_component();\n    return (type, detail, { cancelable = false } = {}) => {\n        const callbacks = component.$$.callbacks[type];\n        if (callbacks) {\n            // TODO are there situations where events could be dispatched\n            // in a server (non-DOM) environment?\n            const event = custom_event(type, detail, { cancelable });\n            callbacks.slice().forEach(fn => {\n                fn.call(component, event);\n            });\n            return !event.defaultPrevented;\n        }\n        return true;\n    };\n}\n/**\n * Associates an arbitrary `context` object with the current component and the specified `key`\n * and returns that object. The context is then available to children of the component\n * (including slotted content) with `getContext`.\n *\n * Like lifecycle functions, this must be called during component initialisation.\n *\n * https://svelte.dev/docs#run-time-svelte-setcontext\n */\nfunction setContext(key, context) {\n    get_current_component().$$.context.set(key, context);\n    return context;\n}\n/**\n * Retrieves the context that belongs to the closest parent component with the specified `key`.\n * Must be called during component initialisation.\n *\n * https://svelte.dev/docs#run-time-svelte-getcontext\n */\nfunction getContext(key) {\n    return get_current_component().$$.context.get(key);\n}\n/**\n * Retrieves the whole context map that belongs to the closest parent component.\n * Must be called during component initialisation. Useful, for example, if you\n * programmatically create a component and want to pass the existing context to it.\n *\n * https://svelte.dev/docs#run-time-svelte-getallcontexts\n */\nfunction getAllContexts() {\n    return get_current_component().$$.context;\n}\n/**\n * Checks whether a given `key` has been set in the context of a parent component.\n * Must be called during component initialisation.\n *\n * https://svelte.dev/docs#run-time-svelte-hascontext\n */\nfunction hasContext(key) {\n    return get_current_component().$$.context.has(key);\n}\n// TODO figure out if we still want to support\n// shorthand events, or if we want to implement\n// a real bubbling mechanism\nfunction bubble(component, event) {\n    const callbacks = component.$$.callbacks[event.type];\n    if (callbacks) {\n        // @ts-ignore\n        callbacks.slice().forEach(fn => fn.call(this, event));\n    }\n}\n\nconst dirty_components = [];\nconst intros = { enabled: false };\nconst binding_callbacks = [];\nlet render_callbacks = [];\nconst flush_callbacks = [];\nconst resolved_promise = /* @__PURE__ */ Promise.resolve();\nlet update_scheduled = false;\nfunction schedule_update() {\n    if (!update_scheduled) {\n        update_scheduled = true;\n        resolved_promise.then(flush);\n    }\n}\nfunction tick() {\n    schedule_update();\n    return resolved_promise;\n}\nfunction add_render_callback(fn) {\n    render_callbacks.push(fn);\n}\nfunction add_flush_callback(fn) {\n    flush_callbacks.push(fn);\n}\n// flush() calls callbacks in this order:\n// 1. All beforeUpdate callbacks, in order: parents before children\n// 2. All bind:this callbacks, in reverse order: children before parents.\n// 3. All afterUpdate callbacks, in order: parents before children. EXCEPT\n//    for afterUpdates called during the initial onMount, which are called in\n//    reverse order: children before parents.\n// Since callbacks might update component values, which could trigger another\n// call to flush(), the following steps guard against this:\n// 1. During beforeUpdate, any updated components will be added to the\n//    dirty_components array and will cause a reentrant call to flush(). Because\n//    the flush index is kept outside the function, the reentrant call will pick\n//    up where the earlier call left off and go through all dirty components. The\n//    current_component value is saved and restored so that the reentrant call will\n//    not interfere with the \"parent\" flush() call.\n// 2. bind:this callbacks cannot trigger new flush() calls.\n// 3. During afterUpdate, any updated components will NOT have their afterUpdate\n//    callback called a second time; the seen_callbacks set, outside the flush()\n//    function, guarantees this behavior.\nconst seen_callbacks = new Set();\nlet flushidx = 0; // Do *not* move this inside the flush() function\nfunction flush() {\n    // Do not reenter flush while dirty components are updated, as this can\n    // result in an infinite loop. Instead, let the inner flush handle it.\n    // Reentrancy is ok afterwards for bindings etc.\n    if (flushidx !== 0) {\n        return;\n    }\n    const saved_component = current_component;\n    do {\n        // first, call beforeUpdate functions\n        // and update components\n        try {\n            while (flushidx < dirty_components.length) {\n                const component = dirty_components[flushidx];\n                flushidx++;\n                set_current_component(component);\n                update(component.$$);\n            }\n        }\n        catch (e) {\n            // reset dirty state to not end up in a deadlocked state and then rethrow\n            dirty_components.length = 0;\n            flushidx = 0;\n            throw e;\n        }\n        set_current_component(null);\n        dirty_components.length = 0;\n        flushidx = 0;\n        while (binding_callbacks.length)\n            binding_callbacks.pop()();\n        // then, once components are updated, call\n        // afterUpdate functions. This may cause\n        // subsequent updates...\n        for (let i = 0; i < render_callbacks.length; i += 1) {\n            const callback = render_callbacks[i];\n            if (!seen_callbacks.has(callback)) {\n                // ...so guard against infinite loops\n                seen_callbacks.add(callback);\n                callback();\n            }\n        }\n        render_callbacks.length = 0;\n    } while (dirty_components.length);\n    while (flush_callbacks.length) {\n        flush_callbacks.pop()();\n    }\n    update_scheduled = false;\n    seen_callbacks.clear();\n    set_current_component(saved_component);\n}\nfunction update($$) {\n    if ($$.fragment !== null) {\n        $$.update();\n        run_all($$.before_update);\n        const dirty = $$.dirty;\n        $$.dirty = [-1];\n        $$.fragment && $$.fragment.p($$.ctx, dirty);\n        $$.after_update.forEach(add_render_callback);\n    }\n}\n/**\n * Useful for example to execute remaining `afterUpdate` callbacks before executing `destroy`.\n */\nfunction flush_render_callbacks(fns) {\n    const filtered = [];\n    const targets = [];\n    render_callbacks.forEach((c) => fns.indexOf(c) === -1 ? filtered.push(c) : targets.push(c));\n    targets.forEach((c) => c());\n    render_callbacks = filtered;\n}\n\nlet promise;\nfunction wait() {\n    if (!promise) {\n        promise = Promise.resolve();\n        promise.then(() => {\n            promise = null;\n        });\n    }\n    return promise;\n}\nfunction dispatch(node, direction, kind) {\n    node.dispatchEvent(custom_event(`${direction ? 'intro' : 'outro'}${kind}`));\n}\nconst outroing = new Set();\nlet outros;\nfunction group_outros() {\n    outros = {\n        r: 0,\n        c: [],\n        p: outros // parent group\n    };\n}\nfunction check_outros() {\n    if (!outros.r) {\n        run_all(outros.c);\n    }\n    outros = outros.p;\n}\nfunction transition_in(block, local) {\n    if (block && block.i) {\n        outroing.delete(block);\n        block.i(local);\n    }\n}\nfunction transition_out(block, local, detach, callback) {\n    if (block && block.o) {\n        if (outroing.has(block))\n            return;\n        outroing.add(block);\n        outros.c.push(() => {\n            outroing.delete(block);\n            if (callback) {\n                if (detach)\n                    block.d(1);\n                callback();\n            }\n        });\n        block.o(local);\n    }\n    else if (callback) {\n        callback();\n    }\n}\nconst null_transition = { duration: 0 };\nfunction create_in_transition(node, fn, params) {\n    const options = { direction: 'in' };\n    let config = fn(node, params, options);\n    let running = false;\n    let animation_name;\n    let task;\n    let uid = 0;\n    function cleanup() {\n        if (animation_name)\n            delete_rule(node, animation_name);\n    }\n    function go() {\n        const { delay = 0, duration = 300, easing = identity, tick = noop, css } = config || null_transition;\n        if (css)\n            animation_name = create_rule(node, 0, 1, duration, delay, easing, css, uid++);\n        tick(0, 1);\n        const start_time = now() + delay;\n        const end_time = start_time + duration;\n        if (task)\n            task.abort();\n        running = true;\n        add_render_callback(() => dispatch(node, true, 'start'));\n        task = loop(now => {\n            if (running) {\n                if (now >= end_time) {\n                    tick(1, 0);\n                    dispatch(node, true, 'end');\n                    cleanup();\n                    return running = false;\n                }\n                if (now >= start_time) {\n                    const t = easing((now - start_time) / duration);\n                    tick(t, 1 - t);\n                }\n            }\n            return running;\n        });\n    }\n    let started = false;\n    return {\n        start() {\n            if (started)\n                return;\n            started = true;\n            delete_rule(node);\n            if (is_function(config)) {\n                config = config(options);\n                wait().then(go);\n            }\n            else {\n                go();\n            }\n        },\n        invalidate() {\n            started = false;\n        },\n        end() {\n            if (running) {\n                cleanup();\n                running = false;\n            }\n        }\n    };\n}\nfunction create_out_transition(node, fn, params) {\n    const options = { direction: 'out' };\n    let config = fn(node, params, options);\n    let running = true;\n    let animation_name;\n    const group = outros;\n    group.r += 1;\n    function go() {\n        const { delay = 0, duration = 300, easing = identity, tick = noop, css } = config || null_transition;\n        if (css)\n            animation_name = create_rule(node, 1, 0, duration, delay, easing, css);\n        const start_time = now() + delay;\n        const end_time = start_time + duration;\n        add_render_callback(() => dispatch(node, false, 'start'));\n        loop(now => {\n            if (running) {\n                if (now >= end_time) {\n                    tick(0, 1);\n                    dispatch(node, false, 'end');\n                    if (!--group.r) {\n                        // this will result in `end()` being called,\n                        // so we don't need to clean up here\n                        run_all(group.c);\n                    }\n                    return false;\n                }\n                if (now >= start_time) {\n                    const t = easing((now - start_time) / duration);\n                    tick(1 - t, t);\n                }\n            }\n            return running;\n        });\n    }\n    if (is_function(config)) {\n        wait().then(() => {\n            // @ts-ignore\n            config = config(options);\n            go();\n        });\n    }\n    else {\n        go();\n    }\n    return {\n        end(reset) {\n            if (reset && config.tick) {\n                config.tick(1, 0);\n            }\n            if (running) {\n                if (animation_name)\n                    delete_rule(node, animation_name);\n                running = false;\n            }\n        }\n    };\n}\nfunction create_bidirectional_transition(node, fn, params, intro) {\n    const options = { direction: 'both' };\n    let config = fn(node, params, options);\n    let t = intro ? 0 : 1;\n    let running_program = null;\n    let pending_program = null;\n    let animation_name = null;\n    function clear_animation() {\n        if (animation_name)\n            delete_rule(node, animation_name);\n    }\n    function init(program, duration) {\n        const d = (program.b - t);\n        duration *= Math.abs(d);\n        return {\n            a: t,\n            b: program.b,\n            d,\n            duration,\n            start: program.start,\n            end: program.start + duration,\n            group: program.group\n        };\n    }\n    function go(b) {\n        const { delay = 0, duration = 300, easing = identity, tick = noop, css } = config || null_transition;\n        const program = {\n            start: now() + delay,\n            b\n        };\n        if (!b) {\n            // @ts-ignore todo: improve typings\n            program.group = outros;\n            outros.r += 1;\n        }\n        if (running_program || pending_program) {\n            pending_program = program;\n        }\n        else {\n            // if this is an intro, and there's a delay, we need to do\n            // an initial tick and/or apply CSS animation immediately\n            if (css) {\n                clear_animation();\n                animation_name = create_rule(node, t, b, duration, delay, easing, css);\n            }\n            if (b)\n                tick(0, 1);\n            running_program = init(program, duration);\n            add_render_callback(() => dispatch(node, b, 'start'));\n            loop(now => {\n                if (pending_program && now > pending_program.start) {\n                    running_program = init(pending_program, duration);\n                    pending_program = null;\n                    dispatch(node, running_program.b, 'start');\n                    if (css) {\n                        clear_animation();\n                        animation_name = create_rule(node, t, running_program.b, running_program.duration, 0, easing, config.css);\n                    }\n                }\n                if (running_program) {\n                    if (now >= running_program.end) {\n                        tick(t = running_program.b, 1 - t);\n                        dispatch(node, running_program.b, 'end');\n                        if (!pending_program) {\n                            // we're done\n                            if (running_program.b) {\n                                // intro  we can tidy up immediately\n                                clear_animation();\n                            }\n                            else {\n                                // outro  needs to be coordinated\n                                if (!--running_program.group.r)\n                                    run_all(running_program.group.c);\n                            }\n                        }\n                        running_program = null;\n                    }\n                    else if (now >= running_program.start) {\n                        const p = now - running_program.start;\n                        t = running_program.a + running_program.d * easing(p / running_program.duration);\n                        tick(t, 1 - t);\n                    }\n                }\n                return !!(running_program || pending_program);\n            });\n        }\n    }\n    return {\n        run(b) {\n            if (is_function(config)) {\n                wait().then(() => {\n                    // @ts-ignore\n                    config = config(options);\n                    go(b);\n                });\n            }\n            else {\n                go(b);\n            }\n        },\n        end() {\n            clear_animation();\n            running_program = pending_program = null;\n        }\n    };\n}\n\nfunction handle_promise(promise, info) {\n    const token = info.token = {};\n    function update(type, index, key, value) {\n        if (info.token !== token)\n            return;\n        info.resolved = value;\n        let child_ctx = info.ctx;\n        if (key !== undefined) {\n            child_ctx = child_ctx.slice();\n            child_ctx[key] = value;\n        }\n        const block = type && (info.current = type)(child_ctx);\n        let needs_flush = false;\n        if (info.block) {\n            if (info.blocks) {\n                info.blocks.forEach((block, i) => {\n                    if (i !== index && block) {\n                        group_outros();\n                        transition_out(block, 1, 1, () => {\n                            if (info.blocks[i] === block) {\n                                info.blocks[i] = null;\n                            }\n                        });\n                        check_outros();\n                    }\n                });\n            }\n            else {\n                info.block.d(1);\n            }\n            block.c();\n            transition_in(block, 1);\n            block.m(info.mount(), info.anchor);\n            needs_flush = true;\n        }\n        info.block = block;\n        if (info.blocks)\n            info.blocks[index] = block;\n        if (needs_flush) {\n            flush();\n        }\n    }\n    if (is_promise(promise)) {\n        const current_component = get_current_component();\n        promise.then(value => {\n            set_current_component(current_component);\n            update(info.then, 1, info.value, value);\n            set_current_component(null);\n        }, error => {\n            set_current_component(current_component);\n            update(info.catch, 2, info.error, error);\n            set_current_component(null);\n            if (!info.hasCatch) {\n                throw error;\n            }\n        });\n        // if we previously had a then/catch block, destroy it\n        if (info.current !== info.pending) {\n            update(info.pending, 0);\n            return true;\n        }\n    }\n    else {\n        if (info.current !== info.then) {\n            update(info.then, 1, info.value, promise);\n            return true;\n        }\n        info.resolved = promise;\n    }\n}\nfunction update_await_block_branch(info, ctx, dirty) {\n    const child_ctx = ctx.slice();\n    const { resolved } = info;\n    if (info.current === info.then) {\n        child_ctx[info.value] = resolved;\n    }\n    if (info.current === info.catch) {\n        child_ctx[info.error] = resolved;\n    }\n    info.block.p(child_ctx, dirty);\n}\n\nfunction destroy_block(block, lookup) {\n    block.d(1);\n    lookup.delete(block.key);\n}\nfunction outro_and_destroy_block(block, lookup) {\n    transition_out(block, 1, 1, () => {\n        lookup.delete(block.key);\n    });\n}\nfunction fix_and_destroy_block(block, lookup) {\n    block.f();\n    destroy_block(block, lookup);\n}\nfunction fix_and_outro_and_destroy_block(block, lookup) {\n    block.f();\n    outro_and_destroy_block(block, lookup);\n}\nfunction update_keyed_each(old_blocks, dirty, get_key, dynamic, ctx, list, lookup, node, destroy, create_each_block, next, get_context) {\n    let o = old_blocks.length;\n    let n = list.length;\n    let i = o;\n    const old_indexes = {};\n    while (i--)\n        old_indexes[old_blocks[i].key] = i;\n    const new_blocks = [];\n    const new_lookup = new Map();\n    const deltas = new Map();\n    const updates = [];\n    i = n;\n    while (i--) {\n        const child_ctx = get_context(ctx, list, i);\n        const key = get_key(child_ctx);\n        let block = lookup.get(key);\n        if (!block) {\n            block = create_each_block(key, child_ctx);\n            block.c();\n        }\n        else if (dynamic) {\n            // defer updates until all the DOM shuffling is done\n            updates.push(() => block.p(child_ctx, dirty));\n        }\n        new_lookup.set(key, new_blocks[i] = block);\n        if (key in old_indexes)\n            deltas.set(key, Math.abs(i - old_indexes[key]));\n    }\n    const will_move = new Set();\n    const did_move = new Set();\n    function insert(block) {\n        transition_in(block, 1);\n        block.m(node, next);\n        lookup.set(block.key, block);\n        next = block.first;\n        n--;\n    }\n    while (o && n) {\n        const new_block = new_blocks[n - 1];\n        const old_block = old_blocks[o - 1];\n        const new_key = new_block.key;\n        const old_key = old_block.key;\n        if (new_block === old_block) {\n            // do nothing\n            next = new_block.first;\n            o--;\n            n--;\n        }\n        else if (!new_lookup.has(old_key)) {\n            // remove old block\n            destroy(old_block, lookup);\n            o--;\n        }\n        else if (!lookup.has(new_key) || will_move.has(new_key)) {\n            insert(new_block);\n        }\n        else if (did_move.has(old_key)) {\n            o--;\n        }\n        else if (deltas.get(new_key) > deltas.get(old_key)) {\n            did_move.add(new_key);\n            insert(new_block);\n        }\n        else {\n            will_move.add(old_key);\n            o--;\n        }\n    }\n    while (o--) {\n        const old_block = old_blocks[o];\n        if (!new_lookup.has(old_block.key))\n            destroy(old_block, lookup);\n    }\n    while (n)\n        insert(new_blocks[n - 1]);\n    run_all(updates);\n    return new_blocks;\n}\nfunction validate_each_keys(ctx, list, get_context, get_key) {\n    const keys = new Set();\n    for (let i = 0; i < list.length; i++) {\n        const key = get_key(get_context(ctx, list, i));\n        if (keys.has(key)) {\n            throw new Error('Cannot have duplicate keys in a keyed each');\n        }\n        keys.add(key);\n    }\n}\n\nfunction get_spread_update(levels, updates) {\n    const update = {};\n    const to_null_out = {};\n    const accounted_for = { $$scope: 1 };\n    let i = levels.length;\n    while (i--) {\n        const o = levels[i];\n        const n = updates[i];\n        if (n) {\n            for (const key in o) {\n                if (!(key in n))\n                    to_null_out[key] = 1;\n            }\n            for (const key in n) {\n                if (!accounted_for[key]) {\n                    update[key] = n[key];\n                    accounted_for[key] = 1;\n                }\n            }\n            levels[i] = n;\n        }\n        else {\n            for (const key in o) {\n                accounted_for[key] = 1;\n            }\n        }\n    }\n    for (const key in to_null_out) {\n        if (!(key in update))\n            update[key] = undefined;\n    }\n    return update;\n}\nfunction get_spread_object(spread_props) {\n    return typeof spread_props === 'object' && spread_props !== null ? spread_props : {};\n}\n\nconst _boolean_attributes = [\n    'allowfullscreen',\n    'allowpaymentrequest',\n    'async',\n    'autofocus',\n    'autoplay',\n    'checked',\n    'controls',\n    'default',\n    'defer',\n    'disabled',\n    'formnovalidate',\n    'hidden',\n    'inert',\n    'ismap',\n    'loop',\n    'multiple',\n    'muted',\n    'nomodule',\n    'novalidate',\n    'open',\n    'playsinline',\n    'readonly',\n    'required',\n    'reversed',\n    'selected'\n];\n/**\n * List of HTML boolean attributes (e.g. `<input disabled>`).\n * Source: https://html.spec.whatwg.org/multipage/indices.html\n */\nconst boolean_attributes = new Set([..._boolean_attributes]);\n\n/** regex of all html void element names */\nconst void_element_names = /^(?:area|base|br|col|command|embed|hr|img|input|keygen|link|meta|param|source|track|wbr)$/;\nfunction is_void(name) {\n    return void_element_names.test(name) || name.toLowerCase() === '!doctype';\n}\n\nconst invalid_attribute_name_character = /[\\s'\">/=\\u{FDD0}-\\u{FDEF}\\u{FFFE}\\u{FFFF}\\u{1FFFE}\\u{1FFFF}\\u{2FFFE}\\u{2FFFF}\\u{3FFFE}\\u{3FFFF}\\u{4FFFE}\\u{4FFFF}\\u{5FFFE}\\u{5FFFF}\\u{6FFFE}\\u{6FFFF}\\u{7FFFE}\\u{7FFFF}\\u{8FFFE}\\u{8FFFF}\\u{9FFFE}\\u{9FFFF}\\u{AFFFE}\\u{AFFFF}\\u{BFFFE}\\u{BFFFF}\\u{CFFFE}\\u{CFFFF}\\u{DFFFE}\\u{DFFFF}\\u{EFFFE}\\u{EFFFF}\\u{FFFFE}\\u{FFFFF}\\u{10FFFE}\\u{10FFFF}]/u;\n// https://html.spec.whatwg.org/multipage/syntax.html#attributes-2\n// https://infra.spec.whatwg.org/#noncharacter\nfunction spread(args, attrs_to_add) {\n    const attributes = Object.assign({}, ...args);\n    if (attrs_to_add) {\n        const classes_to_add = attrs_to_add.classes;\n        const styles_to_add = attrs_to_add.styles;\n        if (classes_to_add) {\n            if (attributes.class == null) {\n                attributes.class = classes_to_add;\n            }\n            else {\n                attributes.class += ' ' + classes_to_add;\n            }\n        }\n        if (styles_to_add) {\n            if (attributes.style == null) {\n                attributes.style = style_object_to_string(styles_to_add);\n            }\n            else {\n                attributes.style = style_object_to_string(merge_ssr_styles(attributes.style, styles_to_add));\n            }\n        }\n    }\n    let str = '';\n    Object.keys(attributes).forEach(name => {\n        if (invalid_attribute_name_character.test(name))\n            return;\n        const value = attributes[name];\n        if (value === true)\n            str += ' ' + name;\n        else if (boolean_attributes.has(name.toLowerCase())) {\n            if (value)\n                str += ' ' + name;\n        }\n        else if (value != null) {\n            str += ` ${name}=\"${value}\"`;\n        }\n    });\n    return str;\n}\nfunction merge_ssr_styles(style_attribute, style_directive) {\n    const style_object = {};\n    for (const individual_style of style_attribute.split(';')) {\n        const colon_index = individual_style.indexOf(':');\n        const name = individual_style.slice(0, colon_index).trim();\n        const value = individual_style.slice(colon_index + 1).trim();\n        if (!name)\n            continue;\n        style_object[name] = value;\n    }\n    for (const name in style_directive) {\n        const value = style_directive[name];\n        if (value) {\n            style_object[name] = value;\n        }\n        else {\n            delete style_object[name];\n        }\n    }\n    return style_object;\n}\nconst ATTR_REGEX = /[&\"]/g;\nconst CONTENT_REGEX = /[&<]/g;\n/**\n * Note: this method is performance sensitive and has been optimized\n * https://github.com/sveltejs/svelte/pull/5701\n */\nfunction escape(value, is_attr = false) {\n    const str = String(value);\n    const pattern = is_attr ? ATTR_REGEX : CONTENT_REGEX;\n    pattern.lastIndex = 0;\n    let escaped = '';\n    let last = 0;\n    while (pattern.test(str)) {\n        const i = pattern.lastIndex - 1;\n        const ch = str[i];\n        escaped += str.substring(last, i) + (ch === '&' ? '&amp;' : (ch === '\"' ? '&quot;' : '&lt;'));\n        last = i + 1;\n    }\n    return escaped + str.substring(last);\n}\nfunction escape_attribute_value(value) {\n    // keep booleans, null, and undefined for the sake of `spread`\n    const should_escape = typeof value === 'string' || (value && typeof value === 'object');\n    return should_escape ? escape(value, true) : value;\n}\nfunction escape_object(obj) {\n    const result = {};\n    for (const key in obj) {\n        result[key] = escape_attribute_value(obj[key]);\n    }\n    return result;\n}\nfunction each(items, fn) {\n    let str = '';\n    for (let i = 0; i < items.length; i += 1) {\n        str += fn(items[i], i);\n    }\n    return str;\n}\nconst missing_component = {\n    $$render: () => ''\n};\nfunction validate_component(component, name) {\n    if (!component || !component.$$render) {\n        if (name === 'svelte:component')\n            name += ' this={...}';\n        throw new Error(`<${name}> is not a valid SSR component. You may need to review your build config to ensure that dependencies are compiled, rather than imported as pre-compiled modules. Otherwise you may need to fix a <${name}>.`);\n    }\n    return component;\n}\nfunction debug(file, line, column, values) {\n    console.log(`{@debug} ${file ? file + ' ' : ''}(${line}:${column})`); // eslint-disable-line no-console\n    console.log(values); // eslint-disable-line no-console\n    return '';\n}\nlet on_destroy;\nfunction create_ssr_component(fn) {\n    function $$render(result, props, bindings, slots, context) {\n        const parent_component = current_component;\n        const $$ = {\n            on_destroy,\n            context: new Map(context || (parent_component ? parent_component.$$.context : [])),\n            // these will be immediately discarded\n            on_mount: [],\n            before_update: [],\n            after_update: [],\n            callbacks: blank_object()\n        };\n        set_current_component({ $$ });\n        const html = fn(result, props, bindings, slots);\n        set_current_component(parent_component);\n        return html;\n    }\n    return {\n        render: (props = {}, { $$slots = {}, context = new Map() } = {}) => {\n            on_destroy = [];\n            const result = { title: '', head: '', css: new Set() };\n            const html = $$render(result, props, {}, $$slots, context);\n            run_all(on_destroy);\n            return {\n                html,\n                css: {\n                    code: Array.from(result.css).map(css => css.code).join('\\n'),\n                    map: null // TODO\n                },\n                head: result.title + result.head\n            };\n        },\n        $$render\n    };\n}\nfunction add_attribute(name, value, boolean) {\n    if (value == null || (boolean && !value))\n        return '';\n    const assignment = (boolean && value === true) ? '' : `=\"${escape(value, true)}\"`;\n    return ` ${name}${assignment}`;\n}\nfunction add_classes(classes) {\n    return classes ? ` class=\"${classes}\"` : '';\n}\nfunction style_object_to_string(style_object) {\n    return Object.keys(style_object)\n        .filter(key => style_object[key])\n        .map(key => `${key}: ${escape_attribute_value(style_object[key])};`)\n        .join(' ');\n}\nfunction add_styles(style_object) {\n    const styles = style_object_to_string(style_object);\n    return styles ? ` style=\"${styles}\"` : '';\n}\n\nfunction bind(component, name, callback) {\n    const index = component.$$.props[name];\n    if (index !== undefined) {\n        component.$$.bound[index] = callback;\n        callback(component.$$.ctx[index]);\n    }\n}\nfunction create_component(block) {\n    block && block.c();\n}\nfunction claim_component(block, parent_nodes) {\n    block && block.l(parent_nodes);\n}\nfunction mount_component(component, target, anchor, customElement) {\n    const { fragment, after_update } = component.$$;\n    fragment && fragment.m(target, anchor);\n    if (!customElement) {\n        // onMount happens before the initial afterUpdate\n        add_render_callback(() => {\n            const new_on_destroy = component.$$.on_mount.map(run).filter(is_function);\n            // if the component was destroyed immediately\n            // it will update the `$$.on_destroy` reference to `null`.\n            // the destructured on_destroy may still reference to the old array\n            if (component.$$.on_destroy) {\n                component.$$.on_destroy.push(...new_on_destroy);\n            }\n            else {\n                // Edge case - component was destroyed immediately,\n                // most likely as a result of a binding initialising\n                run_all(new_on_destroy);\n            }\n            component.$$.on_mount = [];\n        });\n    }\n    after_update.forEach(add_render_callback);\n}\nfunction destroy_component(component, detaching) {\n    const $$ = component.$$;\n    if ($$.fragment !== null) {\n        flush_render_callbacks($$.after_update);\n        run_all($$.on_destroy);\n        $$.fragment && $$.fragment.d(detaching);\n        // TODO null out other refs, including component.$$ (but need to\n        // preserve final state?)\n        $$.on_destroy = $$.fragment = null;\n        $$.ctx = [];\n    }\n}\nfunction make_dirty(component, i) {\n    if (component.$$.dirty[0] === -1) {\n        dirty_components.push(component);\n        schedule_update();\n        component.$$.dirty.fill(0);\n    }\n    component.$$.dirty[(i / 31) | 0] |= (1 << (i % 31));\n}\nfunction init(component, options, instance, create_fragment, not_equal, props, append_styles, dirty = [-1]) {\n    const parent_component = current_component;\n    set_current_component(component);\n    const $$ = component.$$ = {\n        fragment: null,\n        ctx: [],\n        // state\n        props,\n        update: noop,\n        not_equal,\n        bound: blank_object(),\n        // lifecycle\n        on_mount: [],\n        on_destroy: [],\n        on_disconnect: [],\n        before_update: [],\n        after_update: [],\n        context: new Map(options.context || (parent_component ? parent_component.$$.context : [])),\n        // everything else\n        callbacks: blank_object(),\n        dirty,\n        skip_bound: false,\n        root: options.target || parent_component.$$.root\n    };\n    append_styles && append_styles($$.root);\n    let ready = false;\n    $$.ctx = instance\n        ? instance(component, options.props || {}, (i, ret, ...rest) => {\n            const value = rest.length ? rest[0] : ret;\n            if ($$.ctx && not_equal($$.ctx[i], $$.ctx[i] = value)) {\n                if (!$$.skip_bound && $$.bound[i])\n                    $$.bound[i](value);\n                if (ready)\n                    make_dirty(component, i);\n            }\n            return ret;\n        })\n        : [];\n    $$.update();\n    ready = true;\n    run_all($$.before_update);\n    // `false` as a special case of no DOM component\n    $$.fragment = create_fragment ? create_fragment($$.ctx) : false;\n    if (options.target) {\n        if (options.hydrate) {\n            start_hydrating();\n            const nodes = children(options.target);\n            // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n            $$.fragment && $$.fragment.l(nodes);\n            nodes.forEach(detach);\n        }\n        else {\n            // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n            $$.fragment && $$.fragment.c();\n        }\n        if (options.intro)\n            transition_in(component.$$.fragment);\n        mount_component(component, options.target, options.anchor, options.customElement);\n        end_hydrating();\n        flush();\n    }\n    set_current_component(parent_component);\n}\nlet SvelteElement;\nif (typeof HTMLElement === 'function') {\n    SvelteElement = class extends HTMLElement {\n        constructor() {\n            super();\n            this.attachShadow({ mode: 'open' });\n        }\n        connectedCallback() {\n            const { on_mount } = this.$$;\n            this.$$.on_disconnect = on_mount.map(run).filter(is_function);\n            // @ts-ignore todo: improve typings\n            for (const key in this.$$.slotted) {\n                // @ts-ignore todo: improve typings\n                this.appendChild(this.$$.slotted[key]);\n            }\n        }\n        attributeChangedCallback(attr, _oldValue, newValue) {\n            this[attr] = newValue;\n        }\n        disconnectedCallback() {\n            run_all(this.$$.on_disconnect);\n        }\n        $destroy() {\n            destroy_component(this, 1);\n            this.$destroy = noop;\n        }\n        $on(type, callback) {\n            // TODO should this delegate to addEventListener?\n            if (!is_function(callback)) {\n                return noop;\n            }\n            const callbacks = (this.$$.callbacks[type] || (this.$$.callbacks[type] = []));\n            callbacks.push(callback);\n            return () => {\n                const index = callbacks.indexOf(callback);\n                if (index !== -1)\n                    callbacks.splice(index, 1);\n            };\n        }\n        $set($$props) {\n            if (this.$$set && !is_empty($$props)) {\n                this.$$.skip_bound = true;\n                this.$$set($$props);\n                this.$$.skip_bound = false;\n            }\n        }\n    };\n}\n/**\n * Base class for Svelte components. Used when dev=false.\n */\nclass SvelteComponent {\n    $destroy() {\n        destroy_component(this, 1);\n        this.$destroy = noop;\n    }\n    $on(type, callback) {\n        if (!is_function(callback)) {\n            return noop;\n        }\n        const callbacks = (this.$$.callbacks[type] || (this.$$.callbacks[type] = []));\n        callbacks.push(callback);\n        return () => {\n            const index = callbacks.indexOf(callback);\n            if (index !== -1)\n                callbacks.splice(index, 1);\n        };\n    }\n    $set($$props) {\n        if (this.$$set && !is_empty($$props)) {\n            this.$$.skip_bound = true;\n            this.$$set($$props);\n            this.$$.skip_bound = false;\n        }\n    }\n}\n\nfunction dispatch_dev(type, detail) {\n    document.dispatchEvent(custom_event(type, Object.assign({ version: '3.59.2' }, detail), { bubbles: true }));\n}\nfunction append_dev(target, node) {\n    dispatch_dev('SvelteDOMInsert', { target, node });\n    append(target, node);\n}\nfunction append_hydration_dev(target, node) {\n    dispatch_dev('SvelteDOMInsert', { target, node });\n    append_hydration(target, node);\n}\nfunction insert_dev(target, node, anchor) {\n    dispatch_dev('SvelteDOMInsert', { target, node, anchor });\n    insert(target, node, anchor);\n}\nfunction insert_hydration_dev(target, node, anchor) {\n    dispatch_dev('SvelteDOMInsert', { target, node, anchor });\n    insert_hydration(target, node, anchor);\n}\nfunction detach_dev(node) {\n    dispatch_dev('SvelteDOMRemove', { node });\n    detach(node);\n}\nfunction detach_between_dev(before, after) {\n    while (before.nextSibling && before.nextSibling !== after) {\n        detach_dev(before.nextSibling);\n    }\n}\nfunction detach_before_dev(after) {\n    while (after.previousSibling) {\n        detach_dev(after.previousSibling);\n    }\n}\nfunction detach_after_dev(before) {\n    while (before.nextSibling) {\n        detach_dev(before.nextSibling);\n    }\n}\nfunction listen_dev(node, event, handler, options, has_prevent_default, has_stop_propagation, has_stop_immediate_propagation) {\n    const modifiers = options === true ? ['capture'] : options ? Array.from(Object.keys(options)) : [];\n    if (has_prevent_default)\n        modifiers.push('preventDefault');\n    if (has_stop_propagation)\n        modifiers.push('stopPropagation');\n    if (has_stop_immediate_propagation)\n        modifiers.push('stopImmediatePropagation');\n    dispatch_dev('SvelteDOMAddEventListener', { node, event, handler, modifiers });\n    const dispose = listen(node, event, handler, options);\n    return () => {\n        dispatch_dev('SvelteDOMRemoveEventListener', { node, event, handler, modifiers });\n        dispose();\n    };\n}\nfunction attr_dev(node, attribute, value) {\n    attr(node, attribute, value);\n    if (value == null)\n        dispatch_dev('SvelteDOMRemoveAttribute', { node, attribute });\n    else\n        dispatch_dev('SvelteDOMSetAttribute', { node, attribute, value });\n}\nfunction prop_dev(node, property, value) {\n    node[property] = value;\n    dispatch_dev('SvelteDOMSetProperty', { node, property, value });\n}\nfunction dataset_dev(node, property, value) {\n    node.dataset[property] = value;\n    dispatch_dev('SvelteDOMSetDataset', { node, property, value });\n}\nfunction set_data_dev(text, data) {\n    data = '' + data;\n    if (text.data === data)\n        return;\n    dispatch_dev('SvelteDOMSetData', { node: text, data });\n    text.data = data;\n}\nfunction set_data_contenteditable_dev(text, data) {\n    data = '' + data;\n    if (text.wholeText === data)\n        return;\n    dispatch_dev('SvelteDOMSetData', { node: text, data });\n    text.data = data;\n}\nfunction set_data_maybe_contenteditable_dev(text, data, attr_value) {\n    if (~contenteditable_truthy_values.indexOf(attr_value)) {\n        set_data_contenteditable_dev(text, data);\n    }\n    else {\n        set_data_dev(text, data);\n    }\n}\nfunction validate_each_argument(arg) {\n    if (typeof arg !== 'string' && !(arg && typeof arg === 'object' && 'length' in arg)) {\n        let msg = '{#each} only iterates over array-like objects.';\n        if (typeof Symbol === 'function' && arg && Symbol.iterator in arg) {\n            msg += ' You can use a spread to convert this iterable into an array.';\n        }\n        throw new Error(msg);\n    }\n}\nfunction validate_slots(name, slot, keys) {\n    for (const slot_key of Object.keys(slot)) {\n        if (!~keys.indexOf(slot_key)) {\n            console.warn(`<${name}> received an unexpected slot \"${slot_key}\".`);\n        }\n    }\n}\nfunction validate_dynamic_element(tag) {\n    const is_string = typeof tag === 'string';\n    if (tag && !is_string) {\n        throw new Error('<svelte:element> expects \"this\" attribute to be a string.');\n    }\n}\nfunction validate_void_dynamic_element(tag) {\n    if (tag && is_void(tag)) {\n        console.warn(`<svelte:element this=\"${tag}\"> is self-closing and cannot have content.`);\n    }\n}\nfunction construct_svelte_component_dev(component, props) {\n    const error_message = 'this={...} of <svelte:component> should specify a Svelte component.';\n    try {\n        const instance = new component(props);\n        if (!instance.$$ || !instance.$set || !instance.$on || !instance.$destroy) {\n            throw new Error(error_message);\n        }\n        return instance;\n    }\n    catch (err) {\n        const { message } = err;\n        if (typeof message === 'string' && message.indexOf('is not a constructor') !== -1) {\n            throw new Error(error_message);\n        }\n        else {\n            throw err;\n        }\n    }\n}\n/**\n * Base class for Svelte components with some minor dev-enhancements. Used when dev=true.\n */\nclass SvelteComponentDev extends SvelteComponent {\n    constructor(options) {\n        if (!options || (!options.target && !options.$$inline)) {\n            throw new Error(\"'target' is a required option\");\n        }\n        super();\n    }\n    $destroy() {\n        super.$destroy();\n        this.$destroy = () => {\n            console.warn('Component was already destroyed'); // eslint-disable-line no-console\n        };\n    }\n    $capture_state() { }\n    $inject_state() { }\n}\n/**\n * Base class to create strongly typed Svelte components.\n * This only exists for typing purposes and should be used in `.d.ts` files.\n *\n * ### Example:\n *\n * You have component library on npm called `component-library`, from which\n * you export a component called `MyComponent`. For Svelte+TypeScript users,\n * you want to provide typings. Therefore you create a `index.d.ts`:\n * ```ts\n * import { SvelteComponentTyped } from \"svelte\";\n * export class MyComponent extends SvelteComponentTyped<{foo: string}> {}\n * ```\n * Typing this makes it possible for IDEs like VS Code with the Svelte extension\n * to provide intellisense and to use the component like this in a Svelte file\n * with TypeScript:\n * ```svelte\n * <script lang=\"ts\">\n * \timport { MyComponent } from \"component-library\";\n * </script>\n * <MyComponent foo={'bar'} />\n * ```\n *\n * #### Why not make this part of `SvelteComponent(Dev)`?\n * Because\n * ```ts\n * class ASubclassOfSvelteComponent extends SvelteComponent<{foo: string}> {}\n * const component: typeof SvelteComponent = ASubclassOfSvelteComponent;\n * ```\n * will throw a type error, so we need to separate the more strictly typed class.\n */\nclass SvelteComponentTyped extends SvelteComponentDev {\n    constructor(options) {\n        super(options);\n    }\n}\nfunction loop_guard(timeout) {\n    const start = Date.now();\n    return () => {\n        if (Date.now() - start > timeout) {\n            throw new Error('Infinite loop detected');\n        }\n    };\n}\n\nexport { HtmlTag, HtmlTagHydration, ResizeObserverSingleton, SvelteComponent, SvelteComponentDev, SvelteComponentTyped, SvelteElement, action_destroyer, add_attribute, add_classes, add_flush_callback, add_iframe_resize_listener, add_location, add_render_callback, add_styles, add_transform, afterUpdate, append, append_dev, append_empty_stylesheet, append_hydration, append_hydration_dev, append_styles, assign, attr, attr_dev, attribute_to_object, beforeUpdate, bind, binding_callbacks, blank_object, bubble, check_outros, children, claim_comment, claim_component, claim_element, claim_html_tag, claim_space, claim_svg_element, claim_text, clear_loops, comment, component_subscribe, compute_rest_props, compute_slots, construct_svelte_component, construct_svelte_component_dev, contenteditable_truthy_values, createEventDispatcher, create_animation, create_bidirectional_transition, create_component, create_in_transition, create_out_transition, create_slot, create_ssr_component, current_component, custom_event, dataset_dev, debug, destroy_block, destroy_component, destroy_each, detach, detach_after_dev, detach_before_dev, detach_between_dev, detach_dev, dirty_components, dispatch_dev, each, element, element_is, empty, end_hydrating, escape, escape_attribute_value, escape_object, exclude_internal_props, fix_and_destroy_block, fix_and_outro_and_destroy_block, fix_position, flush, flush_render_callbacks, getAllContexts, getContext, get_all_dirty_from_scope, get_binding_group_value, get_current_component, get_custom_elements_slots, get_root_for_style, get_slot_changes, get_spread_object, get_spread_update, get_store_value, globals, group_outros, handle_promise, hasContext, has_prop, head_selector, identity, init, init_binding_group, init_binding_group_dynamic, insert, insert_dev, insert_hydration, insert_hydration_dev, intros, invalid_attribute_name_character, is_client, is_crossorigin, is_empty, is_function, is_promise, is_void, listen, listen_dev, loop, loop_guard, merge_ssr_styles, missing_component, mount_component, noop, not_equal, now, null_to_empty, object_without_properties, onDestroy, onMount, once, outro_and_destroy_block, prevent_default, prop_dev, query_selector_all, raf, resize_observer_border_box, resize_observer_content_box, resize_observer_device_pixel_content_box, run, run_all, safe_not_equal, schedule_update, select_multiple_value, select_option, select_options, select_value, self, setContext, set_attributes, set_current_component, set_custom_element_data, set_custom_element_data_map, set_data, set_data_contenteditable, set_data_contenteditable_dev, set_data_dev, set_data_maybe_contenteditable, set_data_maybe_contenteditable_dev, set_dynamic_element_data, set_input_type, set_input_value, set_now, set_raf, set_store_value, set_style, set_svg_attributes, space, split_css_unit, spread, src_url_equal, start_hydrating, stop_immediate_propagation, stop_propagation, subscribe, svg_element, text, tick, time_ranges_to_array, to_number, toggle_class, transition_in, transition_out, trusted, update_await_block_branch, update_keyed_each, update_slot, update_slot_base, validate_component, validate_dynamic_element, validate_each_argument, validate_each_keys, validate_slots, validate_store, validate_void_dynamic_element, xlink_attr };\n","function add (a, b) {\n  return {\n    x: a.x + b.x,\n    y: a.y + b.y\n  }\n}\n\nfunction subtract (a, b) {\n  return {\n    x: a.x - b.x,\n    y: a.y - b.y\n  }\n}\n\nfunction scale (p, scale) {\n  return {\n    x: p.x * scale,\n    y: p.y * scale\n  }\n}\n\nfunction rotate (p, a, origin = { x: 0, y: 0 }) {\n  const dx = p.x - origin.x\n  const dy = p.y - origin.y\n  return {\n    x: origin.x + (dx * Math.cos(a)) - (dy * Math.sin(a)),\n    y: origin.y + (dy * Math.cos(a)) + (dx * Math.sin(a))\n  }\n}\n\nfunction direction (v) {\n  const a = Math.atan(v.x / v.y)\n  if (v.y > 0) return a + Math.PI\n  else return a\n}\n\nfunction length (v) {\n  return Math.sqrt((v.x * v.x) + (v.y * v.y))\n}\n\nexport default {\n  add,\n  subtract,\n  sub: subtract,\n  scale,\n  rotate,\n  direction,\n  length,\n  len: length\n}\n","export default class magneticLines {\n\n    rotatePoint(px, py, angle) {\n        const cosTheta = Math.cos(angle);\n        const sinTheta = Math.sin(angle);\n        return {\n          x: px * cosTheta - py * sinTheta,\n          y: px * sinTheta + py * cosTheta\n        };\n      }\n    calcMagneticLine(side, linePosition, lineOrientation, box) {\n          let lineCenter;\n          let theta_line;\n          let x_line;\n          let y_line;\n          let lineLength;\n          let extendLength = 500; // Extension length beyond the rectangle\n  \n          // Extract box properties\n          let x = box.x;\n          let y = box.y;\n          let width = box.width;\n          let height = box.height;\n          let theta = box.rotation;\n  \n          // Calculate the center of the rectangle\n          let x_center = x + width / 2;\n          let y_center = y + height / 2;\n  \n          if (linePosition === 'side') {\n              // Line along the side\n              if (side === 'top') {\n              lineCenter = this.rotatePoint(0, -height / 2, theta);\n              theta_line = theta;\n              lineLength = width + 2 * extendLength;\n              } else if (side === 'right') {\n              lineCenter = this.rotatePoint(width / 2, 0, theta);\n              theta_line = theta + Math.PI / 2;\n              lineLength = height + 2 * extendLength;\n              } else if (side === 'bottom') {\n              lineCenter = this.rotatePoint(0, height / 2, theta);\n              theta_line = theta + Math.PI;\n              lineLength = width + 2 * extendLength;\n              } else if (side === 'left') {\n              lineCenter = this.rotatePoint(-width / 2, 0, theta);\n              theta_line = theta - Math.PI / 2;\n              lineLength = height + 2 * extendLength;\n              }\n              // @ts-ignore\n              x_line = x_center + lineCenter.x;\n              // @ts-ignore\n              y_line = y_center + lineCenter.y;\n          } else if (linePosition === 'center') {\n              // Line through the center\n              x_line = x_center;\n              y_line = y_center;\n  \n              if (lineOrientation === 'horizontal') {\n              theta_line = theta; // Aligned with rectangle's top and bottom edges\n              } else if (lineOrientation === 'vertical') {\n              theta_line = theta + Math.PI / 2; // Aligned with rectangle's left and right edges\n              } else if (lineOrientation === 'aligned') {\n              theta_line = theta; // Same as 'horizontal' in this context\n              }\n              // Calculate length sufficient to cover rectangle\n              const diagonal = Math.hypot(width, height)\n              lineLength = diagonal + 2 * extendLength\n          }\n          return { x_line, y_line, lineLength, theta_line }\n      }\n  \n    /**\n     * Converts the normalized snapped position back to the original coordinates before normalization.\n     * Uses the shared center and sharedRotation from rotateBoxesToZero.\n     * \n     * @param {Object} normalizedSnappedPosition - The snapped position after normalization (x, y only)\n     * @param {Number} originalRotation - The rotation that was applied during normalization\n     * @returns {Object} - The transformed position with correct original x, y coordinates\n     */\n    rotatePositionBackToOriginal(normalizedSnappedPosition, originalRotation,) {\n        let centerX=this.centerX\n        let centerY=this.centerY\n        // Extract normalized position and dimensions\n        const snappedX = normalizedSnappedPosition.x;\n        const snappedY = normalizedSnappedPosition.y;\n        const width = normalizedSnappedPosition.width;\n        const height = normalizedSnappedPosition.height;\n\n        // Calculate the center of the box in normalized coordinates\n        const boxCenterX = snappedX + width / 2;\n        const boxCenterY = snappedY + height / 2;\n\n        // Rotate the center back by originalRotation around the centroid\n        // @ts-ignore\n        const rotatedCenterX = centerX + (boxCenterX - centerX) * Math.cos(originalRotation) - (boxCenterY - centerY) * Math.sin(originalRotation);\n        // @ts-ignore\n        const rotatedCenterY = centerY + (boxCenterX - centerX) * Math.sin(originalRotation) + (boxCenterY - centerY) * Math.cos(originalRotation);\n\n        // Calculate the new top-left position\n        const rotatedX = rotatedCenterX - width / 2;\n        const rotatedY = rotatedCenterY - height / 2;\n\n        // Return the original position after rotating back\n        return {\n            x: rotatedX,\n            y: rotatedY,\n            width: width,\n            height: height,\n            rotation: originalRotation\n        };\n    }\n\n\n    /**\n     * rotation of list of layers/boxes so that rotation is zero but arragement of all boxes remains same\n     * @param boxes\n     * @param sharedRotation\n     */\n     rotateBoxesToZero(boxes, sharedRotation) {\n        // Calculate the center point of the system, could be an average of all centers or a specific point.\n        let centerX = 0\n        let centerY = 0\n\n        boxes.forEach(box => {\n            centerX += box.x + box.width / 2\n            centerY += box.y + box.height / 2\n        });\n\n        centerX /= boxes.length\n        centerY /= boxes.length\n        this.centerX=centerX\n        this.centerY=centerY\n        // Rotate all boxes by the negative of the shared rotation\n        boxes.forEach(box => {\n            let boxCenterX = box.x + box.width / 2\n            let boxCenterY = box.y + box.height / 2\n\n            let newX = centerX + (boxCenterX - centerX) * Math.cos(-sharedRotation) - (boxCenterY - centerY) * Math.sin(-sharedRotation)\n            let newY = centerY + (boxCenterX - centerX) * Math.sin(-sharedRotation) + (boxCenterY - centerY) * Math.cos(-sharedRotation)\n\n            // Update the box position by adjusting for the new center point\n            box.x = newX - box.width / 2\n            box.y = newY - box.height / 2\n\n            // Set rotation to 0\n            box.rotation = 0\n        })\n\n        return boxes\n    }\n}","export function warpImage(img, dstCoords, canvas,rotationAngle) {\n\n    // Use naturalWidth and naturalHeight throughout\n    var imgWidth = img.naturalWidth;\n    var imgHeight = img.naturalHeight;\n\n    // Define source coordinates (corners of the source image)\n    var srcCoords = [\n        { x: 0, y: 0 },\n        { x: imgWidth, y: 0 },\n        { x: imgWidth, y: imgHeight },\n        { x: 0, y: imgHeight }\n    ];\n\n\n    const radians =  -rotationAngle;\n    const cosA = Math.cos(radians);\n    const sinA = Math.sin(radians);\n\n    // Rotate source points around the center\n    let [centerX,centerY] =  getCenterFromCorners(srcCoords);\n    if(rotationAngle) {\n        srcCoords = srcCoords.map(({x, y}) => {\n            const dx = x - centerX;\n            const dy = y - centerY;\n            const xRot = dx * cosA - dy * sinA + centerX;\n            const yRot = dx * sinA + dy * cosA + centerY;\n            return {x: xRot, y: yRot};\n        });\n    }\n\n\n    // Compute the homography matrix H that maps srcCoords to dstCoords\n    var H = computeHomography(srcCoords, dstCoords);\n\n    // Calculate the bounding box of the destination coordinates\n    var orgsrcCoords = [\n        { x: 0, y: 0 },\n        { x: imgWidth, y: 0 },\n        { x: imgWidth, y: imgHeight },\n        { x: 0, y: imgHeight }\n    ];\n    var minX = Math.min(...orgsrcCoords.map(p => p.x));\n    var maxX = Math.max(...orgsrcCoords.map(p => p.x));\n    var minY = Math.min(...orgsrcCoords.map(p => p.y));\n    var maxY = Math.max(...orgsrcCoords.map(p => p.y));\n\n    canvas.width = Math.ceil(maxX - minX);\n    canvas.height = Math.ceil(maxY - minY);\n\n    // Prepare the inverse homography for reverse mapping\n    var invH = invertHomography(H);\n\n    // Draw the source image onto a temporary canvas to access pixel data\n    var tempCanvas = document.createElement('canvas');\n    tempCanvas.width = imgWidth;\n    tempCanvas.height = imgHeight;\n    var tempCtx = tempCanvas.getContext('2d');\n    tempCtx.drawImage(img, 0, 0, imgWidth, imgHeight);\n    var srcImageData = tempCtx.getImageData(0, 0, imgWidth, imgHeight);\n    var srcData = srcImageData.data;\n\n    // Get destination canvas context and image data\n    var dstCtx = canvas.getContext('2d');\n    var dstImageData = dstCtx.createImageData(canvas.width, canvas.height);\n    var dstData = dstImageData.data;\n\n    // Process each pixel in the destination image\n    for (var y = 0; y < canvas.height; y++) {\n        for (var x = 0; x < canvas.width; x++) {\n            // Map the pixel position to the corresponding position in the source image\n            var destX = x + minX;\n            var destY = y + minY;\n\n            var srcPos = applyHomography(invH, destX, destY);\n\n            var xs = srcPos.x;\n            var ys = srcPos.y;\n\n            // Check if the source position is within the source image bounds\n            if (xs >= 0 && xs < imgWidth && ys >= 0 && ys < imgHeight) {\n                // Use bilinear interpolation to sample the pixel\n                var color = sampleBilinear(srcData, imgWidth, imgHeight, xs, ys);\n\n                // Set the pixel in the destination image\n                var index = (y * canvas.width + x) * 4;\n                dstData[index] = color[0];\n                dstData[index + 1] = color[1];\n                dstData[index + 2] = color[2];\n                dstData[index + 3] = color[3];\n            }\n        }\n    }\n\n    dstCtx.putImageData(dstImageData, 0, 0);\n}\n\nfunction getCenterFromCorners(corners) {\n    // Top-left corner is the first element\n    const topLeft = corners[0];\n    // Bottom-right corner is the third element\n    const bottomRight = corners[2];\n    const centerX = (topLeft.x + bottomRight.x) / 2;\n    const centerY = (topLeft.y + bottomRight.y) / 2;\n    return [ centerX, centerY ];\n}\n\nfunction computeHomography(src, dst) {\n    // Set up matrix equations to solve for homography\n    var A = [];\n    for (var i = 0; i < 4; i++) {\n        var xs = src[i].x;\n        var ys = src[i].y;\n        var xd = dst[i].x;\n        var yd = dst[i].y;\n\n        A.push([-xs, -ys, -1, 0, 0, 0, xs * xd, ys * xd, xd]);\n        A.push([0, 0, 0, -xs, -ys, -1, xs * yd, ys * yd, yd]);\n    }\n\n    // Solve Ah = 0 using Singular Value Decomposition (SVD)\n    var h = solveHomography(A);\n\n    // Reshape h into a 3x3 matrix\n    var H = [\n        [h[0], h[1], h[2]],\n        [h[3], h[4], h[5]],\n        [h[6], h[7], h[8]]\n    ];\n\n    return H;\n}\n\nfunction solveHomography(A) {\n    // Use SVD to solve Ah = 0\n    // For simplicity, we use numeric.js library functions\n    // Since we can't use external libraries, we'll use a simple approximation\n\n    // Normally, you would perform SVD here, but we'll approximate for simplicity\n    // We'll set h[8] = 1 and solve the linear system\n    var a = [];\n    var b = [];\n    for (var i = 0; i < A.length; i++) {\n        a.push(A[i].slice(0, 8));\n        b.push(-A[i][8]);\n    }\n\n    // Solve for h[0..7]\n    var h = solveLinearSystem(a, b);\n    h.push(1); // h[8] = 1\n\n    return h;\n}\n\nfunction solveLinearSystem(A, b) {\n    // Simple Gaussian elimination solver\n    var m = A.length;\n    var n = A[0].length;\n\n    // Augment A with b\n    for (var i = 0; i < m; i++) {\n        A[i].push(b[i]);\n    }\n\n    // Forward elimination\n    for (var k = 0; k < n; k++) {\n        // Find the pivot row\n        var maxRow = k;\n        var maxVal = Math.abs(A[k][k]);\n        for (var i = k + 1; i < m; i++) {\n            if (Math.abs(A[i][k]) > maxVal) {\n                maxVal = Math.abs(A[i][k]);\n                maxRow = i;\n            }\n        }\n\n        // Swap rows\n        if (maxRow !== k) {\n            var temp = A[k];\n            A[k] = A[maxRow];\n            A[maxRow] = temp;\n        }\n\n        // Eliminate below\n        for (var i = k + 1; i < m; i++) {\n            var c = A[i][k] / A[k][k];\n            for (var j = k; j <= n; j++) {\n                A[i][j] -= c * A[k][j];\n            }\n        }\n    }\n\n    // Back substitution\n    var x = new Array(n);\n    for (var i = n - 1; i >= 0; i--) {\n        x[i] = A[i][n] / A[i][i];\n        for (var k = i - 1; k >= 0; k--) {\n            A[k][n] -= A[k][i] * x[i];\n        }\n    }\n\n    return x;\n}\n\nfunction invertHomography(H) {\n    // Compute the inverse of a 3x3 matrix\n    var det =\n        H[0][0] * (H[1][1] * H[2][2] - H[2][1] * H[1][2]) -\n        H[0][1] * (H[1][0] * H[2][2] - H[2][0] * H[1][2]) +\n        H[0][2] * (H[1][0] * H[2][1] - H[2][0] * H[1][1]);\n\n    if (det === 0) {\n        throw new Error(\"Homography matrix is singular and cannot be inverted.\");\n    }\n\n    var invDet = 1 / det;\n\n    var invH = [\n        [\n            (H[1][1] * H[2][2] - H[2][1] * H[1][2]) * invDet,\n            (H[0][2] * H[2][1] - H[0][1] * H[2][2]) * invDet,\n            (H[0][1] * H[1][2] - H[0][2] * H[1][1]) * invDet\n        ],\n        [\n            (H[1][2] * H[2][0] - H[1][0] * H[2][2]) * invDet,\n            (H[0][0] * H[2][2] - H[0][2] * H[2][0]) * invDet,\n            (H[1][0] * H[0][2] - H[0][0] * H[1][2]) * invDet\n        ],\n        [\n            (H[1][0] * H[2][1] - H[2][0] * H[1][1]) * invDet,\n            (H[2][0] * H[0][1] - H[0][0] * H[2][1]) * invDet,\n            (H[0][0] * H[1][1] - H[1][0] * H[0][1]) * invDet\n        ]\n    ];\n\n    return invH;\n}\n\nfunction applyHomography(H, x, y) {\n    var denom = H[2][0] * x + H[2][1] * y + H[2][2];\n    var xs = (H[0][0] * x + H[0][1] * y + H[0][2]) / denom;\n    var ys = (H[1][0] * x + H[1][1] * y + H[1][2]) / denom;\n    return { x: xs, y: ys };\n}\n\nfunction sampleBilinear(data, width, height, x, y) {\n    var x0 = Math.floor(x);\n    var y0 = Math.floor(y);\n    var x1 = x0 + 1;\n    var y1 = y0 + 1;\n\n    var dx = x - x0;\n    var dy = y - y0;\n\n    var index = function (xi, yi) {\n        xi = Math.max(0, Math.min(width - 1, xi));\n        yi = Math.max(0, Math.min(height - 1, yi));\n        return (yi * width + xi) * 4;\n    };\n\n    var c00 = getPixel(data, index(x0, y0));\n    var c10 = getPixel(data, index(x1, y0));\n    var c01 = getPixel(data, index(x0, y1));\n    var c11 = getPixel(data, index(x1, y1));\n\n    var c0 = interpolateColor(c00, c10, dx);\n    var c1 = interpolateColor(c01, c11, dx);\n    var c = interpolateColor(c0, c1, dy);\n\n    return c;\n}\n\nfunction getPixel(data, index) {\n    return [data[index], data[index + 1], data[index + 2], data[index + 3]];\n}\n\nfunction interpolateColor(c0, c1, t) {\n    var c = [];\n    for (var i = 0; i < 4; i++) {\n        c[i] = c0[i] * (1 - t) + c1[i] * t;\n    }\n    return c;\n}\n","\"use strict\";\n\nvar numeric = (typeof exports === \"undefined\")?(function numeric() {}):(exports);\nif(typeof global !== \"undefined\") { global.numeric = numeric; }\n\nnumeric.version = \"1.2.6\";\n\n// 1. Utility functions\nnumeric.bench = function bench (f,interval) {\n    var t1,t2,n,i;\n    if(typeof interval === \"undefined\") { interval = 15; }\n    n = 0.5;\n    t1 = new Date();\n    while(1) {\n        n*=2;\n        for(i=n;i>3;i-=4) { f(); f(); f(); f(); }\n        while(i>0) { f(); i--; }\n        t2 = new Date();\n        if(t2-t1 > interval) break;\n    }\n    for(i=n;i>3;i-=4) { f(); f(); f(); f(); }\n    while(i>0) { f(); i--; }\n    t2 = new Date();\n    return 1000*(3*n-1)/(t2-t1);\n}\n\nnumeric._myIndexOf = (function _myIndexOf(w) {\n    var n = this.length,k;\n    for(k=0;k<n;++k) if(this[k]===w) return k;\n    return -1;\n});\nnumeric.myIndexOf = (Array.prototype.indexOf)?Array.prototype.indexOf:numeric._myIndexOf;\n\nnumeric.Function = Function;\nnumeric.precision = 4;\nnumeric.largeArray = 50;\n\nnumeric.prettyPrint = function prettyPrint(x) {\n    function fmtnum(x) {\n        if(x === 0) { return '0'; }\n        if(isNaN(x)) { return 'NaN'; }\n        if(x<0) { return '-'+fmtnum(-x); }\n        if(isFinite(x)) {\n            var scale = Math.floor(Math.log(x) / Math.log(10));\n            var normalized = x / Math.pow(10,scale);\n            var basic = normalized.toPrecision(numeric.precision);\n            if(parseFloat(basic) === 10) { scale++; normalized = 1; basic = normalized.toPrecision(numeric.precision); }\n            return parseFloat(basic).toString()+'e'+scale.toString();\n        }\n        return 'Infinity';\n    }\n    var ret = [];\n    function foo(x) {\n        var k;\n        if(typeof x === \"undefined\") { ret.push(Array(numeric.precision+8).join(' ')); return false; }\n        if(typeof x === \"string\") { ret.push('\"'+x+'\"'); return false; }\n        if(typeof x === \"boolean\") { ret.push(x.toString()); return false; }\n        if(typeof x === \"number\") {\n            var a = fmtnum(x);\n            var b = x.toPrecision(numeric.precision);\n            var c = parseFloat(x.toString()).toString();\n            var d = [a,b,c,parseFloat(b).toString(),parseFloat(c).toString()];\n            for(k=1;k<d.length;k++) { if(d[k].length < a.length) a = d[k]; }\n            ret.push(Array(numeric.precision+8-a.length).join(' ')+a);\n            return false;\n        }\n        if(x === null) { ret.push(\"null\"); return false; }\n        if(typeof x === \"function\") { \n            ret.push(x.toString());\n            var flag = false;\n            for(k in x) { if(x.hasOwnProperty(k)) { \n                if(flag) ret.push(',\\n');\n                else ret.push('\\n{');\n                flag = true; \n                ret.push(k); \n                ret.push(': \\n'); \n                foo(x[k]); \n            } }\n            if(flag) ret.push('}\\n');\n            return true;\n        }\n        if(x instanceof Array) {\n            if(x.length > numeric.largeArray) { ret.push('...Large Array...'); return true; }\n            var flag = false;\n            ret.push('[');\n            for(k=0;k<x.length;k++) { if(k>0) { ret.push(','); if(flag) ret.push('\\n '); } flag = foo(x[k]); }\n            ret.push(']');\n            return true;\n        }\n        ret.push('{');\n        var flag = false;\n        for(k in x) { if(x.hasOwnProperty(k)) { if(flag) ret.push(',\\n'); flag = true; ret.push(k); ret.push(': \\n'); foo(x[k]); } }\n        ret.push('}');\n        return true;\n    }\n    foo(x);\n    return ret.join('');\n}\n\nnumeric.parseDate = function parseDate(d) {\n    function foo(d) {\n        if(typeof d === 'string') { return Date.parse(d.replace(/-/g,'/')); }\n        if(!(d instanceof Array)) { throw new Error(\"parseDate: parameter must be arrays of strings\"); }\n        var ret = [],k;\n        for(k=0;k<d.length;k++) { ret[k] = foo(d[k]); }\n        return ret;\n    }\n    return foo(d);\n}\n\nnumeric.parseFloat = function parseFloat_(d) {\n    function foo(d) {\n        if(typeof d === 'string') { return parseFloat(d); }\n        if(!(d instanceof Array)) { throw new Error(\"parseFloat: parameter must be arrays of strings\"); }\n        var ret = [],k;\n        for(k=0;k<d.length;k++) { ret[k] = foo(d[k]); }\n        return ret;\n    }\n    return foo(d);\n}\n\nnumeric.parseCSV = function parseCSV(t) {\n    var foo = t.split('\\n');\n    var j,k;\n    var ret = [];\n    var pat = /(([^'\",]*)|('[^']*')|(\"[^\"]*\")),/g;\n    var patnum = /^\\s*(([+-]?[0-9]+(\\.[0-9]*)?(e[+-]?[0-9]+)?)|([+-]?[0-9]*(\\.[0-9]+)?(e[+-]?[0-9]+)?))\\s*$/;\n    var stripper = function(n) { return n.substr(0,n.length-1); }\n    var count = 0;\n    for(k=0;k<foo.length;k++) {\n      var bar = (foo[k]+\",\").match(pat),baz;\n      if(bar.length>0) {\n          ret[count] = [];\n          for(j=0;j<bar.length;j++) {\n              baz = stripper(bar[j]);\n              if(patnum.test(baz)) { ret[count][j] = parseFloat(baz); }\n              else ret[count][j] = baz;\n          }\n          count++;\n      }\n    }\n    return ret;\n}\n\nnumeric.toCSV = function toCSV(A) {\n    var s = numeric.dim(A);\n    var i,j,m,n,row,ret;\n    m = s[0];\n    n = s[1];\n    ret = [];\n    for(i=0;i<m;i++) {\n        row = [];\n        for(j=0;j<m;j++) { row[j] = A[i][j].toString(); }\n        ret[i] = row.join(', ');\n    }\n    return ret.join('\\n')+'\\n';\n}\n\nnumeric.getURL = function getURL(url) {\n    var client = new XMLHttpRequest();\n    client.open(\"GET\",url,false);\n    client.send();\n    return client;\n}\n\nnumeric.imageURL = function imageURL(img) {\n    function base64(A) {\n        var n = A.length, i,x,y,z,p,q,r,s;\n        var key = \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=\";\n        var ret = \"\";\n        for(i=0;i<n;i+=3) {\n            x = A[i];\n            y = A[i+1];\n            z = A[i+2];\n            p = x >> 2;\n            q = ((x & 3) << 4) + (y >> 4);\n            r = ((y & 15) << 2) + (z >> 6);\n            s = z & 63;\n            if(i+1>=n) { r = s = 64; }\n            else if(i+2>=n) { s = 64; }\n            ret += key.charAt(p) + key.charAt(q) + key.charAt(r) + key.charAt(s);\n            }\n        return ret;\n    }\n    function crc32Array (a,from,to) {\n        if(typeof from === \"undefined\") { from = 0; }\n        if(typeof to === \"undefined\") { to = a.length; }\n        var table = [0x00000000, 0x77073096, 0xEE0E612C, 0x990951BA, 0x076DC419, 0x706AF48F, 0xE963A535, 0x9E6495A3,\n                     0x0EDB8832, 0x79DCB8A4, 0xE0D5E91E, 0x97D2D988, 0x09B64C2B, 0x7EB17CBD, 0xE7B82D07, 0x90BF1D91, \n                     0x1DB71064, 0x6AB020F2, 0xF3B97148, 0x84BE41DE, 0x1ADAD47D, 0x6DDDE4EB, 0xF4D4B551, 0x83D385C7,\n                     0x136C9856, 0x646BA8C0, 0xFD62F97A, 0x8A65C9EC, 0x14015C4F, 0x63066CD9, 0xFA0F3D63, 0x8D080DF5, \n                     0x3B6E20C8, 0x4C69105E, 0xD56041E4, 0xA2677172, 0x3C03E4D1, 0x4B04D447, 0xD20D85FD, 0xA50AB56B, \n                     0x35B5A8FA, 0x42B2986C, 0xDBBBC9D6, 0xACBCF940, 0x32D86CE3, 0x45DF5C75, 0xDCD60DCF, 0xABD13D59, \n                     0x26D930AC, 0x51DE003A, 0xC8D75180, 0xBFD06116, 0x21B4F4B5, 0x56B3C423, 0xCFBA9599, 0xB8BDA50F,\n                     0x2802B89E, 0x5F058808, 0xC60CD9B2, 0xB10BE924, 0x2F6F7C87, 0x58684C11, 0xC1611DAB, 0xB6662D3D,\n                     0x76DC4190, 0x01DB7106, 0x98D220BC, 0xEFD5102A, 0x71B18589, 0x06B6B51F, 0x9FBFE4A5, 0xE8B8D433,\n                     0x7807C9A2, 0x0F00F934, 0x9609A88E, 0xE10E9818, 0x7F6A0DBB, 0x086D3D2D, 0x91646C97, 0xE6635C01, \n                     0x6B6B51F4, 0x1C6C6162, 0x856530D8, 0xF262004E, 0x6C0695ED, 0x1B01A57B, 0x8208F4C1, 0xF50FC457, \n                     0x65B0D9C6, 0x12B7E950, 0x8BBEB8EA, 0xFCB9887C, 0x62DD1DDF, 0x15DA2D49, 0x8CD37CF3, 0xFBD44C65, \n                     0x4DB26158, 0x3AB551CE, 0xA3BC0074, 0xD4BB30E2, 0x4ADFA541, 0x3DD895D7, 0xA4D1C46D, 0xD3D6F4FB, \n                     0x4369E96A, 0x346ED9FC, 0xAD678846, 0xDA60B8D0, 0x44042D73, 0x33031DE5, 0xAA0A4C5F, 0xDD0D7CC9, \n                     0x5005713C, 0x270241AA, 0xBE0B1010, 0xC90C2086, 0x5768B525, 0x206F85B3, 0xB966D409, 0xCE61E49F, \n                     0x5EDEF90E, 0x29D9C998, 0xB0D09822, 0xC7D7A8B4, 0x59B33D17, 0x2EB40D81, 0xB7BD5C3B, 0xC0BA6CAD, \n                     0xEDB88320, 0x9ABFB3B6, 0x03B6E20C, 0x74B1D29A, 0xEAD54739, 0x9DD277AF, 0x04DB2615, 0x73DC1683, \n                     0xE3630B12, 0x94643B84, 0x0D6D6A3E, 0x7A6A5AA8, 0xE40ECF0B, 0x9309FF9D, 0x0A00AE27, 0x7D079EB1, \n                     0xF00F9344, 0x8708A3D2, 0x1E01F268, 0x6906C2FE, 0xF762575D, 0x806567CB, 0x196C3671, 0x6E6B06E7, \n                     0xFED41B76, 0x89D32BE0, 0x10DA7A5A, 0x67DD4ACC, 0xF9B9DF6F, 0x8EBEEFF9, 0x17B7BE43, 0x60B08ED5, \n                     0xD6D6A3E8, 0xA1D1937E, 0x38D8C2C4, 0x4FDFF252, 0xD1BB67F1, 0xA6BC5767, 0x3FB506DD, 0x48B2364B, \n                     0xD80D2BDA, 0xAF0A1B4C, 0x36034AF6, 0x41047A60, 0xDF60EFC3, 0xA867DF55, 0x316E8EEF, 0x4669BE79, \n                     0xCB61B38C, 0xBC66831A, 0x256FD2A0, 0x5268E236, 0xCC0C7795, 0xBB0B4703, 0x220216B9, 0x5505262F, \n                     0xC5BA3BBE, 0xB2BD0B28, 0x2BB45A92, 0x5CB36A04, 0xC2D7FFA7, 0xB5D0CF31, 0x2CD99E8B, 0x5BDEAE1D, \n                     0x9B64C2B0, 0xEC63F226, 0x756AA39C, 0x026D930A, 0x9C0906A9, 0xEB0E363F, 0x72076785, 0x05005713, \n                     0x95BF4A82, 0xE2B87A14, 0x7BB12BAE, 0x0CB61B38, 0x92D28E9B, 0xE5D5BE0D, 0x7CDCEFB7, 0x0BDBDF21, \n                     0x86D3D2D4, 0xF1D4E242, 0x68DDB3F8, 0x1FDA836E, 0x81BE16CD, 0xF6B9265B, 0x6FB077E1, 0x18B74777, \n                     0x88085AE6, 0xFF0F6A70, 0x66063BCA, 0x11010B5C, 0x8F659EFF, 0xF862AE69, 0x616BFFD3, 0x166CCF45, \n                     0xA00AE278, 0xD70DD2EE, 0x4E048354, 0x3903B3C2, 0xA7672661, 0xD06016F7, 0x4969474D, 0x3E6E77DB, \n                     0xAED16A4A, 0xD9D65ADC, 0x40DF0B66, 0x37D83BF0, 0xA9BCAE53, 0xDEBB9EC5, 0x47B2CF7F, 0x30B5FFE9, \n                     0xBDBDF21C, 0xCABAC28A, 0x53B39330, 0x24B4A3A6, 0xBAD03605, 0xCDD70693, 0x54DE5729, 0x23D967BF, \n                     0xB3667A2E, 0xC4614AB8, 0x5D681B02, 0x2A6F2B94, 0xB40BBE37, 0xC30C8EA1, 0x5A05DF1B, 0x2D02EF8D];\n     \n        var crc = -1, y = 0, n = a.length,i;\n\n        for (i = from; i < to; i++) {\n            y = (crc ^ a[i]) & 0xFF;\n            crc = (crc >>> 8) ^ table[y];\n        }\n     \n        return crc ^ (-1);\n    }\n\n    var h = img[0].length, w = img[0][0].length, s1, s2, next,k,length,a,b,i,j,adler32,crc32;\n    var stream = [\n                  137, 80, 78, 71, 13, 10, 26, 10,                           //  0: PNG signature\n                  0,0,0,13,                                                  //  8: IHDR Chunk length\n                  73, 72, 68, 82,                                            // 12: \"IHDR\" \n                  (w >> 24) & 255, (w >> 16) & 255, (w >> 8) & 255, w&255,   // 16: Width\n                  (h >> 24) & 255, (h >> 16) & 255, (h >> 8) & 255, h&255,   // 20: Height\n                  8,                                                         // 24: bit depth\n                  2,                                                         // 25: RGB\n                  0,                                                         // 26: deflate\n                  0,                                                         // 27: no filter\n                  0,                                                         // 28: no interlace\n                  -1,-2,-3,-4,                                               // 29: CRC\n                  -5,-6,-7,-8,                                               // 33: IDAT Chunk length\n                  73, 68, 65, 84,                                            // 37: \"IDAT\"\n                  // RFC 1950 header starts here\n                  8,                                                         // 41: RFC1950 CMF\n                  29                                                         // 42: RFC1950 FLG\n                  ];\n    crc32 = crc32Array(stream,12,29);\n    stream[29] = (crc32>>24)&255;\n    stream[30] = (crc32>>16)&255;\n    stream[31] = (crc32>>8)&255;\n    stream[32] = (crc32)&255;\n    s1 = 1;\n    s2 = 0;\n    for(i=0;i<h;i++) {\n        if(i<h-1) { stream.push(0); }\n        else { stream.push(1); }\n        a = (3*w+1+(i===0))&255; b = ((3*w+1+(i===0))>>8)&255;\n        stream.push(a); stream.push(b);\n        stream.push((~a)&255); stream.push((~b)&255);\n        if(i===0) stream.push(0);\n        for(j=0;j<w;j++) {\n            for(k=0;k<3;k++) {\n                a = img[k][i][j];\n                if(a>255) a = 255;\n                else if(a<0) a=0;\n                else a = Math.round(a);\n                s1 = (s1 + a )%65521;\n                s2 = (s2 + s1)%65521;\n                stream.push(a);\n            }\n        }\n        stream.push(0);\n    }\n    adler32 = (s2<<16)+s1;\n    stream.push((adler32>>24)&255);\n    stream.push((adler32>>16)&255);\n    stream.push((adler32>>8)&255);\n    stream.push((adler32)&255);\n    length = stream.length - 41;\n    stream[33] = (length>>24)&255;\n    stream[34] = (length>>16)&255;\n    stream[35] = (length>>8)&255;\n    stream[36] = (length)&255;\n    crc32 = crc32Array(stream,37);\n    stream.push((crc32>>24)&255);\n    stream.push((crc32>>16)&255);\n    stream.push((crc32>>8)&255);\n    stream.push((crc32)&255);\n    stream.push(0);\n    stream.push(0);\n    stream.push(0);\n    stream.push(0);\n//    a = stream.length;\n    stream.push(73);  // I\n    stream.push(69);  // E\n    stream.push(78);  // N\n    stream.push(68);  // D\n    stream.push(174); // CRC1\n    stream.push(66);  // CRC2\n    stream.push(96);  // CRC3\n    stream.push(130); // CRC4\n    return 'data:image/png;base64,'+base64(stream);\n}\n\n// 2. Linear algebra with Arrays.\nnumeric._dim = function _dim(x) {\n    var ret = [];\n    while(typeof x === \"object\") { ret.push(x.length); x = x[0]; }\n    return ret;\n}\n\nnumeric.dim = function dim(x) {\n    var y,z;\n    if(typeof x === \"object\") {\n        y = x[0];\n        if(typeof y === \"object\") {\n            z = y[0];\n            if(typeof z === \"object\") {\n                return numeric._dim(x);\n            }\n            return [x.length,y.length];\n        }\n        return [x.length];\n    }\n    return [];\n}\n\nnumeric.mapreduce = function mapreduce(body,init) {\n    return Function('x','accum','_s','_k',\n            'if(typeof accum === \"undefined\") accum = '+init+';\\n'+\n            'if(typeof x === \"number\") { var xi = x; '+body+'; return accum; }\\n'+\n            'if(typeof _s === \"undefined\") _s = numeric.dim(x);\\n'+\n            'if(typeof _k === \"undefined\") _k = 0;\\n'+\n            'var _n = _s[_k];\\n'+\n            'var i,xi;\\n'+\n            'if(_k < _s.length-1) {\\n'+\n            '    for(i=_n-1;i>=0;i--) {\\n'+\n            '        accum = arguments.callee(x[i],accum,_s,_k+1);\\n'+\n            '    }'+\n            '    return accum;\\n'+\n            '}\\n'+\n            'for(i=_n-1;i>=1;i-=2) { \\n'+\n            '    xi = x[i];\\n'+\n            '    '+body+';\\n'+\n            '    xi = x[i-1];\\n'+\n            '    '+body+';\\n'+\n            '}\\n'+\n            'if(i === 0) {\\n'+\n            '    xi = x[i];\\n'+\n            '    '+body+'\\n'+\n            '}\\n'+\n            'return accum;'\n            );\n}\nnumeric.mapreduce2 = function mapreduce2(body,setup) {\n    return Function('x',\n            'var n = x.length;\\n'+\n            'var i,xi;\\n'+setup+';\\n'+\n            'for(i=n-1;i!==-1;--i) { \\n'+\n            '    xi = x[i];\\n'+\n            '    '+body+';\\n'+\n            '}\\n'+\n            'return accum;'\n            );\n}\n\n\nnumeric.same = function same(x,y) {\n    var i,n;\n    if(!(x instanceof Array) || !(y instanceof Array)) { return false; }\n    n = x.length;\n    if(n !== y.length) { return false; }\n    for(i=0;i<n;i++) {\n        if(x[i] === y[i]) { continue; }\n        if(typeof x[i] === \"object\") { if(!same(x[i],y[i])) return false; }\n        else { return false; }\n    }\n    return true;\n}\n\nnumeric.rep = function rep(s,v,k) {\n    if(typeof k === \"undefined\") { k=0; }\n    var n = s[k], ret = Array(n), i;\n    if(k === s.length-1) {\n        for(i=n-2;i>=0;i-=2) { ret[i+1] = v; ret[i] = v; }\n        if(i===-1) { ret[0] = v; }\n        return ret;\n    }\n    for(i=n-1;i>=0;i--) { ret[i] = numeric.rep(s,v,k+1); }\n    return ret;\n}\n\n\nnumeric.dotMMsmall = function dotMMsmall(x,y) {\n    var i,j,k,p,q,r,ret,foo,bar,woo,i0,k0,p0,r0;\n    p = x.length; q = y.length; r = y[0].length;\n    ret = Array(p);\n    for(i=p-1;i>=0;i--) {\n        foo = Array(r);\n        bar = x[i];\n        for(k=r-1;k>=0;k--) {\n            woo = bar[q-1]*y[q-1][k];\n            for(j=q-2;j>=1;j-=2) {\n                i0 = j-1;\n                woo += bar[j]*y[j][k] + bar[i0]*y[i0][k];\n            }\n            if(j===0) { woo += bar[0]*y[0][k]; }\n            foo[k] = woo;\n        }\n        ret[i] = foo;\n    }\n    return ret;\n}\nnumeric._getCol = function _getCol(A,j,x) {\n    var n = A.length, i;\n    for(i=n-1;i>0;--i) {\n        x[i] = A[i][j];\n        --i;\n        x[i] = A[i][j];\n    }\n    if(i===0) x[0] = A[0][j];\n}\nnumeric.dotMMbig = function dotMMbig(x,y){\n    var gc = numeric._getCol, p = y.length, v = Array(p);\n    var m = x.length, n = y[0].length, A = new Array(m), xj;\n    var VV = numeric.dotVV;\n    var i,j,k,z;\n    --p;\n    --m;\n    for(i=m;i!==-1;--i) A[i] = Array(n);\n    --n;\n    for(i=n;i!==-1;--i) {\n        gc(y,i,v);\n        for(j=m;j!==-1;--j) {\n            z=0;\n            xj = x[j];\n            A[j][i] = VV(xj,v);\n        }\n    }\n    return A;\n}\n\nnumeric.dotMV = function dotMV(x,y) {\n    var p = x.length, q = y.length,i;\n    var ret = Array(p), dotVV = numeric.dotVV;\n    for(i=p-1;i>=0;i--) { ret[i] = dotVV(x[i],y); }\n    return ret;\n}\n\nnumeric.dotVM = function dotVM(x,y) {\n    var i,j,k,p,q,r,ret,foo,bar,woo,i0,k0,p0,r0,s1,s2,s3,baz,accum;\n    p = x.length; q = y[0].length;\n    ret = Array(q);\n    for(k=q-1;k>=0;k--) {\n        woo = x[p-1]*y[p-1][k];\n        for(j=p-2;j>=1;j-=2) {\n            i0 = j-1;\n            woo += x[j]*y[j][k] + x[i0]*y[i0][k];\n        }\n        if(j===0) { woo += x[0]*y[0][k]; }\n        ret[k] = woo;\n    }\n    return ret;\n}\n\nnumeric.dotVV = function dotVV(x,y) {\n    var i,n=x.length,i1,ret = x[n-1]*y[n-1];\n    for(i=n-2;i>=1;i-=2) {\n        i1 = i-1;\n        ret += x[i]*y[i] + x[i1]*y[i1];\n    }\n    if(i===0) { ret += x[0]*y[0]; }\n    return ret;\n}\n\nnumeric.dot = function dot(x,y) {\n    var d = numeric.dim;\n    switch(d(x).length*1000+d(y).length) {\n    case 2002:\n        if(y.length < 10) return numeric.dotMMsmall(x,y);\n        else return numeric.dotMMbig(x,y);\n    case 2001: return numeric.dotMV(x,y);\n    case 1002: return numeric.dotVM(x,y);\n    case 1001: return numeric.dotVV(x,y);\n    case 1000: return numeric.mulVS(x,y);\n    case 1: return numeric.mulSV(x,y);\n    case 0: return x*y;\n    default: throw new Error('numeric.dot only works on vectors and matrices');\n    }\n}\n\nnumeric.diag = function diag(d) {\n    var i,i1,j,n = d.length, A = Array(n), Ai;\n    for(i=n-1;i>=0;i--) {\n        Ai = Array(n);\n        i1 = i+2;\n        for(j=n-1;j>=i1;j-=2) {\n            Ai[j] = 0;\n            Ai[j-1] = 0;\n        }\n        if(j>i) { Ai[j] = 0; }\n        Ai[i] = d[i];\n        for(j=i-1;j>=1;j-=2) {\n            Ai[j] = 0;\n            Ai[j-1] = 0;\n        }\n        if(j===0) { Ai[0] = 0; }\n        A[i] = Ai;\n    }\n    return A;\n}\nnumeric.getDiag = function(A) {\n    var n = Math.min(A.length,A[0].length),i,ret = Array(n);\n    for(i=n-1;i>=1;--i) {\n        ret[i] = A[i][i];\n        --i;\n        ret[i] = A[i][i];\n    }\n    if(i===0) {\n        ret[0] = A[0][0];\n    }\n    return ret;\n}\n\nnumeric.identity = function identity(n) { return numeric.diag(numeric.rep([n],1)); }\nnumeric.pointwise = function pointwise(params,body,setup) {\n    if(typeof setup === \"undefined\") { setup = \"\"; }\n    var fun = [];\n    var k;\n    var avec = /\\[i\\]$/,p,thevec = '';\n    var haveret = false;\n    for(k=0;k<params.length;k++) {\n        if(avec.test(params[k])) {\n            p = params[k].substring(0,params[k].length-3);\n            thevec = p;\n        } else { p = params[k]; }\n        if(p==='ret') haveret = true;\n        fun.push(p);\n    }\n    fun[params.length] = '_s';\n    fun[params.length+1] = '_k';\n    fun[params.length+2] = (\n            'if(typeof _s === \"undefined\") _s = numeric.dim('+thevec+');\\n'+\n            'if(typeof _k === \"undefined\") _k = 0;\\n'+\n            'var _n = _s[_k];\\n'+\n            'var i'+(haveret?'':', ret = Array(_n)')+';\\n'+\n            'if(_k < _s.length-1) {\\n'+\n            '    for(i=_n-1;i>=0;i--) ret[i] = arguments.callee('+params.join(',')+',_s,_k+1);\\n'+\n            '    return ret;\\n'+\n            '}\\n'+\n            setup+'\\n'+\n            'for(i=_n-1;i!==-1;--i) {\\n'+\n            '    '+body+'\\n'+\n            '}\\n'+\n            'return ret;'\n            );\n    return Function.apply(null,fun);\n}\nnumeric.pointwise2 = function pointwise2(params,body,setup) {\n    if(typeof setup === \"undefined\") { setup = \"\"; }\n    var fun = [];\n    var k;\n    var avec = /\\[i\\]$/,p,thevec = '';\n    var haveret = false;\n    for(k=0;k<params.length;k++) {\n        if(avec.test(params[k])) {\n            p = params[k].substring(0,params[k].length-3);\n            thevec = p;\n        } else { p = params[k]; }\n        if(p==='ret') haveret = true;\n        fun.push(p);\n    }\n    fun[params.length] = (\n            'var _n = '+thevec+'.length;\\n'+\n            'var i'+(haveret?'':', ret = Array(_n)')+';\\n'+\n            setup+'\\n'+\n            'for(i=_n-1;i!==-1;--i) {\\n'+\n            body+'\\n'+\n            '}\\n'+\n            'return ret;'\n            );\n    return Function.apply(null,fun);\n}\nnumeric._biforeach = (function _biforeach(x,y,s,k,f) {\n    if(k === s.length-1) { f(x,y); return; }\n    var i,n=s[k];\n    for(i=n-1;i>=0;i--) { _biforeach(typeof x===\"object\"?x[i]:x,typeof y===\"object\"?y[i]:y,s,k+1,f); }\n});\nnumeric._biforeach2 = (function _biforeach2(x,y,s,k,f) {\n    if(k === s.length-1) { return f(x,y); }\n    var i,n=s[k],ret = Array(n);\n    for(i=n-1;i>=0;--i) { ret[i] = _biforeach2(typeof x===\"object\"?x[i]:x,typeof y===\"object\"?y[i]:y,s,k+1,f); }\n    return ret;\n});\nnumeric._foreach = (function _foreach(x,s,k,f) {\n    if(k === s.length-1) { f(x); return; }\n    var i,n=s[k];\n    for(i=n-1;i>=0;i--) { _foreach(x[i],s,k+1,f); }\n});\nnumeric._foreach2 = (function _foreach2(x,s,k,f) {\n    if(k === s.length-1) { return f(x); }\n    var i,n=s[k], ret = Array(n);\n    for(i=n-1;i>=0;i--) { ret[i] = _foreach2(x[i],s,k+1,f); }\n    return ret;\n});\n\n/*numeric.anyV = numeric.mapreduce('if(xi) return true;','false');\nnumeric.allV = numeric.mapreduce('if(!xi) return false;','true');\nnumeric.any = function(x) { if(typeof x.length === \"undefined\") return x; return numeric.anyV(x); }\nnumeric.all = function(x) { if(typeof x.length === \"undefined\") return x; return numeric.allV(x); }*/\n\nnumeric.ops2 = {\n        add: '+',\n        sub: '-',\n        mul: '*',\n        div: '/',\n        mod: '%',\n        and: '&&',\n        or:  '||',\n        eq:  '===',\n        neq: '!==',\n        lt:  '<',\n        gt:  '>',\n        leq: '<=',\n        geq: '>=',\n        band: '&',\n        bor: '|',\n        bxor: '^',\n        lshift: '<<',\n        rshift: '>>',\n        rrshift: '>>>'\n};\nnumeric.opseq = {\n        addeq: '+=',\n        subeq: '-=',\n        muleq: '*=',\n        diveq: '/=',\n        modeq: '%=',\n        lshifteq: '<<=',\n        rshifteq: '>>=',\n        rrshifteq: '>>>=',\n        bandeq: '&=',\n        boreq: '|=',\n        bxoreq: '^='\n};\nnumeric.mathfuns = ['abs','acos','asin','atan','ceil','cos',\n                    'exp','floor','log','round','sin','sqrt','tan',\n                    'isNaN','isFinite'];\nnumeric.mathfuns2 = ['atan2','pow','max','min'];\nnumeric.ops1 = {\n        neg: '-',\n        not: '!',\n        bnot: '~',\n        clone: ''\n};\nnumeric.mapreducers = {\n        any: ['if(xi) return true;','var accum = false;'],\n        all: ['if(!xi) return false;','var accum = true;'],\n        sum: ['accum += xi;','var accum = 0;'],\n        prod: ['accum *= xi;','var accum = 1;'],\n        norm2Squared: ['accum += xi*xi;','var accum = 0;'],\n        norminf: ['accum = max(accum,abs(xi));','var accum = 0, max = Math.max, abs = Math.abs;'],\n        norm1: ['accum += abs(xi)','var accum = 0, abs = Math.abs;'],\n        sup: ['accum = max(accum,xi);','var accum = -Infinity, max = Math.max;'],\n        inf: ['accum = min(accum,xi);','var accum = Infinity, min = Math.min;']\n};\n\n(function () {\n    var i,o;\n    for(i=0;i<numeric.mathfuns2.length;++i) {\n        o = numeric.mathfuns2[i];\n        numeric.ops2[o] = o;\n    }\n    for(i in numeric.ops2) {\n        if(numeric.ops2.hasOwnProperty(i)) {\n            o = numeric.ops2[i];\n            var code, codeeq, setup = '';\n            if(numeric.myIndexOf.call(numeric.mathfuns2,i)!==-1) {\n                setup = 'var '+o+' = Math.'+o+';\\n';\n                code = function(r,x,y) { return r+' = '+o+'('+x+','+y+')'; };\n                codeeq = function(x,y) { return x+' = '+o+'('+x+','+y+')'; };\n            } else {\n                code = function(r,x,y) { return r+' = '+x+' '+o+' '+y; };\n                if(numeric.opseq.hasOwnProperty(i+'eq')) {\n                    codeeq = function(x,y) { return x+' '+o+'= '+y; };\n                } else {\n                    codeeq = function(x,y) { return x+' = '+x+' '+o+' '+y; };                    \n                }\n            }\n            numeric[i+'VV'] = numeric.pointwise2(['x[i]','y[i]'],code('ret[i]','x[i]','y[i]'),setup);\n            numeric[i+'SV'] = numeric.pointwise2(['x','y[i]'],code('ret[i]','x','y[i]'),setup);\n            numeric[i+'VS'] = numeric.pointwise2(['x[i]','y'],code('ret[i]','x[i]','y'),setup);\n            numeric[i] = Function(\n                    'var n = arguments.length, i, x = arguments[0], y;\\n'+\n                    'var VV = numeric.'+i+'VV, VS = numeric.'+i+'VS, SV = numeric.'+i+'SV;\\n'+\n                    'var dim = numeric.dim;\\n'+\n                    'for(i=1;i!==n;++i) { \\n'+\n                    '  y = arguments[i];\\n'+\n                    '  if(typeof x === \"object\") {\\n'+\n                    '      if(typeof y === \"object\") x = numeric._biforeach2(x,y,dim(x),0,VV);\\n'+\n                    '      else x = numeric._biforeach2(x,y,dim(x),0,VS);\\n'+\n                    '  } else if(typeof y === \"object\") x = numeric._biforeach2(x,y,dim(y),0,SV);\\n'+\n                    '  else '+codeeq('x','y')+'\\n'+\n                    '}\\nreturn x;\\n');\n            numeric[o] = numeric[i];\n            numeric[i+'eqV'] = numeric.pointwise2(['ret[i]','x[i]'], codeeq('ret[i]','x[i]'),setup);\n            numeric[i+'eqS'] = numeric.pointwise2(['ret[i]','x'], codeeq('ret[i]','x'),setup);\n            numeric[i+'eq'] = Function(\n                    'var n = arguments.length, i, x = arguments[0], y;\\n'+\n                    'var V = numeric.'+i+'eqV, S = numeric.'+i+'eqS\\n'+\n                    'var s = numeric.dim(x);\\n'+\n                    'for(i=1;i!==n;++i) { \\n'+\n                    '  y = arguments[i];\\n'+\n                    '  if(typeof y === \"object\") numeric._biforeach(x,y,s,0,V);\\n'+\n                    '  else numeric._biforeach(x,y,s,0,S);\\n'+\n                    '}\\nreturn x;\\n');\n        }\n    }\n    for(i=0;i<numeric.mathfuns2.length;++i) {\n        o = numeric.mathfuns2[i];\n        delete numeric.ops2[o];\n    }\n    for(i=0;i<numeric.mathfuns.length;++i) {\n        o = numeric.mathfuns[i];\n        numeric.ops1[o] = o;\n    }\n    for(i in numeric.ops1) {\n        if(numeric.ops1.hasOwnProperty(i)) {\n            setup = '';\n            o = numeric.ops1[i];\n            if(numeric.myIndexOf.call(numeric.mathfuns,i)!==-1) {\n                if(Math.hasOwnProperty(o)) setup = 'var '+o+' = Math.'+o+';\\n';\n            }\n            numeric[i+'eqV'] = numeric.pointwise2(['ret[i]'],'ret[i] = '+o+'(ret[i]);',setup);\n            numeric[i+'eq'] = Function('x',\n                    'if(typeof x !== \"object\") return '+o+'x\\n'+\n                    'var i;\\n'+\n                    'var V = numeric.'+i+'eqV;\\n'+\n                    'var s = numeric.dim(x);\\n'+\n                    'numeric._foreach(x,s,0,V);\\n'+\n                    'return x;\\n');\n            numeric[i+'V'] = numeric.pointwise2(['x[i]'],'ret[i] = '+o+'(x[i]);',setup);\n            numeric[i] = Function('x',\n                    'if(typeof x !== \"object\") return '+o+'(x)\\n'+\n                    'var i;\\n'+\n                    'var V = numeric.'+i+'V;\\n'+\n                    'var s = numeric.dim(x);\\n'+\n                    'return numeric._foreach2(x,s,0,V);\\n');\n        }\n    }\n    for(i=0;i<numeric.mathfuns.length;++i) {\n        o = numeric.mathfuns[i];\n        delete numeric.ops1[o];\n    }\n    for(i in numeric.mapreducers) {\n        if(numeric.mapreducers.hasOwnProperty(i)) {\n            o = numeric.mapreducers[i];\n            numeric[i+'V'] = numeric.mapreduce2(o[0],o[1]);\n            numeric[i] = Function('x','s','k',\n                    o[1]+\n                    'if(typeof x !== \"object\") {'+\n                    '    xi = x;\\n'+\n                    o[0]+';\\n'+\n                    '    return accum;\\n'+\n                    '}'+\n                    'if(typeof s === \"undefined\") s = numeric.dim(x);\\n'+\n                    'if(typeof k === \"undefined\") k = 0;\\n'+\n                    'if(k === s.length-1) return numeric.'+i+'V(x);\\n'+\n                    'var xi;\\n'+\n                    'var n = x.length, i;\\n'+\n                    'for(i=n-1;i!==-1;--i) {\\n'+\n                    '   xi = arguments.callee(x[i]);\\n'+\n                    o[0]+';\\n'+\n                    '}\\n'+\n                    'return accum;\\n');\n        }\n    }\n}());\n\nnumeric.truncVV = numeric.pointwise(['x[i]','y[i]'],'ret[i] = round(x[i]/y[i])*y[i];','var round = Math.round;');\nnumeric.truncVS = numeric.pointwise(['x[i]','y'],'ret[i] = round(x[i]/y)*y;','var round = Math.round;');\nnumeric.truncSV = numeric.pointwise(['x','y[i]'],'ret[i] = round(x/y[i])*y[i];','var round = Math.round;');\nnumeric.trunc = function trunc(x,y) {\n    if(typeof x === \"object\") {\n        if(typeof y === \"object\") return numeric.truncVV(x,y);\n        return numeric.truncVS(x,y);\n    }\n    if (typeof y === \"object\") return numeric.truncSV(x,y);\n    return Math.round(x/y)*y;\n}\n\nnumeric.inv = function inv(x) {\n    var s = numeric.dim(x), abs = Math.abs, m = s[0], n = s[1];\n    var A = numeric.clone(x), Ai, Aj;\n    var I = numeric.identity(m), Ii, Ij;\n    var i,j,k,x;\n    for(j=0;j<n;++j) {\n        var i0 = -1;\n        var v0 = -1;\n        for(i=j;i!==m;++i) { k = abs(A[i][j]); if(k>v0) { i0 = i; v0 = k; } }\n        Aj = A[i0]; A[i0] = A[j]; A[j] = Aj;\n        Ij = I[i0]; I[i0] = I[j]; I[j] = Ij;\n        x = Aj[j];\n        for(k=j;k!==n;++k)    Aj[k] /= x; \n        for(k=n-1;k!==-1;--k) Ij[k] /= x;\n        for(i=m-1;i!==-1;--i) {\n            if(i!==j) {\n                Ai = A[i];\n                Ii = I[i];\n                x = Ai[j];\n                for(k=j+1;k!==n;++k)  Ai[k] -= Aj[k]*x;\n                for(k=n-1;k>0;--k) { Ii[k] -= Ij[k]*x; --k; Ii[k] -= Ij[k]*x; }\n                if(k===0) Ii[0] -= Ij[0]*x;\n            }\n        }\n    }\n    return I;\n}\n\nnumeric.det = function det(x) {\n    var s = numeric.dim(x);\n    if(s.length !== 2 || s[0] !== s[1]) { throw new Error('numeric: det() only works on square matrices'); }\n    var n = s[0], ret = 1,i,j,k,A = numeric.clone(x),Aj,Ai,alpha,temp,k1,k2,k3;\n    for(j=0;j<n-1;j++) {\n        k=j;\n        for(i=j+1;i<n;i++) { if(Math.abs(A[i][j]) > Math.abs(A[k][j])) { k = i; } }\n        if(k !== j) {\n            temp = A[k]; A[k] = A[j]; A[j] = temp;\n            ret *= -1;\n        }\n        Aj = A[j];\n        for(i=j+1;i<n;i++) {\n            Ai = A[i];\n            alpha = Ai[j]/Aj[j];\n            for(k=j+1;k<n-1;k+=2) {\n                k1 = k+1;\n                Ai[k] -= Aj[k]*alpha;\n                Ai[k1] -= Aj[k1]*alpha;\n            }\n            if(k!==n) { Ai[k] -= Aj[k]*alpha; }\n        }\n        if(Aj[j] === 0) { return 0; }\n        ret *= Aj[j];\n    }\n    return ret*A[j][j];\n}\n\nnumeric.transpose = function transpose(x) {\n    var i,j,m = x.length,n = x[0].length, ret=Array(n),A0,A1,Bj;\n    for(j=0;j<n;j++) ret[j] = Array(m);\n    for(i=m-1;i>=1;i-=2) {\n        A1 = x[i];\n        A0 = x[i-1];\n        for(j=n-1;j>=1;--j) {\n            Bj = ret[j]; Bj[i] = A1[j]; Bj[i-1] = A0[j];\n            --j;\n            Bj = ret[j]; Bj[i] = A1[j]; Bj[i-1] = A0[j];\n        }\n        if(j===0) {\n            Bj = ret[0]; Bj[i] = A1[0]; Bj[i-1] = A0[0];\n        }\n    }\n    if(i===0) {\n        A0 = x[0];\n        for(j=n-1;j>=1;--j) {\n            ret[j][0] = A0[j];\n            --j;\n            ret[j][0] = A0[j];\n        }\n        if(j===0) { ret[0][0] = A0[0]; }\n    }\n    return ret;\n}\nnumeric.negtranspose = function negtranspose(x) {\n    var i,j,m = x.length,n = x[0].length, ret=Array(n),A0,A1,Bj;\n    for(j=0;j<n;j++) ret[j] = Array(m);\n    for(i=m-1;i>=1;i-=2) {\n        A1 = x[i];\n        A0 = x[i-1];\n        for(j=n-1;j>=1;--j) {\n            Bj = ret[j]; Bj[i] = -A1[j]; Bj[i-1] = -A0[j];\n            --j;\n            Bj = ret[j]; Bj[i] = -A1[j]; Bj[i-1] = -A0[j];\n        }\n        if(j===0) {\n            Bj = ret[0]; Bj[i] = -A1[0]; Bj[i-1] = -A0[0];\n        }\n    }\n    if(i===0) {\n        A0 = x[0];\n        for(j=n-1;j>=1;--j) {\n            ret[j][0] = -A0[j];\n            --j;\n            ret[j][0] = -A0[j];\n        }\n        if(j===0) { ret[0][0] = -A0[0]; }\n    }\n    return ret;\n}\n\nnumeric._random = function _random(s,k) {\n    var i,n=s[k],ret=Array(n), rnd;\n    if(k === s.length-1) {\n        rnd = Math.random;\n        for(i=n-1;i>=1;i-=2) {\n            ret[i] = rnd();\n            ret[i-1] = rnd();\n        }\n        if(i===0) { ret[0] = rnd(); }\n        return ret;\n    }\n    for(i=n-1;i>=0;i--) ret[i] = _random(s,k+1);\n    return ret;\n}\nnumeric.random = function random(s) { return numeric._random(s,0); }\n\nnumeric.norm2 = function norm2(x) { return Math.sqrt(numeric.norm2Squared(x)); }\n\nnumeric.linspace = function linspace(a,b,n) {\n    if(typeof n === \"undefined\") n = Math.max(Math.round(b-a)+1,1);\n    if(n<2) { return n===1?[a]:[]; }\n    var i,ret = Array(n);\n    n--;\n    for(i=n;i>=0;i--) { ret[i] = (i*b+(n-i)*a)/n; }\n    return ret;\n}\n\nnumeric.getBlock = function getBlock(x,from,to) {\n    var s = numeric.dim(x);\n    function foo(x,k) {\n        var i,a = from[k], n = to[k]-a, ret = Array(n);\n        if(k === s.length-1) {\n            for(i=n;i>=0;i--) { ret[i] = x[i+a]; }\n            return ret;\n        }\n        for(i=n;i>=0;i--) { ret[i] = foo(x[i+a],k+1); }\n        return ret;\n    }\n    return foo(x,0);\n}\n\nnumeric.setBlock = function setBlock(x,from,to,B) {\n    var s = numeric.dim(x);\n    function foo(x,y,k) {\n        var i,a = from[k], n = to[k]-a;\n        if(k === s.length-1) { for(i=n;i>=0;i--) { x[i+a] = y[i]; } }\n        for(i=n;i>=0;i--) { foo(x[i+a],y[i],k+1); }\n    }\n    foo(x,B,0);\n    return x;\n}\n\nnumeric.getRange = function getRange(A,I,J) {\n    var m = I.length, n = J.length;\n    var i,j;\n    var B = Array(m), Bi, AI;\n    for(i=m-1;i!==-1;--i) {\n        B[i] = Array(n);\n        Bi = B[i];\n        AI = A[I[i]];\n        for(j=n-1;j!==-1;--j) Bi[j] = AI[J[j]];\n    }\n    return B;\n}\n\nnumeric.blockMatrix = function blockMatrix(X) {\n    var s = numeric.dim(X);\n    if(s.length<4) return numeric.blockMatrix([X]);\n    var m=s[0],n=s[1],M,N,i,j,Xij;\n    M = 0; N = 0;\n    for(i=0;i<m;++i) M+=X[i][0].length;\n    for(j=0;j<n;++j) N+=X[0][j][0].length;\n    var Z = Array(M);\n    for(i=0;i<M;++i) Z[i] = Array(N);\n    var I=0,J,ZI,k,l,Xijk;\n    for(i=0;i<m;++i) {\n        J=N;\n        for(j=n-1;j!==-1;--j) {\n            Xij = X[i][j];\n            J -= Xij[0].length;\n            for(k=Xij.length-1;k!==-1;--k) {\n                Xijk = Xij[k];\n                ZI = Z[I+k];\n                for(l = Xijk.length-1;l!==-1;--l) ZI[J+l] = Xijk[l];\n            }\n        }\n        I += X[i][0].length;\n    }\n    return Z;\n}\n\nnumeric.tensor = function tensor(x,y) {\n    if(typeof x === \"number\" || typeof y === \"number\") return numeric.mul(x,y);\n    var s1 = numeric.dim(x), s2 = numeric.dim(y);\n    if(s1.length !== 1 || s2.length !== 1) {\n        throw new Error('numeric: tensor product is only defined for vectors');\n    }\n    var m = s1[0], n = s2[0], A = Array(m), Ai, i,j,xi;\n    for(i=m-1;i>=0;i--) {\n        Ai = Array(n);\n        xi = x[i];\n        for(j=n-1;j>=3;--j) {\n            Ai[j] = xi * y[j];\n            --j;\n            Ai[j] = xi * y[j];\n            --j;\n            Ai[j] = xi * y[j];\n            --j;\n            Ai[j] = xi * y[j];\n        }\n        while(j>=0) { Ai[j] = xi * y[j]; --j; }\n        A[i] = Ai;\n    }\n    return A;\n}\n\n// 3. The Tensor type T\nnumeric.T = function T(x,y) { this.x = x; this.y = y; }\nnumeric.t = function t(x,y) { return new numeric.T(x,y); }\n\nnumeric.Tbinop = function Tbinop(rr,rc,cr,cc,setup) {\n    var io = numeric.indexOf;\n    if(typeof setup !== \"string\") {\n        var k;\n        setup = '';\n        for(k in numeric) {\n            if(numeric.hasOwnProperty(k) && (rr.indexOf(k)>=0 || rc.indexOf(k)>=0 || cr.indexOf(k)>=0 || cc.indexOf(k)>=0) && k.length>1) {\n                setup += 'var '+k+' = numeric.'+k+';\\n';\n            }\n        }\n    }\n    return Function(['y'],\n            'var x = this;\\n'+\n            'if(!(y instanceof numeric.T)) { y = new numeric.T(y); }\\n'+\n            setup+'\\n'+\n            'if(x.y) {'+\n            '  if(y.y) {'+\n            '    return new numeric.T('+cc+');\\n'+\n            '  }\\n'+\n            '  return new numeric.T('+cr+');\\n'+\n            '}\\n'+\n            'if(y.y) {\\n'+\n            '  return new numeric.T('+rc+');\\n'+\n            '}\\n'+\n            'return new numeric.T('+rr+');\\n'\n    );\n}\n\nnumeric.T.prototype.add = numeric.Tbinop(\n        'add(x.x,y.x)',\n        'add(x.x,y.x),y.y',\n        'add(x.x,y.x),x.y',\n        'add(x.x,y.x),add(x.y,y.y)');\nnumeric.T.prototype.sub = numeric.Tbinop(\n        'sub(x.x,y.x)',\n        'sub(x.x,y.x),neg(y.y)',\n        'sub(x.x,y.x),x.y',\n        'sub(x.x,y.x),sub(x.y,y.y)');\nnumeric.T.prototype.mul = numeric.Tbinop(\n        'mul(x.x,y.x)',\n        'mul(x.x,y.x),mul(x.x,y.y)',\n        'mul(x.x,y.x),mul(x.y,y.x)',\n        'sub(mul(x.x,y.x),mul(x.y,y.y)),add(mul(x.x,y.y),mul(x.y,y.x))');\n\nnumeric.T.prototype.reciprocal = function reciprocal() {\n    var mul = numeric.mul, div = numeric.div;\n    if(this.y) {\n        var d = numeric.add(mul(this.x,this.x),mul(this.y,this.y));\n        return new numeric.T(div(this.x,d),div(numeric.neg(this.y),d));\n    }\n    return new T(div(1,this.x));\n}\nnumeric.T.prototype.div = function div(y) {\n    if(!(y instanceof numeric.T)) y = new numeric.T(y);\n    if(y.y) { return this.mul(y.reciprocal()); }\n    var div = numeric.div;\n    if(this.y) { return new numeric.T(div(this.x,y.x),div(this.y,y.x)); }\n    return new numeric.T(div(this.x,y.x));\n}\nnumeric.T.prototype.dot = numeric.Tbinop(\n        'dot(x.x,y.x)',\n        'dot(x.x,y.x),dot(x.x,y.y)',\n        'dot(x.x,y.x),dot(x.y,y.x)',\n        'sub(dot(x.x,y.x),dot(x.y,y.y)),add(dot(x.x,y.y),dot(x.y,y.x))'\n        );\nnumeric.T.prototype.transpose = function transpose() {\n    var t = numeric.transpose, x = this.x, y = this.y;\n    if(y) { return new numeric.T(t(x),t(y)); }\n    return new numeric.T(t(x));\n}\nnumeric.T.prototype.transjugate = function transjugate() {\n    var t = numeric.transpose, x = this.x, y = this.y;\n    if(y) { return new numeric.T(t(x),numeric.negtranspose(y)); }\n    return new numeric.T(t(x));\n}\nnumeric.Tunop = function Tunop(r,c,s) {\n    if(typeof s !== \"string\") { s = ''; }\n    return Function(\n            'var x = this;\\n'+\n            s+'\\n'+\n            'if(x.y) {'+\n            '  '+c+';\\n'+\n            '}\\n'+\n            r+';\\n'\n    );\n}\n\nnumeric.T.prototype.exp = numeric.Tunop(\n        'return new numeric.T(ex)',\n        'return new numeric.T(mul(cos(x.y),ex),mul(sin(x.y),ex))',\n        'var ex = numeric.exp(x.x), cos = numeric.cos, sin = numeric.sin, mul = numeric.mul;');\nnumeric.T.prototype.conj = numeric.Tunop(\n        'return new numeric.T(x.x);',\n        'return new numeric.T(x.x,numeric.neg(x.y));');\nnumeric.T.prototype.neg = numeric.Tunop(\n        'return new numeric.T(neg(x.x));',\n        'return new numeric.T(neg(x.x),neg(x.y));',\n        'var neg = numeric.neg;');\nnumeric.T.prototype.sin = numeric.Tunop(\n        'return new numeric.T(numeric.sin(x.x))',\n        'return x.exp().sub(x.neg().exp()).div(new numeric.T(0,2));');\nnumeric.T.prototype.cos = numeric.Tunop(\n        'return new numeric.T(numeric.cos(x.x))',\n        'return x.exp().add(x.neg().exp()).div(2);');\nnumeric.T.prototype.abs = numeric.Tunop(\n        'return new numeric.T(numeric.abs(x.x));',\n        'return new numeric.T(numeric.sqrt(numeric.add(mul(x.x,x.x),mul(x.y,x.y))));',\n        'var mul = numeric.mul;');\nnumeric.T.prototype.log = numeric.Tunop(\n        'return new numeric.T(numeric.log(x.x));',\n        'var theta = new numeric.T(numeric.atan2(x.y,x.x)), r = x.abs();\\n'+\n        'return new numeric.T(numeric.log(r.x),theta.x);');\nnumeric.T.prototype.norm2 = numeric.Tunop(\n        'return numeric.norm2(x.x);',\n        'var f = numeric.norm2Squared;\\n'+\n        'return Math.sqrt(f(x.x)+f(x.y));');\nnumeric.T.prototype.inv = function inv() {\n    var A = this;\n    if(typeof A.y === \"undefined\") { return new numeric.T(numeric.inv(A.x)); }\n    var n = A.x.length, i, j, k;\n    var Rx = numeric.identity(n),Ry = numeric.rep([n,n],0);\n    var Ax = numeric.clone(A.x), Ay = numeric.clone(A.y);\n    var Aix, Aiy, Ajx, Ajy, Rix, Riy, Rjx, Rjy;\n    var i,j,k,d,d1,ax,ay,bx,by,temp;\n    for(i=0;i<n;i++) {\n        ax = Ax[i][i]; ay = Ay[i][i];\n        d = ax*ax+ay*ay;\n        k = i;\n        for(j=i+1;j<n;j++) {\n            ax = Ax[j][i]; ay = Ay[j][i];\n            d1 = ax*ax+ay*ay;\n            if(d1 > d) { k=j; d = d1; }\n        }\n        if(k!==i) {\n            temp = Ax[i]; Ax[i] = Ax[k]; Ax[k] = temp;\n            temp = Ay[i]; Ay[i] = Ay[k]; Ay[k] = temp;\n            temp = Rx[i]; Rx[i] = Rx[k]; Rx[k] = temp;\n            temp = Ry[i]; Ry[i] = Ry[k]; Ry[k] = temp;\n        }\n        Aix = Ax[i]; Aiy = Ay[i];\n        Rix = Rx[i]; Riy = Ry[i];\n        ax = Aix[i]; ay = Aiy[i];\n        for(j=i+1;j<n;j++) {\n            bx = Aix[j]; by = Aiy[j];\n            Aix[j] = (bx*ax+by*ay)/d;\n            Aiy[j] = (by*ax-bx*ay)/d;\n        }\n        for(j=0;j<n;j++) {\n            bx = Rix[j]; by = Riy[j];\n            Rix[j] = (bx*ax+by*ay)/d;\n            Riy[j] = (by*ax-bx*ay)/d;\n        }\n        for(j=i+1;j<n;j++) {\n            Ajx = Ax[j]; Ajy = Ay[j];\n            Rjx = Rx[j]; Rjy = Ry[j];\n            ax = Ajx[i]; ay = Ajy[i];\n            for(k=i+1;k<n;k++) {\n                bx = Aix[k]; by = Aiy[k];\n                Ajx[k] -= bx*ax-by*ay;\n                Ajy[k] -= by*ax+bx*ay;\n            }\n            for(k=0;k<n;k++) {\n                bx = Rix[k]; by = Riy[k];\n                Rjx[k] -= bx*ax-by*ay;\n                Rjy[k] -= by*ax+bx*ay;\n            }\n        }\n    }\n    for(i=n-1;i>0;i--) {\n        Rix = Rx[i]; Riy = Ry[i];\n        for(j=i-1;j>=0;j--) {\n            Rjx = Rx[j]; Rjy = Ry[j];\n            ax = Ax[j][i]; ay = Ay[j][i];\n            for(k=n-1;k>=0;k--) {\n                bx = Rix[k]; by = Riy[k];\n                Rjx[k] -= ax*bx - ay*by;\n                Rjy[k] -= ax*by + ay*bx;\n            }\n        }\n    }\n    return new numeric.T(Rx,Ry);\n}\nnumeric.T.prototype.get = function get(i) {\n    var x = this.x, y = this.y, k = 0, ik, n = i.length;\n    if(y) {\n        while(k<n) {\n            ik = i[k];\n            x = x[ik];\n            y = y[ik];\n            k++;\n        }\n        return new numeric.T(x,y);\n    }\n    while(k<n) {\n        ik = i[k];\n        x = x[ik];\n        k++;\n    }\n    return new numeric.T(x);\n}\nnumeric.T.prototype.set = function set(i,v) {\n    var x = this.x, y = this.y, k = 0, ik, n = i.length, vx = v.x, vy = v.y;\n    if(n===0) {\n        if(vy) { this.y = vy; }\n        else if(y) { this.y = undefined; }\n        this.x = x;\n        return this;\n    }\n    if(vy) {\n        if(y) { /* ok */ }\n        else {\n            y = numeric.rep(numeric.dim(x),0);\n            this.y = y;\n        }\n        while(k<n-1) {\n            ik = i[k];\n            x = x[ik];\n            y = y[ik];\n            k++;\n        }\n        ik = i[k];\n        x[ik] = vx;\n        y[ik] = vy;\n        return this;\n    }\n    if(y) {\n        while(k<n-1) {\n            ik = i[k];\n            x = x[ik];\n            y = y[ik];\n            k++;\n        }\n        ik = i[k];\n        x[ik] = vx;\n        if(vx instanceof Array) y[ik] = numeric.rep(numeric.dim(vx),0);\n        else y[ik] = 0;\n        return this;\n    }\n    while(k<n-1) {\n        ik = i[k];\n        x = x[ik];\n        k++;\n    }\n    ik = i[k];\n    x[ik] = vx;\n    return this;\n}\nnumeric.T.prototype.getRows = function getRows(i0,i1) {\n    var n = i1-i0+1, j;\n    var rx = Array(n), ry, x = this.x, y = this.y;\n    for(j=i0;j<=i1;j++) { rx[j-i0] = x[j]; }\n    if(y) {\n        ry = Array(n);\n        for(j=i0;j<=i1;j++) { ry[j-i0] = y[j]; }\n        return new numeric.T(rx,ry);\n    }\n    return new numeric.T(rx);\n}\nnumeric.T.prototype.setRows = function setRows(i0,i1,A) {\n    var j;\n    var rx = this.x, ry = this.y, x = A.x, y = A.y;\n    for(j=i0;j<=i1;j++) { rx[j] = x[j-i0]; }\n    if(y) {\n        if(!ry) { ry = numeric.rep(numeric.dim(rx),0); this.y = ry; }\n        for(j=i0;j<=i1;j++) { ry[j] = y[j-i0]; }\n    } else if(ry) {\n        for(j=i0;j<=i1;j++) { ry[j] = numeric.rep([x[j-i0].length],0); }\n    }\n    return this;\n}\nnumeric.T.prototype.getRow = function getRow(k) {\n    var x = this.x, y = this.y;\n    if(y) { return new numeric.T(x[k],y[k]); }\n    return new numeric.T(x[k]);\n}\nnumeric.T.prototype.setRow = function setRow(i,v) {\n    var rx = this.x, ry = this.y, x = v.x, y = v.y;\n    rx[i] = x;\n    if(y) {\n        if(!ry) { ry = numeric.rep(numeric.dim(rx),0); this.y = ry; }\n        ry[i] = y;\n    } else if(ry) {\n        ry = numeric.rep([x.length],0);\n    }\n    return this;\n}\n\nnumeric.T.prototype.getBlock = function getBlock(from,to) {\n    var x = this.x, y = this.y, b = numeric.getBlock;\n    if(y) { return new numeric.T(b(x,from,to),b(y,from,to)); }\n    return new numeric.T(b(x,from,to));\n}\nnumeric.T.prototype.setBlock = function setBlock(from,to,A) {\n    if(!(A instanceof numeric.T)) A = new numeric.T(A);\n    var x = this.x, y = this.y, b = numeric.setBlock, Ax = A.x, Ay = A.y;\n    if(Ay) {\n        if(!y) { this.y = numeric.rep(numeric.dim(this),0); y = this.y; }\n        b(x,from,to,Ax);\n        b(y,from,to,Ay);\n        return this;\n    }\n    b(x,from,to,Ax);\n    if(y) b(y,from,to,numeric.rep(numeric.dim(Ax),0));\n}\nnumeric.T.rep = function rep(s,v) {\n    var T = numeric.T;\n    if(!(v instanceof T)) v = new T(v);\n    var x = v.x, y = v.y, r = numeric.rep;\n    if(y) return new T(r(s,x),r(s,y));\n    return new T(r(s,x));\n}\nnumeric.T.diag = function diag(d) {\n    if(!(d instanceof numeric.T)) d = new numeric.T(d);\n    var x = d.x, y = d.y, diag = numeric.diag;\n    if(y) return new numeric.T(diag(x),diag(y));\n    return new numeric.T(diag(x));\n}\nnumeric.T.eig = function eig() {\n    if(this.y) { throw new Error('eig: not implemented for complex matrices.'); }\n    return numeric.eig(this.x);\n}\nnumeric.T.identity = function identity(n) { return new numeric.T(numeric.identity(n)); }\nnumeric.T.prototype.getDiag = function getDiag() {\n    var n = numeric;\n    var x = this.x, y = this.y;\n    if(y) { return new n.T(n.getDiag(x),n.getDiag(y)); }\n    return new n.T(n.getDiag(x));\n}\n\n// 4. Eigenvalues of real matrices\n\nnumeric.house = function house(x) {\n    var v = numeric.clone(x);\n    var s = x[0] >= 0 ? 1 : -1;\n    var alpha = s*numeric.norm2(x);\n    v[0] += alpha;\n    var foo = numeric.norm2(v);\n    if(foo === 0) { /* this should not happen */ throw new Error('eig: internal error'); }\n    return numeric.div(v,foo);\n}\n\nnumeric.toUpperHessenberg = function toUpperHessenberg(me) {\n    var s = numeric.dim(me);\n    if(s.length !== 2 || s[0] !== s[1]) { throw new Error('numeric: toUpperHessenberg() only works on square matrices'); }\n    var m = s[0], i,j,k,x,v,A = numeric.clone(me),B,C,Ai,Ci,Q = numeric.identity(m),Qi;\n    for(j=0;j<m-2;j++) {\n        x = Array(m-j-1);\n        for(i=j+1;i<m;i++) { x[i-j-1] = A[i][j]; }\n        if(numeric.norm2(x)>0) {\n            v = numeric.house(x);\n            B = numeric.getBlock(A,[j+1,j],[m-1,m-1]);\n            C = numeric.tensor(v,numeric.dot(v,B));\n            for(i=j+1;i<m;i++) { Ai = A[i]; Ci = C[i-j-1]; for(k=j;k<m;k++) Ai[k] -= 2*Ci[k-j]; }\n            B = numeric.getBlock(A,[0,j+1],[m-1,m-1]);\n            C = numeric.tensor(numeric.dot(B,v),v);\n            for(i=0;i<m;i++) { Ai = A[i]; Ci = C[i]; for(k=j+1;k<m;k++) Ai[k] -= 2*Ci[k-j-1]; }\n            B = Array(m-j-1);\n            for(i=j+1;i<m;i++) B[i-j-1] = Q[i];\n            C = numeric.tensor(v,numeric.dot(v,B));\n            for(i=j+1;i<m;i++) { Qi = Q[i]; Ci = C[i-j-1]; for(k=0;k<m;k++) Qi[k] -= 2*Ci[k]; }\n        }\n    }\n    return {H:A, Q:Q};\n}\n\nnumeric.epsilon = 2.220446049250313e-16;\n\nnumeric.QRFrancis = function(H,maxiter) {\n    if(typeof maxiter === \"undefined\") { maxiter = 10000; }\n    H = numeric.clone(H);\n    var H0 = numeric.clone(H);\n    var s = numeric.dim(H),m=s[0],x,v,a,b,c,d,det,tr, Hloc, Q = numeric.identity(m), Qi, Hi, B, C, Ci,i,j,k,iter;\n    if(m<3) { return {Q:Q, B:[ [0,m-1] ]}; }\n    var epsilon = numeric.epsilon;\n    for(iter=0;iter<maxiter;iter++) {\n        for(j=0;j<m-1;j++) {\n            if(Math.abs(H[j+1][j]) < epsilon*(Math.abs(H[j][j])+Math.abs(H[j+1][j+1]))) {\n                var QH1 = numeric.QRFrancis(numeric.getBlock(H,[0,0],[j,j]),maxiter);\n                var QH2 = numeric.QRFrancis(numeric.getBlock(H,[j+1,j+1],[m-1,m-1]),maxiter);\n                B = Array(j+1);\n                for(i=0;i<=j;i++) { B[i] = Q[i]; }\n                C = numeric.dot(QH1.Q,B);\n                for(i=0;i<=j;i++) { Q[i] = C[i]; }\n                B = Array(m-j-1);\n                for(i=j+1;i<m;i++) { B[i-j-1] = Q[i]; }\n                C = numeric.dot(QH2.Q,B);\n                for(i=j+1;i<m;i++) { Q[i] = C[i-j-1]; }\n                return {Q:Q,B:QH1.B.concat(numeric.add(QH2.B,j+1))};\n            }\n        }\n        a = H[m-2][m-2]; b = H[m-2][m-1];\n        c = H[m-1][m-2]; d = H[m-1][m-1];\n        tr = a+d;\n        det = (a*d-b*c);\n        Hloc = numeric.getBlock(H, [0,0], [2,2]);\n        if(tr*tr>=4*det) {\n            var s1,s2;\n            s1 = 0.5*(tr+Math.sqrt(tr*tr-4*det));\n            s2 = 0.5*(tr-Math.sqrt(tr*tr-4*det));\n            Hloc = numeric.add(numeric.sub(numeric.dot(Hloc,Hloc),\n                                           numeric.mul(Hloc,s1+s2)),\n                               numeric.diag(numeric.rep([3],s1*s2)));\n        } else {\n            Hloc = numeric.add(numeric.sub(numeric.dot(Hloc,Hloc),\n                                           numeric.mul(Hloc,tr)),\n                               numeric.diag(numeric.rep([3],det)));\n        }\n        x = [Hloc[0][0],Hloc[1][0],Hloc[2][0]];\n        v = numeric.house(x);\n        B = [H[0],H[1],H[2]];\n        C = numeric.tensor(v,numeric.dot(v,B));\n        for(i=0;i<3;i++) { Hi = H[i]; Ci = C[i]; for(k=0;k<m;k++) Hi[k] -= 2*Ci[k]; }\n        B = numeric.getBlock(H, [0,0],[m-1,2]);\n        C = numeric.tensor(numeric.dot(B,v),v);\n        for(i=0;i<m;i++) { Hi = H[i]; Ci = C[i]; for(k=0;k<3;k++) Hi[k] -= 2*Ci[k]; }\n        B = [Q[0],Q[1],Q[2]];\n        C = numeric.tensor(v,numeric.dot(v,B));\n        for(i=0;i<3;i++) { Qi = Q[i]; Ci = C[i]; for(k=0;k<m;k++) Qi[k] -= 2*Ci[k]; }\n        var J;\n        for(j=0;j<m-2;j++) {\n            for(k=j;k<=j+1;k++) {\n                if(Math.abs(H[k+1][k]) < epsilon*(Math.abs(H[k][k])+Math.abs(H[k+1][k+1]))) {\n                    var QH1 = numeric.QRFrancis(numeric.getBlock(H,[0,0],[k,k]),maxiter);\n                    var QH2 = numeric.QRFrancis(numeric.getBlock(H,[k+1,k+1],[m-1,m-1]),maxiter);\n                    B = Array(k+1);\n                    for(i=0;i<=k;i++) { B[i] = Q[i]; }\n                    C = numeric.dot(QH1.Q,B);\n                    for(i=0;i<=k;i++) { Q[i] = C[i]; }\n                    B = Array(m-k-1);\n                    for(i=k+1;i<m;i++) { B[i-k-1] = Q[i]; }\n                    C = numeric.dot(QH2.Q,B);\n                    for(i=k+1;i<m;i++) { Q[i] = C[i-k-1]; }\n                    return {Q:Q,B:QH1.B.concat(numeric.add(QH2.B,k+1))};\n                }\n            }\n            J = Math.min(m-1,j+3);\n            x = Array(J-j);\n            for(i=j+1;i<=J;i++) { x[i-j-1] = H[i][j]; }\n            v = numeric.house(x);\n            B = numeric.getBlock(H, [j+1,j],[J,m-1]);\n            C = numeric.tensor(v,numeric.dot(v,B));\n            for(i=j+1;i<=J;i++) { Hi = H[i]; Ci = C[i-j-1]; for(k=j;k<m;k++) Hi[k] -= 2*Ci[k-j]; }\n            B = numeric.getBlock(H, [0,j+1],[m-1,J]);\n            C = numeric.tensor(numeric.dot(B,v),v);\n            for(i=0;i<m;i++) { Hi = H[i]; Ci = C[i]; for(k=j+1;k<=J;k++) Hi[k] -= 2*Ci[k-j-1]; }\n            B = Array(J-j);\n            for(i=j+1;i<=J;i++) B[i-j-1] = Q[i];\n            C = numeric.tensor(v,numeric.dot(v,B));\n            for(i=j+1;i<=J;i++) { Qi = Q[i]; Ci = C[i-j-1]; for(k=0;k<m;k++) Qi[k] -= 2*Ci[k]; }\n        }\n    }\n    throw new Error('numeric: eigenvalue iteration does not converge -- increase maxiter?');\n}\n\nnumeric.eig = function eig(A,maxiter) {\n    var QH = numeric.toUpperHessenberg(A);\n    var QB = numeric.QRFrancis(QH.H,maxiter);\n    var T = numeric.T;\n    var n = A.length,i,k,flag = false,B = QB.B,H = numeric.dot(QB.Q,numeric.dot(QH.H,numeric.transpose(QB.Q)));\n    var Q = new T(numeric.dot(QB.Q,QH.Q)),Q0;\n    var m = B.length,j;\n    var a,b,c,d,p1,p2,disc,x,y,p,q,n1,n2;\n    var sqrt = Math.sqrt;\n    for(k=0;k<m;k++) {\n        i = B[k][0];\n        if(i === B[k][1]) {\n            // nothing\n        } else {\n            j = i+1;\n            a = H[i][i];\n            b = H[i][j];\n            c = H[j][i];\n            d = H[j][j];\n            if(b === 0 && c === 0) continue;\n            p1 = -a-d;\n            p2 = a*d-b*c;\n            disc = p1*p1-4*p2;\n            if(disc>=0) {\n                if(p1<0) x = -0.5*(p1-sqrt(disc));\n                else     x = -0.5*(p1+sqrt(disc));\n                n1 = (a-x)*(a-x)+b*b;\n                n2 = c*c+(d-x)*(d-x);\n                if(n1>n2) {\n                    n1 = sqrt(n1);\n                    p = (a-x)/n1;\n                    q = b/n1;\n                } else {\n                    n2 = sqrt(n2);\n                    p = c/n2;\n                    q = (d-x)/n2;\n                }\n                Q0 = new T([[q,-p],[p,q]]);\n                Q.setRows(i,j,Q0.dot(Q.getRows(i,j)));\n            } else {\n                x = -0.5*p1;\n                y = 0.5*sqrt(-disc);\n                n1 = (a-x)*(a-x)+b*b;\n                n2 = c*c+(d-x)*(d-x);\n                if(n1>n2) {\n                    n1 = sqrt(n1+y*y);\n                    p = (a-x)/n1;\n                    q = b/n1;\n                    x = 0;\n                    y /= n1;\n                } else {\n                    n2 = sqrt(n2+y*y);\n                    p = c/n2;\n                    q = (d-x)/n2;\n                    x = y/n2;\n                    y = 0;\n                }\n                Q0 = new T([[q,-p],[p,q]],[[x,y],[y,-x]]);\n                Q.setRows(i,j,Q0.dot(Q.getRows(i,j)));\n            }\n        }\n    }\n    var R = Q.dot(A).dot(Q.transjugate()), n = A.length, E = numeric.T.identity(n);\n    for(j=0;j<n;j++) {\n        if(j>0) {\n            for(k=j-1;k>=0;k--) {\n                var Rk = R.get([k,k]), Rj = R.get([j,j]);\n                if(numeric.neq(Rk.x,Rj.x) || numeric.neq(Rk.y,Rj.y)) {\n                    x = R.getRow(k).getBlock([k],[j-1]);\n                    y = E.getRow(j).getBlock([k],[j-1]);\n                    E.set([j,k],(R.get([k,j]).neg().sub(x.dot(y))).div(Rk.sub(Rj)));\n                } else {\n                    E.setRow(j,E.getRow(k));\n                    continue;\n                }\n            }\n        }\n    }\n    for(j=0;j<n;j++) {\n        x = E.getRow(j);\n        E.setRow(j,x.div(x.norm2()));\n    }\n    E = E.transpose();\n    E = Q.transjugate().dot(E);\n    return { lambda:R.getDiag(), E:E };\n};\n\n// 5. Compressed Column Storage matrices\nnumeric.ccsSparse = function ccsSparse(A) {\n    var m = A.length,n,foo, i,j, counts = [];\n    for(i=m-1;i!==-1;--i) {\n        foo = A[i];\n        for(j in foo) {\n            j = parseInt(j);\n            while(j>=counts.length) counts[counts.length] = 0;\n            if(foo[j]!==0) counts[j]++;\n        }\n    }\n    var n = counts.length;\n    var Ai = Array(n+1);\n    Ai[0] = 0;\n    for(i=0;i<n;++i) Ai[i+1] = Ai[i] + counts[i];\n    var Aj = Array(Ai[n]), Av = Array(Ai[n]);\n    for(i=m-1;i!==-1;--i) {\n        foo = A[i];\n        for(j in foo) {\n            if(foo[j]!==0) {\n                counts[j]--;\n                Aj[Ai[j]+counts[j]] = i;\n                Av[Ai[j]+counts[j]] = foo[j];\n            }\n        }\n    }\n    return [Ai,Aj,Av];\n}\nnumeric.ccsFull = function ccsFull(A) {\n    var Ai = A[0], Aj = A[1], Av = A[2], s = numeric.ccsDim(A), m = s[0], n = s[1], i,j,j0,j1,k;\n    var B = numeric.rep([m,n],0);\n    for(i=0;i<n;i++) {\n        j0 = Ai[i];\n        j1 = Ai[i+1];\n        for(j=j0;j<j1;++j) { B[Aj[j]][i] = Av[j]; }\n    }\n    return B;\n}\nnumeric.ccsTSolve = function ccsTSolve(A,b,x,bj,xj) {\n    var Ai = A[0], Aj = A[1], Av = A[2],m = Ai.length-1, max = Math.max,n=0;\n    if(typeof bj === \"undefined\") x = numeric.rep([m],0);\n    if(typeof bj === \"undefined\") bj = numeric.linspace(0,x.length-1);\n    if(typeof xj === \"undefined\") xj = [];\n    function dfs(j) {\n        var k;\n        if(x[j] !== 0) return;\n        x[j] = 1;\n        for(k=Ai[j];k<Ai[j+1];++k) dfs(Aj[k]);\n        xj[n] = j;\n        ++n;\n    }\n    var i,j,j0,j1,k,l,l0,l1,a;\n    for(i=bj.length-1;i!==-1;--i) { dfs(bj[i]); }\n    xj.length = n;\n    for(i=xj.length-1;i!==-1;--i) { x[xj[i]] = 0; }\n    for(i=bj.length-1;i!==-1;--i) { j = bj[i]; x[j] = b[j]; }\n    for(i=xj.length-1;i!==-1;--i) {\n        j = xj[i];\n        j0 = Ai[j];\n        j1 = max(Ai[j+1],j0);\n        for(k=j0;k!==j1;++k) { if(Aj[k] === j) { x[j] /= Av[k]; break; } }\n        a = x[j];\n        for(k=j0;k!==j1;++k) {\n            l = Aj[k];\n            if(l !== j) x[l] -= a*Av[k];\n        }\n    }\n    return x;\n}\nnumeric.ccsDFS = function ccsDFS(n) {\n    this.k = Array(n);\n    this.k1 = Array(n);\n    this.j = Array(n);\n}\nnumeric.ccsDFS.prototype.dfs = function dfs(J,Ai,Aj,x,xj,Pinv) {\n    var m = 0,foo,n=xj.length;\n    var k = this.k, k1 = this.k1, j = this.j,km,k11;\n    if(x[J]!==0) return;\n    x[J] = 1;\n    j[0] = J;\n    k[0] = km = Ai[J];\n    k1[0] = k11 = Ai[J+1];\n    while(1) {\n        if(km >= k11) {\n            xj[n] = j[m];\n            if(m===0) return;\n            ++n;\n            --m;\n            km = k[m];\n            k11 = k1[m];\n        } else {\n            foo = Pinv[Aj[km]];\n            if(x[foo] === 0) {\n                x[foo] = 1;\n                k[m] = km;\n                ++m;\n                j[m] = foo;\n                km = Ai[foo];\n                k1[m] = k11 = Ai[foo+1];\n            } else ++km;\n        }\n    }\n}\nnumeric.ccsLPSolve = function ccsLPSolve(A,B,x,xj,I,Pinv,dfs) {\n    var Ai = A[0], Aj = A[1], Av = A[2],m = Ai.length-1, n=0;\n    var Bi = B[0], Bj = B[1], Bv = B[2];\n    \n    var i,i0,i1,j,J,j0,j1,k,l,l0,l1,a;\n    i0 = Bi[I];\n    i1 = Bi[I+1];\n    xj.length = 0;\n    for(i=i0;i<i1;++i) { dfs.dfs(Pinv[Bj[i]],Ai,Aj,x,xj,Pinv); }\n    for(i=xj.length-1;i!==-1;--i) { x[xj[i]] = 0; }\n    for(i=i0;i!==i1;++i) { j = Pinv[Bj[i]]; x[j] = Bv[i]; }\n    for(i=xj.length-1;i!==-1;--i) {\n        j = xj[i];\n        j0 = Ai[j];\n        j1 = Ai[j+1];\n        for(k=j0;k<j1;++k) { if(Pinv[Aj[k]] === j) { x[j] /= Av[k]; break; } }\n        a = x[j];\n        for(k=j0;k<j1;++k) {\n            l = Pinv[Aj[k]];\n            if(l !== j) x[l] -= a*Av[k];\n        }\n    }\n    return x;\n}\nnumeric.ccsLUP1 = function ccsLUP1(A,threshold) {\n    var m = A[0].length-1;\n    var L = [numeric.rep([m+1],0),[],[]], U = [numeric.rep([m+1], 0),[],[]];\n    var Li = L[0], Lj = L[1], Lv = L[2], Ui = U[0], Uj = U[1], Uv = U[2];\n    var x = numeric.rep([m],0), xj = numeric.rep([m],0);\n    var i,j,k,j0,j1,a,e,c,d,K;\n    var sol = numeric.ccsLPSolve, max = Math.max, abs = Math.abs;\n    var P = numeric.linspace(0,m-1),Pinv = numeric.linspace(0,m-1);\n    var dfs = new numeric.ccsDFS(m);\n    if(typeof threshold === \"undefined\") { threshold = 1; }\n    for(i=0;i<m;++i) {\n        sol(L,A,x,xj,i,Pinv,dfs);\n        a = -1;\n        e = -1;\n        for(j=xj.length-1;j!==-1;--j) {\n            k = xj[j];\n            if(k <= i) continue;\n            c = abs(x[k]);\n            if(c > a) { e = k; a = c; }\n        }\n        if(abs(x[i])<threshold*a) {\n            j = P[i];\n            a = P[e];\n            P[i] = a; Pinv[a] = i;\n            P[e] = j; Pinv[j] = e;\n            a = x[i]; x[i] = x[e]; x[e] = a;\n        }\n        a = Li[i];\n        e = Ui[i];\n        d = x[i];\n        Lj[a] = P[i];\n        Lv[a] = 1;\n        ++a;\n        for(j=xj.length-1;j!==-1;--j) {\n            k = xj[j];\n            c = x[k];\n            xj[j] = 0;\n            x[k] = 0;\n            if(k<=i) { Uj[e] = k; Uv[e] = c;   ++e; }\n            else     { Lj[a] = P[k]; Lv[a] = c/d; ++a; }\n        }\n        Li[i+1] = a;\n        Ui[i+1] = e;\n    }\n    for(j=Lj.length-1;j!==-1;--j) { Lj[j] = Pinv[Lj[j]]; }\n    return {L:L, U:U, P:P, Pinv:Pinv};\n}\nnumeric.ccsDFS0 = function ccsDFS0(n) {\n    this.k = Array(n);\n    this.k1 = Array(n);\n    this.j = Array(n);\n}\nnumeric.ccsDFS0.prototype.dfs = function dfs(J,Ai,Aj,x,xj,Pinv,P) {\n    var m = 0,foo,n=xj.length;\n    var k = this.k, k1 = this.k1, j = this.j,km,k11;\n    if(x[J]!==0) return;\n    x[J] = 1;\n    j[0] = J;\n    k[0] = km = Ai[Pinv[J]];\n    k1[0] = k11 = Ai[Pinv[J]+1];\n    while(1) {\n        if(isNaN(km)) throw new Error(\"Ow!\");\n        if(km >= k11) {\n            xj[n] = Pinv[j[m]];\n            if(m===0) return;\n            ++n;\n            --m;\n            km = k[m];\n            k11 = k1[m];\n        } else {\n            foo = Aj[km];\n            if(x[foo] === 0) {\n                x[foo] = 1;\n                k[m] = km;\n                ++m;\n                j[m] = foo;\n                foo = Pinv[foo];\n                km = Ai[foo];\n                k1[m] = k11 = Ai[foo+1];\n            } else ++km;\n        }\n    }\n}\nnumeric.ccsLPSolve0 = function ccsLPSolve0(A,B,y,xj,I,Pinv,P,dfs) {\n    var Ai = A[0], Aj = A[1], Av = A[2],m = Ai.length-1, n=0;\n    var Bi = B[0], Bj = B[1], Bv = B[2];\n    \n    var i,i0,i1,j,J,j0,j1,k,l,l0,l1,a;\n    i0 = Bi[I];\n    i1 = Bi[I+1];\n    xj.length = 0;\n    for(i=i0;i<i1;++i) { dfs.dfs(Bj[i],Ai,Aj,y,xj,Pinv,P); }\n    for(i=xj.length-1;i!==-1;--i) { j = xj[i]; y[P[j]] = 0; }\n    for(i=i0;i!==i1;++i) { j = Bj[i]; y[j] = Bv[i]; }\n    for(i=xj.length-1;i!==-1;--i) {\n        j = xj[i];\n        l = P[j];\n        j0 = Ai[j];\n        j1 = Ai[j+1];\n        for(k=j0;k<j1;++k) { if(Aj[k] === l) { y[l] /= Av[k]; break; } }\n        a = y[l];\n        for(k=j0;k<j1;++k) y[Aj[k]] -= a*Av[k];\n        y[l] = a;\n    }\n}\nnumeric.ccsLUP0 = function ccsLUP0(A,threshold) {\n    var m = A[0].length-1;\n    var L = [numeric.rep([m+1],0),[],[]], U = [numeric.rep([m+1], 0),[],[]];\n    var Li = L[0], Lj = L[1], Lv = L[2], Ui = U[0], Uj = U[1], Uv = U[2];\n    var y = numeric.rep([m],0), xj = numeric.rep([m],0);\n    var i,j,k,j0,j1,a,e,c,d,K;\n    var sol = numeric.ccsLPSolve0, max = Math.max, abs = Math.abs;\n    var P = numeric.linspace(0,m-1),Pinv = numeric.linspace(0,m-1);\n    var dfs = new numeric.ccsDFS0(m);\n    if(typeof threshold === \"undefined\") { threshold = 1; }\n    for(i=0;i<m;++i) {\n        sol(L,A,y,xj,i,Pinv,P,dfs);\n        a = -1;\n        e = -1;\n        for(j=xj.length-1;j!==-1;--j) {\n            k = xj[j];\n            if(k <= i) continue;\n            c = abs(y[P[k]]);\n            if(c > a) { e = k; a = c; }\n        }\n        if(abs(y[P[i]])<threshold*a) {\n            j = P[i];\n            a = P[e];\n            P[i] = a; Pinv[a] = i;\n            P[e] = j; Pinv[j] = e;\n        }\n        a = Li[i];\n        e = Ui[i];\n        d = y[P[i]];\n        Lj[a] = P[i];\n        Lv[a] = 1;\n        ++a;\n        for(j=xj.length-1;j!==-1;--j) {\n            k = xj[j];\n            c = y[P[k]];\n            xj[j] = 0;\n            y[P[k]] = 0;\n            if(k<=i) { Uj[e] = k; Uv[e] = c;   ++e; }\n            else     { Lj[a] = P[k]; Lv[a] = c/d; ++a; }\n        }\n        Li[i+1] = a;\n        Ui[i+1] = e;\n    }\n    for(j=Lj.length-1;j!==-1;--j) { Lj[j] = Pinv[Lj[j]]; }\n    return {L:L, U:U, P:P, Pinv:Pinv};\n}\nnumeric.ccsLUP = numeric.ccsLUP0;\n\nnumeric.ccsDim = function ccsDim(A) { return [numeric.sup(A[1])+1,A[0].length-1]; }\nnumeric.ccsGetBlock = function ccsGetBlock(A,i,j) {\n    var s = numeric.ccsDim(A),m=s[0],n=s[1];\n    if(typeof i === \"undefined\") { i = numeric.linspace(0,m-1); }\n    else if(typeof i === \"number\") { i = [i]; }\n    if(typeof j === \"undefined\") { j = numeric.linspace(0,n-1); }\n    else if(typeof j === \"number\") { j = [j]; }\n    var p,p0,p1,P = i.length,q,Q = j.length,r,jq,ip;\n    var Bi = numeric.rep([n],0), Bj=[], Bv=[], B = [Bi,Bj,Bv];\n    var Ai = A[0], Aj = A[1], Av = A[2];\n    var x = numeric.rep([m],0),count=0,flags = numeric.rep([m],0);\n    for(q=0;q<Q;++q) {\n        jq = j[q];\n        var q0 = Ai[jq];\n        var q1 = Ai[jq+1];\n        for(p=q0;p<q1;++p) {\n            r = Aj[p];\n            flags[r] = 1;\n            x[r] = Av[p];\n        }\n        for(p=0;p<P;++p) {\n            ip = i[p];\n            if(flags[ip]) {\n                Bj[count] = p;\n                Bv[count] = x[i[p]];\n                ++count;\n            }\n        }\n        for(p=q0;p<q1;++p) {\n            r = Aj[p];\n            flags[r] = 0;\n        }\n        Bi[q+1] = count;\n    }\n    return B;\n}\n\nnumeric.ccsDot = function ccsDot(A,B) {\n    var Ai = A[0], Aj = A[1], Av = A[2];\n    var Bi = B[0], Bj = B[1], Bv = B[2];\n    var sA = numeric.ccsDim(A), sB = numeric.ccsDim(B);\n    var m = sA[0], n = sA[1], o = sB[1];\n    var x = numeric.rep([m],0), flags = numeric.rep([m],0), xj = Array(m);\n    var Ci = numeric.rep([o],0), Cj = [], Cv = [], C = [Ci,Cj,Cv];\n    var i,j,k,j0,j1,i0,i1,l,p,a,b;\n    for(k=0;k!==o;++k) {\n        j0 = Bi[k];\n        j1 = Bi[k+1];\n        p = 0;\n        for(j=j0;j<j1;++j) {\n            a = Bj[j];\n            b = Bv[j];\n            i0 = Ai[a];\n            i1 = Ai[a+1];\n            for(i=i0;i<i1;++i) {\n                l = Aj[i];\n                if(flags[l]===0) {\n                    xj[p] = l;\n                    flags[l] = 1;\n                    p = p+1;\n                }\n                x[l] = x[l] + Av[i]*b;\n            }\n        }\n        j0 = Ci[k];\n        j1 = j0+p;\n        Ci[k+1] = j1;\n        for(j=p-1;j!==-1;--j) {\n            b = j0+j;\n            i = xj[j];\n            Cj[b] = i;\n            Cv[b] = x[i];\n            flags[i] = 0;\n            x[i] = 0;\n        }\n        Ci[k+1] = Ci[k]+p;\n    }\n    return C;\n}\n\nnumeric.ccsLUPSolve = function ccsLUPSolve(LUP,B) {\n    var L = LUP.L, U = LUP.U, P = LUP.P;\n    var Bi = B[0];\n    var flag = false;\n    if(typeof Bi !== \"object\") { B = [[0,B.length],numeric.linspace(0,B.length-1),B]; Bi = B[0]; flag = true; }\n    var Bj = B[1], Bv = B[2];\n    var n = L[0].length-1, m = Bi.length-1;\n    var x = numeric.rep([n],0), xj = Array(n);\n    var b = numeric.rep([n],0), bj = Array(n);\n    var Xi = numeric.rep([m+1],0), Xj = [], Xv = [];\n    var sol = numeric.ccsTSolve;\n    var i,j,j0,j1,k,J,N=0;\n    for(i=0;i<m;++i) {\n        k = 0;\n        j0 = Bi[i];\n        j1 = Bi[i+1];\n        for(j=j0;j<j1;++j) { \n            J = LUP.Pinv[Bj[j]];\n            bj[k] = J;\n            b[J] = Bv[j];\n            ++k;\n        }\n        bj.length = k;\n        sol(L,b,x,bj,xj);\n        for(j=bj.length-1;j!==-1;--j) b[bj[j]] = 0;\n        sol(U,x,b,xj,bj);\n        if(flag) return b;\n        for(j=xj.length-1;j!==-1;--j) x[xj[j]] = 0;\n        for(j=bj.length-1;j!==-1;--j) {\n            J = bj[j];\n            Xj[N] = J;\n            Xv[N] = b[J];\n            b[J] = 0;\n            ++N;\n        }\n        Xi[i+1] = N;\n    }\n    return [Xi,Xj,Xv];\n}\n\nnumeric.ccsbinop = function ccsbinop(body,setup) {\n    if(typeof setup === \"undefined\") setup='';\n    return Function('X','Y',\n            'var Xi = X[0], Xj = X[1], Xv = X[2];\\n'+\n            'var Yi = Y[0], Yj = Y[1], Yv = Y[2];\\n'+\n            'var n = Xi.length-1,m = Math.max(numeric.sup(Xj),numeric.sup(Yj))+1;\\n'+\n            'var Zi = numeric.rep([n+1],0), Zj = [], Zv = [];\\n'+\n            'var x = numeric.rep([m],0),y = numeric.rep([m],0);\\n'+\n            'var xk,yk,zk;\\n'+\n            'var i,j,j0,j1,k,p=0;\\n'+\n            setup+\n            'for(i=0;i<n;++i) {\\n'+\n            '  j0 = Xi[i]; j1 = Xi[i+1];\\n'+\n            '  for(j=j0;j!==j1;++j) {\\n'+\n            '    k = Xj[j];\\n'+\n            '    x[k] = 1;\\n'+\n            '    Zj[p] = k;\\n'+\n            '    ++p;\\n'+\n            '  }\\n'+\n            '  j0 = Yi[i]; j1 = Yi[i+1];\\n'+\n            '  for(j=j0;j!==j1;++j) {\\n'+\n            '    k = Yj[j];\\n'+\n            '    y[k] = Yv[j];\\n'+\n            '    if(x[k] === 0) {\\n'+\n            '      Zj[p] = k;\\n'+\n            '      ++p;\\n'+\n            '    }\\n'+\n            '  }\\n'+\n            '  Zi[i+1] = p;\\n'+\n            '  j0 = Xi[i]; j1 = Xi[i+1];\\n'+\n            '  for(j=j0;j!==j1;++j) x[Xj[j]] = Xv[j];\\n'+\n            '  j0 = Zi[i]; j1 = Zi[i+1];\\n'+\n            '  for(j=j0;j!==j1;++j) {\\n'+\n            '    k = Zj[j];\\n'+\n            '    xk = x[k];\\n'+\n            '    yk = y[k];\\n'+\n            body+'\\n'+\n            '    Zv[j] = zk;\\n'+\n            '  }\\n'+\n            '  j0 = Xi[i]; j1 = Xi[i+1];\\n'+\n            '  for(j=j0;j!==j1;++j) x[Xj[j]] = 0;\\n'+\n            '  j0 = Yi[i]; j1 = Yi[i+1];\\n'+\n            '  for(j=j0;j!==j1;++j) y[Yj[j]] = 0;\\n'+\n            '}\\n'+\n            'return [Zi,Zj,Zv];'\n            );\n};\n\n(function() {\n    var k,A,B,C;\n    for(k in numeric.ops2) {\n        if(isFinite(eval('1'+numeric.ops2[k]+'0'))) A = '[Y[0],Y[1],numeric.'+k+'(X,Y[2])]';\n        else A = 'NaN';\n        if(isFinite(eval('0'+numeric.ops2[k]+'1'))) B = '[X[0],X[1],numeric.'+k+'(X[2],Y)]';\n        else B = 'NaN';\n        if(isFinite(eval('1'+numeric.ops2[k]+'0')) && isFinite(eval('0'+numeric.ops2[k]+'1'))) C = 'numeric.ccs'+k+'MM(X,Y)';\n        else C = 'NaN';\n        numeric['ccs'+k+'MM'] = numeric.ccsbinop('zk = xk '+numeric.ops2[k]+'yk;');\n        numeric['ccs'+k] = Function('X','Y',\n                'if(typeof X === \"number\") return '+A+';\\n'+\n                'if(typeof Y === \"number\") return '+B+';\\n'+\n                'return '+C+';\\n'\n                );\n    }\n}());\n\nnumeric.ccsScatter = function ccsScatter(A) {\n    var Ai = A[0], Aj = A[1], Av = A[2];\n    var n = numeric.sup(Aj)+1,m=Ai.length;\n    var Ri = numeric.rep([n],0),Rj=Array(m), Rv = Array(m);\n    var counts = numeric.rep([n],0),i;\n    for(i=0;i<m;++i) counts[Aj[i]]++;\n    for(i=0;i<n;++i) Ri[i+1] = Ri[i] + counts[i];\n    var ptr = Ri.slice(0),k,Aii;\n    for(i=0;i<m;++i) {\n        Aii = Aj[i];\n        k = ptr[Aii];\n        Rj[k] = Ai[i];\n        Rv[k] = Av[i];\n        ptr[Aii]=ptr[Aii]+1;\n    }\n    return [Ri,Rj,Rv];\n}\n\nnumeric.ccsGather = function ccsGather(A) {\n    var Ai = A[0], Aj = A[1], Av = A[2];\n    var n = Ai.length-1,m = Aj.length;\n    var Ri = Array(m), Rj = Array(m), Rv = Array(m);\n    var i,j,j0,j1,p;\n    p=0;\n    for(i=0;i<n;++i) {\n        j0 = Ai[i];\n        j1 = Ai[i+1];\n        for(j=j0;j!==j1;++j) {\n            Rj[p] = i;\n            Ri[p] = Aj[j];\n            Rv[p] = Av[j];\n            ++p;\n        }\n    }\n    return [Ri,Rj,Rv];\n}\n\n// The following sparse linear algebra routines are deprecated.\n\nnumeric.sdim = function dim(A,ret,k) {\n    if(typeof ret === \"undefined\") { ret = []; }\n    if(typeof A !== \"object\") return ret;\n    if(typeof k === \"undefined\") { k=0; }\n    if(!(k in ret)) { ret[k] = 0; }\n    if(A.length > ret[k]) ret[k] = A.length;\n    var i;\n    for(i in A) {\n        if(A.hasOwnProperty(i)) dim(A[i],ret,k+1);\n    }\n    return ret;\n};\n\nnumeric.sclone = function clone(A,k,n) {\n    if(typeof k === \"undefined\") { k=0; }\n    if(typeof n === \"undefined\") { n = numeric.sdim(A).length; }\n    var i,ret = Array(A.length);\n    if(k === n-1) {\n        for(i in A) { if(A.hasOwnProperty(i)) ret[i] = A[i]; }\n        return ret;\n    }\n    for(i in A) {\n        if(A.hasOwnProperty(i)) ret[i] = clone(A[i],k+1,n);\n    }\n    return ret;\n}\n\nnumeric.sdiag = function diag(d) {\n    var n = d.length,i,ret = Array(n),i1,i2,i3;\n    for(i=n-1;i>=1;i-=2) {\n        i1 = i-1;\n        ret[i] = []; ret[i][i] = d[i];\n        ret[i1] = []; ret[i1][i1] = d[i1];\n    }\n    if(i===0) { ret[0] = []; ret[0][0] = d[i]; }\n    return ret;\n}\n\nnumeric.sidentity = function identity(n) { return numeric.sdiag(numeric.rep([n],1)); }\n\nnumeric.stranspose = function transpose(A) {\n    var ret = [], n = A.length, i,j,Ai;\n    for(i in A) {\n        if(!(A.hasOwnProperty(i))) continue;\n        Ai = A[i];\n        for(j in Ai) {\n            if(!(Ai.hasOwnProperty(j))) continue;\n            if(typeof ret[j] !== \"object\") { ret[j] = []; }\n            ret[j][i] = Ai[j];\n        }\n    }\n    return ret;\n}\n\nnumeric.sLUP = function LUP(A,tol) {\n    throw new Error(\"The function numeric.sLUP had a bug in it and has been removed. Please use the new numeric.ccsLUP function instead.\");\n};\n\nnumeric.sdotMM = function dotMM(A,B) {\n    var p = A.length, q = B.length, BT = numeric.stranspose(B), r = BT.length, Ai, BTk;\n    var i,j,k,accum;\n    var ret = Array(p),reti;\n    for(i=p-1;i>=0;i--) {\n        reti = [];\n        Ai = A[i];\n        for(k=r-1;k>=0;k--) {\n            accum = 0;\n            BTk = BT[k];\n            for(j in Ai) {\n                if(!(Ai.hasOwnProperty(j))) continue;\n                if(j in BTk) { accum += Ai[j]*BTk[j]; }\n            }\n            if(accum) reti[k] = accum;\n        }\n        ret[i] = reti;\n    }\n    return ret;\n}\n\nnumeric.sdotMV = function dotMV(A,x) {\n    var p = A.length, Ai, i,j;\n    var ret = Array(p), accum;\n    for(i=p-1;i>=0;i--) {\n        Ai = A[i];\n        accum = 0;\n        for(j in Ai) {\n            if(!(Ai.hasOwnProperty(j))) continue;\n            if(x[j]) accum += Ai[j]*x[j];\n        }\n        if(accum) ret[i] = accum;\n    }\n    return ret;\n}\n\nnumeric.sdotVM = function dotMV(x,A) {\n    var i,j,Ai,alpha;\n    var ret = [], accum;\n    for(i in x) {\n        if(!x.hasOwnProperty(i)) continue;\n        Ai = A[i];\n        alpha = x[i];\n        for(j in Ai) {\n            if(!Ai.hasOwnProperty(j)) continue;\n            if(!ret[j]) { ret[j] = 0; }\n            ret[j] += alpha*Ai[j];\n        }\n    }\n    return ret;\n}\n\nnumeric.sdotVV = function dotVV(x,y) {\n    var i,ret=0;\n    for(i in x) { if(x[i] && y[i]) ret+= x[i]*y[i]; }\n    return ret;\n}\n\nnumeric.sdot = function dot(A,B) {\n    var m = numeric.sdim(A).length, n = numeric.sdim(B).length;\n    var k = m*1000+n;\n    switch(k) {\n    case 0: return A*B;\n    case 1001: return numeric.sdotVV(A,B);\n    case 2001: return numeric.sdotMV(A,B);\n    case 1002: return numeric.sdotVM(A,B);\n    case 2002: return numeric.sdotMM(A,B);\n    default: throw new Error('numeric.sdot not implemented for tensors of order '+m+' and '+n);\n    }\n}\n\nnumeric.sscatter = function scatter(V) {\n    var n = V[0].length, Vij, i, j, m = V.length, A = [], Aj;\n    for(i=n-1;i>=0;--i) {\n        if(!V[m-1][i]) continue;\n        Aj = A;\n        for(j=0;j<m-2;j++) {\n            Vij = V[j][i];\n            if(!Aj[Vij]) Aj[Vij] = [];\n            Aj = Aj[Vij];\n        }\n        Aj[V[j][i]] = V[j+1][i];\n    }\n    return A;\n}\n\nnumeric.sgather = function gather(A,ret,k) {\n    if(typeof ret === \"undefined\") ret = [];\n    if(typeof k === \"undefined\") k = [];\n    var n,i,Ai;\n    n = k.length;\n    for(i in A) {\n        if(A.hasOwnProperty(i)) {\n            k[n] = parseInt(i);\n            Ai = A[i];\n            if(typeof Ai === \"number\") {\n                if(Ai) {\n                    if(ret.length === 0) {\n                        for(i=n+1;i>=0;--i) ret[i] = [];\n                    }\n                    for(i=n;i>=0;--i) ret[i].push(k[i]);\n                    ret[n+1].push(Ai);\n                }\n            } else gather(Ai,ret,k);\n        }\n    }\n    if(k.length>n) k.pop();\n    return ret;\n}\n\n// 6. Coordinate matrices\nnumeric.cLU = function LU(A) {\n    var I = A[0], J = A[1], V = A[2];\n    var p = I.length, m=0, i,j,k,a,b,c;\n    for(i=0;i<p;i++) if(I[i]>m) m=I[i];\n    m++;\n    var L = Array(m), U = Array(m), left = numeric.rep([m],Infinity), right = numeric.rep([m],-Infinity);\n    var Ui, Uj,alpha;\n    for(k=0;k<p;k++) {\n        i = I[k];\n        j = J[k];\n        if(j<left[i]) left[i] = j;\n        if(j>right[i]) right[i] = j;\n    }\n    for(i=0;i<m-1;i++) { if(right[i] > right[i+1]) right[i+1] = right[i]; }\n    for(i=m-1;i>=1;i--) { if(left[i]<left[i-1]) left[i-1] = left[i]; }\n    var countL = 0, countU = 0;\n    for(i=0;i<m;i++) {\n        U[i] = numeric.rep([right[i]-left[i]+1],0);\n        L[i] = numeric.rep([i-left[i]],0);\n        countL += i-left[i]+1;\n        countU += right[i]-i+1;\n    }\n    for(k=0;k<p;k++) { i = I[k]; U[i][J[k]-left[i]] = V[k]; }\n    for(i=0;i<m-1;i++) {\n        a = i-left[i];\n        Ui = U[i];\n        for(j=i+1;left[j]<=i && j<m;j++) {\n            b = i-left[j];\n            c = right[i]-i;\n            Uj = U[j];\n            alpha = Uj[b]/Ui[a];\n            if(alpha) {\n                for(k=1;k<=c;k++) { Uj[k+b] -= alpha*Ui[k+a]; }\n                L[j][i-left[j]] = alpha;\n            }\n        }\n    }\n    var Ui = [], Uj = [], Uv = [], Li = [], Lj = [], Lv = [];\n    var p,q,foo;\n    p=0; q=0;\n    for(i=0;i<m;i++) {\n        a = left[i];\n        b = right[i];\n        foo = U[i];\n        for(j=i;j<=b;j++) {\n            if(foo[j-a]) {\n                Ui[p] = i;\n                Uj[p] = j;\n                Uv[p] = foo[j-a];\n                p++;\n            }\n        }\n        foo = L[i];\n        for(j=a;j<i;j++) {\n            if(foo[j-a]) {\n                Li[q] = i;\n                Lj[q] = j;\n                Lv[q] = foo[j-a];\n                q++;\n            }\n        }\n        Li[q] = i;\n        Lj[q] = i;\n        Lv[q] = 1;\n        q++;\n    }\n    return {U:[Ui,Uj,Uv], L:[Li,Lj,Lv]};\n};\n\nnumeric.cLUsolve = function LUsolve(lu,b) {\n    var L = lu.L, U = lu.U, ret = numeric.clone(b);\n    var Li = L[0], Lj = L[1], Lv = L[2];\n    var Ui = U[0], Uj = U[1], Uv = U[2];\n    var p = Ui.length, q = Li.length;\n    var m = ret.length,i,j,k;\n    k = 0;\n    for(i=0;i<m;i++) {\n        while(Lj[k] < i) {\n            ret[i] -= Lv[k]*ret[Lj[k]];\n            k++;\n        }\n        k++;\n    }\n    k = p-1;\n    for(i=m-1;i>=0;i--) {\n        while(Uj[k] > i) {\n            ret[i] -= Uv[k]*ret[Uj[k]];\n            k--;\n        }\n        ret[i] /= Uv[k];\n        k--;\n    }\n    return ret;\n};\n\nnumeric.cgrid = function grid(n,shape) {\n    if(typeof n === \"number\") n = [n,n];\n    var ret = numeric.rep(n,-1);\n    var i,j,count;\n    if(typeof shape !== \"function\") {\n        switch(shape) {\n        case 'L':\n            shape = function(i,j) { return (i>=n[0]/2 || j<n[1]/2); }\n            break;\n        default:\n            shape = function(i,j) { return true; };\n            break;\n        }\n    }\n    count=0;\n    for(i=1;i<n[0]-1;i++) for(j=1;j<n[1]-1;j++) \n        if(shape(i,j)) {\n            ret[i][j] = count;\n            count++;\n        }\n    return ret;\n}\n\nnumeric.cdelsq = function delsq(g) {\n    var dir = [[-1,0],[0,-1],[0,1],[1,0]];\n    var s = numeric.dim(g), m = s[0], n = s[1], i,j,k,p,q;\n    var Li = [], Lj = [], Lv = [];\n    for(i=1;i<m-1;i++) for(j=1;j<n-1;j++) {\n        if(g[i][j]<0) continue;\n        for(k=0;k<4;k++) {\n            p = i+dir[k][0];\n            q = j+dir[k][1];\n            if(g[p][q]<0) continue;\n            Li.push(g[i][j]);\n            Lj.push(g[p][q]);\n            Lv.push(-1);\n        }\n        Li.push(g[i][j]);\n        Lj.push(g[i][j]);\n        Lv.push(4);\n    }\n    return [Li,Lj,Lv];\n}\n\nnumeric.cdotMV = function dotMV(A,x) {\n    var ret, Ai = A[0], Aj = A[1], Av = A[2],k,p=Ai.length,N;\n    N=0;\n    for(k=0;k<p;k++) { if(Ai[k]>N) N = Ai[k]; }\n    N++;\n    ret = numeric.rep([N],0);\n    for(k=0;k<p;k++) { ret[Ai[k]]+=Av[k]*x[Aj[k]]; }\n    return ret;\n}\n\n// 7. Splines\n\nnumeric.Spline = function Spline(x,yl,yr,kl,kr) { this.x = x; this.yl = yl; this.yr = yr; this.kl = kl; this.kr = kr; }\nnumeric.Spline.prototype._at = function _at(x1,p) {\n    var x = this.x;\n    var yl = this.yl;\n    var yr = this.yr;\n    var kl = this.kl;\n    var kr = this.kr;\n    var x1,a,b,t;\n    var add = numeric.add, sub = numeric.sub, mul = numeric.mul;\n    a = sub(mul(kl[p],x[p+1]-x[p]),sub(yr[p+1],yl[p]));\n    b = add(mul(kr[p+1],x[p]-x[p+1]),sub(yr[p+1],yl[p]));\n    t = (x1-x[p])/(x[p+1]-x[p]);\n    var s = t*(1-t);\n    return add(add(add(mul(1-t,yl[p]),mul(t,yr[p+1])),mul(a,s*(1-t))),mul(b,s*t));\n}\nnumeric.Spline.prototype.at = function at(x0) {\n    if(typeof x0 === \"number\") {\n        var x = this.x;\n        var n = x.length;\n        var p,q,mid,floor = Math.floor,a,b,t;\n        p = 0;\n        q = n-1;\n        while(q-p>1) {\n            mid = floor((p+q)/2);\n            if(x[mid] <= x0) p = mid;\n            else q = mid;\n        }\n        return this._at(x0,p);\n    }\n    var n = x0.length, i, ret = Array(n);\n    for(i=n-1;i!==-1;--i) ret[i] = this.at(x0[i]);\n    return ret;\n}\nnumeric.Spline.prototype.diff = function diff() {\n    var x = this.x;\n    var yl = this.yl;\n    var yr = this.yr;\n    var kl = this.kl;\n    var kr = this.kr;\n    var n = yl.length;\n    var i,dx,dy;\n    var zl = kl, zr = kr, pl = Array(n), pr = Array(n);\n    var add = numeric.add, mul = numeric.mul, div = numeric.div, sub = numeric.sub;\n    for(i=n-1;i!==-1;--i) {\n        dx = x[i+1]-x[i];\n        dy = sub(yr[i+1],yl[i]);\n        pl[i] = div(add(mul(dy, 6),mul(kl[i],-4*dx),mul(kr[i+1],-2*dx)),dx*dx);\n        pr[i+1] = div(add(mul(dy,-6),mul(kl[i], 2*dx),mul(kr[i+1], 4*dx)),dx*dx);\n    }\n    return new numeric.Spline(x,zl,zr,pl,pr);\n}\nnumeric.Spline.prototype.roots = function roots() {\n    function sqr(x) { return x*x; }\n    function heval(y0,y1,k0,k1,x) {\n        var A = k0*2-(y1-y0);\n        var B = -k1*2+(y1-y0);\n        var t = (x+1)*0.5;\n        var s = t*(1-t);\n        return (1-t)*y0+t*y1+A*s*(1-t)+B*s*t;\n    }\n    var ret = [];\n    var x = this.x, yl = this.yl, yr = this.yr, kl = this.kl, kr = this.kr;\n    if(typeof yl[0] === \"number\") {\n        yl = [yl];\n        yr = [yr];\n        kl = [kl];\n        kr = [kr];\n    }\n    var m = yl.length,n=x.length-1,i,j,k,y,s,t;\n    var ai,bi,ci,di, ret = Array(m),ri,k0,k1,y0,y1,A,B,D,dx,cx,stops,z0,z1,zm,t0,t1,tm;\n    var sqrt = Math.sqrt;\n    for(i=0;i!==m;++i) {\n        ai = yl[i];\n        bi = yr[i];\n        ci = kl[i];\n        di = kr[i];\n        ri = [];\n        for(j=0;j!==n;j++) {\n            if(j>0 && bi[j]*ai[j]<0) ri.push(x[j]);\n            dx = (x[j+1]-x[j]);\n            cx = x[j];\n            y0 = ai[j];\n            y1 = bi[j+1];\n            k0 = ci[j]/dx;\n            k1 = di[j+1]/dx;\n            D = sqr(k0-k1+3*(y0-y1)) + 12*k1*y0;\n            A = k1+3*y0+2*k0-3*y1;\n            B = 3*(k1+k0+2*(y0-y1));\n            if(D<=0) {\n                z0 = A/B;\n                if(z0>x[j] && z0<x[j+1]) stops = [x[j],z0,x[j+1]];\n                else stops = [x[j],x[j+1]];\n            } else {\n                z0 = (A-sqrt(D))/B;\n                z1 = (A+sqrt(D))/B;\n                stops = [x[j]];\n                if(z0>x[j] && z0<x[j+1]) stops.push(z0);\n                if(z1>x[j] && z1<x[j+1]) stops.push(z1);\n                stops.push(x[j+1]);\n            }\n            t0 = stops[0];\n            z0 = this._at(t0,j);\n            for(k=0;k<stops.length-1;k++) {\n                t1 = stops[k+1];\n                z1 = this._at(t1,j);\n                if(z0 === 0) {\n                    ri.push(t0); \n                    t0 = t1;\n                    z0 = z1;\n                    continue;\n                }\n                if(z1 === 0 || z0*z1>0) {\n                    t0 = t1;\n                    z0 = z1;\n                    continue;\n                }\n                var side = 0;\n                while(1) {\n                    tm = (z0*t1-z1*t0)/(z0-z1);\n                    if(tm <= t0 || tm >= t1) { break; }\n                    zm = this._at(tm,j);\n                    if(zm*z1>0) {\n                        t1 = tm;\n                        z1 = zm;\n                        if(side === -1) z0*=0.5;\n                        side = -1;\n                    } else if(zm*z0>0) {\n                        t0 = tm;\n                        z0 = zm;\n                        if(side === 1) z1*=0.5;\n                        side = 1;\n                    } else break;\n                }\n                ri.push(tm);\n                t0 = stops[k+1];\n                z0 = this._at(t0, j);\n            }\n            if(z1 === 0) ri.push(t1);\n        }\n        ret[i] = ri;\n    }\n    if(typeof this.yl[0] === \"number\") return ret[0];\n    return ret;\n}\nnumeric.spline = function spline(x,y,k1,kn) {\n    var n = x.length, b = [], dx = [], dy = [];\n    var i;\n    var sub = numeric.sub,mul = numeric.mul,add = numeric.add;\n    for(i=n-2;i>=0;i--) { dx[i] = x[i+1]-x[i]; dy[i] = sub(y[i+1],y[i]); }\n    if(typeof k1 === \"string\" || typeof kn === \"string\") { \n        k1 = kn = \"periodic\";\n    }\n    // Build sparse tridiagonal system\n    var T = [[],[],[]];\n    switch(typeof k1) {\n    case \"undefined\":\n        b[0] = mul(3/(dx[0]*dx[0]),dy[0]);\n        T[0].push(0,0);\n        T[1].push(0,1);\n        T[2].push(2/dx[0],1/dx[0]);\n        break;\n    case \"string\":\n        b[0] = add(mul(3/(dx[n-2]*dx[n-2]),dy[n-2]),mul(3/(dx[0]*dx[0]),dy[0]));\n        T[0].push(0,0,0);\n        T[1].push(n-2,0,1);\n        T[2].push(1/dx[n-2],2/dx[n-2]+2/dx[0],1/dx[0]);\n        break;\n    default:\n        b[0] = k1;\n        T[0].push(0);\n        T[1].push(0);\n        T[2].push(1);\n        break;\n    }\n    for(i=1;i<n-1;i++) {\n        b[i] = add(mul(3/(dx[i-1]*dx[i-1]),dy[i-1]),mul(3/(dx[i]*dx[i]),dy[i]));\n        T[0].push(i,i,i);\n        T[1].push(i-1,i,i+1);\n        T[2].push(1/dx[i-1],2/dx[i-1]+2/dx[i],1/dx[i]);\n    }\n    switch(typeof kn) {\n    case \"undefined\":\n        b[n-1] = mul(3/(dx[n-2]*dx[n-2]),dy[n-2]);\n        T[0].push(n-1,n-1);\n        T[1].push(n-2,n-1);\n        T[2].push(1/dx[n-2],2/dx[n-2]);\n        break;\n    case \"string\":\n        T[1][T[1].length-1] = 0;\n        break;\n    default:\n        b[n-1] = kn;\n        T[0].push(n-1);\n        T[1].push(n-1);\n        T[2].push(1);\n        break;\n    }\n    if(typeof b[0] !== \"number\") b = numeric.transpose(b);\n    else b = [b];\n    var k = Array(b.length);\n    if(typeof k1 === \"string\") {\n        for(i=k.length-1;i!==-1;--i) {\n            k[i] = numeric.ccsLUPSolve(numeric.ccsLUP(numeric.ccsScatter(T)),b[i]);\n            k[i][n-1] = k[i][0];\n        }\n    } else {\n        for(i=k.length-1;i!==-1;--i) {\n            k[i] = numeric.cLUsolve(numeric.cLU(T),b[i]);\n        }\n    }\n    if(typeof y[0] === \"number\") k = k[0];\n    else k = numeric.transpose(k);\n    return new numeric.Spline(x,y,y,k,k);\n}\n\n// 8. FFT\nnumeric.fftpow2 = function fftpow2(x,y) {\n    var n = x.length;\n    if(n === 1) return;\n    var cos = Math.cos, sin = Math.sin, i,j;\n    var xe = Array(n/2), ye = Array(n/2), xo = Array(n/2), yo = Array(n/2);\n    j = n/2;\n    for(i=n-1;i!==-1;--i) {\n        --j;\n        xo[j] = x[i];\n        yo[j] = y[i];\n        --i;\n        xe[j] = x[i];\n        ye[j] = y[i];\n    }\n    fftpow2(xe,ye);\n    fftpow2(xo,yo);\n    j = n/2;\n    var t,k = (-6.2831853071795864769252867665590057683943387987502116419/n),ci,si;\n    for(i=n-1;i!==-1;--i) {\n        --j;\n        if(j === -1) j = n/2-1;\n        t = k*i;\n        ci = cos(t);\n        si = sin(t);\n        x[i] = xe[j] + ci*xo[j] - si*yo[j];\n        y[i] = ye[j] + ci*yo[j] + si*xo[j];\n    }\n}\nnumeric._ifftpow2 = function _ifftpow2(x,y) {\n    var n = x.length;\n    if(n === 1) return;\n    var cos = Math.cos, sin = Math.sin, i,j;\n    var xe = Array(n/2), ye = Array(n/2), xo = Array(n/2), yo = Array(n/2);\n    j = n/2;\n    for(i=n-1;i!==-1;--i) {\n        --j;\n        xo[j] = x[i];\n        yo[j] = y[i];\n        --i;\n        xe[j] = x[i];\n        ye[j] = y[i];\n    }\n    _ifftpow2(xe,ye);\n    _ifftpow2(xo,yo);\n    j = n/2;\n    var t,k = (6.2831853071795864769252867665590057683943387987502116419/n),ci,si;\n    for(i=n-1;i!==-1;--i) {\n        --j;\n        if(j === -1) j = n/2-1;\n        t = k*i;\n        ci = cos(t);\n        si = sin(t);\n        x[i] = xe[j] + ci*xo[j] - si*yo[j];\n        y[i] = ye[j] + ci*yo[j] + si*xo[j];\n    }\n}\nnumeric.ifftpow2 = function ifftpow2(x,y) {\n    numeric._ifftpow2(x,y);\n    numeric.diveq(x,x.length);\n    numeric.diveq(y,y.length);\n}\nnumeric.convpow2 = function convpow2(ax,ay,bx,by) {\n    numeric.fftpow2(ax,ay);\n    numeric.fftpow2(bx,by);\n    var i,n = ax.length,axi,bxi,ayi,byi;\n    for(i=n-1;i!==-1;--i) {\n        axi = ax[i]; ayi = ay[i]; bxi = bx[i]; byi = by[i];\n        ax[i] = axi*bxi-ayi*byi;\n        ay[i] = axi*byi+ayi*bxi;\n    }\n    numeric.ifftpow2(ax,ay);\n}\nnumeric.T.prototype.fft = function fft() {\n    var x = this.x, y = this.y;\n    var n = x.length, log = Math.log, log2 = log(2),\n        p = Math.ceil(log(2*n-1)/log2), m = Math.pow(2,p);\n    var cx = numeric.rep([m],0), cy = numeric.rep([m],0), cos = Math.cos, sin = Math.sin;\n    var k, c = (-3.141592653589793238462643383279502884197169399375105820/n),t;\n    var a = numeric.rep([m],0), b = numeric.rep([m],0),nhalf = Math.floor(n/2);\n    for(k=0;k<n;k++) a[k] = x[k];\n    if(typeof y !== \"undefined\") for(k=0;k<n;k++) b[k] = y[k];\n    cx[0] = 1;\n    for(k=1;k<=m/2;k++) {\n        t = c*k*k;\n        cx[k] = cos(t);\n        cy[k] = sin(t);\n        cx[m-k] = cos(t);\n        cy[m-k] = sin(t)\n    }\n    var X = new numeric.T(a,b), Y = new numeric.T(cx,cy);\n    X = X.mul(Y);\n    numeric.convpow2(X.x,X.y,numeric.clone(Y.x),numeric.neg(Y.y));\n    X = X.mul(Y);\n    X.x.length = n;\n    X.y.length = n;\n    return X;\n}\nnumeric.T.prototype.ifft = function ifft() {\n    var x = this.x, y = this.y;\n    var n = x.length, log = Math.log, log2 = log(2),\n        p = Math.ceil(log(2*n-1)/log2), m = Math.pow(2,p);\n    var cx = numeric.rep([m],0), cy = numeric.rep([m],0), cos = Math.cos, sin = Math.sin;\n    var k, c = (3.141592653589793238462643383279502884197169399375105820/n),t;\n    var a = numeric.rep([m],0), b = numeric.rep([m],0),nhalf = Math.floor(n/2);\n    for(k=0;k<n;k++) a[k] = x[k];\n    if(typeof y !== \"undefined\") for(k=0;k<n;k++) b[k] = y[k];\n    cx[0] = 1;\n    for(k=1;k<=m/2;k++) {\n        t = c*k*k;\n        cx[k] = cos(t);\n        cy[k] = sin(t);\n        cx[m-k] = cos(t);\n        cy[m-k] = sin(t)\n    }\n    var X = new numeric.T(a,b), Y = new numeric.T(cx,cy);\n    X = X.mul(Y);\n    numeric.convpow2(X.x,X.y,numeric.clone(Y.x),numeric.neg(Y.y));\n    X = X.mul(Y);\n    X.x.length = n;\n    X.y.length = n;\n    return X.div(n);\n}\n\n//9. Unconstrained optimization\nnumeric.gradient = function gradient(f,x) {\n    var n = x.length;\n    var f0 = f(x);\n    if(isNaN(f0)) throw new Error('gradient: f(x) is a NaN!');\n    var max = Math.max;\n    var i,x0 = numeric.clone(x),f1,f2, J = Array(n);\n    var div = numeric.div, sub = numeric.sub,errest,roundoff,max = Math.max,eps = 1e-3,abs = Math.abs, min = Math.min;\n    var t0,t1,t2,it=0,d1,d2,N;\n    for(i=0;i<n;i++) {\n        var h = max(1e-6*f0,1e-8);\n        while(1) {\n            ++it;\n            if(it>20) { throw new Error(\"Numerical gradient fails\"); }\n            x0[i] = x[i]+h;\n            f1 = f(x0);\n            x0[i] = x[i]-h;\n            f2 = f(x0);\n            x0[i] = x[i];\n            if(isNaN(f1) || isNaN(f2)) { h/=16; continue; }\n            J[i] = (f1-f2)/(2*h);\n            t0 = x[i]-h;\n            t1 = x[i];\n            t2 = x[i]+h;\n            d1 = (f1-f0)/h;\n            d2 = (f0-f2)/h;\n            N = max(abs(J[i]),abs(f0),abs(f1),abs(f2),abs(t0),abs(t1),abs(t2),1e-8);\n            errest = min(max(abs(d1-J[i]),abs(d2-J[i]),abs(d1-d2))/N,h/N);\n            if(errest>eps) { h/=16; }\n            else break;\n            }\n    }\n    return J;\n}\n\nnumeric.uncmin = function uncmin(f,x0,tol,gradient,maxit,callback,options) {\n    var grad = numeric.gradient;\n    if(typeof options === \"undefined\") { options = {}; }\n    if(typeof tol === \"undefined\") { tol = 1e-8; }\n    if(typeof gradient === \"undefined\") { gradient = function(x) { return grad(f,x); }; }\n    if(typeof maxit === \"undefined\") maxit = 1000;\n    x0 = numeric.clone(x0);\n    var n = x0.length;\n    var f0 = f(x0),f1,df0;\n    if(isNaN(f0)) throw new Error('uncmin: f(x0) is a NaN!');\n    var max = Math.max, norm2 = numeric.norm2;\n    tol = max(tol,numeric.epsilon);\n    var step,g0,g1,H1 = options.Hinv || numeric.identity(n);\n    var dot = numeric.dot, inv = numeric.inv, sub = numeric.sub, add = numeric.add, ten = numeric.tensor, div = numeric.div, mul = numeric.mul;\n    var all = numeric.all, isfinite = numeric.isFinite, neg = numeric.neg;\n    var it=0,i,s,x1,y,Hy,Hs,ys,i0,t,nstep,t1,t2;\n    var msg = \"\";\n    g0 = gradient(x0);\n    while(it<maxit) {\n        if(typeof callback === \"function\") { if(callback(it,x0,f0,g0,H1)) { msg = \"Callback returned true\"; break; } }\n        if(!all(isfinite(g0))) { msg = \"Gradient has Infinity or NaN\"; break; }\n        step = neg(dot(H1,g0));\n        if(!all(isfinite(step))) { msg = \"Search direction has Infinity or NaN\"; break; }\n        nstep = norm2(step);\n        if(nstep < tol) { msg=\"Newton step smaller than tol\"; break; }\n        t = 1;\n        df0 = dot(g0,step);\n        // line search\n        x1 = x0;\n        while(it < maxit) {\n            if(t*nstep < tol) { break; }\n            s = mul(step,t);\n            x1 = add(x0,s);\n            f1 = f(x1);\n            if(f1-f0 >= 0.1*t*df0 || isNaN(f1)) {\n                t *= 0.5;\n                ++it;\n                continue;\n            }\n            break;\n        }\n        if(t*nstep < tol) { msg = \"Line search step size smaller than tol\"; break; }\n        if(it === maxit) { msg = \"maxit reached during line search\"; break; }\n        g1 = gradient(x1);\n        y = sub(g1,g0);\n        ys = dot(y,s);\n        Hy = dot(H1,y);\n        H1 = sub(add(H1,\n                mul(\n                        (ys+dot(y,Hy))/(ys*ys),\n                        ten(s,s)    )),\n                div(add(ten(Hy,s),ten(s,Hy)),ys));\n        x0 = x1;\n        f0 = f1;\n        g0 = g1;\n        ++it;\n    }\n    return {solution: x0, f: f0, gradient: g0, invHessian: H1, iterations:it, message: msg};\n}\n\n// 10. Ode solver (Dormand-Prince)\nnumeric.Dopri = function Dopri(x,y,f,ymid,iterations,msg,events) {\n    this.x = x;\n    this.y = y;\n    this.f = f;\n    this.ymid = ymid;\n    this.iterations = iterations;\n    this.events = events;\n    this.message = msg;\n}\nnumeric.Dopri.prototype._at = function _at(xi,j) {\n    function sqr(x) { return x*x; }\n    var sol = this;\n    var xs = sol.x;\n    var ys = sol.y;\n    var k1 = sol.f;\n    var ymid = sol.ymid;\n    var n = xs.length;\n    var x0,x1,xh,y0,y1,yh,xi;\n    var floor = Math.floor,h;\n    var c = 0.5;\n    var add = numeric.add, mul = numeric.mul,sub = numeric.sub, p,q,w;\n    x0 = xs[j];\n    x1 = xs[j+1];\n    y0 = ys[j];\n    y1 = ys[j+1];\n    h  = x1-x0;\n    xh = x0+c*h;\n    yh = ymid[j];\n    p = sub(k1[j  ],mul(y0,1/(x0-xh)+2/(x0-x1)));\n    q = sub(k1[j+1],mul(y1,1/(x1-xh)+2/(x1-x0)));\n    w = [sqr(xi - x1) * (xi - xh) / sqr(x0 - x1) / (x0 - xh),\n         sqr(xi - x0) * sqr(xi - x1) / sqr(x0 - xh) / sqr(x1 - xh),\n         sqr(xi - x0) * (xi - xh) / sqr(x1 - x0) / (x1 - xh),\n         (xi - x0) * sqr(xi - x1) * (xi - xh) / sqr(x0-x1) / (x0 - xh),\n         (xi - x1) * sqr(xi - x0) * (xi - xh) / sqr(x0-x1) / (x1 - xh)];\n    return add(add(add(add(mul(y0,w[0]),\n                           mul(yh,w[1])),\n                           mul(y1,w[2])),\n                           mul( p,w[3])),\n                           mul( q,w[4]));\n}\nnumeric.Dopri.prototype.at = function at(x) {\n    var i,j,k,floor = Math.floor;\n    if(typeof x !== \"number\") {\n        var n = x.length, ret = Array(n);\n        for(i=n-1;i!==-1;--i) {\n            ret[i] = this.at(x[i]);\n        }\n        return ret;\n    }\n    var x0 = this.x;\n    i = 0; j = x0.length-1;\n    while(j-i>1) {\n        k = floor(0.5*(i+j));\n        if(x0[k] <= x) i = k;\n        else j = k;\n    }\n    return this._at(x,i);\n}\n\nnumeric.dopri = function dopri(x0,x1,y0,f,tol,maxit,event) {\n    if(typeof tol === \"undefined\") { tol = 1e-6; }\n    if(typeof maxit === \"undefined\") { maxit = 1000; }\n    var xs = [x0], ys = [y0], k1 = [f(x0,y0)], k2,k3,k4,k5,k6,k7, ymid = [];\n    var A2 = 1/5;\n    var A3 = [3/40,9/40];\n    var A4 = [44/45,-56/15,32/9];\n    var A5 = [19372/6561,-25360/2187,64448/6561,-212/729];\n    var A6 = [9017/3168,-355/33,46732/5247,49/176,-5103/18656];\n    var b = [35/384,0,500/1113,125/192,-2187/6784,11/84];\n    var bm = [0.5*6025192743/30085553152,\n              0,\n              0.5*51252292925/65400821598,\n              0.5*-2691868925/45128329728,\n              0.5*187940372067/1594534317056,\n              0.5*-1776094331/19743644256,\n              0.5*11237099/235043384];\n    var c = [1/5,3/10,4/5,8/9,1,1];\n    var e = [-71/57600,0,71/16695,-71/1920,17253/339200,-22/525,1/40];\n    var i = 0,er,j;\n    var h = (x1-x0)/10;\n    var it = 0;\n    var add = numeric.add, mul = numeric.mul, y1,erinf;\n    var max = Math.max, min = Math.min, abs = Math.abs, norminf = numeric.norminf,pow = Math.pow;\n    var any = numeric.any, lt = numeric.lt, and = numeric.and, sub = numeric.sub;\n    var e0, e1, ev;\n    var ret = new numeric.Dopri(xs,ys,k1,ymid,-1,\"\");\n    if(typeof event === \"function\") e0 = event(x0,y0);\n    while(x0<x1 && it<maxit) {\n        ++it;\n        if(x0+h>x1) h = x1-x0;\n        k2 = f(x0+c[0]*h,                add(y0,mul(   A2*h,k1[i])));\n        k3 = f(x0+c[1]*h,            add(add(y0,mul(A3[0]*h,k1[i])),mul(A3[1]*h,k2)));\n        k4 = f(x0+c[2]*h,        add(add(add(y0,mul(A4[0]*h,k1[i])),mul(A4[1]*h,k2)),mul(A4[2]*h,k3)));\n        k5 = f(x0+c[3]*h,    add(add(add(add(y0,mul(A5[0]*h,k1[i])),mul(A5[1]*h,k2)),mul(A5[2]*h,k3)),mul(A5[3]*h,k4)));\n        k6 = f(x0+c[4]*h,add(add(add(add(add(y0,mul(A6[0]*h,k1[i])),mul(A6[1]*h,k2)),mul(A6[2]*h,k3)),mul(A6[3]*h,k4)),mul(A6[4]*h,k5)));\n        y1 = add(add(add(add(add(y0,mul(k1[i],h*b[0])),mul(k3,h*b[2])),mul(k4,h*b[3])),mul(k5,h*b[4])),mul(k6,h*b[5]));\n        k7 = f(x0+h,y1);\n        er = add(add(add(add(add(mul(k1[i],h*e[0]),mul(k3,h*e[2])),mul(k4,h*e[3])),mul(k5,h*e[4])),mul(k6,h*e[5])),mul(k7,h*e[6]));\n        if(typeof er === \"number\") erinf = abs(er);\n        else erinf = norminf(er);\n        if(erinf > tol) { // reject\n            h = 0.2*h*pow(tol/erinf,0.25);\n            if(x0+h === x0) {\n                ret.msg = \"Step size became too small\";\n                break;\n            }\n            continue;\n        }\n        ymid[i] = add(add(add(add(add(add(y0,\n                mul(k1[i],h*bm[0])),\n                mul(k3   ,h*bm[2])),\n                mul(k4   ,h*bm[3])),\n                mul(k5   ,h*bm[4])),\n                mul(k6   ,h*bm[5])),\n                mul(k7   ,h*bm[6]));\n        ++i;\n        xs[i] = x0+h;\n        ys[i] = y1;\n        k1[i] = k7;\n        if(typeof event === \"function\") {\n            var yi,xl = x0,xr = x0+0.5*h,xi;\n            e1 = event(xr,ymid[i-1]);\n            ev = and(lt(e0,0),lt(0,e1));\n            if(!any(ev)) { xl = xr; xr = x0+h; e0 = e1; e1 = event(xr,y1); ev = and(lt(e0,0),lt(0,e1)); }\n            if(any(ev)) {\n                var xc, yc, en,ei;\n                var side=0, sl = 1.0, sr = 1.0;\n                while(1) {\n                    if(typeof e0 === \"number\") xi = (sr*e1*xl-sl*e0*xr)/(sr*e1-sl*e0);\n                    else {\n                        xi = xr;\n                        for(j=e0.length-1;j!==-1;--j) {\n                            if(e0[j]<0 && e1[j]>0) xi = min(xi,(sr*e1[j]*xl-sl*e0[j]*xr)/(sr*e1[j]-sl*e0[j]));\n                        }\n                    }\n                    if(xi <= xl || xi >= xr) break;\n                    yi = ret._at(xi, i-1);\n                    ei = event(xi,yi);\n                    en = and(lt(e0,0),lt(0,ei));\n                    if(any(en)) {\n                        xr = xi;\n                        e1 = ei;\n                        ev = en;\n                        sr = 1.0;\n                        if(side === -1) sl *= 0.5;\n                        else sl = 1.0;\n                        side = -1;\n                    } else {\n                        xl = xi;\n                        e0 = ei;\n                        sl = 1.0;\n                        if(side === 1) sr *= 0.5;\n                        else sr = 1.0;\n                        side = 1;\n                    }\n                }\n                y1 = ret._at(0.5*(x0+xi),i-1);\n                ret.f[i] = f(xi,yi);\n                ret.x[i] = xi;\n                ret.y[i] = yi;\n                ret.ymid[i-1] = y1;\n                ret.events = ev;\n                ret.iterations = it;\n                return ret;\n            }\n        }\n        x0 += h;\n        y0 = y1;\n        e0 = e1;\n        h = min(0.8*h*pow(tol/erinf,0.25),4*h);\n    }\n    ret.iterations = it;\n    return ret;\n}\n\n// 11. Ax = b\nnumeric.LU = function(A, fast) {\n  fast = fast || false;\n\n  var abs = Math.abs;\n  var i, j, k, absAjk, Akk, Ak, Pk, Ai;\n  var max;\n  var n = A.length, n1 = n-1;\n  var P = new Array(n);\n  if(!fast) A = numeric.clone(A);\n\n  for (k = 0; k < n; ++k) {\n    Pk = k;\n    Ak = A[k];\n    max = abs(Ak[k]);\n    for (j = k + 1; j < n; ++j) {\n      absAjk = abs(A[j][k]);\n      if (max < absAjk) {\n        max = absAjk;\n        Pk = j;\n      }\n    }\n    P[k] = Pk;\n\n    if (Pk != k) {\n      A[k] = A[Pk];\n      A[Pk] = Ak;\n      Ak = A[k];\n    }\n\n    Akk = Ak[k];\n\n    for (i = k + 1; i < n; ++i) {\n      A[i][k] /= Akk;\n    }\n\n    for (i = k + 1; i < n; ++i) {\n      Ai = A[i];\n      for (j = k + 1; j < n1; ++j) {\n        Ai[j] -= Ai[k] * Ak[j];\n        ++j;\n        Ai[j] -= Ai[k] * Ak[j];\n      }\n      if(j===n1) Ai[j] -= Ai[k] * Ak[j];\n    }\n  }\n\n  return {\n    LU: A,\n    P:  P\n  };\n}\n\nnumeric.LUsolve = function LUsolve(LUP, b) {\n  var i, j;\n  var LU = LUP.LU;\n  var n   = LU.length;\n  var x = numeric.clone(b);\n  var P   = LUP.P;\n  var Pi, LUi, LUii, tmp;\n\n  for (i=n-1;i!==-1;--i) x[i] = b[i];\n  for (i = 0; i < n; ++i) {\n    Pi = P[i];\n    if (P[i] !== i) {\n      tmp = x[i];\n      x[i] = x[Pi];\n      x[Pi] = tmp;\n    }\n\n    LUi = LU[i];\n    for (j = 0; j < i; ++j) {\n      x[i] -= x[j] * LUi[j];\n    }\n  }\n\n  for (i = n - 1; i >= 0; --i) {\n    LUi = LU[i];\n    for (j = i + 1; j < n; ++j) {\n      x[i] -= x[j] * LUi[j];\n    }\n\n    x[i] /= LUi[i];\n  }\n\n  return x;\n}\n\nnumeric.solve = function solve(A,b,fast) { return numeric.LUsolve(numeric.LU(A,fast), b); }\n\n// 12. Linear programming\nnumeric.echelonize = function echelonize(A) {\n    var s = numeric.dim(A), m = s[0], n = s[1];\n    var I = numeric.identity(m);\n    var P = Array(m);\n    var i,j,k,l,Ai,Ii,Z,a;\n    var abs = Math.abs;\n    var diveq = numeric.diveq;\n    A = numeric.clone(A);\n    for(i=0;i<m;++i) {\n        k = 0;\n        Ai = A[i];\n        Ii = I[i];\n        for(j=1;j<n;++j) if(abs(Ai[k])<abs(Ai[j])) k=j;\n        P[i] = k;\n        diveq(Ii,Ai[k]);\n        diveq(Ai,Ai[k]);\n        for(j=0;j<m;++j) if(j!==i) {\n            Z = A[j]; a = Z[k];\n            for(l=n-1;l!==-1;--l) Z[l] -= Ai[l]*a;\n            Z = I[j];\n            for(l=m-1;l!==-1;--l) Z[l] -= Ii[l]*a;\n        }\n    }\n    return {I:I, A:A, P:P};\n}\n\nnumeric.__solveLP = function __solveLP(c,A,b,tol,maxit,x,flag) {\n    var sum = numeric.sum, log = numeric.log, mul = numeric.mul, sub = numeric.sub, dot = numeric.dot, div = numeric.div, add = numeric.add;\n    var m = c.length, n = b.length,y;\n    var unbounded = false, cb,i0=0;\n    var alpha = 1.0;\n    var f0,df0,AT = numeric.transpose(A), svd = numeric.svd,transpose = numeric.transpose,leq = numeric.leq, sqrt = Math.sqrt, abs = Math.abs;\n    var muleq = numeric.muleq;\n    var norm = numeric.norminf, any = numeric.any,min = Math.min;\n    var all = numeric.all, gt = numeric.gt;\n    var p = Array(m), A0 = Array(n),e=numeric.rep([n],1), H;\n    var solve = numeric.solve, z = sub(b,dot(A,x)),count;\n    var dotcc = dot(c,c);\n    var g;\n    for(count=i0;count<maxit;++count) {\n        var i,j,d;\n        for(i=n-1;i!==-1;--i) A0[i] = div(A[i],z[i]);\n        var A1 = transpose(A0);\n        for(i=m-1;i!==-1;--i) p[i] = (/*x[i]+*/sum(A1[i]));\n        alpha = 0.25*abs(dotcc/dot(c,p));\n        var a1 = 100*sqrt(dotcc/dot(p,p));\n        if(!isFinite(alpha) || alpha>a1) alpha = a1;\n        g = add(c,mul(alpha,p));\n        H = dot(A1,A0);\n        for(i=m-1;i!==-1;--i) H[i][i] += 1;\n        d = solve(H,div(g,alpha),true);\n        var t0 = div(z,dot(A,d));\n        var t = 1.0;\n        for(i=n-1;i!==-1;--i) if(t0[i]<0) t = min(t,-0.999*t0[i]);\n        y = sub(x,mul(d,t));\n        z = sub(b,dot(A,y));\n        if(!all(gt(z,0))) return { solution: x, message: \"\", iterations: count };\n        x = y;\n        if(alpha<tol) return { solution: y, message: \"\", iterations: count };\n        if(flag) {\n            var s = dot(c,g), Ag = dot(A,g);\n            unbounded = true;\n            for(i=n-1;i!==-1;--i) if(s*Ag[i]<0) { unbounded = false; break; }\n        } else {\n            if(x[m-1]>=0) unbounded = false;\n            else unbounded = true;\n        }\n        if(unbounded) return { solution: y, message: \"Unbounded\", iterations: count };\n    }\n    return { solution: x, message: \"maximum iteration count exceeded\", iterations:count };\n}\n\nnumeric._solveLP = function _solveLP(c,A,b,tol,maxit) {\n    var m = c.length, n = b.length,y;\n    var sum = numeric.sum, log = numeric.log, mul = numeric.mul, sub = numeric.sub, dot = numeric.dot, div = numeric.div, add = numeric.add;\n    var c0 = numeric.rep([m],0).concat([1]);\n    var J = numeric.rep([n,1],-1);\n    var A0 = numeric.blockMatrix([[A                   ,   J  ]]);\n    var b0 = b;\n    var y = numeric.rep([m],0).concat(Math.max(0,numeric.sup(numeric.neg(b)))+1);\n    var x0 = numeric.__solveLP(c0,A0,b0,tol,maxit,y,false);\n    var x = numeric.clone(x0.solution);\n    x.length = m;\n    var foo = numeric.inf(sub(b,dot(A,x)));\n    if(foo<0) { return { solution: NaN, message: \"Infeasible\", iterations: x0.iterations }; }\n    var ret = numeric.__solveLP(c, A, b, tol, maxit-x0.iterations, x, true);\n    ret.iterations += x0.iterations;\n    return ret;\n};\n\nnumeric.solveLP = function solveLP(c,A,b,Aeq,beq,tol,maxit) {\n    if(typeof maxit === \"undefined\") maxit = 1000;\n    if(typeof tol === \"undefined\") tol = numeric.epsilon;\n    if(typeof Aeq === \"undefined\") return numeric._solveLP(c,A,b,tol,maxit);\n    var m = Aeq.length, n = Aeq[0].length, o = A.length;\n    var B = numeric.echelonize(Aeq);\n    var flags = numeric.rep([n],0);\n    var P = B.P;\n    var Q = [];\n    var i;\n    for(i=P.length-1;i!==-1;--i) flags[P[i]] = 1;\n    for(i=n-1;i!==-1;--i) if(flags[i]===0) Q.push(i);\n    var g = numeric.getRange;\n    var I = numeric.linspace(0,m-1), J = numeric.linspace(0,o-1);\n    var Aeq2 = g(Aeq,I,Q), A1 = g(A,J,P), A2 = g(A,J,Q), dot = numeric.dot, sub = numeric.sub;\n    var A3 = dot(A1,B.I);\n    var A4 = sub(A2,dot(A3,Aeq2)), b4 = sub(b,dot(A3,beq));\n    var c1 = Array(P.length), c2 = Array(Q.length);\n    for(i=P.length-1;i!==-1;--i) c1[i] = c[P[i]];\n    for(i=Q.length-1;i!==-1;--i) c2[i] = c[Q[i]];\n    var c4 = sub(c2,dot(c1,dot(B.I,Aeq2)));\n    var S = numeric._solveLP(c4,A4,b4,tol,maxit);\n    var x2 = S.solution;\n    if(x2!==x2) return S;\n    var x1 = dot(B.I,sub(beq,dot(Aeq2,x2)));\n    var x = Array(c.length);\n    for(i=P.length-1;i!==-1;--i) x[P[i]] = x1[i];\n    for(i=Q.length-1;i!==-1;--i) x[Q[i]] = x2[i];\n    return { solution: x, message:S.message, iterations: S.iterations };\n}\n\nnumeric.MPStoLP = function MPStoLP(MPS) {\n    if(MPS instanceof String) { MPS.split('\\n'); }\n    var state = 0;\n    var states = ['Initial state','NAME','ROWS','COLUMNS','RHS','BOUNDS','ENDATA'];\n    var n = MPS.length;\n    var i,j,z,N=0,rows = {}, sign = [], rl = 0, vars = {}, nv = 0;\n    var name;\n    var c = [], A = [], b = [];\n    function err(e) { throw new Error('MPStoLP: '+e+'\\nLine '+i+': '+MPS[i]+'\\nCurrent state: '+states[state]+'\\n'); }\n    for(i=0;i<n;++i) {\n        z = MPS[i];\n        var w0 = z.match(/\\S*/g);\n        var w = [];\n        for(j=0;j<w0.length;++j) if(w0[j]!==\"\") w.push(w0[j]);\n        if(w.length === 0) continue;\n        for(j=0;j<states.length;++j) if(z.substr(0,states[j].length) === states[j]) break;\n        if(j<states.length) {\n            state = j;\n            if(j===1) { name = w[1]; }\n            if(j===6) return { name:name, c:c, A:numeric.transpose(A), b:b, rows:rows, vars:vars };\n            continue;\n        }\n        switch(state) {\n        case 0: case 1: err('Unexpected line');\n        case 2: \n            switch(w[0]) {\n            case 'N': if(N===0) N = w[1]; else err('Two or more N rows'); break;\n            case 'L': rows[w[1]] = rl; sign[rl] = 1; b[rl] = 0; ++rl; break;\n            case 'G': rows[w[1]] = rl; sign[rl] = -1;b[rl] = 0; ++rl; break;\n            case 'E': rows[w[1]] = rl; sign[rl] = 0;b[rl] = 0; ++rl; break;\n            default: err('Parse error '+numeric.prettyPrint(w));\n            }\n            break;\n        case 3:\n            if(!vars.hasOwnProperty(w[0])) { vars[w[0]] = nv; c[nv] = 0; A[nv] = numeric.rep([rl],0); ++nv; }\n            var p = vars[w[0]];\n            for(j=1;j<w.length;j+=2) {\n                if(w[j] === N) { c[p] = parseFloat(w[j+1]); continue; }\n                var q = rows[w[j]];\n                A[p][q] = (sign[q]<0?-1:1)*parseFloat(w[j+1]);\n            }\n            break;\n        case 4:\n            for(j=1;j<w.length;j+=2) b[rows[w[j]]] = (sign[rows[w[j]]]<0?-1:1)*parseFloat(w[j+1]);\n            break;\n        case 5: /*FIXME*/ break;\n        case 6: err('Internal error');\n        }\n    }\n    err('Reached end of file without ENDATA');\n}\n// seedrandom.js version 2.0.\n// Author: David Bau 4/2/2011\n//\n// Defines a method Math.seedrandom() that, when called, substitutes\n// an explicitly seeded RC4-based algorithm for Math.random().  Also\n// supports automatic seeding from local or network sources of entropy.\n//\n// Usage:\n//\n//   <script src=http://davidbau.com/encode/seedrandom-min.js></script>\n//\n//   Math.seedrandom('yipee'); Sets Math.random to a function that is\n//                             initialized using the given explicit seed.\n//\n//   Math.seedrandom();        Sets Math.random to a function that is\n//                             seeded using the current time, dom state,\n//                             and other accumulated local entropy.\n//                             The generated seed string is returned.\n//\n//   Math.seedrandom('yowza', true);\n//                             Seeds using the given explicit seed mixed\n//                             together with accumulated entropy.\n//\n//   <script src=\"http://bit.ly/srandom-512\"></script>\n//                             Seeds using physical random bits downloaded\n//                             from random.org.\n//\n//   <script src=\"https://jsonlib.appspot.com/urandom?callback=Math.seedrandom\">\n//   </script>                 Seeds using urandom bits from call.jsonlib.com,\n//                             which is faster than random.org.\n//\n// Examples:\n//\n//   Math.seedrandom(\"hello\");            // Use \"hello\" as the seed.\n//   document.write(Math.random());       // Always 0.5463663768140734\n//   document.write(Math.random());       // Always 0.43973793770592234\n//   var rng1 = Math.random;              // Remember the current prng.\n//\n//   var autoseed = Math.seedrandom();    // New prng with an automatic seed.\n//   document.write(Math.random());       // Pretty much unpredictable.\n//\n//   Math.random = rng1;                  // Continue \"hello\" prng sequence.\n//   document.write(Math.random());       // Always 0.554769432473455\n//\n//   Math.seedrandom(autoseed);           // Restart at the previous seed.\n//   document.write(Math.random());       // Repeat the 'unpredictable' value.\n//\n// Notes:\n//\n// Each time seedrandom('arg') is called, entropy from the passed seed\n// is accumulated in a pool to help generate future seeds for the\n// zero-argument form of Math.seedrandom, so entropy can be injected over\n// time by calling seedrandom with explicit data repeatedly.\n//\n// On speed - This javascript implementation of Math.random() is about\n// 3-10x slower than the built-in Math.random() because it is not native\n// code, but this is typically fast enough anyway.  Seeding is more expensive,\n// especially if you use auto-seeding.  Some details (timings on Chrome 4):\n//\n// Our Math.random()            - avg less than 0.002 milliseconds per call\n// seedrandom('explicit')       - avg less than 0.5 milliseconds per call\n// seedrandom('explicit', true) - avg less than 2 milliseconds per call\n// seedrandom()                 - avg about 38 milliseconds per call\n//\n// LICENSE (BSD):\n//\n// Copyright 2010 David Bau, all rights reserved.\n//\n// Redistribution and use in source and binary forms, with or without\n// modification, are permitted provided that the following conditions are met:\n// \n//   1. Redistributions of source code must retain the above copyright\n//      notice, this list of conditions and the following disclaimer.\n//\n//   2. Redistributions in binary form must reproduce the above copyright\n//      notice, this list of conditions and the following disclaimer in the\n//      documentation and/or other materials provided with the distribution.\n// \n//   3. Neither the name of this module nor the names of its contributors may\n//      be used to endorse or promote products derived from this software\n//      without specific prior written permission.\n// \n// THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS\n// \"AS IS\" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT\n// LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR\n// A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT\n// OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,\n// SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT\n// LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,\n// DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY\n// THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n// (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE\n// OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n//\n/**\n * All code is in an anonymous closure to keep the global namespace clean.\n *\n * @param {number=} overflow \n * @param {number=} startdenom\n */\n\n// Patched by Seb so that seedrandom.js does not pollute the Math object.\n// My tests suggest that doing Math.trouble = 1 makes Math lookups about 5%\n// slower.\nnumeric.seedrandom = { pow:Math.pow, random:Math.random };\n\n(function (pool, math, width, chunks, significance, overflow, startdenom) {\n\n\n//\n// seedrandom()\n// This is the seedrandom function described above.\n//\nmath['seedrandom'] = function seedrandom(seed, use_entropy) {\n  var key = [];\n  var arc4;\n\n  // Flatten the seed string or build one from local entropy if needed.\n  seed = mixkey(flatten(\n    use_entropy ? [seed, pool] :\n    arguments.length ? seed :\n    [new Date().getTime(), pool, window], 3), key);\n\n  // Use the seed to initialize an ARC4 generator.\n  arc4 = new ARC4(key);\n\n  // Mix the randomness into accumulated entropy.\n  mixkey(arc4.S, pool);\n\n  // Override Math.random\n\n  // This function returns a random double in [0, 1) that contains\n  // randomness in every bit of the mantissa of the IEEE 754 value.\n\n  math['random'] = function random() {  // Closure to return a random double:\n    var n = arc4.g(chunks);             // Start with a numerator n < 2 ^ 48\n    var d = startdenom;                 //   and denominator d = 2 ^ 48.\n    var x = 0;                          //   and no 'extra last byte'.\n    while (n < significance) {          // Fill up all significant digits by\n      n = (n + x) * width;              //   shifting numerator and\n      d *= width;                       //   denominator and generating a\n      x = arc4.g(1);                    //   new least-significant-byte.\n    }\n    while (n >= overflow) {             // To avoid rounding up, before adding\n      n /= 2;                           //   last byte, shift everything\n      d /= 2;                           //   right using integer math until\n      x >>>= 1;                         //   we have exactly the desired bits.\n    }\n    return (n + x) / d;                 // Form the number within [0, 1).\n  };\n\n  // Return the seed that was used\n  return seed;\n};\n\n//\n// ARC4\n//\n// An ARC4 implementation.  The constructor takes a key in the form of\n// an array of at most (width) integers that should be 0 <= x < (width).\n//\n// The g(count) method returns a pseudorandom integer that concatenates\n// the next (count) outputs from ARC4.  Its return value is a number x\n// that is in the range 0 <= x < (width ^ count).\n//\n/** @constructor */\nfunction ARC4(key) {\n  var t, u, me = this, keylen = key.length;\n  var i = 0, j = me.i = me.j = me.m = 0;\n  me.S = [];\n  me.c = [];\n\n  // The empty key [] is treated as [0].\n  if (!keylen) { key = [keylen++]; }\n\n  // Set up S using the standard key scheduling algorithm.\n  while (i < width) { me.S[i] = i++; }\n  for (i = 0; i < width; i++) {\n    t = me.S[i];\n    j = lowbits(j + t + key[i % keylen]);\n    u = me.S[j];\n    me.S[i] = u;\n    me.S[j] = t;\n  }\n\n  // The \"g\" method returns the next (count) outputs as one number.\n  me.g = function getnext(count) {\n    var s = me.S;\n    var i = lowbits(me.i + 1); var t = s[i];\n    var j = lowbits(me.j + t); var u = s[j];\n    s[i] = u;\n    s[j] = t;\n    var r = s[lowbits(t + u)];\n    while (--count) {\n      i = lowbits(i + 1); t = s[i];\n      j = lowbits(j + t); u = s[j];\n      s[i] = u;\n      s[j] = t;\n      r = r * width + s[lowbits(t + u)];\n    }\n    me.i = i;\n    me.j = j;\n    return r;\n  };\n  // For robust unpredictability discard an initial batch of values.\n  // See http://www.rsa.com/rsalabs/node.asp?id=2009\n  me.g(width);\n}\n\n//\n// flatten()\n// Converts an object tree to nested arrays of strings.\n//\n/** @param {Object=} result \n  * @param {string=} prop\n  * @param {string=} typ */\nfunction flatten(obj, depth, result, prop, typ) {\n  result = [];\n  typ = typeof(obj);\n  if (depth && typ == 'object') {\n    for (prop in obj) {\n      if (prop.indexOf('S') < 5) {    // Avoid FF3 bug (local/sessionStorage)\n        try { result.push(flatten(obj[prop], depth - 1)); } catch (e) {}\n      }\n    }\n  }\n  return (result.length ? result : obj + (typ != 'string' ? '\\0' : ''));\n}\n\n//\n// mixkey()\n// Mixes a string seed into a key that is an array of integers, and\n// returns a shortened string seed that is equivalent to the result key.\n//\n/** @param {number=} smear \n  * @param {number=} j */\nfunction mixkey(seed, key, smear, j) {\n  seed += '';                         // Ensure the seed is a string\n  smear = 0;\n  for (j = 0; j < seed.length; j++) {\n    key[lowbits(j)] =\n      lowbits((smear ^= key[lowbits(j)] * 19) + seed.charCodeAt(j));\n  }\n  seed = '';\n  for (j in key) { seed += String.fromCharCode(key[j]); }\n  return seed;\n}\n\n//\n// lowbits()\n// A quick \"n mod width\" for width a power of 2.\n//\nfunction lowbits(n) { return n & (width - 1); }\n\n//\n// The following constants are related to IEEE 754 limits.\n//\nstartdenom = math.pow(width, chunks);\nsignificance = math.pow(2, significance);\noverflow = significance * 2;\n\n//\n// When seedrandom.js is loaded, we immediately mix a few bits\n// from the built-in RNG into the entropy pool.  Because we do\n// not want to intefere with determinstic PRNG state later,\n// seedrandom will not call math.random on its own again after\n// initialization.\n//\nmixkey(math.random(), pool);\n\n// End anonymous scope, and pass initial values.\n}(\n  [],   // pool: entropy pool starts empty\n  numeric.seedrandom, // math: package containing random, pow, and seedrandom\n  256,  // width: each RC4 output is 0 <= x < 256\n  6,    // chunks: at least six RC4 outputs for each double\n  52    // significance: there are 52 significant digits in a double\n  ));\n/* This file is a slightly modified version of quadprog.js from Alberto Santini.\n * It has been slightly modified by Sbastien Loisel to make sure that it handles\n * 0-based Arrays instead of 1-based Arrays.\n * License is in resources/LICENSE.quadprog */\n(function(exports) {\n\nfunction base0to1(A) {\n    if(typeof A !== \"object\") { return A; }\n    var ret = [], i,n=A.length;\n    for(i=0;i<n;i++) ret[i+1] = base0to1(A[i]);\n    return ret;\n}\nfunction base1to0(A) {\n    if(typeof A !== \"object\") { return A; }\n    var ret = [], i,n=A.length;\n    for(i=1;i<n;i++) ret[i-1] = base1to0(A[i]);\n    return ret;\n}\n\nfunction dpori(a, lda, n) {\n    var i, j, k, kp1, t;\n\n    for (k = 1; k <= n; k = k + 1) {\n        a[k][k] = 1 / a[k][k];\n        t = -a[k][k];\n        //~ dscal(k - 1, t, a[1][k], 1);\n        for (i = 1; i < k; i = i + 1) {\n            a[i][k] = t * a[i][k];\n        }\n\n        kp1 = k + 1;\n        if (n < kp1) {\n            break;\n        }\n        for (j = kp1; j <= n; j = j + 1) {\n            t = a[k][j];\n            a[k][j] = 0;\n            //~ daxpy(k, t, a[1][k], 1, a[1][j], 1);\n            for (i = 1; i <= k; i = i + 1) {\n                a[i][j] = a[i][j] + (t * a[i][k]);\n            }\n        }\n    }\n\n}\n\nfunction dposl(a, lda, n, b) {\n    var i, k, kb, t;\n\n    for (k = 1; k <= n; k = k + 1) {\n        //~ t = ddot(k - 1, a[1][k], 1, b[1], 1);\n        t = 0;\n        for (i = 1; i < k; i = i + 1) {\n            t = t + (a[i][k] * b[i]);\n        }\n\n        b[k] = (b[k] - t) / a[k][k];\n    }\n\n    for (kb = 1; kb <= n; kb = kb + 1) {\n        k = n + 1 - kb;\n        b[k] = b[k] / a[k][k];\n        t = -b[k];\n        //~ daxpy(k - 1, t, a[1][k], 1, b[1], 1);\n        for (i = 1; i < k; i = i + 1) {\n            b[i] = b[i] + (t * a[i][k]);\n        }\n    }\n}\n\nfunction dpofa(a, lda, n, info) {\n    var i, j, jm1, k, t, s;\n\n    for (j = 1; j <= n; j = j + 1) {\n        info[1] = j;\n        s = 0;\n        jm1 = j - 1;\n        if (jm1 < 1) {\n            s = a[j][j] - s;\n            if (s <= 0) {\n                break;\n            }\n            a[j][j] = Math.sqrt(s);\n        } else {\n            for (k = 1; k <= jm1; k = k + 1) {\n                //~ t = a[k][j] - ddot(k - 1, a[1][k], 1, a[1][j], 1);\n                t = a[k][j];\n                for (i = 1; i < k; i = i + 1) {\n                    t = t - (a[i][j] * a[i][k]);\n                }\n                t = t / a[k][k];\n                a[k][j] = t;\n                s = s + t * t;\n            }\n            s = a[j][j] - s;\n            if (s <= 0) {\n                break;\n            }\n            a[j][j] = Math.sqrt(s);\n        }\n        info[1] = 0;\n    }\n}\n\nfunction qpgen2(dmat, dvec, fddmat, n, sol, crval, amat,\n    bvec, fdamat, q, meq, iact, nact, iter, work, ierr) {\n\n    var i, j, l, l1, info, it1, iwzv, iwrv, iwrm, iwsv, iwuv, nvl, r, iwnbv,\n        temp, sum, t1, tt, gc, gs, nu,\n        t1inf, t2min,\n        vsmall, tmpa, tmpb,\n        go;\n\n    r = Math.min(n, q);\n    l = 2 * n + (r * (r + 5)) / 2 + 2 * q + 1;\n\n    vsmall = 1.0e-60;\n    do {\n        vsmall = vsmall + vsmall;\n        tmpa = 1 + 0.1 * vsmall;\n        tmpb = 1 + 0.2 * vsmall;\n    } while (tmpa <= 1 || tmpb <= 1);\n\n    for (i = 1; i <= n; i = i + 1) {\n        work[i] = dvec[i];\n    }\n    for (i = n + 1; i <= l; i = i + 1) {\n        work[i] = 0;\n    }\n    for (i = 1; i <= q; i = i + 1) {\n        iact[i] = 0;\n    }\n\n    info = [];\n\n    if (ierr[1] === 0) {\n        dpofa(dmat, fddmat, n, info);\n        if (info[1] !== 0) {\n            ierr[1] = 2;\n            return;\n        }\n        dposl(dmat, fddmat, n, dvec);\n        dpori(dmat, fddmat, n);\n    } else {\n        for (j = 1; j <= n; j = j + 1) {\n            sol[j] = 0;\n            for (i = 1; i <= j; i = i + 1) {\n                sol[j] = sol[j] + dmat[i][j] * dvec[i];\n            }\n        }\n        for (j = 1; j <= n; j = j + 1) {\n            dvec[j] = 0;\n            for (i = j; i <= n; i = i + 1) {\n                dvec[j] = dvec[j] + dmat[j][i] * sol[i];\n            }\n        }\n    }\n\n    crval[1] = 0;\n    for (j = 1; j <= n; j = j + 1) {\n        sol[j] = dvec[j];\n        crval[1] = crval[1] + work[j] * sol[j];\n        work[j] = 0;\n        for (i = j + 1; i <= n; i = i + 1) {\n            dmat[i][j] = 0;\n        }\n    }\n    crval[1] = -crval[1] / 2;\n    ierr[1] = 0;\n\n    iwzv = n;\n    iwrv = iwzv + n;\n    iwuv = iwrv + r;\n    iwrm = iwuv + r + 1;\n    iwsv = iwrm + (r * (r + 1)) / 2;\n    iwnbv = iwsv + q;\n\n    for (i = 1; i <= q; i = i + 1) {\n        sum = 0;\n        for (j = 1; j <= n; j = j + 1) {\n            sum = sum + amat[j][i] * amat[j][i];\n        }\n        work[iwnbv + i] = Math.sqrt(sum);\n    }\n    nact = 0;\n    iter[1] = 0;\n    iter[2] = 0;\n\n    function fn_goto_50() {\n        iter[1] = iter[1] + 1;\n\n        l = iwsv;\n        for (i = 1; i <= q; i = i + 1) {\n            l = l + 1;\n            sum = -bvec[i];\n            for (j = 1; j <= n; j = j + 1) {\n                sum = sum + amat[j][i] * sol[j];\n            }\n            if (Math.abs(sum) < vsmall) {\n                sum = 0;\n            }\n            if (i > meq) {\n                work[l] = sum;\n            } else {\n                work[l] = -Math.abs(sum);\n                if (sum > 0) {\n                    for (j = 1; j <= n; j = j + 1) {\n                        amat[j][i] = -amat[j][i];\n                    }\n                    bvec[i] = -bvec[i];\n                }\n            }\n        }\n\n        for (i = 1; i <= nact; i = i + 1) {\n            work[iwsv + iact[i]] = 0;\n        }\n\n        nvl = 0;\n        temp = 0;\n        for (i = 1; i <= q; i = i + 1) {\n            if (work[iwsv + i] < temp * work[iwnbv + i]) {\n                nvl = i;\n                temp = work[iwsv + i] / work[iwnbv + i];\n            }\n        }\n        if (nvl === 0) {\n            return 999;\n        }\n\n        return 0;\n    }\n\n    function fn_goto_55() {\n        for (i = 1; i <= n; i = i + 1) {\n            sum = 0;\n            for (j = 1; j <= n; j = j + 1) {\n                sum = sum + dmat[j][i] * amat[j][nvl];\n            }\n            work[i] = sum;\n        }\n\n        l1 = iwzv;\n        for (i = 1; i <= n; i = i + 1) {\n            work[l1 + i] = 0;\n        }\n        for (j = nact + 1; j <= n; j = j + 1) {\n            for (i = 1; i <= n; i = i + 1) {\n                work[l1 + i] = work[l1 + i] + dmat[i][j] * work[j];\n            }\n        }\n\n        t1inf = true;\n        for (i = nact; i >= 1; i = i - 1) {\n            sum = work[i];\n            l = iwrm + (i * (i + 3)) / 2;\n            l1 = l - i;\n            for (j = i + 1; j <= nact; j = j + 1) {\n                sum = sum - work[l] * work[iwrv + j];\n                l = l + j;\n            }\n            sum = sum / work[l1];\n            work[iwrv + i] = sum;\n            if (iact[i] < meq) {\n                // continue;\n                break;\n            }\n            if (sum < 0) {\n                // continue;\n                break;\n            }\n            t1inf = false;\n            it1 = i;\n        }\n\n        if (!t1inf) {\n            t1 = work[iwuv + it1] / work[iwrv + it1];\n            for (i = 1; i <= nact; i = i + 1) {\n                if (iact[i] < meq) {\n                    // continue;\n                    break;\n                }\n                if (work[iwrv + i] < 0) {\n                    // continue;\n                    break;\n                }\n                temp = work[iwuv + i] / work[iwrv + i];\n                if (temp < t1) {\n                    t1 = temp;\n                    it1 = i;\n                }\n            }\n        }\n\n        sum = 0;\n        for (i = iwzv + 1; i <= iwzv + n; i = i + 1) {\n            sum = sum + work[i] * work[i];\n        }\n        if (Math.abs(sum) <= vsmall) {\n            if (t1inf) {\n                ierr[1] = 1;\n                // GOTO 999\n                return 999;\n            } else {\n                for (i = 1; i <= nact; i = i + 1) {\n                    work[iwuv + i] = work[iwuv + i] - t1 * work[iwrv + i];\n                }\n                work[iwuv + nact + 1] = work[iwuv + nact + 1] + t1;\n                // GOTO 700\n                return 700;\n            }\n        } else {\n            sum = 0;\n            for (i = 1; i <= n; i = i + 1) {\n                sum = sum + work[iwzv + i] * amat[i][nvl];\n            }\n            tt = -work[iwsv + nvl] / sum;\n            t2min = true;\n            if (!t1inf) {\n                if (t1 < tt) {\n                    tt = t1;\n                    t2min = false;\n                }\n            }\n\n            for (i = 1; i <= n; i = i + 1) {\n                sol[i] = sol[i] + tt * work[iwzv + i];\n                if (Math.abs(sol[i]) < vsmall) {\n                    sol[i] = 0;\n                }\n            }\n\n            crval[1] = crval[1] + tt * sum * (tt / 2 + work[iwuv + nact + 1]);\n            for (i = 1; i <= nact; i = i + 1) {\n                work[iwuv + i] = work[iwuv + i] - tt * work[iwrv + i];\n            }\n            work[iwuv + nact + 1] = work[iwuv + nact + 1] + tt;\n\n            if (t2min) {\n                nact = nact + 1;\n                iact[nact] = nvl;\n\n                l = iwrm + ((nact - 1) * nact) / 2 + 1;\n                for (i = 1; i <= nact - 1; i = i + 1) {\n                    work[l] = work[i];\n                    l = l + 1;\n                }\n\n                if (nact === n) {\n                    work[l] = work[n];\n                } else {\n                    for (i = n; i >= nact + 1; i = i - 1) {\n                        if (work[i] === 0) {\n                            // continue;\n                            break;\n                        }\n                        gc = Math.max(Math.abs(work[i - 1]), Math.abs(work[i]));\n                        gs = Math.min(Math.abs(work[i - 1]), Math.abs(work[i]));\n                        if (work[i - 1] >= 0) {\n                            temp = Math.abs(gc * Math.sqrt(1 + gs * gs / (gc * gc)));\n                        } else {\n                            temp = -Math.abs(gc * Math.sqrt(1 + gs * gs / (gc * gc)));\n                        }\n                        gc = work[i - 1] / temp;\n                        gs = work[i] / temp;\n\n                        if (gc === 1) {\n                            // continue;\n                            break;\n                        }\n                        if (gc === 0) {\n                            work[i - 1] = gs * temp;\n                            for (j = 1; j <= n; j = j + 1) {\n                                temp = dmat[j][i - 1];\n                                dmat[j][i - 1] = dmat[j][i];\n                                dmat[j][i] = temp;\n                            }\n                        } else {\n                            work[i - 1] = temp;\n                            nu = gs / (1 + gc);\n                            for (j = 1; j <= n; j = j + 1) {\n                                temp = gc * dmat[j][i - 1] + gs * dmat[j][i];\n                                dmat[j][i] = nu * (dmat[j][i - 1] + temp) - dmat[j][i];\n                                dmat[j][i - 1] = temp;\n\n                            }\n                        }\n                    }\n                    work[l] = work[nact];\n                }\n            } else {\n                sum = -bvec[nvl];\n                for (j = 1; j <= n; j = j + 1) {\n                    sum = sum + sol[j] * amat[j][nvl];\n                }\n                if (nvl > meq) {\n                    work[iwsv + nvl] = sum;\n                } else {\n                    work[iwsv + nvl] = -Math.abs(sum);\n                    if (sum > 0) {\n                        for (j = 1; j <= n; j = j + 1) {\n                            amat[j][nvl] = -amat[j][nvl];\n                        }\n                        bvec[nvl] = -bvec[nvl];\n                    }\n                }\n                // GOTO 700\n                return 700;\n            }\n        }\n\n        return 0;\n    }\n\n    function fn_goto_797() {\n        l = iwrm + (it1 * (it1 + 1)) / 2 + 1;\n        l1 = l + it1;\n        if (work[l1] === 0) {\n            // GOTO 798\n            return 798;\n        }\n        gc = Math.max(Math.abs(work[l1 - 1]), Math.abs(work[l1]));\n        gs = Math.min(Math.abs(work[l1 - 1]), Math.abs(work[l1]));\n        if (work[l1 - 1] >= 0) {\n            temp = Math.abs(gc * Math.sqrt(1 + gs * gs / (gc * gc)));\n        } else {\n            temp = -Math.abs(gc * Math.sqrt(1 + gs * gs / (gc * gc)));\n        }\n        gc = work[l1 - 1] / temp;\n        gs = work[l1] / temp;\n\n        if (gc === 1) {\n            // GOTO 798\n            return 798;\n        }\n        if (gc === 0) {\n            for (i = it1 + 1; i <= nact; i = i + 1) {\n                temp = work[l1 - 1];\n                work[l1 - 1] = work[l1];\n                work[l1] = temp;\n                l1 = l1 + i;\n            }\n            for (i = 1; i <= n; i = i + 1) {\n                temp = dmat[i][it1];\n                dmat[i][it1] = dmat[i][it1 + 1];\n                dmat[i][it1 + 1] = temp;\n            }\n        } else {\n            nu = gs / (1 + gc);\n            for (i = it1 + 1; i <= nact; i = i + 1) {\n                temp = gc * work[l1 - 1] + gs * work[l1];\n                work[l1] = nu * (work[l1 - 1] + temp) - work[l1];\n                work[l1 - 1] = temp;\n                l1 = l1 + i;\n            }\n            for (i = 1; i <= n; i = i + 1) {\n                temp = gc * dmat[i][it1] + gs * dmat[i][it1 + 1];\n                dmat[i][it1 + 1] = nu * (dmat[i][it1] + temp) - dmat[i][it1 + 1];\n                dmat[i][it1] = temp;\n            }\n        }\n\n        return 0;\n    }\n\n    function fn_goto_798() {\n        l1 = l - it1;\n        for (i = 1; i <= it1; i = i + 1) {\n            work[l1] = work[l];\n            l = l + 1;\n            l1 = l1 + 1;\n        }\n\n        work[iwuv + it1] = work[iwuv + it1 + 1];\n        iact[it1] = iact[it1 + 1];\n        it1 = it1 + 1;\n        if (it1 < nact) {\n            // GOTO 797\n            return 797;\n        }\n\n        return 0;\n    }\n\n    function fn_goto_799() {\n        work[iwuv + nact] = work[iwuv + nact + 1];\n        work[iwuv + nact + 1] = 0;\n        iact[nact] = 0;\n        nact = nact - 1;\n        iter[2] = iter[2] + 1;\n\n        return 0;\n    }\n\n    go = 0;\n    while (true) {\n        go = fn_goto_50();\n        if (go === 999) {\n            return;\n        }\n        while (true) {\n            go = fn_goto_55();\n            if (go === 0) {\n                break;\n            }\n            if (go === 999) {\n                return;\n            }\n            if (go === 700) {\n                if (it1 === nact) {\n                    fn_goto_799();\n                } else {\n                    while (true) {\n                        fn_goto_797();\n                        go = fn_goto_798();\n                        if (go !== 797) {\n                            break;\n                        }\n                    }\n                    fn_goto_799();\n                }\n            }\n        }\n    }\n\n}\n\nfunction solveQP(Dmat, dvec, Amat, bvec, meq, factorized) {\n    Dmat = base0to1(Dmat);\n    dvec = base0to1(dvec);\n    Amat = base0to1(Amat);\n    var i, n, q,\n        nact, r,\n        crval = [], iact = [], sol = [], work = [], iter = [],\n        message;\n\n    meq = meq || 0;\n    factorized = factorized ? base0to1(factorized) : [undefined, 0];\n    bvec = bvec ? base0to1(bvec) : [];\n\n    // In Fortran the array index starts from 1\n    n = Dmat.length - 1;\n    q = Amat[1].length - 1;\n\n    if (!bvec) {\n        for (i = 1; i <= q; i = i + 1) {\n            bvec[i] = 0;\n        }\n    }\n    for (i = 1; i <= q; i = i + 1) {\n        iact[i] = 0;\n    }\n    nact = 0;\n    r = Math.min(n, q);\n    for (i = 1; i <= n; i = i + 1) {\n        sol[i] = 0;\n    }\n    crval[1] = 0;\n    for (i = 1; i <= (2 * n + (r * (r + 5)) / 2 + 2 * q + 1); i = i + 1) {\n        work[i] = 0;\n    }\n    for (i = 1; i <= 2; i = i + 1) {\n        iter[i] = 0;\n    }\n\n    qpgen2(Dmat, dvec, n, n, sol, crval, Amat,\n        bvec, n, q, meq, iact, nact, iter, work, factorized);\n\n    message = \"\";\n    if (factorized[1] === 1) {\n        message = \"constraints are inconsistent, no solution!\";\n    }\n    if (factorized[1] === 2) {\n        message = \"matrix D in quadratic function is not positive definite!\";\n    }\n\n    return {\n        solution: base1to0(sol),\n        value: base1to0(crval),\n        unconstrained_solution: base1to0(dvec),\n        iterations: base1to0(iter),\n        iact: base1to0(iact),\n        message: message\n    };\n}\nexports.solveQP = solveQP;\n}(numeric));\n/*\r\nShanti Rao sent me this routine by private email. I had to modify it\r\nslightly to work on Arrays instead of using a Matrix object.\r\nIt is apparently translated from http://stitchpanorama.sourceforge.net/Python/svd.py\r\n*/\r\n\r\nnumeric.svd= function svd(A) {\r\n    var temp;\r\n//Compute the thin SVD from G. H. Golub and C. Reinsch, Numer. Math. 14, 403-420 (1970)\r\n\tvar prec= numeric.epsilon; //Math.pow(2,-52) // assumes double prec\r\n\tvar tolerance= 1.e-64/prec;\r\n\tvar itmax= 50;\r\n\tvar c=0;\r\n\tvar i=0;\r\n\tvar j=0;\r\n\tvar k=0;\r\n\tvar l=0;\r\n\t\r\n\tvar u= numeric.clone(A);\r\n\tvar m= u.length;\r\n\t\r\n\tvar n= u[0].length;\r\n\t\r\n\tif (m < n) throw \"Need more rows than columns\"\r\n\t\r\n\tvar e = new Array(n);\r\n\tvar q = new Array(n);\r\n\tfor (i=0; i<n; i++) e[i] = q[i] = 0.0;\r\n\tvar v = numeric.rep([n,n],0);\r\n//\tv.zero();\r\n\t\r\n \tfunction pythag(a,b)\r\n \t{\r\n\t\ta = Math.abs(a)\r\n\t\tb = Math.abs(b)\r\n\t\tif (a > b)\r\n\t\t\treturn a*Math.sqrt(1.0+(b*b/a/a))\r\n\t\telse if (b == 0.0) \r\n\t\t\treturn a\r\n\t\treturn b*Math.sqrt(1.0+(a*a/b/b))\r\n\t}\r\n\r\n\t//Householder's reduction to bidiagonal form\r\n\r\n\tvar f= 0.0;\r\n\tvar g= 0.0;\r\n\tvar h= 0.0;\r\n\tvar x= 0.0;\r\n\tvar y= 0.0;\r\n\tvar z= 0.0;\r\n\tvar s= 0.0;\r\n\t\r\n\tfor (i=0; i < n; i++)\r\n\t{\t\r\n\t\te[i]= g;\r\n\t\ts= 0.0;\r\n\t\tl= i+1;\r\n\t\tfor (j=i; j < m; j++) \r\n\t\t\ts += (u[j][i]*u[j][i]);\r\n\t\tif (s <= tolerance)\r\n\t\t\tg= 0.0;\r\n\t\telse\r\n\t\t{\t\r\n\t\t\tf= u[i][i];\r\n\t\t\tg= Math.sqrt(s);\r\n\t\t\tif (f >= 0.0) g= -g;\r\n\t\t\th= f*g-s\r\n\t\t\tu[i][i]=f-g;\r\n\t\t\tfor (j=l; j < n; j++)\r\n\t\t\t{\r\n\t\t\t\ts= 0.0\r\n\t\t\t\tfor (k=i; k < m; k++) \r\n\t\t\t\t\ts += u[k][i]*u[k][j]\r\n\t\t\t\tf= s/h\r\n\t\t\t\tfor (k=i; k < m; k++) \r\n\t\t\t\t\tu[k][j]+=f*u[k][i]\r\n\t\t\t}\r\n\t\t}\r\n\t\tq[i]= g\r\n\t\ts= 0.0\r\n\t\tfor (j=l; j < n; j++) \r\n\t\t\ts= s + u[i][j]*u[i][j]\r\n\t\tif (s <= tolerance)\r\n\t\t\tg= 0.0\r\n\t\telse\r\n\t\t{\t\r\n\t\t\tf= u[i][i+1]\r\n\t\t\tg= Math.sqrt(s)\r\n\t\t\tif (f >= 0.0) g= -g\r\n\t\t\th= f*g - s\r\n\t\t\tu[i][i+1] = f-g;\r\n\t\t\tfor (j=l; j < n; j++) e[j]= u[i][j]/h\r\n\t\t\tfor (j=l; j < m; j++)\r\n\t\t\t{\t\r\n\t\t\t\ts=0.0\r\n\t\t\t\tfor (k=l; k < n; k++) \r\n\t\t\t\t\ts += (u[j][k]*u[i][k])\r\n\t\t\t\tfor (k=l; k < n; k++) \r\n\t\t\t\t\tu[j][k]+=s*e[k]\r\n\t\t\t}\t\r\n\t\t}\r\n\t\ty= Math.abs(q[i])+Math.abs(e[i])\r\n\t\tif (y>x) \r\n\t\t\tx=y\r\n\t}\r\n\t\r\n\t// accumulation of right hand gtransformations\r\n\tfor (i=n-1; i != -1; i+= -1)\r\n\t{\t\r\n\t\tif (g != 0.0)\r\n\t\t{\r\n\t\t \th= g*u[i][i+1]\r\n\t\t\tfor (j=l; j < n; j++) \r\n\t\t\t\tv[j][i]=u[i][j]/h\r\n\t\t\tfor (j=l; j < n; j++)\r\n\t\t\t{\t\r\n\t\t\t\ts=0.0\r\n\t\t\t\tfor (k=l; k < n; k++) \r\n\t\t\t\t\ts += u[i][k]*v[k][j]\r\n\t\t\t\tfor (k=l; k < n; k++) \r\n\t\t\t\t\tv[k][j]+=(s*v[k][i])\r\n\t\t\t}\t\r\n\t\t}\r\n\t\tfor (j=l; j < n; j++)\r\n\t\t{\r\n\t\t\tv[i][j] = 0;\r\n\t\t\tv[j][i] = 0;\r\n\t\t}\r\n\t\tv[i][i] = 1;\r\n\t\tg= e[i]\r\n\t\tl= i\r\n\t}\r\n\t\r\n\t// accumulation of left hand transformations\r\n\tfor (i=n-1; i != -1; i+= -1)\r\n\t{\t\r\n\t\tl= i+1\r\n\t\tg= q[i]\r\n\t\tfor (j=l; j < n; j++) \r\n\t\t\tu[i][j] = 0;\r\n\t\tif (g != 0.0)\r\n\t\t{\r\n\t\t\th= u[i][i]*g\r\n\t\t\tfor (j=l; j < n; j++)\r\n\t\t\t{\r\n\t\t\t\ts=0.0\r\n\t\t\t\tfor (k=l; k < m; k++) s += u[k][i]*u[k][j];\r\n\t\t\t\tf= s/h\r\n\t\t\t\tfor (k=i; k < m; k++) u[k][j]+=f*u[k][i];\r\n\t\t\t}\r\n\t\t\tfor (j=i; j < m; j++) u[j][i] = u[j][i]/g;\r\n\t\t}\r\n\t\telse\r\n\t\t\tfor (j=i; j < m; j++) u[j][i] = 0;\r\n\t\tu[i][i] += 1;\r\n\t}\r\n\t\r\n\t// diagonalization of the bidiagonal form\r\n\tprec= prec*x\r\n\tfor (k=n-1; k != -1; k+= -1)\r\n\t{\r\n\t\tfor (var iteration=0; iteration < itmax; iteration++)\r\n\t\t{\t// test f splitting\r\n\t\t\tvar test_convergence = false\r\n\t\t\tfor (l=k; l != -1; l+= -1)\r\n\t\t\t{\t\r\n\t\t\t\tif (Math.abs(e[l]) <= prec)\r\n\t\t\t\t{\ttest_convergence= true\r\n\t\t\t\t\tbreak \r\n\t\t\t\t}\r\n\t\t\t\tif (Math.abs(q[l-1]) <= prec)\r\n\t\t\t\t\tbreak \r\n\t\t\t}\r\n\t\t\tif (!test_convergence)\r\n\t\t\t{\t// cancellation of e[l] if l>0\r\n\t\t\t\tc= 0.0\r\n\t\t\t\ts= 1.0\r\n\t\t\t\tvar l1= l-1\r\n\t\t\t\tfor (i =l; i<k+1; i++)\r\n\t\t\t\t{\t\r\n\t\t\t\t\tf= s*e[i]\r\n\t\t\t\t\te[i]= c*e[i]\r\n\t\t\t\t\tif (Math.abs(f) <= prec)\r\n\t\t\t\t\t\tbreak\r\n\t\t\t\t\tg= q[i]\r\n\t\t\t\t\th= pythag(f,g)\r\n\t\t\t\t\tq[i]= h\r\n\t\t\t\t\tc= g/h\r\n\t\t\t\t\ts= -f/h\r\n\t\t\t\t\tfor (j=0; j < m; j++)\r\n\t\t\t\t\t{\t\r\n\t\t\t\t\t\ty= u[j][l1]\r\n\t\t\t\t\t\tz= u[j][i]\r\n\t\t\t\t\t\tu[j][l1] =  y*c+(z*s)\r\n\t\t\t\t\t\tu[j][i] = -y*s+(z*c)\r\n\t\t\t\t\t} \r\n\t\t\t\t}\t\r\n\t\t\t}\r\n\t\t\t// test f convergence\r\n\t\t\tz= q[k]\r\n\t\t\tif (l== k)\r\n\t\t\t{\t//convergence\r\n\t\t\t\tif (z<0.0)\r\n\t\t\t\t{\t//q[k] is made non-negative\r\n\t\t\t\t\tq[k]= -z\r\n\t\t\t\t\tfor (j=0; j < n; j++)\r\n\t\t\t\t\t\tv[j][k] = -v[j][k]\r\n\t\t\t\t}\r\n\t\t\t\tbreak  //break out of iteration loop and move on to next k value\r\n\t\t\t}\r\n\t\t\tif (iteration >= itmax-1)\r\n\t\t\t\tthrow 'Error: no convergence.'\r\n\t\t\t// shift from bottom 2x2 minor\r\n\t\t\tx= q[l]\r\n\t\t\ty= q[k-1]\r\n\t\t\tg= e[k-1]\r\n\t\t\th= e[k]\r\n\t\t\tf= ((y-z)*(y+z)+(g-h)*(g+h))/(2.0*h*y)\r\n\t\t\tg= pythag(f,1.0)\r\n\t\t\tif (f < 0.0)\r\n\t\t\t\tf= ((x-z)*(x+z)+h*(y/(f-g)-h))/x\r\n\t\t\telse\r\n\t\t\t\tf= ((x-z)*(x+z)+h*(y/(f+g)-h))/x\r\n\t\t\t// next QR transformation\r\n\t\t\tc= 1.0\r\n\t\t\ts= 1.0\r\n\t\t\tfor (i=l+1; i< k+1; i++)\r\n\t\t\t{\t\r\n\t\t\t\tg= e[i]\r\n\t\t\t\ty= q[i]\r\n\t\t\t\th= s*g\r\n\t\t\t\tg= c*g\r\n\t\t\t\tz= pythag(f,h)\r\n\t\t\t\te[i-1]= z\r\n\t\t\t\tc= f/z\r\n\t\t\t\ts= h/z\r\n\t\t\t\tf= x*c+g*s\r\n\t\t\t\tg= -x*s+g*c\r\n\t\t\t\th= y*s\r\n\t\t\t\ty= y*c\r\n\t\t\t\tfor (j=0; j < n; j++)\r\n\t\t\t\t{\t\r\n\t\t\t\t\tx= v[j][i-1]\r\n\t\t\t\t\tz= v[j][i]\r\n\t\t\t\t\tv[j][i-1] = x*c+z*s\r\n\t\t\t\t\tv[j][i] = -x*s+z*c\r\n\t\t\t\t}\r\n\t\t\t\tz= pythag(f,h)\r\n\t\t\t\tq[i-1]= z\r\n\t\t\t\tc= f/z\r\n\t\t\t\ts= h/z\r\n\t\t\t\tf= c*g+s*y\r\n\t\t\t\tx= -s*g+c*y\r\n\t\t\t\tfor (j=0; j < m; j++)\r\n\t\t\t\t{\r\n\t\t\t\t\ty= u[j][i-1]\r\n\t\t\t\t\tz= u[j][i]\r\n\t\t\t\t\tu[j][i-1] = y*c+z*s\r\n\t\t\t\t\tu[j][i] = -y*s+z*c\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\te[l]= 0.0\r\n\t\t\te[k]= f\r\n\t\t\tq[k]= x\r\n\t\t} \r\n\t}\r\n\t\t\r\n\t//vt= transpose(v)\r\n\t//return (u,q,vt)\r\n\tfor (i=0;i<q.length; i++) \r\n\t  if (q[i] < prec) q[i] = 0\r\n\t  \r\n\t//sort eigenvalues\t\r\n\tfor (i=0; i< n; i++)\r\n\t{\t \r\n\t//writeln(q)\r\n\t for (j=i-1; j >= 0; j--)\r\n\t {\r\n\t  if (q[j] < q[i])\r\n\t  {\r\n\t//  writeln(i,'-',j)\r\n\t   c = q[j]\r\n\t   q[j] = q[i]\r\n\t   q[i] = c\r\n\t   for(k=0;k<u.length;k++) { temp = u[k][i]; u[k][i] = u[k][j]; u[k][j] = temp; }\r\n\t   for(k=0;k<v.length;k++) { temp = v[k][i]; v[k][i] = v[k][j]; v[k][j] = temp; }\r\n//\t   u.swapCols(i,j)\r\n//\t   v.swapCols(i,j)\r\n\t   i = j\t   \r\n\t  }\r\n\t }\t\r\n\t}\r\n\t\r\n\treturn {U:u,S:q,V:v}\r\n};\r\n\r\n","<svelte:options tag=\"fds-image-transform-corners\"></svelte:options>\n<script>\n  import {warpImage} from './warpImage'\n  import numeric from 'numeric';\n\n  export let imageurl = '';\n  let imageel;\n  export let position;\n  export let resultCanvas;\n  export let layerimagedata;\n  export let zoom  = 100;\n  export  let ratio = window.devicePixelRatio;\n  export let opacity = 100;\n\n  function reCalc(num) {\n    let p = parseFloat(zoom) / 100 / ratio\n    let newCoord = num / p;\n    return newCoord\n  }\n\n\n  $: if(!position && layerimagedata) {\n    position = {}\n    position.x = layerimagedata._x;\n    position.y = layerimagedata._y;\n    position.width = layerimagedata._width;\n    position.height = layerimagedata._height;\n    if(position.opacity) opacity = position.opacity;\n    opacity  = position.position ?? opacity;\n  }\n\n\n  $: if(position){\n    opacity  = position.position ?? opacity;\n    positionToCorners();\n    updateTransform();\n    container.style.top = position.y+\"px\";\n    container.style.left = position.x+\"px\";\n    container.style.width = position.width+\"px\";\n    container.style.height = position.height+\"px\";\n  }\n\n\n  function positionToCorners() {\n    originalCorners = [\n      {x: 0, y: 0},        // top-left\n      {x: position.width, y: 0},      // top-right\n      {x: position.width, y: position.height},    // bottom-right\n      {x: 0, y: position.height}       // bottom-left\n    ];\n    corners = [...originalCorners];\n    rotationAngle = position.rotation || 0;\n  }\n\n\n  function getCenterFromCorners(corners) {\n    // Top-left corner is the first element\n    const topLeft = corners[0];\n    // Bottom-right corner is the third element\n    const bottomRight = corners[2];\n    const centerX = (topLeft.x + bottomRight.x) / 2;\n    const centerY = (topLeft.y + bottomRight.y) / 2;\n    return [ centerX, centerY ];\n  }\n\n  // Helper function to calculate the perspective transformation matrix\n  function getPerspectiveTransformMatrix(src, dst, angle) {\n\n    // Convert angle to radians\n    const radians =  -angle;\n    //const radians = (Math.PI / 180) * angle;\n    const cosA = Math.cos(radians);\n    const sinA = Math.sin(radians);\n\n    // Rotate source points around the center\n    let [centerX,centerY] =  getCenterFromCorners(src);\n\n    const rotatedSrc = src.map(({ x, y }) => {\n      const dx = x - centerX;\n      const dy = y - centerY;\n      const xRot = dx * cosA - dy * sinA + centerX;\n      const yRot = dx * sinA + dy * cosA + centerY;\n      return { x: xRot, y: yRot };\n    });\n\n    const matrix = [];\n    for (let i = 0; i < 8; i++) matrix[i] = [];\n\n    for (let i = 0; i < 4; i++) {\n      matrix[i][0] = matrix[i + 4][3] = rotatedSrc[i].x;\n      matrix[i][1] = matrix[i + 4][4] = rotatedSrc[i].y;\n      matrix[i][2] = matrix[i + 4][5] = 1;\n      matrix[i][3] = matrix[i][4] = matrix[i][5] = 0;\n      matrix[i + 4][0] = matrix[i + 4][1] = matrix[i + 4][2] = 0;\n      matrix[i][6] = -rotatedSrc[i].x * dst[i].x;\n      matrix[i][7] = -rotatedSrc[i].y * dst[i].x;\n      matrix[i + 4][6] = -rotatedSrc[i].x * dst[i].y;\n      matrix[i + 4][7] = -rotatedSrc[i].y * dst[i].y;\n    }\n\n    const results = [\n      dst[0].x,\n      dst[1].x,\n      dst[2].x,\n      dst[3].x,\n      dst[0].y,\n      dst[1].y,\n      dst[2].y,\n      dst[3].y\n    ];\n\n    // Solving the system of linear equations to find the transformation matrix\n    const h = numeric.solve(matrix, results).concat(1);\n\n    return `matrix3d(${h[0]}, ${h[3]}, 0, ${h[6]}, ${h[1]}, ${h[4]}, 0, ${h[7]}, 0, 0, 1, 0, ${h[2]}, ${h[5]}, 0, 1)`;\n  }\n\n  // Rotation angle in degrees\n  let rotationAngle = 0;\n\n  // Initial corner positions (unrotated)\n  let originalCorners = [\n    { x: 0, y: 0 },        // top-left\n    { x: 400, y: 0 },      // top-right\n    { x: 400, y: 300 },    // bottom-right\n    { x: 0, y: 300 }       // bottom-left\n  ];\n\n  // User-adjustable corners (initialize to originalCorners)\n  let corners = [...originalCorners];\n\n  let isDragging = false;\n  let selectedCorner = null;\n  let container;\n  let transformMatrix = ''; // Reactive variable for the transform\n\n  function handleMouseDown(index, event) {\n    isDragging = true;\n    selectedCorner = index;\n  }\n\n  function handleMouseUp() {\n    isDragging = false;\n    selectedCorner = null;\n  }\n\n  function handleMouseMove(event) {\n    if (!isDragging || selectedCorner === null) return;\n\n    const rect = container.getBoundingClientRect();\n    const x = event.clientX - rect.left;\n    const y = event.clientY - rect.top;\n\n    corners = corners.map((corner, index) =>\n      index === selectedCorner\n        ? { x, y }\n        : corner\n    );\n\n    // Update the transform matrix when the corners are moved\n    updateTransform();\n  }\n\n  function updateTransform() {\n    const transform = getPerspectiveTransformMatrix(originalCorners, corners, rotationAngle);\n    transformMatrix = transform;\n  }\n\n\n\n  function makeImage() {\n    let scaledcorners = corners.map( (el)=>{\n      el.x = reCalc(el.x)\n      el.y = reCalc(el.y)\n      return el;\n    })\n    warpImage(image, scaledcorners, resultCanvas,rotationAngle);\n  }\n  let image\n\n  // Update transform when rotationAngle changes\n  $: if (rotationAngle) updateTransform();\n\n\n\n  export function csstoimage(){\n    makeImage();\n  }\n\n\n\n\n\n</script>\n\n<style>\n\n  .container {\n    position: absolute;\n    left: 0px;\n    top: 0px;\n    width: 100%;\n    height: 100%;\n    transform: rotate(0rad);\n  }\n  img {\n    position: absolute;\n    top: 0;\n    left: 0;\n    width: 100%;\n    height: 100%;\n    transform-origin: top left;\n    user-select: none;\n  }\n  image {\n    transform-origin: top left;\n  }\n\n  .corner {\n    position: absolute;\n    width: 10px;\n    height: 10px;\n    background-color: red;\n    border-radius: 50%;\n    cursor: pointer;\n    user-select: none;\n  }\n</style>\n\n  <div bind:this={container} class=\"container\" >\n    <div  style=\"position: relative; width: 100%; height: 100% \">\n    <!-- Apply the transformation to the image -->\n    <img   style=\"opacity:{(opacity/100)}; transform: {transformMatrix};\" bind:this={imageel} src={imageurl}>\n\n    {#each corners as { x, y }, index}\n      <div\n        class=\"corner\"\n        style=\"left: {x - 5}px; top: {y - 5}px;\"\n        on:mousedown={() => handleMouseDown(index)}\n      ></div>\n    {/each}\n    </div>\n  </div>\n\n<!-- Optional rotation control -->\n\n\n<!--\n<input type=\"range\" min=\"0\" max=\"360\" bind:value={rotationAngle} style=\"margin-top:200px\" />\n<button on:click={makeImage} width=\"800\" height=\"450\">Make Image</button>\n-->\n\n<canvas bind:this={resultCanvas} width=\"1000\" height=\"1000\"></canvas>\n<img\n        bind:this={image}\n        src=\"{imageurl}\"\n        style=\"visibility:hidden\"\n/>\n  <svelte:window\n          on:pointermove={handleMouseMove}\n          on:pointerup={handleMouseUp}\n  />","/** Dispatch event on click outside of node */\nexport function clickOutside(node) {\n\n    const handleClick = event => {\n        if (node && !node.contains(event.target) && !event.defaultPrevented) {\n            node.dispatchEvent(\n                new CustomEvent('click_outside', node)\n            )\n        }\n    }\n\n    document.addEventListener('click', handleClick, true);\n\n    return {\n        destroy() {\n            document.removeEventListener('click', handleClick, true);\n        }\n    }\n}","<svelte:options tag=\"fds-coord-dialog\"></svelte:options>\n<script>\n    import {get_current_component} from \"svelte/internal\"\n    import {clickOutside} from \"./clickOutside\";\n\n    let host = get_current_component().$$.root.host\n\n\n    export let coordinates = {\n        x: 0,\n        y: 0,\n        width: 0,\n        height: 0,\n        rotation: 0\n    }\n\n\n    function change(name, value) {\n        host.dispatchEvent(new CustomEvent(\"change\", {detail: {name: name, value: value}}))\n    }\n\n    function handleClickOutside() {\n        //editcoord=false\n    }\n\n\n    export let editcoord\n\n    export function refresh() {\n        coordinates = coordinates\n    }\n</script>\n\n<div class=\"show\" style=\"display: inline-flex;\">\n    {#if coordinates}\n        <div style=\"display:flex;align-items: center\">\n            <fds-image-editor-button\n                    icon=\"flipHorizontal\"\n                    title=\"Flip Horizontal\"\n                    on:click={() => {\n                change('flipHorizontal')\n            }}\n            />\n\n            <fds-image-editor-button\n                    icon=\"flipVertical\"\n                    title=\"Flip Vertical\"\n                    on:click={() => {\n                  change('flipVertical')\n            }}\n            />\n            <!-- svelte-ignore a11y-click-events-have-key-events -->\n            <fds-image-editor-button type=\"button\"\n                                     on:click={() => { editcoord=!editcoord; change('editcoord',editcoord); }}>\n                Coordinates\n            </fds-image-editor-button>\n        </div>\n    {/if}\n\n    {#if editcoord && coordinates }\n        <div class=\"editcoord\" use:clickOutside on:click_outside={handleClickOutside}>\n            <div class=\"formLine\">\n\n                <div class=\"formLine\">\n                    <label for=\"x\" class=\"more-label\">x:</label>\n                    <input value={coordinates.x}\n                           on:change={(e) => {coordinates.x=e.target.value;coordinates=coordinates;change(\"x\",e.target.value) }}\n                           type=\"text\" class=\"formInput\" placeholder=\"\"\n                           style=\"font-size: 12px; width: 220px; display: inline-block;\">\n                </div>\n\n                <div class=\"formLine\">\n                    <label for=\"y\" class=\"more-label\">y:</label>\n                    <input value={coordinates.y}\n                           on:change={(e) => { coordinates.y=e.target.value;coordinates=coordinates;change(\"y\",e.target.value) }}\n                           type=\"text\" class=\"formInput\" placeholder=\"\"\n                           style=\"font-size: 12px; width: 220px; display: inline-block;\">\n                </div>\n\n                <div class=\"formLine\">\n                    <label for=\"width\" class=\"more-label\">width:</label>\n                    <input value={coordinates.width}\n                           on:change={(e) => {  coordinates.width=e.target.value;coordinates=coordinates;change(\"width\",e.target.value) }}\n                           type=\"text\" class=\"formInput\" placeholder=\"\"\n                           style=\"font-size: 12px; width: 220px; display: inline-block;\">\n                </div>\n\n                <div class=\"formLine\">\n                    <label for=\"height\" class=\"more-label\">height:</label>\n                    <input value={coordinates.height}\n                           on:change={(e) => { coordinates.height=e.target.value;coordinates=coordinates;change(\"height\",e.target.value) }}\n                           type=\"text\" class=\"formInput\" placeholder=\"\"\n                           style=\"font-size: 12px; width: 220px; display: inline-block;\">\n                </div>\n\n\n                <div class=\"formLine\">\n                    <label for=\"rotation\" class=\"more-label\">rotation:</label>\n                    <input value={(coordinates.rotation * 180.0) / Math.PI}\n                           on:change={(e) => { coordinates.rotation=e.target.value;coordinates=coordinates;change(\"rotation\", parseInt(e.target.value) * (Math.PI/180)) }}\n                           type=\"text\" class=\"formInput\" placeholder=\"\"\n                           style=\"font-size: 12px; width: 220px; display: inline-block;\">\n                </div>\n            </div>\n        </div>\n    {/if}\n\n</div>\n\n<style>\n    * {\n        box-sizing: border-box;\n    }\n\n    .buttoncontainer {\n        margin-top: 10px;\n        margin-bottom: 10px;\n        padding-bottom: 5px;;\n        border-bottom: 1px solid white;\n    }\n\n    button {\n        color: white;\n        background-color: transparent;\n    }\n\n    .editcoord {\n        min-width: 330px;\n        min-height: 100px;\n        box-shadow: 0 0 1rem 0 rgba(255, 255, 255, .2);\n        border-radius: 8px;\n        background-color: rgba(0, 0, 0, .65);\n        backdrop-filter: blur(10px);\n        color: rgba(255, 255, 255, 0.6);\n        position: absolute;\n        left: 0px;\n        top: 50px;\n        padding: 14px;\n        font-family: \"Segoe UI\", Roboto, system-ui;\n        z-index: 2000;\n    }\n\n    .formLine {\n        displaY: block;\n        margin-bottom: 20px;\n    }\n\n    .slider {\n        vertical-align: middle;\n    }\n\n    .values3 {\n        width: 30px;\n        text-align: right;\n        display: inline-block;\n    }\n\n    .formInput {\n        width: 100%;\n        outline: 0;\n        border: 0;\n        border-bottom: 2px solid rgba(255, 255, 255, 0.2);\n        padding: 5px;\n        font-size: 14px;\n        font-weight: normal;\n        border-radius: 3px;\n        color: rgba(255, 255, 255, 0.9);\n        margin-bottom: 10px;\n        display: block;\n        background: none;\n        font-family: system-ui, \"Segoe UI\", Roboto;\n\n    }\n\n    .formInput::placeholder {\n        font-weight: normal;\n        opacity: 0.5;\n        color: rgba(255, 255, 255, 0.7);\n    }\n\n    .formLine {\n        margin-bottom: 5px;\n    }\n\n    .dropdown {\n        position: relative;\n        display: inline-block;\n    }\n\n    .dropdown-content {\n        display: none;\n        position: absolute;\n        background-color: #f1f1f1;\n        min-width: 160px;\n        overflow: auto;\n        box-shadow: 0 8px 16px 0 rgba(0, 0, 0, 0.2);\n        z-index: 1;\n        max-height: calc(100vh / 2);\n        margin-top: 5px;\n        border-radius: 6px;\n    }\n\n    .dropdown-content a {\n        color: black;\n        padding: 12px 16px;\n        text-decoration: none;\n        display: block;\n        font-size: 20px;\n    }\n\n    .dropdown a:hover {\n        background-color: #ddd;\n    }\n\n    .show {\n        display: block;\n    }\n\n    .font-preview {\n        display: inline-block;\n        width: 200px;\n        color: black;\n        background-color: white;\n        font-size: 20px;\n        padding: 16px;\n        border: none;\n        cursor: pointer;\n        border-radius: 6px;\n    }\n\n</style>","<svelte:options tag=\"fds-four-corners-dialog\"></svelte:options>\r\n<script>\r\n    import {get_current_component} from \"svelte/internal\"\r\n\r\n    let host = get_current_component().$$.root.host\r\n\r\n    function change(name, value) {\r\n        host.dispatchEvent(new CustomEvent(\"change\", {detail: {name: name, value: value}}))\r\n    }\r\n</script>\r\n\r\n<div class=\"show\" style=\"display: inline-flex;\">\r\n\r\n            <div style=\"display:flex;align-items: center\">\r\n                <!-- svelte-ignore a11y-click-events-have-key-events -->\r\n                <fds-image-editor-button type=\"button\" on:click={() => {change('csstoimage'); }}>Done\r\n                </fds-image-editor-button>\r\n            </div>\r\n\r\n            <div style=\"display:flex;align-items: center\">\r\n                <!-- svelte-ignore a11y-click-events-have-key-events -->\r\n                <fds-image-editor-button type=\"button\" on:click={() => {change('changeview',true);}}>Cancel</fds-image-editor-button>\r\n            </div>\r\n</div>\r\n\r\n<style>\r\n    * {\r\n        box-sizing: border-box;\r\n    }\r\n\r\n    .buttoncontainer {\r\n        margin-top: 10px;\r\n        margin-bottom: 10px;\r\n        padding-bottom: 5px;;\r\n        border-bottom: 1px solid white;\r\n    }\r\n\r\n    button {\r\n        color: white;\r\n        background-color: transparent;\r\n    }\r\n\r\n    .editcoord {\r\n        min-width: 330px;\r\n        min-height: 100px;\r\n        box-shadow: 0 0 1rem 0 rgba(255, 255, 255, .2);\r\n        border-radius: 8px;\r\n        background-color: rgba(0, 0, 0, .65);\r\n        backdrop-filter: blur(10px);\r\n        color: rgba(255, 255, 255, 0.6);\r\n        position: absolute;\r\n        left: 0px;\r\n        top: 50px;\r\n        padding: 14px;\r\n        font-family: \"Segoe UI\", Roboto, system-ui;\r\n        z-index: 2000;\r\n    }\r\n\r\n    .formLine {\r\n        displaY: block;\r\n        margin-bottom: 20px;\r\n    }\r\n\r\n    .slider {\r\n        vertical-align: middle;\r\n    }\r\n\r\n    .values3 {\r\n        width: 30px;\r\n        text-align: right;\r\n        display: inline-block;\r\n    }\r\n\r\n    .formInput {\r\n        width: 100%;\r\n        outline: 0;\r\n        border: 0;\r\n        border-bottom: 2px solid rgba(255, 255, 255, 0.2);\r\n        padding: 5px;\r\n        font-size: 14px;\r\n        font-weight: normal;\r\n        border-radius: 3px;\r\n        color: rgba(255, 255, 255, 0.9);\r\n        margin-bottom: 10px;\r\n        display: block;\r\n        background: none;\r\n        font-family: system-ui, \"Segoe UI\", Roboto;\r\n\r\n    }\r\n\r\n    .formInput::placeholder {\r\n        font-weight: normal;\r\n        opacity: 0.5;\r\n        color: rgba(255, 255, 255, 0.7);\r\n    }\r\n\r\n    .formLine {\r\n        margin-bottom: 5px;\r\n    }\r\n\r\n    .dropdown {\r\n        position: relative;\r\n        display: inline-block;\r\n    }\r\n\r\n    .dropdown-content {\r\n        display: none;\r\n        position: absolute;\r\n        background-color: #f1f1f1;\r\n        min-width: 160px;\r\n        overflow: auto;\r\n        box-shadow: 0 8px 16px 0 rgba(0, 0, 0, 0.2);\r\n        z-index: 1;\r\n        max-height: calc(100vh / 2);\r\n        margin-top: 5px;\r\n        border-radius: 6px;\r\n    }\r\n\r\n    .dropdown-content a {\r\n        color: black;\r\n        padding: 12px 16px;\r\n        text-decoration: none;\r\n        display: block;\r\n        font-size: 20px;\r\n    }\r\n\r\n    .dropdown a:hover {\r\n        background-color: #ddd;\r\n    }\r\n\r\n    .show {\r\n        display: block;\r\n    }\r\n\r\n    .font-preview {\r\n        display: inline-block;\r\n        width: 200px;\r\n        color: black;\r\n        background-color: white;\r\n        font-size: 20px;\r\n        padding: 16px;\r\n        border: none;\r\n        cursor: pointer;\r\n        border-radius: 6px;\r\n    }\r\n\r\n</style>","<svelte:options tag=\"fds-image-transform\"></svelte:options>\n<script>\n    /*\n      A freely user-transformable wrapper component.\n\n      Size, position and rotation can be adjusted via handles or multi-touch gesture.\n      Place content in the default slot.\n      Handles can be overridden via the \"handle\" and \"rotator\" slots.\n\n      The immediate parent must be a positioned element\n      (i.e. styled with \"position: relative/absolute/fixed/etc\").\n    */\n\n    import {onMount} from 'svelte'\n    import vector from './vector.js'\n    import {createEventDispatcher, tick} from 'svelte';\n\n    let endDrag = false;\n    import {get_current_component} from \"svelte/internal\";\n    import magneticLinesClass from \"./magneticLines.js\"\n    // eslint-disable-next-line no-unused-vars\n    import FourCornersTransformation from \"./FourCornersTransformation.svelte\"\n\n    let host = get_current_component()\n    // eslint-disable-next-line no-unused-vars\n    import Dialog from './Dialog.svelte'\n    // eslint-disable-next-line no-unused-vars\n    import Dialogf from './DialogFourCorners.svelte'\n\n    const svelteDispatch = createEventDispatcher()\n\n    const dispatch = (name, detail) => {\n        detail = position;\n\n        detail.endDrag = !!endDrag;\n        if (!!endDrag) {\n            endDrag = !endDrag;\n        }\n        name = 'transformchange';\n        // console.log(\"dispatch\",name,detail);\n        svelteDispatch(name, detail);\n        host.dispatchEvent &&\n        host.dispatchEvent(new CustomEvent(name, {detail}));\n    };\n\n\n    // the position at the start of each gesture\n    // transformations are calculated relative to this\n    let startPosition = {\n        x: null,\n        y: null,\n        width: null,\n        height: null,\n        rotation: null\n    }\n\n    // props\n    //export let position = { x: 0, y: 0, w: 0, h: 0, r: 0 }\n    // Magnetic tolerance distance for snapping\n    const magneticTolerance = 10;\n\n    // Layers array to store all layers\n    export let layers = []\n\n    export let demo = false\n    export let layerimagedata = {};\n    export let position = startPosition;\n    export let target = null\n    export let container = null\n    export let rotatorEnabled = true // Show a separate handle for rotation\n    export let rotatorBar = false // Draw a line from the rotator handle to the frame\n    export let handleMode = 'resize' // 'resize' or 'rotate'. Controls corner handle behaviour\n    export let lockAspect = false // Is the aspect ratio fixed?\n    export let lockTouchResize = false // Can the size be changed by multitouch gestures?\n    export let captureClicks = true // allow clicks on the content area? if false, clicks fall through\n    export let zoom = 100;\n    export let ratio = window.devicePixelRatio;\n    export let imageurl;\n    export let imagesvg;\n    export let svgcolor;\n    // primitives\n    export let type;\n\n    let lastzoom\n    let imageel;\n    let transformArea;\n    let transformInProgress = false\n    let magneticLines = [];\n\n\n    function addMagneticLine(side, linePosition, lineOrientation, box) {\n        let ml = new magneticLinesClass()\n        let line = ml.calcMagneticLine(side, linePosition, lineOrientation, box)\n        magneticLines.push(line)\n    }\n\n    // Snapping helpers\n    function getClosestSnappingPosition(layers, newPos, tolerance) {\n        let snappedPosition = {...newPos};\n\n        layers.forEach(layer => {\n            if (layer !== position) {\n                // Horizontal snapping (x-axis)\n                if (Math.abs(newPos.x - layer.x) < tolerance) {\n                    addMagneticLine(\"left\", \"side\", \"vertical\", layer.originalData)\n                    snappedPosition.x = layer.x\n                } else if (Math.abs((newPos.x + newPos.width) - (layer.x + layer.width)) < tolerance) {\n                    addMagneticLine(\"right\", \"side\", \"vertical\", layer.originalData)\n                    snappedPosition.x = layer.x + layer.width - newPos.width\n                } else if (Math.abs((newPos.x + newPos.width / 2) - (layer.x + layer.width / 2)) < tolerance) {\n                    addMagneticLine(\"\", \"center\", \"vertical\", layer.originalData)\n                    snappedPosition.x = layer.x + layer.width / 2 - newPos.width / 2\n                } else if (Math.abs((newPos.x) - (layer.x + layer.width)) < tolerance) {\n                    snappedPosition.x = layer.x + layer.width\n                    addMagneticLine(\"right\", \"side\", \"vertical\", layer.originalData)\n                } else if (Math.abs((newPos.x + newPos.width) - (layer.x)) < tolerance) {\n                    snappedPosition.x = layer.x - newPos.width\n                    addMagneticLine(\"left\", \"side\", \"\", layer.originalData)\n                }\n                // console.log(Math.abs(newPos.y-layer.y))\n                // Vertical snapping (y-axis)\n                if (Math.abs(newPos.y - layer.y) < tolerance) {\n                    snappedPosition.y = layer.y\n                    addMagneticLine(\"top\", \"side\", \"\", layer.originalData)\n                } else if (Math.abs((newPos.y + newPos.height) - (layer.y + layer.height)) < tolerance) {\n                    snappedPosition.y = layer.y + layer.height - newPos.height\n                    addMagneticLine(\"bottom\", \"side\", \"\", layer.originalData)\n                } else if (Math.abs((newPos.y + newPos.height / 2) - (layer.y + layer.height / 2)) < tolerance) {\n                    snappedPosition.y = layer.y + layer.height / 2 - newPos.height / 2\n                    addMagneticLine(\"\", \"center\", \"horizontal\", layer.originalData)\n                } else if (Math.abs((newPos.y) - (layer.y + layer.height)) < tolerance) {\n                    snappedPosition.y = layer.y + layer.height\n                    addMagneticLine(\"bottom\", \"side\", \"\", layer.originalData)\n                } else if (Math.abs((newPos.y + newPos.height) - (layer.y)) < tolerance) {\n                    snappedPosition.y = layer.y - newPos.height\n                    addMagneticLine(\"top\", \"side\", \"\", layer.originalData)\n                }\n            }\n        })\n\n        return snappedPosition\n    }\n\n    // Add logic to detect same rotation layers\n    function getClosestSnappingPositionWithRotation(layers, newPos, tolerance) {\n        let snappedPosition = {...newPos}\n        let noRotationLayers = [];\n        let sameRotationLayers = [];\n\n        // Check if the current rotation ot matche any other layer's rotation or is  0\n        layers.forEach(layer => {\n            if (layer !== position && (layer.rotation !== position.rotation || layer.rotation === 0)) {\n                let l = JSON.parse(JSON.stringify(layer))\n                l.rotation = 0\n                l.originalData = JSON.parse(JSON.stringify(l))\n                noRotationLayers.push(l)\n            }\n        });\n        // First, do snapping like before\n        snappedPosition = getClosestSnappingPosition(noRotationLayers, newPos, tolerance)\n\n        // Check if the current rotation matches any other layer's rotation and isn't 0\n        layers.forEach(layer => {\n            if (layer !== position && layer.rotation === position.rotation && layer.rotation !== 0) {\n                let l = JSON.parse(JSON.stringify(layer))\n                l.originalData = JSON.parse(JSON.stringify(layer)) // add box as it shows on the screen with rotation\n                sameRotationLayers.push(l)\n            }\n        });\n\n        // If we have layers with the same rotation, normalize their positions\n        if (sameRotationLayers.length > 0) {\n            let rotation = sameRotationLayers[0].rotation\n            sameRotationLayers.push(JSON.parse(JSON.stringify(newPos)))\n            let ml = new magneticLinesClass()\n            ml.rotateBoxesToZero(sameRotationLayers, rotation)      // make scenario as rotation is set to 0 for easier snapping logic\n            let normalizedCurrentPos = sameRotationLayers.pop()\n            // Perform snapping on normalized positions\n            let normalizedSnappedPosition = getClosestSnappingPosition(sameRotationLayers, normalizedCurrentPos, tolerance, rotation)\n            // Rotate back the positions\n            if (magneticLines.length) snappedPosition = ml.rotatePositionBackToOriginal(normalizedSnappedPosition, rotation)\n        }\n\n        return snappedPosition\n    }\n\n\n    // Target element is this component (so apply calculated style directly)\n    let selfStyled = false\n    $: {\n        selfStyled = target === element\n    }\n\n    $: if (imagesvg && svgcolor) {\n        imagesvg = imagesvg.replace(\"<svg \", `<svg style=\"fill:${svgcolor}\" `);\n        layerimagedata.url = imageurl = \"data:image/svg+xml;base64,\" + window.btoa(unescape(encodeURIComponent(imagesvg)));\n    }\n\n    $: if (imagesvg && lockAspect) {\n\n        imagesvg = imagesvg.replace(`preserveAspectRatio=\"none\"`, ` `);\n        imagesvg = imagesvg.replace(`class=\"fullwidthheight\"`, ` `);\n\n        layerimagedata.url = imageurl = \"data:image/svg+xml;base64,\" + window.btoa(unescape(encodeURIComponent(imagesvg)));\n    }\n\n    $: if (imagesvg && !lockAspect) {\n        imagesvg = imagesvg.replace(\"<svg \", `<svg preserveAspectRatio=\"none\" class=\"fullwidthheight\" `);\n        layerimagedata.url = imageurl = \"data:image/svg+xml;base64,\" + window.btoa(unescape(encodeURIComponent(imagesvg)));\n    }\n\n    // DOMRects of the component and parent element, and the FreeTransform element itself\n    let containerBounds, bounds, selfBounds\n    // Map of active pointers\n    const pointers = {}\n    // Number of active pointers\n    let pointerCount = 0\n    // References to DOM elements\n    let element, handleTR, handleTL, handleBR, handleBL, rotatorHandle\n    $: if (mounted && imageel && element && layerimagedata && layerimagedata.url) {\n        if (!target) target = element\n        if (!container) container = target.parentNode\n        initImage();\n    }\n\n    onMount(() => {\n        mounted = true;\n        if (!imageel) return\n        initImage();\n    })\n    let imagealreadyinit\n    let mounted\n\n    function initImage() {\n\n        if (imagealreadyinit) return;\n        imagealreadyinit = true;\n        imageel.onload = () => {\n            position = {\n                x: imageel.x,\n                y: imageel.y,\n                width: imageel.naturalWidth,\n                height: imageel.naturalHeight,\n                rotation: 0\n            }\n            recalculatePosition();\n            onBoundsChange();\n        }\n        if (!target) target = element\n        if (!container) container = target.parentNode\n    }\n\n    function onKeyUp(e) {\n        if (e.keyCode === 16) {\n            //console.log('Shift key is released');\n            lockAspect = false;\n        }\n    }\n\n\n    function onKeyDown(e) {\n        if (e.keyCode === 16) {\n            //console.log('Shift key is released');\n            lockAspect = true;\n        }\n    }\n\n    function recalculatePosition() {\n\n\n        if (layerimagedata?._x || layerimagedata?._x == 0) position.x = layerimagedata._x;\n        if (layerimagedata?._y || layerimagedata?._y == 0) position.y = layerimagedata._y;\n        if (layerimagedata?._width) position.width = (layerimagedata._width);\n        if (layerimagedata?._height) position.height = (layerimagedata._height);\n\n\n        if (layerimagedata?.x || layerimagedata?.x == 0) position.x = reCalc(layerimagedata.x);\n        if (layerimagedata?.y || layerimagedata?.y == 0) position.y = reCalc(layerimagedata.y);\n        if (layerimagedata?.width) position.width = reCalc(layerimagedata.width);\n        if (layerimagedata?.height) position.height = reCalc(layerimagedata.height);\n        if (layerimagedata?.rotation) position.rotation = layerimagedata.rotation;\n\n\n        if (layerimagedata?.rotation) position.r = layerimagedata.rotation;\n\n\n        if ((layerimagedata?._x || layerimagedata?._x == 0) && layerimagedata._imgwidth) {\n            position.x = reCalc(layerimagedata._imgx);\n            position.y = reCalc(layerimagedata._imgy);\n            position.width = reCalc(layerimagedata._imgwidth);\n            position.height = reCalc(layerimagedata._imgheight);\n            delete layerimagedata._imgx;\n            delete layerimagedata._imgy;\n            delete layerimagedata._imgwidth;\n            delete layerimagedata._imgheight;\n        }\n    }\n\n    function reCalc(num) {\n\n        let p = parseFloat(zoom) / 100 / ratio\n        let newCoord = num * p;\n        return newCoord\n    }\n\n    function isDragging(pointer) {\n        return pointer && pointer.target && pointer.target.type === 'body' && pointerCount === 1\n    }\n\n    function isRotating(pointer) {\n        return pointer && pointer.target && (pointer.target.type === 'rotate' || (pointer.target.type === 'handle' && handleMode === 'rotate'))\n    }\n\n    function isResizing(pointer) {\n        return pointer && pointer.target && pointer.target.type === 'handle'\n    }\n\n    function isFreeTransforming(pointer) {\n        return pointer && pointer.target && pointer.target.type !== 'handle' && pointerCount > 1\n    }\n\n    $: {\n        position.style = stylePosition(position)\n        //onBoundsChange()\n    }\n    /*    $: {\n            if(layerimagedata && layerimagedata.url){\n                console.log(\"layerimagedata.url changed\",layerimagedata.url);\n            }\n        }*/\n\n    $: if (zoom && zoom != lastzoom) {\n        lastzoom = zoom;\n        recalculatePosition();\n        position.style = stylePosition(position)\n    }\n\n    const stylePropMap = {\n        x: 'left',\n        y: 'top',\n        width: 'width',\n        height: 'height'\n    }\n\n    // Convert position to a CSS style string\n    function stylePosition(pos) {\n\n        return 'position: absolute; ' + ['x', 'y', 'width', 'height'].map(prop => {\n            if (pos[prop] != null) return `${stylePropMap[prop]}: ${pos[prop]}px; `\n            else return ''\n        }).join(' ') + `; transform: rotate(${pos.rotation}rad)`\n    }\n\n    // Calculate the changes required for a resize gesture:\n    // Scales the width and height of the component such that the same points in\n    // component-space lie under the pointer and anchor point before and after the\n    // transformation.\n    // Does not preserve aspect ratio.\n    function calcResizeTransform(pointer, anchor) {\n        const rotation = startPosition.rotation\n        const origin = bounds.center\n        const topLeft = vector.sub(origin, {x: (startPosition.width / 2), y: (startPosition.height / 2)})\n        const unrotatedEnd = vector.rotate(pointer.end, -rotation, anchor)\n        const width = unrotatedEnd.x - anchor.x\n        const height = unrotatedEnd.y - anchor.y\n        const newOrigin = vector.add(topLeft, {x: Math.abs(width / 2), y: Math.abs(height / 2)})\n        const unrotatedAnchor = vector.add(newOrigin, {x: -(width / 2), y: -(height / 2)})\n        const newAnchor = vector.rotate(unrotatedAnchor, rotation, newOrigin)\n\n        const translate = vector.sub(anchor, newAnchor)\n        return {width, height, translate}\n    }\n\n    // Calculate the changes required for a free transform gesture:\n    // Given two pointers, the component is scaled, rotated and translated\n    // such that the same points in component-space lie under the pointers\n    // before and after the transformation\\\n    //\n    // Preserves aspect ratio.\n    //\n    // pointerB may be given as a single coord, instead of a { start, end } map,\n    // allowing operations like 'rotate about the center' or 'resize from a corner'\n    // to be performed using the same transform logic\n    //\n    // noRotate=true locks the current component rotation\n    // noScale=true locks the current component width and height\n    function calcFreeTransform(pointerA, pointerB, origin, noRotate, noScale) {\n        // Handle the case where pointerB is a static point\n        const pointerBStart = pointerB.start ? pointerB.start : pointerB\n        const pointerBEnd = pointerB.end ? pointerB.end : pointerB\n\n        const startAB = vector.sub(pointerBStart, pointerA.start)\n        const endAB = vector.sub(pointerBEnd, pointerA.end)\n        const scale = vector.length(endAB) / vector.length(startAB)\n        const rotate = noRotate ? 0 : vector.direction(startAB) - vector.direction(endAB)\n\n        const center = vector.add(vector.rotate(vector.scale(vector.sub(origin, pointerBStart), scale), rotate, {\n            x: 0,\n            y: 0\n        }), pointerBEnd)\n        const translate = vector.sub(center, origin)\n        return {scale: (noScale ? 1 : scale), rotate, translate, center}\n    }\n\n    // Retrieve a DOMRect from the supplied element\n    // and extend with x, y, and center fields\n    function getFullBounds(element) {\n        const elementBounds = element.getBoundingClientRect()\n        elementBounds.x = elementBounds.left\n        elementBounds.y = elementBounds.top\n        elementBounds.center = {\n            x: (elementBounds.left + elementBounds.right) / 2,\n            y: (elementBounds.top + elementBounds.bottom) / 2\n        }\n        return elementBounds\n    }\n\n    export function changePosition() {\n        if (position.opacity != void 0) layerimagedata.opacity = position.opacity;\n        position.style = stylePosition(position);\n        dispatch('positionChanged', position)\n    }\n\n\n    // Apply a partial drag gesture\n    // Simple translation of the component by the same distance as the pointer\n    function doDrag(pointer) {\n        position.y = startPosition.y + (pointer.end.y - pointer.start.y)\n        position.x = startPosition.x + (pointer.end.x - pointer.start.x)\n        let newPos = {\n            x: startPosition.x + (pointer.end.x - pointer.start.x),\n            y: startPosition.y + (pointer.end.y - pointer.start.y),\n            width: position.width,\n            height: position.height\n        };\n\n        // Apply snapping\n        magneticLines = []\n        const snappedPosition = getClosestSnappingPositionWithRotation(layers, newPos, magneticTolerance)\n\n        position.x = snappedPosition.x\n        position.y = snappedPosition.y\n\n    }\n\n    // Calculate and apply a partial resize gesture\n    // Resizes the width/height of a component relative to an anchor point\n    function doResize(pointer, anchor) {\n        const transform = calcResizeTransform(pointer, anchor, bounds.center)\n        position.x = startPosition.x + transform.translate.x\n        position.y = startPosition.y + transform.translate.y\n        position.width = Math.abs(transform.width)\n        position.height = Math.abs(transform.height)\n    }\n\n    // Calculate and apply a partial free transform gesture\n    function doFreeTransform(pointerA, pointerB, noRotate, noScale) {\n        const transform = calcFreeTransform(pointerA, pointerB, bounds.center, noRotate, noScale)\n        position.width = startPosition.width * transform.scale\n        position.height = startPosition.height * transform.scale\n\n        const tlToOrigin = vector.sub(bounds.center, startPosition)\n        const tlvec = vector.add(vector.add(tlToOrigin, transform.translate), {\n            x: -(position.width / 2),\n            y: -(position.height / 2)\n        })\n        position.x = startPosition.x + tlvec.x - containerBounds.left\n        position.y = startPosition.y + tlvec.y - containerBounds.top\n        position.rotation = startPosition.rotation + transform.rotate\n    }\n\n    // Get the target of a given pointer event\n    function getPointerTarget(evt) {\n        if (handleTR.contains(evt.target)) {\n            return {type: 'handle', top: true, right: true}\n        } else if (handleTL.contains(evt.target)) {\n            return {type: 'handle', top: true, left: true}\n        } else if (handleBR.contains(evt.target)) {\n            return {type: 'handle', bottom: true, right: true}\n        } else if (handleBL.contains(evt.target)) {\n            return {type: 'handle', bottom: true, left: true}\n        } else if (rotatorHandle && rotatorHandle.contains(evt.target)) {\n            return {type: 'rotate'}\n        } else return {type: 'body'}\n    }\n\n    function pointerDown(evt) {\n        let pointerTarget = getPointerTarget(evt)\n        let pointer = pointers[evt.pointerId]\n\n        // Add the pointer to active pointers map\n        if (!pointer) {\n            pointerCount++\n            pointer = {\n                id: evt.pointerId,\n                priority: pointerCount - 1,\n                start: {\n                    x: evt.pageX,\n                    y: evt.pageY\n                },\n                end: {\n                    x: evt.pageX,\n                    y: evt.pageY\n                },\n                target: pointerTarget\n            }\n            pointers[evt.pointerId] = pointer\n        } else { // or update, if it's already there\n            pointer.end.x = evt.pageX\n            pointer.end.y = evt.pageY\n            pointer.target = pointerTarget\n        }\n\n        transformInProgress = false\n\n        // If the pointer is enabled (one of the first two active pointers)\n        if (pointer.priority < 2) {\n            bounds = getFullBounds(target)\n            containerBounds = getFullBounds(container)\n\n            // There's another active enabled pointer\n            if (pointerCount > 1) {\n                // Starting a new multitouch gesture\n                Object.values(pointers).forEach(pointer => {\n                    if (pointer.id !== pointer)\n                        pointer.start.x = pointer.end.x\n                    pointer.start.y = pointer.end.y\n                })\n            }\n\n            // Record the current component state as the gesture starting state\n            startPosition.x = position.x\n            startPosition.y = position.y\n            startPosition.width = position.width\n            startPosition.height = position.height\n            startPosition.rotation = position.rotation\n\n            // If the pointer is dragging a corner handle, record the position of the\n            // opposite corner (to anchor resizing events)\n            if (pointerTarget.type === 'handle') {\n                let oppositeHandle\n                if (pointerTarget.top) {\n                    if (pointerTarget.right) oppositeHandle = handleBL\n                    else oppositeHandle = handleBR\n                } else {\n                    if (pointerTarget.right) oppositeHandle = handleTL\n                    else oppositeHandle = handleTR\n                }\n                // handles are centered on the corresponding corner of the component frame\n                // so we can quickly find the frame corner by calculating the center\n                // of the on-screen bounds of the handle element\n                // (easier than messing with trigonometry when the component is rotated)\n                const oppositeHandleBounds = oppositeHandle.getBoundingClientRect()\n                const oppositeCorner = {\n                    x: (oppositeHandleBounds.left + oppositeHandleBounds.right) / 2,\n                    y: (oppositeHandleBounds.top + oppositeHandleBounds.bottom) / 2\n                }\n                pointers.anchor = oppositeCorner\n            } else {\n                delete pointers.anchor\n            }\n        }\n        onChange()\n    }\n\n    function pointerMove(evt) {\n        endDrag = false;\n        let pointer = pointers[evt.pointerId]\n        // Ignore unless pointer is enabled (one of the first two active pointers)\n        if (pointer && pointer.priority < 2) {\n            transformInProgress = true\n\n            // update the on-screen position\n            pointer.end.x = evt.pageX\n            pointer.end.y = evt.pageY\n\n            // Perform different transformations depending which part of the component is\n            // being dragged/manipulated\n            if (isDragging(pointer))\n                doDrag(pointer);\n\n            else if (isRotating(pointer)) doFreeTransform(pointer, bounds.center, false, true)\n            else if (isResizing(pointer) && !lockAspect) doResize(pointer, pointers.anchor)\n            else if (isResizing(pointer) && lockAspect) doFreeTransform(pointer, pointers.anchor, true)\n            else if (isFreeTransforming(pointer)) {\n                let multitouch = pointerCount > 1\n                let pointerB\n                if (multitouch) {\n                    pointerB = Object.values(pointers).find(p => {\n                        return p.id !== pointer.id\n                    })\n                } else if (pointers.anchor) {\n                    pointerB = pointers.anchor\n                } else {\n                    pointerB = bounds.center\n                }\n                doFreeTransform(pointer, pointerB, false, (multitouch && lockTouchResize))\n            }\n\n\n            onChange()\n        }\n    }\n\n    function pointerUpInside() {\n        if (transformInProgress) {\n            endDrag = true;\n            lockAspect = false;\n            transformInProgress = false;\n            dispatch('positionChanged', position)\n        }\n    }\n\n\n    // Clean up after a pointer is removed and the gesture is ended\n    function pointerUp(evt) {\n\n        let removedPriority = Infinity\n        if (pointers[evt.pointerId]) {\n            pointerCount--\n            removedPriority = pointers[evt.pointerId].priority\n        }\n        // remove the pointer from the active pointers map\n        delete pointers[evt.pointerId]\n        // If there are still some other active pointers\n        if (pointerCount) {\n            // Reset the startPosition to start a new gesture\n            startPosition.y = position.y\n            startPosition.x = position.x\n            startPosition.width = position.width\n            startPosition.height = position.height\n            startPosition.rotation = position.rotation\n            // update the enabled pointer priority queue\n            // and reset the pointer start positions for a new gesture\n            Object.values(pointers).forEach(pointer => {\n                if (pointer.id) {\n                    if (pointer.priority > removedPriority) pointer.priority--\n                    pointer.start.x = pointer.end.x\n                    pointer.start.y = pointer.end.y\n                }\n            })\n        }\n\n    }\n\n    function contentClick(evt) {\n        if (!transformInProgress) {\n            dispatch('click', evt.detail)\n        }\n    }\n\n    async function onChange() {\n        await tick()\n        if (element) {\n            selfBounds = element.getBoundingClientRect();\n        }\n        dispatch('positionChanged', position)\n\n    }\n\n    async function onBoundsChange() {\n        await tick()\n        if (element) {\n            selfBounds = element.getBoundingClientRect()\n            dispatch('boundsChanged', position);\n            if (!transformArea.classList.contains('fade-in-div')) {\n                // If the class doesn't exist, add it\n                transformArea.classList.remove('faded');\n                transformArea.classList.add('fade-in-div');\n            }\n        }\n    }\n</script>\n\n\n<svelte:window\n        on:pointermove={pointerMove}\n        on:pointerup={pointerUp}\n        on:keyup={onKeyUp}\n        on:keydown={onKeyDown}\n/>\n{#if imageurl || layerimagedata.url}\n\n    <!-- svelte-ignore a11y-click-events-have-key-events -->\n    <div on:pointerup={pointerUpInside} on:click={contentClick} class=\"faded transform-area\" bind:this={transformArea}>\n        <div\n                class=\"free-transform\"\n                class:noclicks={!captureClicks}\n                on:pointerdown={pointerDown}\n                bind:this={element}\n                style={selfStyled ? position.style : null}\n        >\n            <div class=\"contents\" style=\"opacity:{(layerimagedata.opacity/100)}\">\n                {#if imagesvg}\n                    {@html imagesvg}\n                {:else}\n                    <!-- svelte-ignore a11y-missing-attribute -->\n                    <img style=\"width: 100%;height: 100%\" bind:this={imageel} src={imageurl || layerimagedata.url}>\n                {/if}\n            </div>\n            <div style=\"width:80px; height:50px; position: sticky; z-index: 5; bottom: 0px; left:0px; align-self:flex-end;\">\n                <slot></slot>\n            </div>\n            <div class=\"frame\">\n                <div class=\"handle corner top right\" bind:this={handleTR}>\n                    <slot name=\"handle\">\n                        <div class=\"handle-shape\"/>\n                    </slot>\n                </div>\n                <div class=\"handle corner bottom right\" bind:this={handleBR}>\n                    <slot name=\"handle\">\n                        <div class=\"handle-shape\"/>\n                    </slot>\n                </div>\n                <div class=\"handle corner bottom left\" bind:this={handleBL}>\n                    <slot name=\"handle\">\n                        <div class=\"handle-shape\"/>\n                    </slot>\n                </div>\n                <div class=\"handle corner top left\" bind:this={handleTL}>\n                    <slot name=\"handle\">\n                        <div class=\"handle-shape\"/>\n                    </slot>\n                </div>\n                {#if rotatorEnabled }\n                    <div class=\"handle rotator\" bind:this={rotatorHandle}>\n                        <slot name=\"rotator\">\n                            <div class=\"handle-shape\"/>\n                        </slot>\n                        {#if rotatorBar }\n                            <div class=\"rotator-bar\"/>\n                        {/if}\n                    </div>\n                {/if}\n            </div>\n        </div>\n        <div class=\"fullwidthheight\" style=\"display: none\"/>\n        {#if demo}\n            <div style=\"position:absolute;top:100px;left:100px;width:400px;height:400px;border: 1px solid grey;transform:rotate(-45deg);transform-origin: center center\"></div>\n            <!--     <div style=\"position:absolute;top:100px;left:100px;width:400px;height:400px;border: 1px solid grey;\"></div> -->\n\n        {/if}\n        {#each magneticLines as line}\n            <div\n                    class=\"line\"\n                    style=\"\n        --x-line: {line.x_line}px;\n        --y-line: {line.y_line}px;\n        --line-length: {line.lineLength}px;\n        --theta-line: {line.theta_line}rad;\n        \"\n            ></div>\n        {/each}\n    </div>\n\n{/if}\n\n<style>\n    :root {\n        --frameBorder: solid 1px cyan;\n    }\n\n    * {\n        box-sizing: border-box;\n    }\n\n    .free-transform {\n        position: absolute;\n        top: 0;\n        left: 0;\n        right: 0;\n        bottom: 0;\n        transform-origin: center;\n        touch-action: none;\n        display: flex;\n    }\n\n    .free-transform.noclicks {\n        pointer-events: none;\n    }\n\n    .contents {\n        /*border: var(--frameBorder,2px solid #3965c7);*/\n        position: absolute;\n        top: 0;\n        left: 0;\n        right: 0;\n        bottom: 0;\n    }\n\n    .contents:before {\n        content: \"\";\n        position: absolute;\n        top: 0px;\n        left: 0px;\n        width: 100%;\n        height: 100%;\n        border: var(--frameBorder, 2px solid #3965c7);\n        box-sizing: border-box;\n    }\n\n\n    .free-transform.noclicks .contents {\n        pointer-events: none;\n    }\n\n    .frame {\n        position: absolute;\n        top: 0;\n        left: 0;\n        right: 0;\n        bottom: 0;\n        cursor: move;\n        /*border: var(--frameBorder,2px solid #3965c7);*/\n    }\n\n    .free-transform.noclicks .frame {\n        pointer-events: none;\n    }\n\n    .handle {\n        position: absolute;\n        user-select: none;\n        touch-action: none;\n        cursor: grab;\n        pointer-events: auto;\n    }\n\n    .handle:active {\n        cursor: grabbing;\n    }\n\n    .handle-shape {\n        width: 12px;\n        height: 12px;\n        border-radius: 50%;\n        background: white;\n        border: var(--frameBorder);\n    }\n\n    .handle.top {\n        top: 0px;\n    }\n\n    .handle.right {\n        right: 0px;\n    }\n\n    .handle.bottom {\n        bottom: 0px;\n    }\n\n    .handle.left {\n        left: 0px;\n    }\n\n    .handle.top.left {\n        transform: translate(-50%, -50%) rotate(-45deg);\n    }\n\n    .handle.top.right {\n        transform: translate(50%, -50%) rotate(45deg);\n    }\n\n    .handle.bottom.left {\n        transform: translate(-50%, 50%) rotate(-135deg);\n    }\n\n    .handle.bottom.right {\n        transform: translate(50%, 50%) rotate(135deg);\n    }\n\n    .handle.rotator {\n        left: 50%;\n        top: -30px;\n        transform: translateX(-50%);\n    }\n\n    .rotator-bar {\n        position: absolute;\n        top: 100%;\n        right: 50%;\n        width: 1px;\n        height: calc(30px - 100%);\n        border-right: var(--frameBorder);\n    }\n\n    .fullwidthheight {\n        width: 100%;\n        height: 100%;\n    }\n\n    .transform-area {\n        position: relative;\n        width: 100%;\n        height: 100%;\n        flex-grow: 1;\n    }\n\n    .faded {\n        opacity: 0.01;\n    }\n\n    .fade-in-div {\n        opacity: 1;\n        animation: fadeIn 0.2s forwards;\n        animation-delay: 0.7s;\n    }\n\n    @keyframes fadeIn {\n        to {\n            opacity: 1;\n        }\n    }\n\n    .line {\n        position: absolute;\n        width: var(--line-length);\n        height: 1px;\n        left: var(--x-line);\n        top: var(--y-line);\n        transform: translate(-50%, -50%) rotate(var(--theta-line));\n        transform-origin: center center;\n        background-color: red;\n    }\n\n</style>\n"],"names":["noop","run","fn","blank_object","Object","create","run_all","fns","forEach","is_function","thing","safe_not_equal","a","b","src_url_equal_anchor","src_url_equal","element_src","url","document","createElement","href","is_empty","obj","keys","length","action_destroyer","action_result","destroy","globals","window","globalThis","global","append","target","node","appendChild","insert","anchor","insertBefore","detach","parentNode","removeChild","destroy_each","iterations","detaching","i","d","element","name","svg_element","createElementNS","text","data","createTextNode","space","empty","listen","event","handler","options","addEventListener","removeEventListener","attr","attribute","value","removeAttribute","getAttribute","setAttribute","set_custom_element_data","prop","children","Array","from","childNodes","set_style","key","important","style","removeProperty","setProperty","toggle_class","toggle","classList","custom_event","type","detail","bubbles","cancelable","e","createEvent","initCustomEvent","HtmlTag","constructor","is_svg","this","n","c","html","h","m","nodeName","nodeType","t","tagName","content","innerHTML","p","attribute_to_object","attributes","result","current_component","set_current_component","component","get_current_component","Error","onMount","$$","on_mount","push","createEventDispatcher","callbacks","slice","call","defaultPrevented","dirty_components","binding_callbacks","render_callbacks","flush_callbacks","resolved_promise","Promise","resolve","update_scheduled","schedule_update","then","flush","tick","add_render_callback","seen_callbacks","Set","flushidx","saved_component","update","pop","callback","has","add","clear","fragment","before_update","dirty","ctx","after_update","flush_render_callbacks","filtered","targets","indexOf","outroing","transition_in","block","local","delete","mount_component","customElement","new_on_destroy","map","filter","on_destroy","destroy_component","make_dirty","fill","init","instance","create_fragment","not_equal","props","append_styles","parent_component","bound","on_disconnect","context","Map","skip_bound","root","ready","ret","rest","hydrate","nodes","l","intro","SvelteElement","x","y","subtract","scale","rotate","origin","dx","dy","Math","cos","sin","direction","v","atan","PI","sqrt","HTMLElement","super","attachShadow","mode","connectedCallback","slotted","attributeChangedCallback","_oldValue","newValue","disconnectedCallback","$destroy","$on","index","splice","$set","$$props","$$set","vector","sub","len","magneticLines","rotatePoint","px","py","angle","cosTheta","sinTheta","calcMagneticLine","side","linePosition","lineOrientation","box","lineCenter","theta_line","x_line","y_line","lineLength","width","height","theta","rotation","x_center","y_center","hypot","rotatePositionBackToOriginal","normalizedSnappedPosition","originalRotation","centerX","centerY","snappedX","snappedY","boxCenterX","boxCenterY","rotateBoxesToZero","boxes","sharedRotation","newX","newY","warpImage","img","dstCoords","canvas","rotationAngle","imgWidth","naturalWidth","imgHeight","naturalHeight","srcCoords","radians","cosA","sinA","getCenterFromCorners","H","computeHomography","orgsrcCoords","minX","min","maxX","max","minY","maxY","ceil","invH","invertHomography","tempCanvas","tempCtx","getContext","drawImage","srcData","getImageData","dstCtx","dstImageData","createImageData","dstData","srcPos","applyHomography","xs","ys","color","sampleBilinear","putImageData","corners","topLeft","bottomRight","src","dst","A","xd","yd","solveHomography","solveLinearSystem","k","maxRow","maxVal","abs","temp","j","det","invDet","denom","x0","floor","y0","x1","y1","xi","yi","c00","getPixel","c10","c01","c11","c0","interpolateColor","c1","numeric","version","bench","f","interval","t1","Date","_myIndexOf","w","myIndexOf","prototype","Function","precision","largeArray","prettyPrint","fmtnum","isNaN","isFinite","log","normalized","pow","basic","toPrecision","parseFloat","toString","foo","join","flag","hasOwnProperty","parseDate","parse","replace","parseCSV","split","pat","patnum","count","baz","bar","match","substr","test","toCSV","row","s","dim","getURL","client","XMLHttpRequest","open","send","imageURL","crc32Array","to","table","crc","s1","s2","adler32","crc32","stream","round","z","q","r","charAt","base64","_dim","mapreduce","body","mapreduce2","setup","same","rep","dotMMsmall","woo","i0","_getCol","dotMMbig","xj","gc","VV","dotVV","dotMV","dotVM","i1","dot","mulVS","mulSV","diag","Ai","getDiag","identity","pointwise","params","fun","avec","thevec","haveret","substring","apply","pointwise2","_biforeach","_biforeach2","_foreach","_foreach2","ops2","mul","div","mod","and","or","eq","neq","lt","gt","leq","geq","band","bor","bxor","lshift","rshift","rrshift","opseq","addeq","subeq","muleq","diveq","modeq","lshifteq","rshifteq","rrshifteq","bandeq","boreq","bxoreq","mathfuns","mathfuns2","ops1","neg","not","bnot","clone","mapreducers","any","all","sum","prod","norm2Squared","norminf","norm1","sup","inf","o","code","codeeq","truncVV","truncVS","truncSV","trunc","inv","Aj","Ii","Ij","I","v0","alpha","k1","transpose","A0","A1","Bj","negtranspose","_random","rnd","random","norm2","linspace","getBlock","setBlock","B","getRange","J","Bi","AI","blockMatrix","X","M","N","Xij","Z","ZI","Xijk","tensor","T","Tbinop","rr","rc","cr","cc","reciprocal","transjugate","Tunop","exp","conj","Aix","Aiy","Ajx","Ajy","Rix","Riy","Rjx","Rjy","d1","ax","ay","bx","by","Rx","Ry","Ax","Ay","get","ik","set","vx","vy","undefined","getRows","ry","rx","setRows","getRow","setRow","eig","house","toUpperHessenberg","me","C","Ci","Qi","Q","epsilon","QRFrancis","maxiter","tr","Hloc","Hi","iter","QH1","QH2","concat","Q0","p1","disc","n1","n2","QH","QB","R","E","Rk","Rj","lambda","ccsSparse","counts","parseInt","Av","ccsFull","j0","j1","ccsDim","ccsTSolve","bj","dfs","ccsDFS","Pinv","km","k11","ccsLPSolve","Bv","ccsLUP1","threshold","L","U","Li","Lj","Lv","Ui","Uj","Uv","sol","P","ccsDFS0","ccsLPSolve0","ccsLUP0","ccsLUP","ccsGetBlock","jq","flags","q0","q1","ccsDot","sA","sB","Cj","Cv","ccsLUPSolve","LUP","Xi","Xj","Xv","ccsbinop","eval","ccsScatter","Ri","Rv","Aii","ptr","ccsGather","sdim","sclone","sdiag","sidentity","stranspose","sLUP","tol","sdotMM","BTk","accum","reti","BT","sdotMV","sdotVM","sdotVV","sdot","sscatter","V","Vij","sgather","gather","cLU","left","Infinity","right","cLUsolve","lu","cgrid","shape","cdelsq","g","dir","cdotMV","Spline","yl","yr","kl","kr","_at","at","mid","diff","zl","zr","pl","pr","roots","sqr","ai","bi","ci","di","ri","k0","D","stops","z0","z1","zm","t0","tm","spline","kn","fftpow2","xe","ye","xo","yo","si","_ifftpow2","ifftpow2","convpow2","axi","bxi","ayi","byi","fft","log2","cx","cy","Y","ifft","gradient","f0","f1","f2","t2","d2","it","uncmin","maxit","grad","df0","step","g0","g1","H1","Hinv","Hy","nstep","ten","isfinite","msg","solution","invHessian","message","Dopri","ymid","events","xh","yh","dopri","k2","k3","k4","k5","k6","k7","er","erinf","e0","e1","ev","A3","A4","A5","A6","bm","xl","xr","en","ei","sl","sr","LU","fast","absAjk","Akk","Ak","Pk","LUsolve","Pi","LUi","tmp","solve","echelonize","__solveLP","unbounded","svd","dotcc","a1","Ag","_solveLP","b0","NaN","solveLP","Aeq","beq","Aeq2","A2","b4","c2","c4","S","x2","MPStoLP","MPS","String","state","states","rows","sign","rl","vars","nv","err","w0","seedrandom","pool","math","chunks","significance","overflow","startdenom","ARC4","u","keylen","lowbits","flatten","depth","typ","mixkey","seed","smear","charCodeAt","fromCharCode","use_entropy","arc4","arguments","getTime","exports","base0to1","base1to0","qpgen2","dmat","dvec","fddmat","crval","amat","bvec","fdamat","meq","iact","nact","work","ierr","l1","info","it1","iwzv","iwrv","iwrm","iwsv","iwuv","nvl","iwnbv","tt","gs","nu","t1inf","t2min","vsmall","tmpa","tmpb","go","lda","jm1","dpofa","kb","dposl","kp1","dpori","fn_goto_50","fn_goto_55","fn_goto_797","fn_goto_798","fn_goto_799","solveQP","Dmat","Amat","factorized","unconstrained_solution","prec","tolerance","pythag","iteration","test_convergence","itmax","img0","img0_src_value","img1","img1_src_value","div1","div0","imageel","imageurl","position","resultCanvas","layerimagedata","zoom","ratio","devicePixelRatio","opacity","reCalc","num","container","image","originalCorners","isDragging","selectedCorner","transformMatrix","handleMouseDown","updateTransform","transform","rotatedSrc","matrix","results","getPerspectiveTransformMatrix","$$invalidate","_x","_y","_width","_height","top","rect","getBoundingClientRect","clientX","clientY","corner","scaledcorners","el","makeImage","$$value","clickOutside","handleClick","contains","dispatchEvent","CustomEvent","fds_image_editor_button0","fds_image_editor_button1","fds_image_editor_button2","input0","input0_value_value","input1","input1_value_value","input2","input2_value_value","input3","input3_value_value","input4","input4_value_value","div6","div5","label0","label1","div2","label2","div3","label3","div4","label4","handleClickOutside","create_if_block_1","if_block1","create_if_block","host","coordinates","change","editcoord","create_if_block_4","create_if_block_2","div13","div11","div10","div7","div9","div12","img_src_value","create_if_block_3","slot","magneticTolerance","isResizing","pointer","getFullBounds","elementBounds","center","bottom","endDrag","svelteDispatch","dispatch","lastzoom","transformArea","startPosition","layers","demo","rotatorEnabled","rotatorBar","handleMode","lockAspect","lockTouchResize","captureClicks","imagesvg","svgcolor","transformInProgress","addMagneticLine","line","magneticLinesClass","getClosestSnappingPosition","newPos","snappedPosition","layer","originalData","containerBounds","bounds","selfStyled","pointers","handleTR","handleTL","handleBR","handleBL","rotatorHandle","imagealreadyinit","mounted","pointerCount","initImage","onload","recalculatePosition","remove","onBoundsChange","_imgwidth","_imgx","_imgy","_imgheight","stylePropMap","stylePosition","pos","doDrag","end","start","noRotationLayers","sameRotationLayers","JSON","stringify","ml","normalizedCurrentPos","getClosestSnappingPositionWithRotation","doResize","unrotatedEnd","newOrigin","unrotatedAnchor","newAnchor","translate","calcResizeTransform","doFreeTransform","pointerA","pointerB","noRotate","noScale","pointerBStart","pointerBEnd","startAB","endAB","calcFreeTransform","tlToOrigin","tlvec","onChange","btoa","unescape","encodeURIComponent","keyCode","evt","pointerTarget","getPointerTarget","pointerId","pageX","pageY","id","priority","values","oppositeHandle","oppositeHandleBounds","oppositeCorner","isRotating","isFreeTransforming","multitouch","find","removedPriority"],"mappings":"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"}